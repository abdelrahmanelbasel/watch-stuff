/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/watch/[id]/[episodeId]/page",{

/***/ "(app-pages-browser)/./node_modules/.pnpm/@stencil+core@2.5.2/node_modules/@stencil/core/internal/client lazy recursive ^\\.\\/.*\\.entry\\.js.*$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$":
/*!********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@stencil+core@2.5.2/node_modules/@stencil/core/internal/client/ lazy ^\.\/.*\.entry\.js.*$ include: \.entry\.js$ exclude: \.system\.entry\.js$ namespace object ***!
  \********************************************************************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "(app-pages-browser)/./node_modules/.pnpm/@stencil+core@2.5.2/node_modules/@stencil/core/internal/client lazy recursive ^\\.\\/.*\\.entry\\.js.*$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$";
module.exports = webpackEmptyAsyncContext;

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@seznam+compose-react-refs@1.0.6/node_modules/@seznam/compose-react-refs/composeRefs.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@seznam+compose-react-refs@1.0.6/node_modules/@seznam/compose-react-refs/composeRefs.js ***!
  \********************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nfunction composeRefs() {\n    var refs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        refs[_i] = arguments[_i];\n    }\n    if (refs.length === 2) { // micro-optimize the hot path\n        return composeTwoRefs(refs[0], refs[1]) || null;\n    }\n    var composedRef = refs.slice(1).reduce(function (semiCombinedRef, refToInclude) { return composeTwoRefs(semiCombinedRef, refToInclude); }, refs[0]);\n    return composedRef || null;\n}\nexports[\"default\"] = composeRefs;\nvar composedRefCache = new WeakMap();\nfunction composeTwoRefs(ref1, ref2) {\n    if (ref1 && ref2) {\n        var ref1Cache = composedRefCache.get(ref1) || new WeakMap();\n        composedRefCache.set(ref1, ref1Cache);\n        var composedRef = ref1Cache.get(ref2) || (function (instance) {\n            updateRef(ref1, instance);\n            updateRef(ref2, instance);\n        });\n        ref1Cache.set(ref2, composedRef);\n        return composedRef;\n    }\n    if (!ref1) {\n        return ref2;\n    }\n    else {\n        return ref1;\n    }\n}\nfunction updateRef(ref, instance) {\n    if (typeof ref === 'function') {\n        ref(instance);\n    }\n    else {\n        ref.current = instance;\n    }\n}\n//# sourceMappingURL=composeRefs.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9Ac2V6bmFtK2NvbXBvc2UtcmVhY3QtcmVmc0AxLjAuNi9ub2RlX21vZHVsZXMvQHNlem5hbS9jb21wb3NlLXJlYWN0LXJlZnMvY29tcG9zZVJlZnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBLHFCQUFxQix1QkFBdUI7QUFDNUM7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0Esc0ZBQXNGLHVEQUF1RDtBQUM3STtBQUNBO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9Ac2V6bmFtK2NvbXBvc2UtcmVhY3QtcmVmc0AxLjAuNi9ub2RlX21vZHVsZXMvQHNlem5hbS9jb21wb3NlLXJlYWN0LXJlZnMvY29tcG9zZVJlZnMuanM/ZTlkNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGNvbXBvc2VSZWZzKCkge1xuICAgIHZhciByZWZzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgcmVmc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBpZiAocmVmcy5sZW5ndGggPT09IDIpIHsgLy8gbWljcm8tb3B0aW1pemUgdGhlIGhvdCBwYXRoXG4gICAgICAgIHJldHVybiBjb21wb3NlVHdvUmVmcyhyZWZzWzBdLCByZWZzWzFdKSB8fCBudWxsO1xuICAgIH1cbiAgICB2YXIgY29tcG9zZWRSZWYgPSByZWZzLnNsaWNlKDEpLnJlZHVjZShmdW5jdGlvbiAoc2VtaUNvbWJpbmVkUmVmLCByZWZUb0luY2x1ZGUpIHsgcmV0dXJuIGNvbXBvc2VUd29SZWZzKHNlbWlDb21iaW5lZFJlZiwgcmVmVG9JbmNsdWRlKTsgfSwgcmVmc1swXSk7XG4gICAgcmV0dXJuIGNvbXBvc2VkUmVmIHx8IG51bGw7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBjb21wb3NlUmVmcztcbnZhciBjb21wb3NlZFJlZkNhY2hlID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGNvbXBvc2VUd29SZWZzKHJlZjEsIHJlZjIpIHtcbiAgICBpZiAocmVmMSAmJiByZWYyKSB7XG4gICAgICAgIHZhciByZWYxQ2FjaGUgPSBjb21wb3NlZFJlZkNhY2hlLmdldChyZWYxKSB8fCBuZXcgV2Vha01hcCgpO1xuICAgICAgICBjb21wb3NlZFJlZkNhY2hlLnNldChyZWYxLCByZWYxQ2FjaGUpO1xuICAgICAgICB2YXIgY29tcG9zZWRSZWYgPSByZWYxQ2FjaGUuZ2V0KHJlZjIpIHx8IChmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHVwZGF0ZVJlZihyZWYxLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICB1cGRhdGVSZWYocmVmMiwgaW5zdGFuY2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVmMUNhY2hlLnNldChyZWYyLCBjb21wb3NlZFJlZik7XG4gICAgICAgIHJldHVybiBjb21wb3NlZFJlZjtcbiAgICB9XG4gICAgaWYgKCFyZWYxKSB7XG4gICAgICAgIHJldHVybiByZWYyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlZjE7XG4gICAgfVxufVxuZnVuY3Rpb24gdXBkYXRlUmVmKHJlZiwgaW5zdGFuY2UpIHtcbiAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZWYoaW5zdGFuY2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBpbnN0YW5jZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wb3NlUmVmcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@seznam+compose-react-refs@1.0.6/node_modules/@seznam/compose-react-refs/composeRefs.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@stencil+core@2.5.2/node_modules/@stencil/core/internal/client/index.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@stencil+core@2.5.2/node_modules/@stencil/core/internal/client/index.js ***!
  \****************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BUILD: function() { return /* reexport safe */ _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD; },\n/* harmony export */   Build: function() { return /* binding */ Build; },\n/* harmony export */   CSS: function() { return /* binding */ CSS; },\n/* harmony export */   Context: function() { return /* binding */ Context; },\n/* harmony export */   Env: function() { return /* reexport safe */ _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.Env; },\n/* harmony export */   Fragment: function() { return /* binding */ Fragment; },\n/* harmony export */   H: function() { return /* binding */ H; },\n/* harmony export */   HTMLElement: function() { return /* binding */ H; },\n/* harmony export */   Host: function() { return /* binding */ Host; },\n/* harmony export */   NAMESPACE: function() { return /* reexport safe */ _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.NAMESPACE; },\n/* harmony export */   STENCIL_DEV_MODE: function() { return /* binding */ STENCIL_DEV_MODE; },\n/* harmony export */   addHostEventListeners: function() { return /* binding */ addHostEventListeners; },\n/* harmony export */   attachShadow: function() { return /* binding */ attachShadow; },\n/* harmony export */   bootstrapLazy: function() { return /* binding */ bootstrapLazy; },\n/* harmony export */   cmpModules: function() { return /* binding */ cmpModules; },\n/* harmony export */   connectedCallback: function() { return /* binding */ connectedCallback; },\n/* harmony export */   consoleDevError: function() { return /* binding */ consoleDevError; },\n/* harmony export */   consoleDevInfo: function() { return /* binding */ consoleDevInfo; },\n/* harmony export */   consoleDevWarn: function() { return /* binding */ consoleDevWarn; },\n/* harmony export */   consoleError: function() { return /* binding */ consoleError; },\n/* harmony export */   createEvent: function() { return /* binding */ createEvent; },\n/* harmony export */   defineCustomElement: function() { return /* binding */ defineCustomElement; },\n/* harmony export */   disconnectedCallback: function() { return /* binding */ disconnectedCallback; },\n/* harmony export */   doc: function() { return /* binding */ doc; },\n/* harmony export */   forceModeUpdate: function() { return /* binding */ forceModeUpdate; },\n/* harmony export */   forceUpdate: function() { return /* binding */ forceUpdate; },\n/* harmony export */   getAssetPath: function() { return /* binding */ getAssetPath; },\n/* harmony export */   getConnect: function() { return /* binding */ getConnect; },\n/* harmony export */   getContext: function() { return /* binding */ getContext; },\n/* harmony export */   getElement: function() { return /* binding */ getElement; },\n/* harmony export */   getHostRef: function() { return /* binding */ getHostRef; },\n/* harmony export */   getMode: function() { return /* binding */ getMode; },\n/* harmony export */   getRenderingRef: function() { return /* binding */ getRenderingRef; },\n/* harmony export */   getValue: function() { return /* binding */ getValue; },\n/* harmony export */   h: function() { return /* binding */ h; },\n/* harmony export */   insertVdomAnnotations: function() { return /* binding */ insertVdomAnnotations; },\n/* harmony export */   isMemberInElement: function() { return /* binding */ isMemberInElement; },\n/* harmony export */   loadModule: function() { return /* binding */ loadModule; },\n/* harmony export */   modeResolutionChain: function() { return /* binding */ modeResolutionChain; },\n/* harmony export */   nextTick: function() { return /* binding */ nextTick; },\n/* harmony export */   parsePropertyValue: function() { return /* binding */ parsePropertyValue; },\n/* harmony export */   plt: function() { return /* binding */ plt; },\n/* harmony export */   postUpdateComponent: function() { return /* binding */ postUpdateComponent; },\n/* harmony export */   promiseResolve: function() { return /* binding */ promiseResolve; },\n/* harmony export */   proxyComponent: function() { return /* binding */ proxyComponent; },\n/* harmony export */   proxyCustomElement: function() { return /* binding */ proxyCustomElement; },\n/* harmony export */   readTask: function() { return /* binding */ readTask; },\n/* harmony export */   registerHost: function() { return /* binding */ registerHost; },\n/* harmony export */   registerInstance: function() { return /* binding */ registerInstance; },\n/* harmony export */   renderVdom: function() { return /* binding */ renderVdom; },\n/* harmony export */   setAssetPath: function() { return /* binding */ setAssetPath; },\n/* harmony export */   setErrorHandler: function() { return /* binding */ setErrorHandler; },\n/* harmony export */   setMode: function() { return /* binding */ setMode; },\n/* harmony export */   setPlatformOptions: function() { return /* binding */ setPlatformOptions; },\n/* harmony export */   setValue: function() { return /* binding */ setValue; },\n/* harmony export */   styles: function() { return /* binding */ styles; },\n/* harmony export */   supportsConstructibleStylesheets: function() { return /* binding */ supportsConstructibleStylesheets; },\n/* harmony export */   supportsListenerOptions: function() { return /* binding */ supportsListenerOptions; },\n/* harmony export */   supportsShadow: function() { return /* binding */ supportsShadow; },\n/* harmony export */   win: function() { return /* binding */ win; },\n/* harmony export */   writeTask: function() { return /* binding */ writeTask; }\n/* harmony export */ });\n/* harmony import */ var _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stencil/core/internal/app-data */ \"(app-pages-browser)/./node_modules/.pnpm/@stencil+core@2.5.2/node_modules/@stencil/core/internal/app-data/index.js\");\nlet scopeId;\nlet contentRef;\nlet hostTagName;\nlet customError;\nlet i = 0;\nlet useNativeShadowDom = false;\nlet checkSlotFallbackVisibility = false;\nlet checkSlotRelocate = false;\nlet isSvgMode = false;\nlet renderingRef = null;\nlet queueCongestion = 0;\nlet queuePending = false;\n/*\n Stencil Client Platform v2.5.2 | MIT Licensed | https://stenciljs.com\n */\n\nconst win = typeof window !== 'undefined' ? window : {};\nconst CSS = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cssVarShim ? win.CSS : null;\nconst doc = win.document || { head: {} };\nconst H = (win.HTMLElement || class {\n});\nconst plt = {\n    $flags$: 0,\n    $resourcesUrl$: '',\n    jmp: h => h(),\n    raf: h => requestAnimationFrame(h),\n    ael: (el, eventName, listener, opts) => el.addEventListener(eventName, listener, opts),\n    rel: (el, eventName, listener, opts) => el.removeEventListener(eventName, listener, opts),\n    ce: (eventName, opts) => new CustomEvent(eventName, opts),\n};\nconst supportsShadow = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDomShim && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom ? /*@__PURE__*/ (() => (doc.head.attachShadow + '').indexOf('[native') > -1)() : true;\nconst supportsListenerOptions = /*@__PURE__*/ (() => {\n    let supportsListenerOptions = false;\n    try {\n        doc.addEventListener('e', null, Object.defineProperty({}, 'passive', {\n            get() {\n                supportsListenerOptions = true;\n            },\n        }));\n    }\n    catch (e) { }\n    return supportsListenerOptions;\n})();\nconst promiseResolve = (v) => Promise.resolve(v);\nconst supportsConstructibleStylesheets = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.constructableCSS\n    ? /*@__PURE__*/ (() => {\n        try {\n            new CSSStyleSheet();\n            return typeof (new CSSStyleSheet()).replace === 'function';\n        }\n        catch (e) { }\n        return false;\n    })()\n    : false;\nconst Context = {};\nconst addHostEventListeners = (elm, hostRef, listeners, attachParentListeners) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListener && listeners) {\n        // this is called immediately within the element's constructor\n        // initialize our event listeners on the host element\n        // we do this now so that we can listen to events that may\n        // have fired even before the instance is ready\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListenerTargetParent) {\n            // this component may have event listeners that should be attached to the parent\n            if (attachParentListeners) {\n                // this is being ran from within the connectedCallback\n                // which is important so that we know the host element actually has a parent element\n                // filter out the listeners to only have the ones that ARE being attached to the parent\n                listeners = listeners.filter(([flags]) => flags & 32 /* TargetParent */);\n            }\n            else {\n                // this is being ran from within the component constructor\n                // everything BUT the parent element listeners should be attached at this time\n                // filter out the listeners that are NOT being attached to the parent\n                listeners = listeners.filter(([flags]) => !(flags & 32 /* TargetParent */));\n            }\n        }\n        listeners.map(([flags, name, method]) => {\n            const target = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListenerTarget ? getHostListenerTarget(elm, flags) : elm;\n            const handler = hostListenerProxy(hostRef, method);\n            const opts = hostListenerOpts(flags);\n            plt.ael(target, name, handler, opts);\n            (hostRef.$rmListeners$ = hostRef.$rmListeners$ || []).push(() => plt.rel(target, name, handler, opts));\n        });\n    }\n};\nconst hostListenerProxy = (hostRef, methodName) => (ev) => {\n    try {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad) {\n            if (hostRef.$flags$ & 256 /* isListenReady */) {\n                // instance is ready, let's call it's member method for this event\n                hostRef.$lazyInstance$[methodName](ev);\n            }\n            else {\n                (hostRef.$queuedListeners$ = hostRef.$queuedListeners$ || []).push([methodName, ev]);\n            }\n        }\n        else {\n            hostRef.$hostElement$[methodName](ev);\n        }\n    }\n    catch (e) {\n        consoleError(e);\n    }\n};\nconst getHostListenerTarget = (elm, flags) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListenerTargetDocument && flags & 4 /* TargetDocument */)\n        return doc;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListenerTargetWindow && flags & 8 /* TargetWindow */)\n        return win;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListenerTargetBody && flags & 16 /* TargetBody */)\n        return doc.body;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListenerTargetParent && flags & 32 /* TargetParent */)\n        return elm.parentElement;\n    return elm;\n};\n// prettier-ignore\nconst hostListenerOpts = (flags) => supportsListenerOptions\n    ? ({\n        passive: (flags & 1 /* Passive */) !== 0,\n        capture: (flags & 2 /* Capture */) !== 0,\n    })\n    : (flags & 2 /* Capture */) !== 0;\nconst CONTENT_REF_ID = 'r';\nconst ORG_LOCATION_ID = 'o';\nconst SLOT_NODE_ID = 's';\nconst TEXT_NODE_ID = 't';\nconst HYDRATE_ID = 's-id';\nconst HYDRATED_STYLE_ID = 'sty-id';\nconst HYDRATE_CHILD_ID = 'c-id';\nconst HYDRATED_CSS = '{visibility:hidden}.hydrated{visibility:inherit}';\nconst XLINK_NS = 'http://www.w3.org/1999/xlink';\nconst createTime = (fnName, tagName = '') => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.profile && performance.mark) {\n        const key = `st:${fnName}:${tagName}:${i++}`;\n        // Start\n        performance.mark(key);\n        // End\n        return () => performance.measure(`[Stencil] ${fnName}() <${tagName}>`, key);\n    }\n    else {\n        return () => {\n            return;\n        };\n    }\n};\nconst uniqueTime = (key, measureText) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.profile && performance.mark) {\n        if (performance.getEntriesByName(key).length === 0) {\n            performance.mark(key);\n        }\n        return () => {\n            if (performance.getEntriesByName(measureText).length === 0) {\n                performance.measure(measureText, key);\n            }\n        };\n    }\n    else {\n        return () => {\n            return;\n        };\n    }\n};\nconst inspect = (ref) => {\n    const hostRef = getHostRef(ref);\n    if (!hostRef) {\n        return undefined;\n    }\n    const flags = hostRef.$flags$;\n    const hostElement = hostRef.$hostElement$;\n    return {\n        renderCount: hostRef.$renderCount$,\n        flags: {\n            hasRendered: !!(flags & 2 /* hasRendered */),\n            hasConnected: !!(flags & 1 /* hasConnected */),\n            isWaitingForChildren: !!(flags & 4 /* isWaitingForChildren */),\n            isConstructingInstance: !!(flags & 8 /* isConstructingInstance */),\n            isQueuedForUpdate: !!(flags & 16 /* isQueuedForUpdate */),\n            hasInitializedComponent: !!(flags & 32 /* hasInitializedComponent */),\n            hasLoadedComponent: !!(flags & 64 /* hasLoadedComponent */),\n            isWatchReady: !!(flags & 128 /* isWatchReady */),\n            isListenReady: !!(flags & 256 /* isListenReady */),\n            needsRerender: !!(flags & 512 /* needsRerender */),\n        },\n        instanceValues: hostRef.$instanceValues$,\n        ancestorComponent: hostRef.$ancestorComponent$,\n        hostElement,\n        lazyInstance: hostRef.$lazyInstance$,\n        vnode: hostRef.$vnode$,\n        modeName: hostRef.$modeName$,\n        onReadyPromise: hostRef.$onReadyPromise$,\n        onReadyResolve: hostRef.$onReadyResolve$,\n        onInstancePromise: hostRef.$onInstancePromise$,\n        onInstanceResolve: hostRef.$onInstanceResolve$,\n        onRenderResolve: hostRef.$onRenderResolve$,\n        queuedListeners: hostRef.$queuedListeners$,\n        rmListeners: hostRef.$rmListeners$,\n        ['s-id']: hostElement['s-id'],\n        ['s-cr']: hostElement['s-cr'],\n        ['s-lr']: hostElement['s-lr'],\n        ['s-p']: hostElement['s-p'],\n        ['s-rc']: hostElement['s-rc'],\n        ['s-sc']: hostElement['s-sc'],\n    };\n};\nconst installDevTools = () => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.devTools) {\n        const stencil = (win.stencil = win.stencil || {});\n        const originalInspect = stencil.inspect;\n        stencil.inspect = (ref) => {\n            let result = inspect(ref);\n            if (!result && typeof originalInspect === 'function') {\n                result = originalInspect(ref);\n            }\n            return result;\n        };\n    }\n};\nconst rootAppliedStyles = new WeakMap();\nconst registerStyle = (scopeId, cssText, allowCS) => {\n    let style = styles.get(scopeId);\n    if (supportsConstructibleStylesheets && allowCS) {\n        style = (style || new CSSStyleSheet());\n        style.replace(cssText);\n    }\n    else {\n        style = cssText;\n    }\n    styles.set(scopeId, style);\n};\nconst addStyle = (styleContainerNode, cmpMeta, mode, hostElm) => {\n    let scopeId = getScopeId(cmpMeta, mode);\n    let style = styles.get(scopeId);\n    if (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.attachStyles) {\n        return scopeId;\n    }\n    // if an element is NOT connected then getRootNode() will return the wrong root node\n    // so the fallback is to always use the document for the root node in those cases\n    styleContainerNode = styleContainerNode.nodeType === 11 /* DocumentFragment */ ? styleContainerNode : doc;\n    if (style) {\n        if (typeof style === 'string') {\n            styleContainerNode = styleContainerNode.head || styleContainerNode;\n            let appliedStyles = rootAppliedStyles.get(styleContainerNode);\n            let styleElm;\n            if (!appliedStyles) {\n                rootAppliedStyles.set(styleContainerNode, (appliedStyles = new Set()));\n            }\n            if (!appliedStyles.has(scopeId)) {\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateClientSide && styleContainerNode.host && (styleElm = styleContainerNode.querySelector(`[${HYDRATED_STYLE_ID}=\"${scopeId}\"]`))) {\n                    // This is only happening on native shadow-dom, do not needs CSS var shim\n                    styleElm.innerHTML = style;\n                }\n                else {\n                    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cssVarShim && plt.$cssShim$) {\n                        styleElm = plt.$cssShim$.createHostStyle(hostElm, scopeId, style, !!(cmpMeta.$flags$ & 10 /* needsScopedEncapsulation */));\n                        const newScopeId = styleElm['s-sc'];\n                        if (newScopeId) {\n                            scopeId = newScopeId;\n                            // we don't want to add this styleID to the appliedStyles Set\n                            // since the cssVarShim might need to apply several different\n                            // stylesheets for the same component\n                            appliedStyles = null;\n                        }\n                    }\n                    else {\n                        styleElm = doc.createElement('style');\n                        styleElm.innerHTML = style;\n                    }\n                    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hotModuleReplacement) {\n                        styleElm.setAttribute(HYDRATED_STYLE_ID, scopeId);\n                    }\n                    styleContainerNode.insertBefore(styleElm, styleContainerNode.querySelector('link'));\n                }\n                if (appliedStyles) {\n                    appliedStyles.add(scopeId);\n                }\n            }\n        }\n        else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.constructableCSS && !styleContainerNode.adoptedStyleSheets.includes(style)) {\n            styleContainerNode.adoptedStyleSheets = [...styleContainerNode.adoptedStyleSheets, style];\n        }\n    }\n    return scopeId;\n};\nconst attachStyles = (hostRef) => {\n    const cmpMeta = hostRef.$cmpMeta$;\n    const elm = hostRef.$hostElement$;\n    const flags = cmpMeta.$flags$;\n    const endAttachStyles = createTime('attachStyles', cmpMeta.$tagName$);\n    const scopeId = addStyle(_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && supportsShadow && elm.shadowRoot ? elm.shadowRoot : elm.getRootNode(), cmpMeta, hostRef.$modeName$, elm);\n    if ((_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.scoped) && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cssAnnotations && flags & 10 /* needsScopedEncapsulation */) {\n        // only required when we're NOT using native shadow dom (slot)\n        // or this browser doesn't support native shadow dom\n        // and this host element was NOT created with SSR\n        // let's pick out the inner content for slot projection\n        // create a node to represent where the original\n        // content was first placed, which is useful later on\n        // DOM WRITE!!\n        elm['s-sc'] = scopeId;\n        elm.classList.add(scopeId + '-h');\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.scoped && flags & 2 /* scopedCssEncapsulation */) {\n            elm.classList.add(scopeId + '-s');\n        }\n    }\n    endAttachStyles();\n};\nconst getScopeId = (cmp, mode) => 'sc-' + (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.mode && mode && cmp.$flags$ & 32 /* hasMode */ ? cmp.$tagName$ + '-' + mode : cmp.$tagName$);\nconst convertScopedToShadow = (css) => css.replace(/\\/\\*!@([^\\/]+)\\*\\/[^\\{]+\\{/g, '$1{');\n// Private\nconst computeMode = (elm) => modeResolutionChain.map(h => h(elm)).find(m => !!m);\n// Public\nconst setMode = (handler) => modeResolutionChain.push(handler);\nconst getMode = (ref) => getHostRef(ref).$modeName$;\n/**\n * Default style mode id\n */\n/**\n * Reusable empty obj/array\n * Don't add values to these!!\n */\nconst EMPTY_OBJ = {};\n/**\n * Namespaces\n */\nconst SVG_NS = 'http://www.w3.org/2000/svg';\nconst HTML_NS = 'http://www.w3.org/1999/xhtml';\nconst isDef = (v) => v != null;\nconst isComplexType = (o) => {\n    // https://jsperf.com/typeof-fn-object/5\n    o = typeof o;\n    return o === 'object' || o === 'function';\n};\n/**\n * Production h() function based on Preact by\n * Jason Miller (@developit)\n * Licensed under the MIT License\n * https://github.com/developit/preact/blob/master/LICENSE\n *\n * Modified for Stencil's compiler and vdom\n */\n// const stack: any[] = [];\n// export function h(nodeName: string | d.FunctionalComponent, vnodeData: d.PropsType, child?: d.ChildType): d.VNode;\n// export function h(nodeName: string | d.FunctionalComponent, vnodeData: d.PropsType, ...children: d.ChildType[]): d.VNode;\nconst h = (nodeName, vnodeData, ...children) => {\n    let child = null;\n    let key = null;\n    let slotName = null;\n    let simple = false;\n    let lastSimple = false;\n    let vNodeChildren = [];\n    const walk = (c) => {\n        for (let i = 0; i < c.length; i++) {\n            child = c[i];\n            if (Array.isArray(child)) {\n                walk(child);\n            }\n            else if (child != null && typeof child !== 'boolean') {\n                if ((simple = typeof nodeName !== 'function' && !isComplexType(child))) {\n                    child = String(child);\n                }\n                else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev && typeof nodeName !== 'function' && child.$flags$ === undefined) {\n                    consoleDevError(`vNode passed as children has unexpected type.\nMake sure it's using the correct h() function.\nEmpty objects can also be the cause, look for JSX comments that became objects.`);\n                }\n                if (simple && lastSimple) {\n                    // If the previous child was simple (string), we merge both\n                    vNodeChildren[vNodeChildren.length - 1].$text$ += child;\n                }\n                else {\n                    // Append a new vNode, if it's text, we create a text vNode\n                    vNodeChildren.push(simple ? newVNode(null, child) : child);\n                }\n                lastSimple = simple;\n            }\n        }\n    };\n    walk(children);\n    if (vnodeData) {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev && nodeName === 'input') {\n            validateInputProperties(vnodeData);\n        }\n        // normalize class / classname attributes\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomKey && vnodeData.key) {\n            key = vnodeData.key;\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && vnodeData.name) {\n            slotName = vnodeData.name;\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomClass) {\n            const classData = vnodeData.className || vnodeData.class;\n            if (classData) {\n                vnodeData.class =\n                    typeof classData !== 'object'\n                        ? classData\n                        : Object.keys(classData)\n                            .filter(k => classData[k])\n                            .join(' ');\n            }\n        }\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev && vNodeChildren.some(isHost)) {\n        consoleDevError(`The <Host> must be the single root component. Make sure:\n- You are NOT using hostData() and <Host> in the same component.\n- <Host> is used once, and it's the single root component of the render() function.`);\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomFunctional && typeof nodeName === 'function') {\n        // nodeName is a functional component\n        return nodeName(vnodeData === null ? {} : vnodeData, vNodeChildren, vdomFnUtils);\n    }\n    const vnode = newVNode(nodeName, null);\n    vnode.$attrs$ = vnodeData;\n    if (vNodeChildren.length > 0) {\n        vnode.$children$ = vNodeChildren;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomKey) {\n        vnode.$key$ = key;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation) {\n        vnode.$name$ = slotName;\n    }\n    return vnode;\n};\nconst newVNode = (tag, text) => {\n    const vnode = {\n        $flags$: 0,\n        $tag$: tag,\n        $text$: text,\n        $elm$: null,\n        $children$: null,\n    };\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomAttribute) {\n        vnode.$attrs$ = null;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomKey) {\n        vnode.$key$ = null;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation) {\n        vnode.$name$ = null;\n    }\n    return vnode;\n};\nconst Host = {};\nconst isHost = (node) => node && node.$tag$ === Host;\nconst vdomFnUtils = {\n    forEach: (children, cb) => children.map(convertToPublic).forEach(cb),\n    map: (children, cb) => children.map(convertToPublic).map(cb).map(convertToPrivate),\n};\nconst convertToPublic = (node) => ({\n    vattrs: node.$attrs$,\n    vchildren: node.$children$,\n    vkey: node.$key$,\n    vname: node.$name$,\n    vtag: node.$tag$,\n    vtext: node.$text$,\n});\nconst convertToPrivate = (node) => {\n    if (typeof node.vtag === 'function') {\n        const vnodeData = Object.assign({}, node.vattrs);\n        if (node.vkey) {\n            vnodeData.key = node.vkey;\n        }\n        if (node.vname) {\n            vnodeData.name = node.vname;\n        }\n        return h(node.vtag, vnodeData, ...(node.vchildren || []));\n    }\n    const vnode = newVNode(node.vtag, node.vtext);\n    vnode.$attrs$ = node.vattrs;\n    vnode.$children$ = node.vchildren;\n    vnode.$key$ = node.vkey;\n    vnode.$name$ = node.vname;\n    return vnode;\n};\nconst validateInputProperties = (vnodeData) => {\n    const props = Object.keys(vnodeData);\n    const typeIndex = props.indexOf('type');\n    const minIndex = props.indexOf('min');\n    const maxIndex = props.indexOf('max');\n    const stepIndex = props.indexOf('min');\n    const value = props.indexOf('value');\n    if (value === -1) {\n        return;\n    }\n    if (value < typeIndex || value < minIndex || value < maxIndex || value < stepIndex) {\n        consoleDevWarn(`The \"value\" prop of <input> should be set after \"min\", \"max\", \"type\" and \"step\"`);\n    }\n};\n/**\n * Production setAccessor() function based on Preact by\n * Jason Miller (@developit)\n * Licensed under the MIT License\n * https://github.com/developit/preact/blob/master/LICENSE\n *\n * Modified for Stencil's compiler and vdom\n */\nconst setAccessor = (elm, memberName, oldValue, newValue, isSvg, flags) => {\n    if (oldValue !== newValue) {\n        let isProp = isMemberInElement(elm, memberName);\n        let ln = memberName.toLowerCase();\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomClass && memberName === 'class') {\n            const classList = elm.classList;\n            const oldClasses = parseClassList(oldValue);\n            const newClasses = parseClassList(newValue);\n            classList.remove(...oldClasses.filter(c => c && !newClasses.includes(c)));\n            classList.add(...newClasses.filter(c => c && !oldClasses.includes(c)));\n        }\n        else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomStyle && memberName === 'style') {\n            // update style attribute, css properties and values\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable) {\n                for (const prop in oldValue) {\n                    if (!newValue || newValue[prop] == null) {\n                        if (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide && prop.includes('-')) {\n                            elm.style.removeProperty(prop);\n                        }\n                        else {\n                            elm.style[prop] = '';\n                        }\n                    }\n                }\n            }\n            for (const prop in newValue) {\n                if (!oldValue || newValue[prop] !== oldValue[prop]) {\n                    if (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide && prop.includes('-')) {\n                        elm.style.setProperty(prop, newValue[prop]);\n                    }\n                    else {\n                        elm.style[prop] = newValue[prop];\n                    }\n                }\n            }\n        }\n        else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomKey && memberName === 'key')\n            ;\n        else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomRef && memberName === 'ref') {\n            // minifier will clean this up\n            if (newValue) {\n                newValue(elm);\n            }\n        }\n        else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomListener && (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad ? !isProp : !elm.__lookupSetter__(memberName)) && memberName[0] === 'o' && memberName[1] === 'n') {\n            // Event Handlers\n            // so if the member name starts with \"on\" and the 3rd characters is\n            // a capital letter, and it's not already a member on the element,\n            // then we're assuming it's an event listener\n            if (memberName[2] === '-') {\n                // on- prefixed events\n                // allows to be explicit about the dom event to listen without any magic\n                // under the hood:\n                // <my-cmp on-click> // listens for \"click\"\n                // <my-cmp on-Click> // listens for \"Click\"\n                // <my-cmp on-ionChange> // listens for \"ionChange\"\n                // <my-cmp on-EVENTS> // listens for \"EVENTS\"\n                memberName = memberName.slice(3);\n            }\n            else if (isMemberInElement(win, ln)) {\n                // standard event\n                // the JSX attribute could have been \"onMouseOver\" and the\n                // member name \"onmouseover\" is on the window's prototype\n                // so let's add the listener \"mouseover\", which is all lowercased\n                memberName = ln.slice(2);\n            }\n            else {\n                // custom event\n                // the JSX attribute could have been \"onMyCustomEvent\"\n                // so let's trim off the \"on\" prefix and lowercase the first character\n                // and add the listener \"myCustomEvent\"\n                // except for the first character, we keep the event name case\n                memberName = ln[2] + memberName.slice(3);\n            }\n            if (oldValue) {\n                plt.rel(elm, memberName, oldValue, false);\n            }\n            if (newValue) {\n                plt.ael(elm, memberName, newValue, false);\n            }\n        }\n        else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomPropOrAttr) {\n            // Set property if it exists and it's not a SVG\n            const isComplex = isComplexType(newValue);\n            if ((isProp || (isComplex && newValue !== null)) && !isSvg) {\n                try {\n                    if (!elm.tagName.includes('-')) {\n                        let n = newValue == null ? '' : newValue;\n                        // Workaround for Safari, moving the <input> caret when re-assigning the same valued\n                        if (memberName === 'list') {\n                            isProp = false;\n                            // tslint:disable-next-line: triple-equals\n                        }\n                        else if (oldValue == null || elm[memberName] != n) {\n                            elm[memberName] = n;\n                        }\n                    }\n                    else {\n                        elm[memberName] = newValue;\n                    }\n                }\n                catch (e) { }\n            }\n            /**\n             * Need to manually update attribute if:\n             * - memberName is not an attribute\n             * - if we are rendering the host element in order to reflect attribute\n             * - if it's a SVG, since properties might not work in <svg>\n             * - if the newValue is null/undefined or 'false'.\n             */\n            let xlink = false;\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomXlink) {\n                if (ln !== (ln = ln.replace(/^xlink\\:?/, ''))) {\n                    memberName = ln;\n                    xlink = true;\n                }\n            }\n            if (newValue == null || newValue === false) {\n                if (newValue !== false || elm.getAttribute(memberName) === '') {\n                    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomXlink && xlink) {\n                        elm.removeAttributeNS(XLINK_NS, memberName);\n                    }\n                    else {\n                        elm.removeAttribute(memberName);\n                    }\n                }\n            }\n            else if ((!isProp || flags & 4 /* isHost */ || isSvg) && !isComplex) {\n                newValue = newValue === true ? '' : newValue;\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomXlink && xlink) {\n                    elm.setAttributeNS(XLINK_NS, memberName, newValue);\n                }\n                else {\n                    elm.setAttribute(memberName, newValue);\n                }\n            }\n        }\n    }\n};\nconst parseClassListRegex = /\\s/;\nconst parseClassList = (value) => (!value ? [] : value.split(parseClassListRegex));\nconst updateElement = (oldVnode, newVnode, isSvgMode, memberName) => {\n    // if the element passed in is a shadow root, which is a document fragment\n    // then we want to be adding attrs/props to the shadow root's \"host\" element\n    // if it's not a shadow root, then we add attrs/props to the same element\n    const elm = newVnode.$elm$.nodeType === 11 /* DocumentFragment */ && newVnode.$elm$.host ? newVnode.$elm$.host : newVnode.$elm$;\n    const oldVnodeAttrs = (oldVnode && oldVnode.$attrs$) || EMPTY_OBJ;\n    const newVnodeAttrs = newVnode.$attrs$ || EMPTY_OBJ;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable) {\n        // remove attributes no longer present on the vnode by setting them to undefined\n        for (memberName in oldVnodeAttrs) {\n            if (!(memberName in newVnodeAttrs)) {\n                setAccessor(elm, memberName, oldVnodeAttrs[memberName], undefined, isSvgMode, newVnode.$flags$);\n            }\n        }\n    }\n    // add new & update changed attributes\n    for (memberName in newVnodeAttrs) {\n        setAccessor(elm, memberName, oldVnodeAttrs[memberName], newVnodeAttrs[memberName], isSvgMode, newVnode.$flags$);\n    }\n};\nconst createElm = (oldParentVNode, newParentVNode, childIndex, parentElm) => {\n    // tslint:disable-next-line: prefer-const\n    let newVNode = newParentVNode.$children$[childIndex];\n    let i = 0;\n    let elm;\n    let childNode;\n    let oldVNode;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && !useNativeShadowDom) {\n        // remember for later we need to check to relocate nodes\n        checkSlotRelocate = true;\n        if (newVNode.$tag$ === 'slot') {\n            if (scopeId) {\n                // scoped css needs to add its scoped id to the parent element\n                parentElm.classList.add(scopeId + '-s');\n            }\n            newVNode.$flags$ |= newVNode.$children$\n                ? // slot element has fallback content\n                    2 /* isSlotFallback */\n                : // slot element does not have fallback content\n                    1 /* isSlotReference */;\n        }\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev && newVNode.$elm$) {\n        consoleDevError(`The JSX ${newVNode.$text$ !== null ? `\"${newVNode.$text$}\" text` : `\"${newVNode.$tag$}\" element`} node should not be shared within the same renderer. The renderer caches element lookups in order to improve performance. However, a side effect from this is that the exact same JSX node should not be reused. For more information please see https://stenciljs.com/docs/templating-jsx#avoid-shared-jsx-nodes`);\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomText && newVNode.$text$ !== null) {\n        // create text node\n        elm = newVNode.$elm$ = doc.createTextNode(newVNode.$text$);\n    }\n    else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && newVNode.$flags$ & 1 /* isSlotReference */) {\n        // create a slot reference node\n        elm = newVNode.$elm$ = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDebug || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide ? slotReferenceDebugNode(newVNode) : doc.createTextNode('');\n    }\n    else {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.svg && !isSvgMode) {\n            isSvgMode = newVNode.$tag$ === 'svg';\n        }\n        // create element\n        elm = newVNode.$elm$ = (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.svg\n            ? doc.createElementNS(isSvgMode ? SVG_NS : HTML_NS, _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && newVNode.$flags$ & 2 /* isSlotFallback */ ? 'slot-fb' : newVNode.$tag$)\n            : doc.createElement(_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && newVNode.$flags$ & 2 /* isSlotFallback */ ? 'slot-fb' : newVNode.$tag$));\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.svg && isSvgMode && newVNode.$tag$ === 'foreignObject') {\n            isSvgMode = false;\n        }\n        // add css classes, attrs, props, listeners, etc.\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomAttribute) {\n            updateElement(null, newVNode, isSvgMode);\n        }\n        if ((_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.scoped) && isDef(scopeId) && elm['s-si'] !== scopeId) {\n            // if there is a scopeId and this is the initial render\n            // then let's add the scopeId as a css class\n            elm.classList.add((elm['s-si'] = scopeId));\n        }\n        if (newVNode.$children$) {\n            for (i = 0; i < newVNode.$children$.length; ++i) {\n                // create the node\n                childNode = createElm(oldParentVNode, newVNode, i, elm);\n                // return node could have been null\n                if (childNode) {\n                    // append our new node\n                    elm.appendChild(childNode);\n                }\n            }\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.svg) {\n            if (newVNode.$tag$ === 'svg') {\n                // Only reset the SVG context when we're exiting <svg> element\n                isSvgMode = false;\n            }\n            else if (elm.tagName === 'foreignObject') {\n                // Reenter SVG context when we're exiting <foreignObject> element\n                isSvgMode = true;\n            }\n        }\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation) {\n        elm['s-hn'] = hostTagName;\n        if (newVNode.$flags$ & (2 /* isSlotFallback */ | 1 /* isSlotReference */)) {\n            // remember the content reference comment\n            elm['s-sr'] = true;\n            // remember the content reference comment\n            elm['s-cr'] = contentRef;\n            // remember the slot name, or empty string for default slot\n            elm['s-sn'] = newVNode.$name$ || '';\n            // check if we've got an old vnode for this slot\n            oldVNode = oldParentVNode && oldParentVNode.$children$ && oldParentVNode.$children$[childIndex];\n            if (oldVNode && oldVNode.$tag$ === newVNode.$tag$ && oldParentVNode.$elm$) {\n                // we've got an old slot vnode and the wrapper is being replaced\n                // so let's move the old slot content back to it's original location\n                putBackInOriginalLocation(oldParentVNode.$elm$, false);\n            }\n        }\n    }\n    return elm;\n};\nconst putBackInOriginalLocation = (parentElm, recursive) => {\n    plt.$flags$ |= 1 /* isTmpDisconnected */;\n    const oldSlotChildNodes = parentElm.childNodes;\n    for (let i = oldSlotChildNodes.length - 1; i >= 0; i--) {\n        const childNode = oldSlotChildNodes[i];\n        if (childNode['s-hn'] !== hostTagName && childNode['s-ol']) {\n            // // this child node in the old element is from another component\n            // // remove this node from the old slot's parent\n            // childNode.remove();\n            // and relocate it back to it's original location\n            parentReferenceNode(childNode).insertBefore(childNode, referenceNode(childNode));\n            // remove the old original location comment entirely\n            // later on the patch function will know what to do\n            // and move this to the correct spot in need be\n            childNode['s-ol'].remove();\n            childNode['s-ol'] = undefined;\n            checkSlotRelocate = true;\n        }\n        if (recursive) {\n            putBackInOriginalLocation(childNode, recursive);\n        }\n    }\n    plt.$flags$ &= ~1 /* isTmpDisconnected */;\n};\nconst addVnodes = (parentElm, before, parentVNode, vnodes, startIdx, endIdx) => {\n    let containerElm = ((_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && parentElm['s-cr'] && parentElm['s-cr'].parentNode) || parentElm);\n    let childNode;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && containerElm.shadowRoot && containerElm.tagName === hostTagName) {\n        containerElm = containerElm.shadowRoot;\n    }\n    for (; startIdx <= endIdx; ++startIdx) {\n        if (vnodes[startIdx]) {\n            childNode = createElm(null, parentVNode, startIdx, parentElm);\n            if (childNode) {\n                vnodes[startIdx].$elm$ = childNode;\n                containerElm.insertBefore(childNode, _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation ? referenceNode(before) : before);\n            }\n        }\n    }\n};\nconst removeVnodes = (vnodes, startIdx, endIdx, vnode, elm) => {\n    for (; startIdx <= endIdx; ++startIdx) {\n        if ((vnode = vnodes[startIdx])) {\n            elm = vnode.$elm$;\n            callNodeRefs(vnode);\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation) {\n                // we're removing this element\n                // so it's possible we need to show slot fallback content now\n                checkSlotFallbackVisibility = true;\n                if (elm['s-ol']) {\n                    // remove the original location comment\n                    elm['s-ol'].remove();\n                }\n                else {\n                    // it's possible that child nodes of the node\n                    // that's being removed are slot nodes\n                    putBackInOriginalLocation(elm, true);\n                }\n            }\n            // remove the vnode's element from the dom\n            elm.remove();\n        }\n    }\n};\nconst updateChildren = (parentElm, oldCh, newVNode, newCh) => {\n    let oldStartIdx = 0;\n    let newStartIdx = 0;\n    let idxInOld = 0;\n    let i = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let node;\n    let elmToMove;\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        if (oldStartVnode == null) {\n            // Vnode might have been moved left\n            oldStartVnode = oldCh[++oldStartIdx];\n        }\n        else if (oldEndVnode == null) {\n            oldEndVnode = oldCh[--oldEndIdx];\n        }\n        else if (newStartVnode == null) {\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (newEndVnode == null) {\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldStartVnode, newStartVnode)) {\n            patch(oldStartVnode, newStartVnode);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (isSameVnode(oldEndVnode, newEndVnode)) {\n            patch(oldEndVnode, newEndVnode);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldStartVnode, newEndVnode)) {\n            // Vnode moved right\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && (oldStartVnode.$tag$ === 'slot' || newEndVnode.$tag$ === 'slot')) {\n                putBackInOriginalLocation(oldStartVnode.$elm$.parentNode, false);\n            }\n            patch(oldStartVnode, newEndVnode);\n            parentElm.insertBefore(oldStartVnode.$elm$, oldEndVnode.$elm$.nextSibling);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldEndVnode, newStartVnode)) {\n            // Vnode moved left\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && (oldStartVnode.$tag$ === 'slot' || newEndVnode.$tag$ === 'slot')) {\n                putBackInOriginalLocation(oldEndVnode.$elm$.parentNode, false);\n            }\n            patch(oldEndVnode, newStartVnode);\n            parentElm.insertBefore(oldEndVnode.$elm$, oldStartVnode.$elm$);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else {\n            // createKeyToOldIdx\n            idxInOld = -1;\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomKey) {\n                for (i = oldStartIdx; i <= oldEndIdx; ++i) {\n                    if (oldCh[i] && oldCh[i].$key$ !== null && oldCh[i].$key$ === newStartVnode.$key$) {\n                        idxInOld = i;\n                        break;\n                    }\n                }\n            }\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomKey && idxInOld >= 0) {\n                elmToMove = oldCh[idxInOld];\n                if (elmToMove.$tag$ !== newStartVnode.$tag$) {\n                    node = createElm(oldCh && oldCh[newStartIdx], newVNode, idxInOld, parentElm);\n                }\n                else {\n                    patch(elmToMove, newStartVnode);\n                    oldCh[idxInOld] = undefined;\n                    node = elmToMove.$elm$;\n                }\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else {\n                // new element\n                node = createElm(oldCh && oldCh[newStartIdx], newVNode, newStartIdx, parentElm);\n                newStartVnode = newCh[++newStartIdx];\n            }\n            if (node) {\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation) {\n                    parentReferenceNode(oldStartVnode.$elm$).insertBefore(node, referenceNode(oldStartVnode.$elm$));\n                }\n                else {\n                    oldStartVnode.$elm$.parentNode.insertBefore(node, oldStartVnode.$elm$);\n                }\n            }\n        }\n    }\n    if (oldStartIdx > oldEndIdx) {\n        addVnodes(parentElm, newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].$elm$, newVNode, newCh, newStartIdx, newEndIdx);\n    }\n    else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable && newStartIdx > newEndIdx) {\n        removeVnodes(oldCh, oldStartIdx, oldEndIdx);\n    }\n};\nconst isSameVnode = (vnode1, vnode2) => {\n    // compare if two vnode to see if they're \"technically\" the same\n    // need to have the same element tag, and same key to be the same\n    if (vnode1.$tag$ === vnode2.$tag$) {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && vnode1.$tag$ === 'slot') {\n            return vnode1.$name$ === vnode2.$name$;\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomKey) {\n            return vnode1.$key$ === vnode2.$key$;\n        }\n        return true;\n    }\n    return false;\n};\nconst referenceNode = (node) => {\n    // this node was relocated to a new location in the dom\n    // because of some other component's slot\n    // but we still have an html comment in place of where\n    // it's original location was according to it's original vdom\n    return (node && node['s-ol']) || node;\n};\nconst parentReferenceNode = (node) => (node['s-ol'] ? node['s-ol'] : node).parentNode;\nconst patch = (oldVNode, newVNode) => {\n    const elm = (newVNode.$elm$ = oldVNode.$elm$);\n    const oldChildren = oldVNode.$children$;\n    const newChildren = newVNode.$children$;\n    const tag = newVNode.$tag$;\n    const text = newVNode.$text$;\n    let defaultHolder;\n    if (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomText || text === null) {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.svg) {\n            // test if we're rendering an svg element, or still rendering nodes inside of one\n            // only add this to the when the compiler sees we're using an svg somewhere\n            isSvgMode = tag === 'svg' ? true : tag === 'foreignObject' ? false : isSvgMode;\n        }\n        // element node\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomAttribute || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.reflect) {\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slot && tag === 'slot')\n                ;\n            else {\n                // either this is the first render of an element OR it's an update\n                // AND we already know it's possible it could have changed\n                // this updates the element's css classes, attrs, props, listeners, etc.\n                updateElement(oldVNode, newVNode, isSvgMode);\n            }\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable && oldChildren !== null && newChildren !== null) {\n            // looks like there's child vnodes for both the old and new vnodes\n            updateChildren(elm, oldChildren, newVNode, newChildren);\n        }\n        else if (newChildren !== null) {\n            // no old child vnodes, but there are new child vnodes to add\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomText && oldVNode.$text$ !== null) {\n                // the old vnode was text, so be sure to clear it out\n                elm.textContent = '';\n            }\n            // add the new vnode children\n            addVnodes(elm, null, newVNode, newChildren, 0, newChildren.length - 1);\n        }\n        else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable && oldChildren !== null) {\n            // no new child vnodes, but there are old child vnodes to remove\n            removeVnodes(oldChildren, 0, oldChildren.length - 1);\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.svg && isSvgMode && tag === 'svg') {\n            isSvgMode = false;\n        }\n    }\n    else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomText && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && (defaultHolder = elm['s-cr'])) {\n        // this element has slotted content\n        defaultHolder.parentNode.textContent = text;\n    }\n    else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomText && oldVNode.$text$ !== text) {\n        // update the text content for the text only vnode\n        // and also only if the text is different than before\n        elm.data = text;\n    }\n};\nconst updateFallbackSlotVisibility = (elm) => {\n    // tslint:disable-next-line: prefer-const\n    let childNodes = elm.childNodes;\n    let childNode;\n    let i;\n    let ilen;\n    let j;\n    let slotNameAttr;\n    let nodeType;\n    for (i = 0, ilen = childNodes.length; i < ilen; i++) {\n        childNode = childNodes[i];\n        if (childNode.nodeType === 1 /* ElementNode */) {\n            if (childNode['s-sr']) {\n                // this is a slot fallback node\n                // get the slot name for this slot reference node\n                slotNameAttr = childNode['s-sn'];\n                // by default always show a fallback slot node\n                // then hide it if there are other slots in the light dom\n                childNode.hidden = false;\n                for (j = 0; j < ilen; j++) {\n                    nodeType = childNodes[j].nodeType;\n                    if (childNodes[j]['s-hn'] !== childNode['s-hn'] || slotNameAttr !== '') {\n                        // this sibling node is from a different component OR is a named fallback slot node\n                        if (nodeType === 1 /* ElementNode */ && slotNameAttr === childNodes[j].getAttribute('slot')) {\n                            childNode.hidden = true;\n                            break;\n                        }\n                    }\n                    else {\n                        // this is a default fallback slot node\n                        // any element or text node (with content)\n                        // should hide the default fallback slot node\n                        if (nodeType === 1 /* ElementNode */ ||\n                            (nodeType === 3 /* TextNode */ && childNodes[j].textContent.trim() !== '')) {\n                            childNode.hidden = true;\n                            break;\n                        }\n                    }\n                }\n            }\n            // keep drilling down\n            updateFallbackSlotVisibility(childNode);\n        }\n    }\n};\nconst relocateNodes = [];\nconst relocateSlotContent = (elm) => {\n    // tslint:disable-next-line: prefer-const\n    let childNode;\n    let node;\n    let hostContentNodes;\n    let slotNameAttr;\n    let relocateNodeData;\n    let j;\n    let i = 0;\n    let childNodes = elm.childNodes;\n    let ilen = childNodes.length;\n    for (; i < ilen; i++) {\n        childNode = childNodes[i];\n        if (childNode['s-sr'] && (node = childNode['s-cr']) && node.parentNode) {\n            // first got the content reference comment node\n            // then we got it's parent, which is where all the host content is in now\n            hostContentNodes = node.parentNode.childNodes;\n            slotNameAttr = childNode['s-sn'];\n            for (j = hostContentNodes.length - 1; j >= 0; j--) {\n                node = hostContentNodes[j];\n                if (!node['s-cn'] && !node['s-nr'] && node['s-hn'] !== childNode['s-hn']) {\n                    // let's do some relocating to its new home\n                    // but never relocate a content reference node\n                    // that is suppose to always represent the original content location\n                    if (isNodeLocatedInSlot(node, slotNameAttr)) {\n                        // it's possible we've already decided to relocate this node\n                        relocateNodeData = relocateNodes.find(r => r.$nodeToRelocate$ === node);\n                        // made some changes to slots\n                        // let's make sure we also double check\n                        // fallbacks are correctly hidden or shown\n                        checkSlotFallbackVisibility = true;\n                        node['s-sn'] = node['s-sn'] || slotNameAttr;\n                        if (relocateNodeData) {\n                            // previously we never found a slot home for this node\n                            // but turns out we did, so let's remember it now\n                            relocateNodeData.$slotRefNode$ = childNode;\n                        }\n                        else {\n                            // add to our list of nodes to relocate\n                            relocateNodes.push({\n                                $slotRefNode$: childNode,\n                                $nodeToRelocate$: node,\n                            });\n                        }\n                        if (node['s-sr']) {\n                            relocateNodes.map(relocateNode => {\n                                if (isNodeLocatedInSlot(relocateNode.$nodeToRelocate$, node['s-sn'])) {\n                                    relocateNodeData = relocateNodes.find(r => r.$nodeToRelocate$ === node);\n                                    if (relocateNodeData && !relocateNode.$slotRefNode$) {\n                                        relocateNode.$slotRefNode$ = relocateNodeData.$slotRefNode$;\n                                    }\n                                }\n                            });\n                        }\n                    }\n                    else if (!relocateNodes.some(r => r.$nodeToRelocate$ === node)) {\n                        // so far this element does not have a slot home, not setting slotRefNode on purpose\n                        // if we never find a home for this element then we'll need to hide it\n                        relocateNodes.push({\n                            $nodeToRelocate$: node,\n                        });\n                    }\n                }\n            }\n        }\n        if (childNode.nodeType === 1 /* ElementNode */) {\n            relocateSlotContent(childNode);\n        }\n    }\n};\nconst isNodeLocatedInSlot = (nodeToRelocate, slotNameAttr) => {\n    if (nodeToRelocate.nodeType === 1 /* ElementNode */) {\n        if (nodeToRelocate.getAttribute('slot') === null && slotNameAttr === '') {\n            return true;\n        }\n        if (nodeToRelocate.getAttribute('slot') === slotNameAttr) {\n            return true;\n        }\n        return false;\n    }\n    if (nodeToRelocate['s-sn'] === slotNameAttr) {\n        return true;\n    }\n    return slotNameAttr === '';\n};\nconst callNodeRefs = (vNode) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomRef) {\n        vNode.$attrs$ && vNode.$attrs$.ref && vNode.$attrs$.ref(null);\n        vNode.$children$ && vNode.$children$.map(callNodeRefs);\n    }\n};\nconst renderVdom = (hostRef, renderFnResults) => {\n    const hostElm = hostRef.$hostElement$;\n    const cmpMeta = hostRef.$cmpMeta$;\n    const oldVNode = hostRef.$vnode$ || newVNode(null, null);\n    const rootVnode = isHost(renderFnResults) ? renderFnResults : h(null, null, renderFnResults);\n    hostTagName = hostElm.tagName;\n    // <Host> runtime check\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev && Array.isArray(renderFnResults) && renderFnResults.some(isHost)) {\n        throw new Error(`The <Host> must be the single root component.\nLooks like the render() function of \"${hostTagName.toLowerCase()}\" is returning an array that contains the <Host>.\n\nThe render() function should look like this instead:\n\nrender() {\n  // Do not return an array\n  return (\n    <Host>{content}</Host>\n  );\n}\n  `);\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.reflect && cmpMeta.$attrsToReflect$) {\n        rootVnode.$attrs$ = rootVnode.$attrs$ || {};\n        cmpMeta.$attrsToReflect$.map(([propName, attribute]) => (rootVnode.$attrs$[attribute] = hostElm[propName]));\n    }\n    rootVnode.$tag$ = null;\n    rootVnode.$flags$ |= 4 /* isHost */;\n    hostRef.$vnode$ = rootVnode;\n    rootVnode.$elm$ = oldVNode.$elm$ = (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom ? hostElm.shadowRoot || hostElm : hostElm);\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.scoped || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom) {\n        scopeId = hostElm['s-sc'];\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation) {\n        contentRef = hostElm['s-cr'];\n        useNativeShadowDom = supportsShadow && (cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) !== 0;\n        // always reset\n        checkSlotFallbackVisibility = false;\n    }\n    // synchronous patch\n    patch(oldVNode, rootVnode);\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation) {\n        // while we're moving nodes around existing nodes, temporarily disable\n        // the disconnectCallback from working\n        plt.$flags$ |= 1 /* isTmpDisconnected */;\n        if (checkSlotRelocate) {\n            relocateSlotContent(rootVnode.$elm$);\n            let relocateData;\n            let nodeToRelocate;\n            let orgLocationNode;\n            let parentNodeRef;\n            let insertBeforeNode;\n            let refNode;\n            let i = 0;\n            for (; i < relocateNodes.length; i++) {\n                relocateData = relocateNodes[i];\n                nodeToRelocate = relocateData.$nodeToRelocate$;\n                if (!nodeToRelocate['s-ol']) {\n                    // add a reference node marking this node's original location\n                    // keep a reference to this node for later lookups\n                    orgLocationNode = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDebug || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide ? originalLocationDebugNode(nodeToRelocate) : doc.createTextNode('');\n                    orgLocationNode['s-nr'] = nodeToRelocate;\n                    nodeToRelocate.parentNode.insertBefore((nodeToRelocate['s-ol'] = orgLocationNode), nodeToRelocate);\n                }\n            }\n            for (i = 0; i < relocateNodes.length; i++) {\n                relocateData = relocateNodes[i];\n                nodeToRelocate = relocateData.$nodeToRelocate$;\n                if (relocateData.$slotRefNode$) {\n                    // by default we're just going to insert it directly\n                    // after the slot reference node\n                    parentNodeRef = relocateData.$slotRefNode$.parentNode;\n                    insertBeforeNode = relocateData.$slotRefNode$.nextSibling;\n                    orgLocationNode = nodeToRelocate['s-ol'];\n                    while ((orgLocationNode = orgLocationNode.previousSibling)) {\n                        refNode = orgLocationNode['s-nr'];\n                        if (refNode && refNode['s-sn'] === nodeToRelocate['s-sn'] && parentNodeRef === refNode.parentNode) {\n                            refNode = refNode.nextSibling;\n                            if (!refNode || !refNode['s-nr']) {\n                                insertBeforeNode = refNode;\n                                break;\n                            }\n                        }\n                    }\n                    if ((!insertBeforeNode && parentNodeRef !== nodeToRelocate.parentNode) || nodeToRelocate.nextSibling !== insertBeforeNode) {\n                        // we've checked that it's worth while to relocate\n                        // since that the node to relocate\n                        // has a different next sibling or parent relocated\n                        if (nodeToRelocate !== insertBeforeNode) {\n                            if (!nodeToRelocate['s-hn'] && nodeToRelocate['s-ol']) {\n                                // probably a component in the index.html that doesn't have it's hostname set\n                                nodeToRelocate['s-hn'] = nodeToRelocate['s-ol'].parentNode.nodeName;\n                            }\n                            // add it back to the dom but in its new home\n                            parentNodeRef.insertBefore(nodeToRelocate, insertBeforeNode);\n                        }\n                    }\n                }\n                else {\n                    // this node doesn't have a slot home to go to, so let's hide it\n                    if (nodeToRelocate.nodeType === 1 /* ElementNode */) {\n                        nodeToRelocate.hidden = true;\n                    }\n                }\n            }\n        }\n        if (checkSlotFallbackVisibility) {\n            updateFallbackSlotVisibility(rootVnode.$elm$);\n        }\n        // done moving nodes around\n        // allow the disconnect callback to work again\n        plt.$flags$ &= ~1 /* isTmpDisconnected */;\n        // always reset\n        relocateNodes.length = 0;\n    }\n};\n// slot comment debug nodes only created with the `--debug` flag\n// otherwise these nodes are text nodes w/out content\nconst slotReferenceDebugNode = (slotVNode) => doc.createComment(`<slot${slotVNode.$name$ ? ' name=\"' + slotVNode.$name$ + '\"' : ''}> (host=${hostTagName.toLowerCase()})`);\nconst originalLocationDebugNode = (nodeToRelocate) => doc.createComment(`org-location for ` + (nodeToRelocate.localName ? `<${nodeToRelocate.localName}> (host=${nodeToRelocate['s-hn']})` : `[${nodeToRelocate.textContent}]`));\nconst getElement = (ref) => (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad ? getHostRef(ref).$hostElement$ : ref);\nconst createEvent = (ref, name, flags) => {\n    const elm = getElement(ref);\n    return {\n        emit: (detail) => {\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev && !elm.isConnected) {\n                consoleDevWarn(`The \"${name}\" event was emitted, but the dispatcher node is no longer connected to the dom.`);\n            }\n            return emitEvent(elm, name, {\n                bubbles: !!(flags & 4 /* Bubbles */),\n                composed: !!(flags & 2 /* Composed */),\n                cancelable: !!(flags & 1 /* Cancellable */),\n                detail,\n            });\n        },\n    };\n};\nconst emitEvent = (elm, name, opts) => {\n    const ev = plt.ce(name, opts);\n    elm.dispatchEvent(ev);\n    return ev;\n};\nconst attachToAncestor = (hostRef, ancestorComponent) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading && ancestorComponent && !hostRef.$onRenderResolve$ && ancestorComponent['s-p']) {\n        ancestorComponent['s-p'].push(new Promise(r => (hostRef.$onRenderResolve$ = r)));\n    }\n};\nconst scheduleUpdate = (hostRef, isInitialLoad) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.taskQueue && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable) {\n        hostRef.$flags$ |= 16 /* isQueuedForUpdate */;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading && hostRef.$flags$ & 4 /* isWaitingForChildren */) {\n        hostRef.$flags$ |= 512 /* needsRerender */;\n        return;\n    }\n    attachToAncestor(hostRef, hostRef.$ancestorComponent$);\n    // there is no ancestor component or the ancestor component\n    // has already fired off its lifecycle update then\n    // fire off the initial update\n    const dispatch = () => dispatchHooks(hostRef, isInitialLoad);\n    return _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.taskQueue ? writeTask(dispatch) : dispatch();\n};\nconst dispatchHooks = (hostRef, isInitialLoad) => {\n    const elm = hostRef.$hostElement$;\n    const endSchedule = createTime('scheduleUpdate', hostRef.$cmpMeta$.$tagName$);\n    const instance = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad ? hostRef.$lazyInstance$ : elm;\n    let promise;\n    if (isInitialLoad) {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListener) {\n            hostRef.$flags$ |= 256 /* isListenReady */;\n            if (hostRef.$queuedListeners$) {\n                hostRef.$queuedListeners$.map(([methodName, event]) => safeCall(instance, methodName, event));\n                hostRef.$queuedListeners$ = null;\n            }\n        }\n        emitLifecycleEvent(elm, 'componentWillLoad');\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cmpWillLoad) {\n            promise = safeCall(instance, 'componentWillLoad');\n        }\n    }\n    else {\n        emitLifecycleEvent(elm, 'componentWillUpdate');\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cmpWillUpdate) {\n            promise = safeCall(instance, 'componentWillUpdate');\n        }\n    }\n    emitLifecycleEvent(elm, 'componentWillRender');\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cmpWillRender) {\n        promise = then(promise, () => safeCall(instance, 'componentWillRender'));\n    }\n    endSchedule();\n    return then(promise, () => updateComponent(hostRef, instance, isInitialLoad));\n};\nconst updateComponent = async (hostRef, instance, isInitialLoad) => {\n    // updateComponent\n    const elm = hostRef.$hostElement$;\n    const endUpdate = createTime('update', hostRef.$cmpMeta$.$tagName$);\n    const rc = elm['s-rc'];\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.style && isInitialLoad) {\n        // DOM WRITE!\n        attachStyles(hostRef);\n    }\n    const endRender = createTime('render', hostRef.$cmpMeta$.$tagName$);\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n        hostRef.$flags$ |= 1024 /* devOnRender */;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide) {\n        await callRender(hostRef, instance, elm);\n    }\n    else {\n        callRender(hostRef, instance, elm);\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cssVarShim && plt.$cssShim$) {\n        plt.$cssShim$.updateHost(elm);\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n        hostRef.$renderCount$++;\n        hostRef.$flags$ &= ~1024 /* devOnRender */;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide) {\n        try {\n            // manually connected child components during server-side hydrate\n            serverSideConnected(elm);\n            if (isInitialLoad) {\n                // using only during server-side hydrate\n                if (hostRef.$cmpMeta$.$flags$ & 1 /* shadowDomEncapsulation */) {\n                    elm['s-en'] = '';\n                }\n                else if (hostRef.$cmpMeta$.$flags$ & 2 /* scopedCssEncapsulation */) {\n                    elm['s-en'] = 'c';\n                }\n            }\n        }\n        catch (e) {\n            consoleError(e, elm);\n        }\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading && rc) {\n        // ok, so turns out there are some child host elements\n        // waiting on this parent element to load\n        // let's fire off all update callbacks waiting\n        rc.map(cb => cb());\n        elm['s-rc'] = undefined;\n    }\n    endRender();\n    endUpdate();\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading) {\n        const childrenPromises = elm['s-p'];\n        const postUpdate = () => postUpdateComponent(hostRef);\n        if (childrenPromises.length === 0) {\n            postUpdate();\n        }\n        else {\n            Promise.all(childrenPromises).then(postUpdate);\n            hostRef.$flags$ |= 4 /* isWaitingForChildren */;\n            childrenPromises.length = 0;\n        }\n    }\n    else {\n        postUpdateComponent(hostRef);\n    }\n};\nconst callRender = (hostRef, instance, elm) => {\n    // in order for bundlers to correctly treeshake the BUILD object\n    // we need to ensure BUILD is not deoptimized within a try/catch\n    // https://rollupjs.org/guide/en/#treeshake tryCatchDeoptimization\n    const allRenderFn = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.allRenderFn ? true : false;\n    const lazyLoad = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad ? true : false;\n    const taskQueue = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.taskQueue ? true : false;\n    const updatable = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable ? true : false;\n    try {\n        renderingRef = instance;\n        instance = allRenderFn ? instance.render() : instance.render && instance.render();\n        if (updatable && taskQueue) {\n            hostRef.$flags$ &= ~16 /* isQueuedForUpdate */;\n        }\n        if (updatable || lazyLoad) {\n            hostRef.$flags$ |= 2 /* hasRendered */;\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hasRenderFn || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.reflect) {\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomRender || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.reflect) {\n                // looks like we've got child nodes to render into this host element\n                // or we need to update the css class/attrs on the host element\n                // DOM WRITE!\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide) {\n                    return Promise.resolve(instance).then(value => renderVdom(hostRef, value));\n                }\n                else {\n                    renderVdom(hostRef, instance);\n                }\n            }\n            else {\n                elm.textContent = instance;\n            }\n        }\n    }\n    catch (e) {\n        consoleError(e, hostRef.$hostElement$);\n    }\n    renderingRef = null;\n    return null;\n};\nconst getRenderingRef = () => renderingRef;\nconst postUpdateComponent = (hostRef) => {\n    const tagName = hostRef.$cmpMeta$.$tagName$;\n    const elm = hostRef.$hostElement$;\n    const endPostUpdate = createTime('postUpdate', tagName);\n    const instance = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad ? hostRef.$lazyInstance$ : elm;\n    const ancestorComponent = hostRef.$ancestorComponent$;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cmpDidRender) {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n            hostRef.$flags$ |= 1024 /* devOnRender */;\n        }\n        safeCall(instance, 'componentDidRender');\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n            hostRef.$flags$ &= ~1024 /* devOnRender */;\n        }\n    }\n    emitLifecycleEvent(elm, 'componentDidRender');\n    if (!(hostRef.$flags$ & 64 /* hasLoadedComponent */)) {\n        hostRef.$flags$ |= 64 /* hasLoadedComponent */;\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cssAnnotations) {\n            // DOM WRITE!\n            addHydratedFlag(elm);\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cmpDidLoad) {\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n                hostRef.$flags$ |= 2048 /* devOnDidLoad */;\n            }\n            safeCall(instance, 'componentDidLoad');\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n                hostRef.$flags$ &= ~2048 /* devOnDidLoad */;\n            }\n        }\n        emitLifecycleEvent(elm, 'componentDidLoad');\n        endPostUpdate();\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading) {\n            hostRef.$onReadyResolve$(elm);\n            if (!ancestorComponent) {\n                appDidLoad(tagName);\n            }\n        }\n    }\n    else {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cmpDidUpdate) {\n            // we've already loaded this component\n            // fire off the user's componentDidUpdate method (if one was provided)\n            // componentDidUpdate runs AFTER render() has been called\n            // and all child components have finished updating\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n                hostRef.$flags$ |= 1024 /* devOnRender */;\n            }\n            safeCall(instance, 'componentDidUpdate');\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n                hostRef.$flags$ &= ~1024 /* devOnRender */;\n            }\n        }\n        emitLifecycleEvent(elm, 'componentDidUpdate');\n        endPostUpdate();\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hotModuleReplacement) {\n        elm['s-hmr-load'] && elm['s-hmr-load']();\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.method && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad) {\n        hostRef.$onInstanceResolve$(elm);\n    }\n    // load events fire from bottom to top\n    // the deepest elements load first then bubbles up\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading) {\n        if (hostRef.$onRenderResolve$) {\n            hostRef.$onRenderResolve$();\n            hostRef.$onRenderResolve$ = undefined;\n        }\n        if (hostRef.$flags$ & 512 /* needsRerender */) {\n            nextTick(() => scheduleUpdate(hostRef, false));\n        }\n        hostRef.$flags$ &= ~(4 /* isWaitingForChildren */ | 512 /* needsRerender */);\n    }\n    // ( •_•)\n    // ( •_•)>⌐■-■\n    // (⌐■_■)\n};\nconst forceUpdate = (ref) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable) {\n        const hostRef = getHostRef(ref);\n        const isConnected = hostRef.$hostElement$.isConnected;\n        if (isConnected && (hostRef.$flags$ & (2 /* hasRendered */ | 16 /* isQueuedForUpdate */)) === 2 /* hasRendered */) {\n            scheduleUpdate(hostRef, false);\n        }\n        // Returns \"true\" when the forced update was successfully scheduled\n        return isConnected;\n    }\n    return false;\n};\nconst appDidLoad = (who) => {\n    // on appload\n    // we have finish the first big initial render\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cssAnnotations) {\n        addHydratedFlag(doc.documentElement);\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncQueue) {\n        plt.$flags$ |= 2 /* appLoaded */;\n    }\n    nextTick(() => emitEvent(win, 'appload', { detail: { namespace: _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.NAMESPACE } }));\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.profile && performance.measure) {\n        performance.measure(`[Stencil] ${_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.NAMESPACE} initial load (by ${who})`, 'st:app:start');\n    }\n};\nconst safeCall = (instance, method, arg) => {\n    if (instance && instance[method]) {\n        try {\n            return instance[method](arg);\n        }\n        catch (e) {\n            consoleError(e);\n        }\n    }\n    return undefined;\n};\nconst then = (promise, thenFn) => {\n    return promise && promise.then ? promise.then(thenFn) : thenFn();\n};\nconst emitLifecycleEvent = (elm, lifecycleName) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lifecycleDOMEvents) {\n        emitEvent(elm, 'stencil_' + lifecycleName, {\n            bubbles: true,\n            composed: true,\n            detail: {\n                namespace: _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.NAMESPACE,\n            },\n        });\n    }\n};\nconst addHydratedFlag = (elm) => (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydratedClass ? elm.classList.add('hydrated') : _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydratedAttribute ? elm.setAttribute('hydrated', '') : undefined);\nconst serverSideConnected = (elm) => {\n    const children = elm.children;\n    if (children != null) {\n        for (let i = 0, ii = children.length; i < ii; i++) {\n            const childElm = children[i];\n            if (typeof childElm.connectedCallback === 'function') {\n                childElm.connectedCallback();\n            }\n            serverSideConnected(childElm);\n        }\n    }\n};\nconst initializeClientHydrate = (hostElm, tagName, hostId, hostRef) => {\n    const endHydrate = createTime('hydrateClient', tagName);\n    const shadowRoot = hostElm.shadowRoot;\n    const childRenderNodes = [];\n    const slotNodes = [];\n    const shadowRootNodes = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && shadowRoot ? [] : null;\n    const vnode = (hostRef.$vnode$ = newVNode(tagName, null));\n    if (!plt.$orgLocNodes$) {\n        initializeDocumentHydrate(doc.body, (plt.$orgLocNodes$ = new Map()));\n    }\n    hostElm[HYDRATE_ID] = hostId;\n    hostElm.removeAttribute(HYDRATE_ID);\n    clientHydrate(vnode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, hostElm, hostId);\n    childRenderNodes.map(c => {\n        const orgLocationId = c.$hostId$ + '.' + c.$nodeId$;\n        const orgLocationNode = plt.$orgLocNodes$.get(orgLocationId);\n        const node = c.$elm$;\n        if (orgLocationNode && supportsShadow && orgLocationNode['s-en'] === '') {\n            orgLocationNode.parentNode.insertBefore(node, orgLocationNode.nextSibling);\n        }\n        if (!shadowRoot) {\n            node['s-hn'] = tagName;\n            if (orgLocationNode) {\n                node['s-ol'] = orgLocationNode;\n                node['s-ol']['s-nr'] = node;\n            }\n        }\n        plt.$orgLocNodes$.delete(orgLocationId);\n    });\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && shadowRoot) {\n        shadowRootNodes.map(shadowRootNode => {\n            if (shadowRootNode) {\n                shadowRoot.appendChild(shadowRootNode);\n            }\n        });\n    }\n    endHydrate();\n};\nconst clientHydrate = (parentVNode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, node, hostId) => {\n    let childNodeType;\n    let childIdSplt;\n    let childVNode;\n    let i;\n    if (node.nodeType === 1 /* ElementNode */) {\n        childNodeType = node.getAttribute(HYDRATE_CHILD_ID);\n        if (childNodeType) {\n            // got the node data from the element's attribute\n            // `${hostId}.${nodeId}.${depth}.${index}`\n            childIdSplt = childNodeType.split('.');\n            if (childIdSplt[0] === hostId || childIdSplt[0] === '0') {\n                childVNode = {\n                    $flags$: 0,\n                    $hostId$: childIdSplt[0],\n                    $nodeId$: childIdSplt[1],\n                    $depth$: childIdSplt[2],\n                    $index$: childIdSplt[3],\n                    $tag$: node.tagName.toLowerCase(),\n                    $elm$: node,\n                    $attrs$: null,\n                    $children$: null,\n                    $key$: null,\n                    $name$: null,\n                    $text$: null,\n                };\n                childRenderNodes.push(childVNode);\n                node.removeAttribute(HYDRATE_CHILD_ID);\n                // this is a new child vnode\n                // so ensure its parent vnode has the vchildren array\n                if (!parentVNode.$children$) {\n                    parentVNode.$children$ = [];\n                }\n                // add our child vnode to a specific index of the vnode's children\n                parentVNode.$children$[childVNode.$index$] = childVNode;\n                // this is now the new parent vnode for all the next child checks\n                parentVNode = childVNode;\n                if (shadowRootNodes && childVNode.$depth$ === '0') {\n                    shadowRootNodes[childVNode.$index$] = childVNode.$elm$;\n                }\n            }\n        }\n        // recursively drill down, end to start so we can remove nodes\n        for (i = node.childNodes.length - 1; i >= 0; i--) {\n            clientHydrate(parentVNode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, node.childNodes[i], hostId);\n        }\n        if (node.shadowRoot) {\n            // keep drilling down through the shadow root nodes\n            for (i = node.shadowRoot.childNodes.length - 1; i >= 0; i--) {\n                clientHydrate(parentVNode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, node.shadowRoot.childNodes[i], hostId);\n            }\n        }\n    }\n    else if (node.nodeType === 8 /* CommentNode */) {\n        // `${COMMENT_TYPE}.${hostId}.${nodeId}.${depth}.${index}`\n        childIdSplt = node.nodeValue.split('.');\n        if (childIdSplt[1] === hostId || childIdSplt[1] === '0') {\n            // comment node for either the host id or a 0 host id\n            childNodeType = childIdSplt[0];\n            childVNode = {\n                $flags$: 0,\n                $hostId$: childIdSplt[1],\n                $nodeId$: childIdSplt[2],\n                $depth$: childIdSplt[3],\n                $index$: childIdSplt[4],\n                $elm$: node,\n                $attrs$: null,\n                $children$: null,\n                $key$: null,\n                $name$: null,\n                $tag$: null,\n                $text$: null,\n            };\n            if (childNodeType === TEXT_NODE_ID) {\n                childVNode.$elm$ = node.nextSibling;\n                if (childVNode.$elm$ && childVNode.$elm$.nodeType === 3 /* TextNode */) {\n                    childVNode.$text$ = childVNode.$elm$.textContent;\n                    childRenderNodes.push(childVNode);\n                    // remove the text comment since it's no longer needed\n                    node.remove();\n                    if (!parentVNode.$children$) {\n                        parentVNode.$children$ = [];\n                    }\n                    parentVNode.$children$[childVNode.$index$] = childVNode;\n                    if (shadowRootNodes && childVNode.$depth$ === '0') {\n                        shadowRootNodes[childVNode.$index$] = childVNode.$elm$;\n                    }\n                }\n            }\n            else if (childVNode.$hostId$ === hostId) {\n                // this comment node is specifcally for this host id\n                if (childNodeType === SLOT_NODE_ID) {\n                    // `${SLOT_NODE_ID}.${hostId}.${nodeId}.${depth}.${index}.${slotName}`;\n                    childVNode.$tag$ = 'slot';\n                    if (childIdSplt[5]) {\n                        node['s-sn'] = childVNode.$name$ = childIdSplt[5];\n                    }\n                    else {\n                        node['s-sn'] = '';\n                    }\n                    node['s-sr'] = true;\n                    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && shadowRootNodes) {\n                        // browser support shadowRoot and this is a shadow dom component\n                        // create an actual slot element\n                        childVNode.$elm$ = doc.createElement(childVNode.$tag$);\n                        if (childVNode.$name$) {\n                            // add the slot name attribute\n                            childVNode.$elm$.setAttribute('name', childVNode.$name$);\n                        }\n                        // insert the new slot element before the slot comment\n                        node.parentNode.insertBefore(childVNode.$elm$, node);\n                        // remove the slot comment since it's not needed for shadow\n                        node.remove();\n                        if (childVNode.$depth$ === '0') {\n                            shadowRootNodes[childVNode.$index$] = childVNode.$elm$;\n                        }\n                    }\n                    slotNodes.push(childVNode);\n                    if (!parentVNode.$children$) {\n                        parentVNode.$children$ = [];\n                    }\n                    parentVNode.$children$[childVNode.$index$] = childVNode;\n                }\n                else if (childNodeType === CONTENT_REF_ID) {\n                    // `${CONTENT_REF_ID}.${hostId}`;\n                    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && shadowRootNodes) {\n                        // remove the content ref comment since it's not needed for shadow\n                        node.remove();\n                    }\n                    else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation) {\n                        hostElm['s-cr'] = node;\n                        node['s-cn'] = true;\n                    }\n                }\n            }\n        }\n    }\n    else if (parentVNode && parentVNode.$tag$ === 'style') {\n        const vnode = newVNode(null, node.textContent);\n        vnode.$elm$ = node;\n        vnode.$index$ = '0';\n        parentVNode.$children$ = [vnode];\n    }\n};\nconst initializeDocumentHydrate = (node, orgLocNodes) => {\n    if (node.nodeType === 1 /* ElementNode */) {\n        let i = 0;\n        for (; i < node.childNodes.length; i++) {\n            initializeDocumentHydrate(node.childNodes[i], orgLocNodes);\n        }\n        if (node.shadowRoot) {\n            for (i = 0; i < node.shadowRoot.childNodes.length; i++) {\n                initializeDocumentHydrate(node.shadowRoot.childNodes[i], orgLocNodes);\n            }\n        }\n    }\n    else if (node.nodeType === 8 /* CommentNode */) {\n        const childIdSplt = node.nodeValue.split('.');\n        if (childIdSplt[0] === ORG_LOCATION_ID) {\n            orgLocNodes.set(childIdSplt[1] + '.' + childIdSplt[2], node);\n            node.nodeValue = '';\n            // useful to know if the original location is\n            // the root light-dom of a shadow dom component\n            node['s-en'] = childIdSplt[3];\n        }\n    }\n};\nconst parsePropertyValue = (propValue, propType) => {\n    // ensure this value is of the correct prop type\n    if (propValue != null && !isComplexType(propValue)) {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.propBoolean && propType & 4 /* Boolean */) {\n            // per the HTML spec, any string value means it is a boolean true value\n            // but we'll cheat here and say that the string \"false\" is the boolean false\n            return propValue === 'false' ? false : propValue === '' || !!propValue;\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.propNumber && propType & 2 /* Number */) {\n            // force it to be a number\n            return parseFloat(propValue);\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.propString && propType & 1 /* String */) {\n            // could have been passed as a number or boolean\n            // but we still want it as a string\n            return String(propValue);\n        }\n        // redundant return here for better minification\n        return propValue;\n    }\n    // not sure exactly what type we want\n    // so no need to change to a different type\n    return propValue;\n};\nconst getValue = (ref, propName) => getHostRef(ref).$instanceValues$.get(propName);\nconst setValue = (ref, propName, newVal, cmpMeta) => {\n    // check our new property value against our internal value\n    const hostRef = getHostRef(ref);\n    const elm = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad ? hostRef.$hostElement$ : ref;\n    const oldVal = hostRef.$instanceValues$.get(propName);\n    const flags = hostRef.$flags$;\n    const instance = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad ? hostRef.$lazyInstance$ : elm;\n    newVal = parsePropertyValue(newVal, cmpMeta.$members$[propName][0]);\n    if ((!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad || !(flags & 8 /* isConstructingInstance */) || oldVal === undefined) && newVal !== oldVal) {\n        // gadzooks! the property's value has changed!!\n        // set our new value!\n        hostRef.$instanceValues$.set(propName, newVal);\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n            if (hostRef.$flags$ & 1024 /* devOnRender */) {\n                consoleDevWarn(`The state/prop \"${propName}\" changed during rendering. This can potentially lead to infinite-loops and other bugs.`, '\\nElement', elm, '\\nNew value', newVal, '\\nOld value', oldVal);\n            }\n            else if (hostRef.$flags$ & 2048 /* devOnDidLoad */) {\n                consoleDevWarn(`The state/prop \"${propName}\" changed during \"componentDidLoad()\", this triggers extra re-renders, try to setup on \"componentWillLoad()\"`, '\\nElement', elm, '\\nNew value', newVal, '\\nOld value', oldVal);\n            }\n        }\n        if (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad || instance) {\n            // get an array of method names of watch functions to call\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.watchCallback && cmpMeta.$watchers$ && flags & 128 /* isWatchReady */) {\n                const watchMethods = cmpMeta.$watchers$[propName];\n                if (watchMethods) {\n                    // this instance is watching for when this property changed\n                    watchMethods.map(watchMethodName => {\n                        try {\n                            // fire off each of the watch methods that are watching this property\n                            instance[watchMethodName](newVal, oldVal, propName);\n                        }\n                        catch (e) {\n                            consoleError(e, elm);\n                        }\n                    });\n                }\n            }\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable && (flags & (2 /* hasRendered */ | 16 /* isQueuedForUpdate */)) === 2 /* hasRendered */) {\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cmpShouldUpdate && instance.componentShouldUpdate) {\n                    if (instance.componentShouldUpdate(newVal, oldVal, propName) === false) {\n                        return;\n                    }\n                }\n                // looks like this value actually changed, so we've got work to do!\n                // but only if we've already rendered, otherwise just chill out\n                // queue that we need to do an update, but don't worry about queuing\n                // up millions cuz this function ensures it only runs once\n                scheduleUpdate(hostRef, false);\n            }\n        }\n    }\n};\nconst proxyComponent = (Cstr, cmpMeta, flags) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.member && cmpMeta.$members$) {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.watchCallback && Cstr.watchers) {\n            cmpMeta.$watchers$ = Cstr.watchers;\n        }\n        // It's better to have a const than two Object.entries()\n        const members = Object.entries(cmpMeta.$members$);\n        const prototype = Cstr.prototype;\n        members.map(([memberName, [memberFlags]]) => {\n            if ((_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.prop || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.state) && (memberFlags & 31 /* Prop */ || ((!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad || flags & 2 /* proxyState */) && memberFlags & 32 /* State */))) {\n                // proxyComponent - prop\n                Object.defineProperty(prototype, memberName, {\n                    get() {\n                        // proxyComponent, get value\n                        return getValue(this, memberName);\n                    },\n                    set(newValue) {\n                        // only during dev time\n                        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n                            const ref = getHostRef(this);\n                            if (\n                            // we are proxying the instance (not element)\n                            (flags & 1 /* isElementConstructor */) === 0 &&\n                                // the element is not constructing\n                                (ref.$flags$ & 8 /* isConstructingInstance */) === 0 &&\n                                // the member is a prop\n                                (memberFlags & 31 /* Prop */) !== 0 &&\n                                // the member is not mutable\n                                (memberFlags & 1024 /* Mutable */) === 0) {\n                                consoleDevWarn(`@Prop() \"${memberName}\" on <${cmpMeta.$tagName$}> is immutable but was modified from within the component.\\nMore information: https://stenciljs.com/docs/properties#prop-mutability`);\n                            }\n                        }\n                        // proxyComponent, set value\n                        setValue(this, memberName, newValue, cmpMeta);\n                    },\n                    configurable: true,\n                    enumerable: true,\n                });\n            }\n            else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.method && flags & 1 /* isElementConstructor */ && memberFlags & 64 /* Method */) {\n                // proxyComponent - method\n                Object.defineProperty(prototype, memberName, {\n                    value(...args) {\n                        const ref = getHostRef(this);\n                        return ref.$onInstancePromise$.then(() => ref.$lazyInstance$[memberName](...args));\n                    },\n                });\n            }\n        });\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.observeAttribute && (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad || flags & 1 /* isElementConstructor */)) {\n            const attrNameToPropName = new Map();\n            prototype.attributeChangedCallback = function (attrName, _oldValue, newValue) {\n                plt.jmp(() => {\n                    const propName = attrNameToPropName.get(attrName);\n                    this[propName] = newValue === null && typeof this[propName] === 'boolean' ? false : newValue;\n                });\n            };\n            // create an array of attributes to observe\n            // and also create a map of html attribute name to js property name\n            Cstr.observedAttributes = members\n                .filter(([_, m]) => m[0] & 15 /* HasAttribute */) // filter to only keep props that should match attributes\n                .map(([propName, m]) => {\n                const attrName = m[1] || propName;\n                attrNameToPropName.set(attrName, propName);\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.reflect && m[0] & 512 /* ReflectAttr */) {\n                    cmpMeta.$attrsToReflect$.push([propName, attrName]);\n                }\n                return attrName;\n            });\n        }\n    }\n    return Cstr;\n};\nconst initializeComponent = async (elm, hostRef, cmpMeta, hmrVersionId, Cstr) => {\n    // initializeComponent\n    if ((_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.style) && (hostRef.$flags$ & 32 /* hasInitializedComponent */) === 0) {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateClientSide) {\n            // we haven't initialized this element yet\n            hostRef.$flags$ |= 32 /* hasInitializedComponent */;\n            // lazy loaded components\n            // request the component's implementation to be\n            // wired up with the host element\n            Cstr = loadModule(cmpMeta, hostRef, hmrVersionId);\n            if (Cstr.then) {\n                // Await creates a micro-task avoid if possible\n                const endLoad = uniqueTime(`st:load:${cmpMeta.$tagName$}:${hostRef.$modeName$}`, `[Stencil] Load module for <${cmpMeta.$tagName$}>`);\n                Cstr = await Cstr;\n                endLoad();\n            }\n            if ((_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDebug) && !Cstr) {\n                throw new Error(`Constructor for \"${cmpMeta.$tagName$}#${hostRef.$modeName$}\" was not found`);\n            }\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.member && !Cstr.isProxied) {\n                // we'eve never proxied this Constructor before\n                // let's add the getters/setters to its prototype before\n                // the first time we create an instance of the implementation\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.watchCallback) {\n                    cmpMeta.$watchers$ = Cstr.watchers;\n                }\n                proxyComponent(Cstr, cmpMeta, 2 /* proxyState */);\n                Cstr.isProxied = true;\n            }\n            const endNewInstance = createTime('createInstance', cmpMeta.$tagName$);\n            // ok, time to construct the instance\n            // but let's keep track of when we start and stop\n            // so that the getters/setters don't incorrectly step on data\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.member) {\n                hostRef.$flags$ |= 8 /* isConstructingInstance */;\n            }\n            // construct the lazy-loaded component implementation\n            // passing the hostRef is very important during\n            // construction in order to directly wire together the\n            // host element and the lazy-loaded instance\n            try {\n                new Cstr(hostRef);\n            }\n            catch (e) {\n                consoleError(e);\n            }\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.member) {\n                hostRef.$flags$ &= ~8 /* isConstructingInstance */;\n            }\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.watchCallback) {\n                hostRef.$flags$ |= 128 /* isWatchReady */;\n            }\n            endNewInstance();\n            fireConnectedCallback(hostRef.$lazyInstance$);\n        }\n        else {\n            // sync constructor component\n            Cstr = elm.constructor;\n            hostRef.$flags$ |= 128 /* isWatchReady */ | 32 /* hasInitializedComponent */;\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.style && Cstr.style) {\n            // this component has styles but we haven't registered them yet\n            let style = Cstr.style;\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.mode && typeof style !== 'string') {\n                style = style[(hostRef.$modeName$ = computeMode(elm))];\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide && hostRef.$modeName$) {\n                    elm.setAttribute('s-mode', hostRef.$modeName$);\n                }\n            }\n            const scopeId = getScopeId(cmpMeta, hostRef.$modeName$);\n            if (!styles.has(scopeId)) {\n                const endRegisterStyles = createTime('registerStyles', cmpMeta.$tagName$);\n                if (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDomShim && cmpMeta.$flags$ & 8 /* needsShadowDomShim */) {\n                    style = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pnpm_stencil_core_2_5_2_node_modules_stencil_core_internal_cl-8c1ee1\").then(__webpack_require__.bind(__webpack_require__, /*! ./shadow-css.js */ \"(app-pages-browser)/./node_modules/.pnpm/@stencil+core@2.5.2/node_modules/@stencil/core/internal/client/shadow-css.js\")).then(m => m.scopeCss(style, scopeId, false));\n                }\n                registerStyle(scopeId, style, !!(cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */));\n                endRegisterStyles();\n            }\n        }\n    }\n    // we've successfully created a lazy instance\n    const ancestorComponent = hostRef.$ancestorComponent$;\n    const schedule = () => scheduleUpdate(hostRef, true);\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading && ancestorComponent && ancestorComponent['s-rc']) {\n        // this is the intial load and this component it has an ancestor component\n        // but the ancestor component has NOT fired its will update lifecycle yet\n        // so let's just cool our jets and wait for the ancestor to continue first\n        // this will get fired off when the ancestor component\n        // finally gets around to rendering its lazy self\n        // fire off the initial update\n        ancestorComponent['s-rc'].push(schedule);\n    }\n    else {\n        schedule();\n    }\n};\nconst fireConnectedCallback = (instance) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.connectedCallback) {\n        safeCall(instance, 'connectedCallback');\n    }\n};\nconst connectedCallback = (elm) => {\n    if ((plt.$flags$ & 1 /* isTmpDisconnected */) === 0) {\n        const hostRef = getHostRef(elm);\n        const cmpMeta = hostRef.$cmpMeta$;\n        const endConnected = createTime('connectedCallback', cmpMeta.$tagName$);\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListenerTargetParent) {\n            // only run if we have listeners being attached to a parent\n            addHostEventListeners(elm, hostRef, cmpMeta.$listeners$, true);\n        }\n        if (!(hostRef.$flags$ & 1 /* hasConnected */)) {\n            // first time this component has connected\n            hostRef.$flags$ |= 1 /* hasConnected */;\n            let hostId;\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateClientSide) {\n                hostId = elm.getAttribute(HYDRATE_ID);\n                if (hostId) {\n                    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && supportsShadow && cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) {\n                        const scopeId = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.mode ? addStyle(elm.shadowRoot, cmpMeta, elm.getAttribute('s-mode')) : addStyle(elm.shadowRoot, cmpMeta);\n                        elm.classList.remove(scopeId + '-h', scopeId + '-s');\n                    }\n                    initializeClientHydrate(elm, cmpMeta.$tagName$, hostId, hostRef);\n                }\n            }\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && !hostId) {\n                // initUpdate\n                // if the slot polyfill is required we'll need to put some nodes\n                // in here to act as original content anchors as we move nodes around\n                // host element has been connected to the DOM\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide || ((_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slot || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom) && cmpMeta.$flags$ & (4 /* hasSlotRelocation */ | 8 /* needsShadowDomShim */))) {\n                    setContentReference(elm);\n                }\n            }\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading) {\n                // find the first ancestor component (if there is one) and register\n                // this component as one of the actively loading child components for its ancestor\n                let ancestorComponent = elm;\n                while ((ancestorComponent = ancestorComponent.parentNode || ancestorComponent.host)) {\n                    // climb up the ancestors looking for the first\n                    // component that hasn't finished its lifecycle update yet\n                    if ((_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateClientSide && ancestorComponent.nodeType === 1 /* ElementNode */ && ancestorComponent.hasAttribute('s-id') && ancestorComponent['s-p']) ||\n                        ancestorComponent['s-p']) {\n                        // we found this components first ancestor component\n                        // keep a reference to this component's ancestor component\n                        attachToAncestor(hostRef, (hostRef.$ancestorComponent$ = ancestorComponent));\n                        break;\n                    }\n                }\n            }\n            // Lazy properties\n            // https://developers.google.com/web/fundamentals/web-components/best-practices#lazy-properties\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.prop && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad && !_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide && cmpMeta.$members$) {\n                Object.entries(cmpMeta.$members$).map(([memberName, [memberFlags]]) => {\n                    if (memberFlags & 31 /* Prop */ && elm.hasOwnProperty(memberName)) {\n                        const value = elm[memberName];\n                        delete elm[memberName];\n                        elm[memberName] = value;\n                    }\n                });\n            }\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.initializeNextTick) {\n                // connectedCallback, taskQueue, initialLoad\n                // angular sets attribute AFTER connectCallback\n                // https://github.com/angular/angular/issues/18909\n                // https://github.com/angular/angular/issues/19940\n                nextTick(() => initializeComponent(elm, hostRef, cmpMeta));\n            }\n            else {\n                initializeComponent(elm, hostRef, cmpMeta);\n            }\n        }\n        else {\n            // not the first time this has connected\n            // reattach any event listeners to the host\n            // since they would have been removed when disconnected\n            addHostEventListeners(elm, hostRef, cmpMeta.$listeners$, false);\n            // fire off connectedCallback() on component instance\n            fireConnectedCallback(hostRef.$lazyInstance$);\n        }\n        endConnected();\n    }\n};\nconst setContentReference = (elm) => {\n    // only required when we're NOT using native shadow dom (slot)\n    // or this browser doesn't support native shadow dom\n    // and this host element was NOT created with SSR\n    // let's pick out the inner content for slot projection\n    // create a node to represent where the original\n    // content was first placed, which is useful later on\n    const contentRefElm = (elm['s-cr'] = doc.createComment(_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDebug ? `content-ref (host=${elm.localName})` : ''));\n    contentRefElm['s-cn'] = true;\n    elm.insertBefore(contentRefElm, elm.firstChild);\n};\nconst disconnectedCallback = (elm) => {\n    if ((plt.$flags$ & 1 /* isTmpDisconnected */) === 0) {\n        const hostRef = getHostRef(elm);\n        const instance = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad ? hostRef.$lazyInstance$ : elm;\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListener) {\n            if (hostRef.$rmListeners$) {\n                hostRef.$rmListeners$.map(rmListener => rmListener());\n                hostRef.$rmListeners$ = undefined;\n            }\n        }\n        // clear CSS var-shim tracking\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cssVarShim && plt.$cssShim$) {\n            plt.$cssShim$.removeHost(elm);\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.disconnectedCallback) {\n            safeCall(instance, 'disconnectedCallback');\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cmpDidUnload) {\n            safeCall(instance, 'componentDidUnload');\n        }\n    }\n};\nconst defineCustomElement = (Cstr, compactMeta) => {\n    customElements.define(compactMeta[1], proxyCustomElement(Cstr, compactMeta));\n};\nconst proxyCustomElement = (Cstr, compactMeta) => {\n    const cmpMeta = {\n        $flags$: compactMeta[0],\n        $tagName$: compactMeta[1],\n    };\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.member) {\n        cmpMeta.$members$ = compactMeta[2];\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListener) {\n        cmpMeta.$listeners$ = compactMeta[3];\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.watchCallback) {\n        cmpMeta.$watchers$ = Cstr.$watchers$;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.reflect) {\n        cmpMeta.$attrsToReflect$ = [];\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && !supportsShadow && cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) {\n        cmpMeta.$flags$ |= 8 /* needsShadowDomShim */;\n    }\n    const originalConnectedCallback = Cstr.prototype.connectedCallback;\n    const originalDisconnectedCallback = Cstr.prototype.disconnectedCallback;\n    Object.assign(Cstr.prototype, {\n        __registerHost() {\n            registerHost(this, cmpMeta);\n        },\n        connectedCallback() {\n            connectedCallback(this);\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.connectedCallback && originalConnectedCallback) {\n                originalConnectedCallback.call(this);\n            }\n        },\n        disconnectedCallback() {\n            disconnectedCallback(this);\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.disconnectedCallback && originalDisconnectedCallback) {\n                originalDisconnectedCallback.call(this);\n            }\n        },\n    });\n    Cstr.is = cmpMeta.$tagName$;\n    return proxyComponent(Cstr, cmpMeta, 1 /* isElementConstructor */ | 2 /* proxyState */);\n};\nconst forceModeUpdate = (elm) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.style && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.mode && !_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad) {\n        const mode = computeMode(elm);\n        const hostRef = getHostRef(elm);\n        if (hostRef.$modeName$ !== mode) {\n            const cmpMeta = hostRef.$cmpMeta$;\n            const oldScopeId = elm['s-sc'];\n            const scopeId = getScopeId(cmpMeta, mode);\n            const style = elm.constructor.style[mode];\n            const flags = cmpMeta.$flags$;\n            if (style) {\n                if (!styles.has(scopeId)) {\n                    registerStyle(scopeId, style, !!(flags & 1 /* shadowDomEncapsulation */));\n                }\n                hostRef.$modeName$ = mode;\n                elm.classList.remove(oldScopeId + '-h', oldScopeId + '-s');\n                attachStyles(hostRef);\n                forceUpdate(elm);\n            }\n        }\n    }\n};\nconst attachShadow = (el) => {\n    if (supportsShadow) {\n        el.attachShadow({ mode: 'open' });\n    }\n    else {\n        el.shadowRoot = el;\n    }\n};\nconst hmrStart = (elm, cmpMeta, hmrVersionId) => {\n    // ¯\\_(ツ)_/¯\n    const hostRef = getHostRef(elm);\n    // reset state flags to only have been connected\n    hostRef.$flags$ = 1 /* hasConnected */;\n    // TODO\n    // detatch any event listeners that may have been added\n    // because we're not passing an exact event name it'll\n    // remove all of this element's event, which is good\n    // create a callback for when this component finishes hmr\n    elm['s-hmr-load'] = () => {\n        // finished hmr for this element\n        delete elm['s-hmr-load'];\n    };\n    // re-initialize the component\n    initializeComponent(elm, hostRef, cmpMeta, hmrVersionId);\n};\nconst patchCloneNode = (HostElementPrototype) => {\n    const orgCloneNode = HostElementPrototype.cloneNode;\n    HostElementPrototype.cloneNode = function (deep) {\n        const srcNode = this;\n        const isShadowDom = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom ? srcNode.shadowRoot && supportsShadow : false;\n        const clonedNode = orgCloneNode.call(srcNode, isShadowDom ? deep : false);\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slot && !isShadowDom && deep) {\n            let i = 0;\n            let slotted, nonStencilNode;\n            let stencilPrivates = ['s-id', 's-cr', 's-lr', 's-rc', 's-sc', 's-p', 's-cn', 's-sr', 's-sn', 's-hn', 's-ol', 's-nr', 's-si'];\n            for (; i < srcNode.childNodes.length; i++) {\n                slotted = srcNode.childNodes[i]['s-nr'];\n                nonStencilNode = stencilPrivates.every((privateField) => !srcNode.childNodes[i][privateField]);\n                if (slotted) {\n                    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.appendChildSlotFix && clonedNode.__appendChild) {\n                        clonedNode.__appendChild(slotted.cloneNode(true));\n                    }\n                    else {\n                        clonedNode.appendChild(slotted.cloneNode(true));\n                    }\n                }\n                if (nonStencilNode) {\n                    clonedNode.appendChild(srcNode.childNodes[i].cloneNode(true));\n                }\n            }\n        }\n        return clonedNode;\n    };\n};\nconst patchSlotAppendChild = (HostElementPrototype) => {\n    HostElementPrototype.__appendChild = HostElementPrototype.appendChild;\n    HostElementPrototype.appendChild = function (newChild) {\n        const slotName = (newChild['s-sn'] = getSlotName(newChild));\n        const slotNode = getHostSlotNode(this.childNodes, slotName);\n        if (slotNode) {\n            const slotChildNodes = getHostSlotChildNodes(slotNode, slotName);\n            const appendAfter = slotChildNodes[slotChildNodes.length - 1];\n            return appendAfter.parentNode.insertBefore(newChild, appendAfter.nextSibling);\n        }\n        return this.__appendChild(newChild);\n    };\n};\nconst patchChildSlotNodes = (elm, cmpMeta) => {\n    class FakeNodeList extends Array {\n        item(n) {\n            return this[n];\n        }\n    }\n    if (cmpMeta.$flags$ & 8 /* needsShadowDomShim */) {\n        const childNodesFn = elm.__lookupGetter__('childNodes');\n        Object.defineProperty(elm, 'children', {\n            get() {\n                return this.childNodes.map((n) => n.nodeType === 1);\n            },\n        });\n        Object.defineProperty(elm, 'childElementCount', {\n            get() {\n                return elm.children.length;\n            },\n        });\n        Object.defineProperty(elm, 'childNodes', {\n            get() {\n                const childNodes = childNodesFn.call(this);\n                if ((plt.$flags$ & 1 /* isTmpDisconnected */) === 0 && getHostRef(this).$flags$ & 2 /* hasRendered */) {\n                    const result = new FakeNodeList();\n                    for (let i = 0; i < childNodes.length; i++) {\n                        const slot = childNodes[i]['s-nr'];\n                        if (slot) {\n                            result.push(slot);\n                        }\n                    }\n                    return result;\n                }\n                return FakeNodeList.from(childNodes);\n            },\n        });\n    }\n};\nconst getSlotName = (node) => node['s-sn'] || (node.nodeType === 1 && node.getAttribute('slot')) || '';\nconst getHostSlotNode = (childNodes, slotName) => {\n    let i = 0;\n    let childNode;\n    for (; i < childNodes.length; i++) {\n        childNode = childNodes[i];\n        if (childNode['s-sr'] && childNode['s-sn'] === slotName) {\n            return childNode;\n        }\n        childNode = getHostSlotNode(childNode.childNodes, slotName);\n        if (childNode) {\n            return childNode;\n        }\n    }\n    return null;\n};\nconst getHostSlotChildNodes = (n, slotName) => {\n    const childNodes = [n];\n    while ((n = n.nextSibling) && n['s-sn'] === slotName) {\n        childNodes.push(n);\n    }\n    return childNodes;\n};\nconst bootstrapLazy = (lazyBundles, options = {}) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.profile && performance.mark) {\n        performance.mark('st:app:start');\n    }\n    installDevTools();\n    const endBootstrap = createTime('bootstrapLazy');\n    const cmpTags = [];\n    const exclude = options.exclude || [];\n    const customElements = win.customElements;\n    const head = doc.head;\n    const metaCharset = /*@__PURE__*/ head.querySelector('meta[charset]');\n    const visibilityStyle = /*@__PURE__*/ doc.createElement('style');\n    const deferredConnectedCallbacks = [];\n    const styles = /*@__PURE__*/ doc.querySelectorAll(`[${HYDRATED_STYLE_ID}]`);\n    let appLoadFallback;\n    let isBootstrapping = true;\n    let i = 0;\n    Object.assign(plt, options);\n    plt.$resourcesUrl$ = new URL(options.resourcesUrl || './', doc.baseURI).href;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncQueue) {\n        if (options.syncQueue) {\n            plt.$flags$ |= 4 /* queueSync */;\n        }\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateClientSide) {\n        // If the app is already hydrated there is not point to disable the\n        // async queue. This will improve the first input delay\n        plt.$flags$ |= 2 /* appLoaded */;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateClientSide && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom) {\n        for (; i < styles.length; i++) {\n            registerStyle(styles[i].getAttribute(HYDRATED_STYLE_ID), convertScopedToShadow(styles[i].innerHTML), true);\n        }\n    }\n    lazyBundles.map(lazyBundle => lazyBundle[1].map(compactMeta => {\n        const cmpMeta = {\n            $flags$: compactMeta[0],\n            $tagName$: compactMeta[1],\n            $members$: compactMeta[2],\n            $listeners$: compactMeta[3],\n        };\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.member) {\n            cmpMeta.$members$ = compactMeta[2];\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListener) {\n            cmpMeta.$listeners$ = compactMeta[3];\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.reflect) {\n            cmpMeta.$attrsToReflect$ = [];\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.watchCallback) {\n            cmpMeta.$watchers$ = {};\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && !supportsShadow && cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) {\n            cmpMeta.$flags$ |= 8 /* needsShadowDomShim */;\n        }\n        const tagName = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.transformTagName && options.transformTagName ? options.transformTagName(cmpMeta.$tagName$) : cmpMeta.$tagName$;\n        const HostElement = class extends HTMLElement {\n            // StencilLazyHost\n            constructor(self) {\n                // @ts-ignore\n                super(self);\n                self = this;\n                registerHost(self, cmpMeta);\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) {\n                    // this component is using shadow dom\n                    // and this browser supports shadow dom\n                    // add the read-only property \"shadowRoot\" to the host element\n                    // adding the shadow root build conditionals to minimize runtime\n                    if (supportsShadow) {\n                        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDelegatesFocus) {\n                            self.attachShadow({\n                                mode: 'open',\n                                delegatesFocus: !!(cmpMeta.$flags$ & 16 /* shadowDelegatesFocus */),\n                            });\n                        }\n                        else {\n                            self.attachShadow({ mode: 'open' });\n                        }\n                    }\n                    else if (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide && !('shadowRoot' in self)) {\n                        self.shadowRoot = self;\n                    }\n                }\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotChildNodesFix) {\n                    patchChildSlotNodes(self, cmpMeta);\n                }\n            }\n            connectedCallback() {\n                if (appLoadFallback) {\n                    clearTimeout(appLoadFallback);\n                    appLoadFallback = null;\n                }\n                if (isBootstrapping) {\n                    // connectedCallback will be processed once all components have been registered\n                    deferredConnectedCallbacks.push(this);\n                }\n                else {\n                    plt.jmp(() => connectedCallback(this));\n                }\n            }\n            disconnectedCallback() {\n                plt.jmp(() => disconnectedCallback(this));\n            }\n            componentOnReady() {\n                return getHostRef(this).$onReadyPromise$;\n            }\n        };\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cloneNodeFix) {\n            patchCloneNode(HostElement.prototype);\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.appendChildSlotFix) {\n            patchSlotAppendChild(HostElement.prototype);\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hotModuleReplacement) {\n            HostElement.prototype['s-hmr'] = function (hmrVersionId) {\n                hmrStart(this, cmpMeta, hmrVersionId);\n            };\n        }\n        cmpMeta.$lazyBundleId$ = lazyBundle[0];\n        if (!exclude.includes(tagName) && !customElements.get(tagName)) {\n            cmpTags.push(tagName);\n            customElements.define(tagName, proxyComponent(HostElement, cmpMeta, 1 /* isElementConstructor */));\n        }\n    }));\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydratedClass || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydratedAttribute) {\n        visibilityStyle.innerHTML = cmpTags + HYDRATED_CSS;\n        visibilityStyle.setAttribute('data-styles', '');\n        head.insertBefore(visibilityStyle, metaCharset ? metaCharset.nextSibling : head.firstChild);\n    }\n    // Process deferred connectedCallbacks now all components have been registered\n    isBootstrapping = false;\n    if (deferredConnectedCallbacks.length) {\n        deferredConnectedCallbacks.map(host => host.connectedCallback());\n    }\n    else {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.profile) {\n            plt.jmp(() => (appLoadFallback = setTimeout(appDidLoad, 30, 'timeout')));\n        }\n        else {\n            plt.jmp(() => (appLoadFallback = setTimeout(appDidLoad, 30)));\n        }\n    }\n    // Fallback appLoad event\n    endBootstrap();\n};\nconst getAssetPath = (path) => {\n    const assetUrl = new URL(path, plt.$resourcesUrl$);\n    return assetUrl.origin !== win.location.origin ? assetUrl.href : assetUrl.pathname;\n};\nconst setAssetPath = (path) => (plt.$resourcesUrl$ = path);\nconst getConnect = (_ref, tagName) => {\n    const componentOnReady = () => {\n        let elm = doc.querySelector(tagName);\n        if (!elm) {\n            elm = doc.createElement(tagName);\n            doc.body.appendChild(elm);\n        }\n        return typeof elm.componentOnReady === 'function' ? elm.componentOnReady() : Promise.resolve(elm);\n    };\n    const create = (...args) => {\n        return componentOnReady().then(el => el.create(...args));\n    };\n    return {\n        create,\n        componentOnReady,\n    };\n};\nconst getContext = (_elm, context) => {\n    if (context in Context) {\n        return Context[context];\n    }\n    else if (context === 'window') {\n        return win;\n    }\n    else if (context === 'document') {\n        return doc;\n    }\n    else if (context === 'isServer' || context === 'isPrerender') {\n        return _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide ? true : false;\n    }\n    else if (context === 'isClient') {\n        return _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide ? false : true;\n    }\n    else if (context === 'resourcesUrl' || context === 'publicPath') {\n        return getAssetPath('.');\n    }\n    else if (context === 'queue') {\n        return {\n            write: writeTask,\n            read: readTask,\n            tick: {\n                then(cb) {\n                    return nextTick(cb);\n                },\n            },\n        };\n    }\n    return undefined;\n};\nconst insertVdomAnnotations = (doc, staticComponents) => {\n    if (doc != null) {\n        const docData = {\n            hostIds: 0,\n            rootLevelIds: 0,\n            staticComponents: new Set(staticComponents),\n        };\n        const orgLocationNodes = [];\n        parseVNodeAnnotations(doc, doc.body, docData, orgLocationNodes);\n        orgLocationNodes.forEach(orgLocationNode => {\n            if (orgLocationNode != null) {\n                const nodeRef = orgLocationNode['s-nr'];\n                let hostId = nodeRef['s-host-id'];\n                let nodeId = nodeRef['s-node-id'];\n                let childId = `${hostId}.${nodeId}`;\n                if (hostId == null) {\n                    hostId = 0;\n                    docData.rootLevelIds++;\n                    nodeId = docData.rootLevelIds;\n                    childId = `${hostId}.${nodeId}`;\n                    if (nodeRef.nodeType === 1 /* ElementNode */) {\n                        nodeRef.setAttribute(HYDRATE_CHILD_ID, childId);\n                    }\n                    else if (nodeRef.nodeType === 3 /* TextNode */) {\n                        if (hostId === 0) {\n                            const textContent = nodeRef.nodeValue.trim();\n                            if (textContent === '') {\n                                // useless whitespace node at the document root\n                                orgLocationNode.remove();\n                                return;\n                            }\n                        }\n                        const commentBeforeTextNode = doc.createComment(childId);\n                        commentBeforeTextNode.nodeValue = `${TEXT_NODE_ID}.${childId}`;\n                        nodeRef.parentNode.insertBefore(commentBeforeTextNode, nodeRef);\n                    }\n                }\n                let orgLocationNodeId = `${ORG_LOCATION_ID}.${childId}`;\n                const orgLocationParentNode = orgLocationNode.parentElement;\n                if (orgLocationParentNode) {\n                    if (orgLocationParentNode['s-en'] === '') {\n                        // ending with a \".\" means that the parent element\n                        // of this node's original location is a SHADOW dom element\n                        // and this node is apart of the root level light dom\n                        orgLocationNodeId += `.`;\n                    }\n                    else if (orgLocationParentNode['s-en'] === 'c') {\n                        // ending with a \".c\" means that the parent element\n                        // of this node's original location is a SCOPED element\n                        // and this node is apart of the root level light dom\n                        orgLocationNodeId += `.c`;\n                    }\n                }\n                orgLocationNode.nodeValue = orgLocationNodeId;\n            }\n        });\n    }\n};\nconst parseVNodeAnnotations = (doc, node, docData, orgLocationNodes) => {\n    if (node == null) {\n        return;\n    }\n    if (node['s-nr'] != null) {\n        orgLocationNodes.push(node);\n    }\n    if (node.nodeType === 1 /* ElementNode */) {\n        node.childNodes.forEach(childNode => {\n            const hostRef = getHostRef(childNode);\n            if (hostRef != null && !docData.staticComponents.has(childNode.nodeName.toLowerCase())) {\n                const cmpData = {\n                    nodeIds: 0,\n                };\n                insertVNodeAnnotations(doc, childNode, hostRef.$vnode$, docData, cmpData);\n            }\n            parseVNodeAnnotations(doc, childNode, docData, orgLocationNodes);\n        });\n    }\n};\nconst insertVNodeAnnotations = (doc, hostElm, vnode, docData, cmpData) => {\n    if (vnode != null) {\n        const hostId = ++docData.hostIds;\n        hostElm.setAttribute(HYDRATE_ID, hostId);\n        if (hostElm['s-cr'] != null) {\n            hostElm['s-cr'].nodeValue = `${CONTENT_REF_ID}.${hostId}`;\n        }\n        if (vnode.$children$ != null) {\n            const depth = 0;\n            vnode.$children$.forEach((vnodeChild, index) => {\n                insertChildVNodeAnnotations(doc, vnodeChild, cmpData, hostId, depth, index);\n            });\n        }\n        if (hostElm && vnode && vnode.$elm$ && !hostElm.hasAttribute('c-id')) {\n            const parent = hostElm.parentElement;\n            if (parent && parent.childNodes) {\n                const parentChildNodes = Array.from(parent.childNodes);\n                const comment = parentChildNodes.find(node => node.nodeType === 8 /* CommentNode */ && node['s-sr']);\n                if (comment) {\n                    const index = parentChildNodes.indexOf(hostElm) - 1;\n                    vnode.$elm$.setAttribute(HYDRATE_CHILD_ID, `${comment['s-host-id']}.${comment['s-node-id']}.0.${index}`);\n                }\n            }\n        }\n    }\n};\nconst insertChildVNodeAnnotations = (doc, vnodeChild, cmpData, hostId, depth, index) => {\n    const childElm = vnodeChild.$elm$;\n    if (childElm == null) {\n        return;\n    }\n    const nodeId = cmpData.nodeIds++;\n    const childId = `${hostId}.${nodeId}.${depth}.${index}`;\n    childElm['s-host-id'] = hostId;\n    childElm['s-node-id'] = nodeId;\n    if (childElm.nodeType === 1 /* ElementNode */) {\n        childElm.setAttribute(HYDRATE_CHILD_ID, childId);\n    }\n    else if (childElm.nodeType === 3 /* TextNode */) {\n        const parentNode = childElm.parentNode;\n        const nodeName = parentNode.nodeName;\n        if (nodeName !== 'STYLE' && nodeName !== 'SCRIPT') {\n            const textNodeId = `${TEXT_NODE_ID}.${childId}`;\n            const commentBeforeTextNode = doc.createComment(textNodeId);\n            parentNode.insertBefore(commentBeforeTextNode, childElm);\n        }\n    }\n    else if (childElm.nodeType === 8 /* CommentNode */) {\n        if (childElm['s-sr']) {\n            const slotName = childElm['s-sn'] || '';\n            const slotNodeId = `${SLOT_NODE_ID}.${childId}.${slotName}`;\n            childElm.nodeValue = slotNodeId;\n        }\n    }\n    if (vnodeChild.$children$ != null) {\n        const childDepth = depth + 1;\n        vnodeChild.$children$.forEach((vnode, index) => {\n            insertChildVNodeAnnotations(doc, vnode, cmpData, hostId, childDepth, index);\n        });\n    }\n};\nconst setPlatformOptions = (opts) => Object.assign(plt, opts);\nconst Fragment = (_, children) => children;\nconst hostRefs = new WeakMap();\nconst getHostRef = (ref) => hostRefs.get(ref);\nconst registerInstance = (lazyInstance, hostRef) => hostRefs.set((hostRef.$lazyInstance$ = lazyInstance), hostRef);\nconst registerHost = (elm, cmpMeta) => {\n    const hostRef = {\n        $flags$: 0,\n        $hostElement$: elm,\n        $cmpMeta$: cmpMeta,\n        $instanceValues$: new Map(),\n    };\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n        hostRef.$renderCount$ = 0;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.method && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad) {\n        hostRef.$onInstancePromise$ = new Promise(r => (hostRef.$onInstanceResolve$ = r));\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading) {\n        hostRef.$onReadyPromise$ = new Promise(r => (hostRef.$onReadyResolve$ = r));\n        elm['s-p'] = [];\n        elm['s-rc'] = [];\n    }\n    addHostEventListeners(elm, hostRef, cmpMeta.$listeners$, false);\n    return hostRefs.set(elm, hostRef);\n};\nconst isMemberInElement = (elm, memberName) => memberName in elm;\nconst consoleError = (e, el) => (customError || console.error)(e, el);\nconst STENCIL_DEV_MODE = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isTesting\n    ? ['STENCIL:'] // E2E testing\n    : ['%cstencil', 'color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px'];\nconst consoleDevError = (...m) => console.error(...STENCIL_DEV_MODE, ...m);\nconst consoleDevWarn = (...m) => console.warn(...STENCIL_DEV_MODE, ...m);\nconst consoleDevInfo = (...m) => console.info(...STENCIL_DEV_MODE, ...m);\nconst setErrorHandler = (handler) => customError = handler;\nconst cmpModules = /*@__PURE__*/ new Map();\nconst loadModule = (cmpMeta, hostRef, hmrVersionId) => {\n    // loadModuleImport\n    const exportName = cmpMeta.$tagName$.replace(/-/g, '_');\n    const bundleId = cmpMeta.$lazyBundleId$;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev && typeof bundleId !== 'string') {\n        consoleDevError(`Trying to lazily load component <${cmpMeta.$tagName$}> with style mode \"${hostRef.$modeName$}\", but it does not exist.`);\n        return undefined;\n    }\n    const module = !_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hotModuleReplacement ? cmpModules.get(bundleId) : false;\n    if (module) {\n        return module[exportName];\n    }\n    return __webpack_require__(\"(app-pages-browser)/./node_modules/.pnpm/@stencil+core@2.5.2/node_modules/@stencil/core/internal/client lazy recursive ^\\\\.\\\\/.*\\\\.entry\\\\.js.*$ include: \\\\.entry\\\\.js$ exclude: \\\\.system\\\\.entry\\\\.js$\")(`./${bundleId}.entry.js${_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hotModuleReplacement && hmrVersionId ? '?s-hmr=' + hmrVersionId : ''}`).then(importedModule => {\n        if (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hotModuleReplacement) {\n            cmpModules.set(bundleId, importedModule);\n        }\n        return importedModule[exportName];\n    }, consoleError);\n};\nconst styles = new Map();\nconst modeResolutionChain = [];\nconst queueDomReads = [];\nconst queueDomWrites = [];\nconst queueDomWritesLow = [];\nconst queueTask = (queue, write) => (cb) => {\n    queue.push(cb);\n    if (!queuePending) {\n        queuePending = true;\n        if (write && plt.$flags$ & 4 /* queueSync */) {\n            nextTick(flush);\n        }\n        else {\n            plt.raf(flush);\n        }\n    }\n};\nconst consume = (queue) => {\n    for (let i = 0; i < queue.length; i++) {\n        try {\n            queue[i](performance.now());\n        }\n        catch (e) {\n            consoleError(e);\n        }\n    }\n    queue.length = 0;\n};\nconst consumeTimeout = (queue, timeout) => {\n    let i = 0;\n    let ts = 0;\n    while (i < queue.length && (ts = performance.now()) < timeout) {\n        try {\n            queue[i++](ts);\n        }\n        catch (e) {\n            consoleError(e);\n        }\n    }\n    if (i === queue.length) {\n        queue.length = 0;\n    }\n    else if (i !== 0) {\n        queue.splice(0, i);\n    }\n};\nconst flush = () => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncQueue) {\n        queueCongestion++;\n    }\n    // always force a bunch of medium callbacks to run, but still have\n    // a throttle on how many can run in a certain time\n    // DOM READS!!!\n    consume(queueDomReads);\n    // DOM WRITES!!!\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncQueue) {\n        const timeout = (plt.$flags$ & 6 /* queueMask */) === 2 /* appLoaded */ ? performance.now() + 14 * Math.ceil(queueCongestion * (1.0 / 10.0)) : Infinity;\n        consumeTimeout(queueDomWrites, timeout);\n        consumeTimeout(queueDomWritesLow, timeout);\n        if (queueDomWrites.length > 0) {\n            queueDomWritesLow.push(...queueDomWrites);\n            queueDomWrites.length = 0;\n        }\n        if ((queuePending = queueDomReads.length + queueDomWrites.length + queueDomWritesLow.length > 0)) {\n            // still more to do yet, but we've run out of time\n            // let's let this thing cool off and try again in the next tick\n            plt.raf(flush);\n        }\n        else {\n            queueCongestion = 0;\n        }\n    }\n    else {\n        consume(queueDomWrites);\n        if ((queuePending = queueDomReads.length > 0)) {\n            // still more to do yet, but we've run out of time\n            // let's let this thing cool off and try again in the next tick\n            plt.raf(flush);\n        }\n    }\n};\nconst nextTick = /*@__PURE__*/ (cb) => promiseResolve().then(cb);\nconst readTask = /*@__PURE__*/ queueTask(queueDomReads, false);\nconst writeTask = /*@__PURE__*/ queueTask(queueDomWrites, true);\nconst Build = {\n    isDev: _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev ? true : false,\n    isBrowser: true,\n    isServer: false,\n    isTesting: _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isTesting ? true : false,\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9Ac3RlbmNpbCtjb3JlQDIuNS4yL25vZGVfbW9kdWxlcy9Ac3RlbmNpbC9jb3JlL2ludGVybmFsL2NsaWVudC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNtRTtBQUNuRTtBQUNBLFlBQVksa0VBQUs7QUFDakIsOEJBQThCO0FBQzlCO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrRUFBSyxrQkFBa0Isa0VBQUs7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLHlDQUF5QyxrRUFBSztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGtFQUFLO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtFQUFLO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixrRUFBSztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0VBQUs7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0VB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QUFDbEI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0VBQUs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0VBQUs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrRUFBSztBQUNoQjtBQUNBO0FBQ0EsZUFBZSxrRUFBSztBQUNwQjtBQUN3RTtBQUNzdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzdGVuY2lsK2NvcmVAMi41LjIvbm9kZV9tb2R1bGVzL0BzdGVuY2lsL2NvcmUvaW50ZXJuYWwvY2xpZW50L2luZGV4LmpzPzdlNzkiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IHNjb3BlSWQ7XG5sZXQgY29udGVudFJlZjtcbmxldCBob3N0VGFnTmFtZTtcbmxldCBjdXN0b21FcnJvcjtcbmxldCBpID0gMDtcbmxldCB1c2VOYXRpdmVTaGFkb3dEb20gPSBmYWxzZTtcbmxldCBjaGVja1Nsb3RGYWxsYmFja1Zpc2liaWxpdHkgPSBmYWxzZTtcbmxldCBjaGVja1Nsb3RSZWxvY2F0ZSA9IGZhbHNlO1xubGV0IGlzU3ZnTW9kZSA9IGZhbHNlO1xubGV0IHJlbmRlcmluZ1JlZiA9IG51bGw7XG5sZXQgcXVldWVDb25nZXN0aW9uID0gMDtcbmxldCBxdWV1ZVBlbmRpbmcgPSBmYWxzZTtcbi8qXG4gU3RlbmNpbCBDbGllbnQgUGxhdGZvcm0gdjIuNS4yIHwgTUlUIExpY2Vuc2VkIHwgaHR0cHM6Ly9zdGVuY2lsanMuY29tXG4gKi9cbmltcG9ydCB7IEJVSUxELCBOQU1FU1BBQ0UgfSBmcm9tICdAc3RlbmNpbC9jb3JlL2ludGVybmFsL2FwcC1kYXRhJztcbmNvbnN0IHdpbiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDoge307XG5jb25zdCBDU1MgPSBCVUlMRC5jc3NWYXJTaGltID8gd2luLkNTUyA6IG51bGw7XG5jb25zdCBkb2MgPSB3aW4uZG9jdW1lbnQgfHwgeyBoZWFkOiB7fSB9O1xuY29uc3QgSCA9ICh3aW4uSFRNTEVsZW1lbnQgfHwgY2xhc3Mge1xufSk7XG5jb25zdCBwbHQgPSB7XG4gICAgJGZsYWdzJDogMCxcbiAgICAkcmVzb3VyY2VzVXJsJDogJycsXG4gICAgam1wOiBoID0+IGgoKSxcbiAgICByYWY6IGggPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGgpLFxuICAgIGFlbDogKGVsLCBldmVudE5hbWUsIGxpc3RlbmVyLCBvcHRzKSA9PiBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIsIG9wdHMpLFxuICAgIHJlbDogKGVsLCBldmVudE5hbWUsIGxpc3RlbmVyLCBvcHRzKSA9PiBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIsIG9wdHMpLFxuICAgIGNlOiAoZXZlbnROYW1lLCBvcHRzKSA9PiBuZXcgQ3VzdG9tRXZlbnQoZXZlbnROYW1lLCBvcHRzKSxcbn07XG5jb25zdCBzdXBwb3J0c1NoYWRvdyA9IEJVSUxELnNoYWRvd0RvbVNoaW0gJiYgQlVJTEQuc2hhZG93RG9tID8gLypAX19QVVJFX18qLyAoKCkgPT4gKGRvYy5oZWFkLmF0dGFjaFNoYWRvdyArICcnKS5pbmRleE9mKCdbbmF0aXZlJykgPiAtMSkoKSA6IHRydWU7XG5jb25zdCBzdXBwb3J0c0xpc3RlbmVyT3B0aW9ucyA9IC8qQF9fUFVSRV9fKi8gKCgpID0+IHtcbiAgICBsZXQgc3VwcG9ydHNMaXN0ZW5lck9wdGlvbnMgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignZScsIG51bGwsIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgc3VwcG9ydHNMaXN0ZW5lck9wdGlvbnMgPSB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkgeyB9XG4gICAgcmV0dXJuIHN1cHBvcnRzTGlzdGVuZXJPcHRpb25zO1xufSkoKTtcbmNvbnN0IHByb21pc2VSZXNvbHZlID0gKHYpID0+IFByb21pc2UucmVzb2x2ZSh2KTtcbmNvbnN0IHN1cHBvcnRzQ29uc3RydWN0aWJsZVN0eWxlc2hlZXRzID0gQlVJTEQuY29uc3RydWN0YWJsZUNTU1xuICAgID8gLypAX19QVVJFX18qLyAoKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgKG5ldyBDU1NTdHlsZVNoZWV0KCkpLnJlcGxhY2UgPT09ICdmdW5jdGlvbic7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSkoKVxuICAgIDogZmFsc2U7XG5jb25zdCBDb250ZXh0ID0ge307XG5jb25zdCBhZGRIb3N0RXZlbnRMaXN0ZW5lcnMgPSAoZWxtLCBob3N0UmVmLCBsaXN0ZW5lcnMsIGF0dGFjaFBhcmVudExpc3RlbmVycykgPT4ge1xuICAgIGlmIChCVUlMRC5ob3N0TGlzdGVuZXIgJiYgbGlzdGVuZXJzKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgY2FsbGVkIGltbWVkaWF0ZWx5IHdpdGhpbiB0aGUgZWxlbWVudCdzIGNvbnN0cnVjdG9yXG4gICAgICAgIC8vIGluaXRpYWxpemUgb3VyIGV2ZW50IGxpc3RlbmVycyBvbiB0aGUgaG9zdCBlbGVtZW50XG4gICAgICAgIC8vIHdlIGRvIHRoaXMgbm93IHNvIHRoYXQgd2UgY2FuIGxpc3RlbiB0byBldmVudHMgdGhhdCBtYXlcbiAgICAgICAgLy8gaGF2ZSBmaXJlZCBldmVuIGJlZm9yZSB0aGUgaW5zdGFuY2UgaXMgcmVhZHlcbiAgICAgICAgaWYgKEJVSUxELmhvc3RMaXN0ZW5lclRhcmdldFBhcmVudCkge1xuICAgICAgICAgICAgLy8gdGhpcyBjb21wb25lbnQgbWF5IGhhdmUgZXZlbnQgbGlzdGVuZXJzIHRoYXQgc2hvdWxkIGJlIGF0dGFjaGVkIHRvIHRoZSBwYXJlbnRcbiAgICAgICAgICAgIGlmIChhdHRhY2hQYXJlbnRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGJlaW5nIHJhbiBmcm9tIHdpdGhpbiB0aGUgY29ubmVjdGVkQ2FsbGJhY2tcbiAgICAgICAgICAgICAgICAvLyB3aGljaCBpcyBpbXBvcnRhbnQgc28gdGhhdCB3ZSBrbm93IHRoZSBob3N0IGVsZW1lbnQgYWN0dWFsbHkgaGFzIGEgcGFyZW50IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IHRoZSBsaXN0ZW5lcnMgdG8gb25seSBoYXZlIHRoZSBvbmVzIHRoYXQgQVJFIGJlaW5nIGF0dGFjaGVkIHRvIHRoZSBwYXJlbnRcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuZmlsdGVyKChbZmxhZ3NdKSA9PiBmbGFncyAmIDMyIC8qIFRhcmdldFBhcmVudCAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGJlaW5nIHJhbiBmcm9tIHdpdGhpbiB0aGUgY29tcG9uZW50IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgLy8gZXZlcnl0aGluZyBCVVQgdGhlIHBhcmVudCBlbGVtZW50IGxpc3RlbmVycyBzaG91bGQgYmUgYXR0YWNoZWQgYXQgdGhpcyB0aW1lXG4gICAgICAgICAgICAgICAgLy8gZmlsdGVyIG91dCB0aGUgbGlzdGVuZXJzIHRoYXQgYXJlIE5PVCBiZWluZyBhdHRhY2hlZCB0byB0aGUgcGFyZW50XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmZpbHRlcigoW2ZsYWdzXSkgPT4gIShmbGFncyAmIDMyIC8qIFRhcmdldFBhcmVudCAqLykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxpc3RlbmVycy5tYXAoKFtmbGFncywgbmFtZSwgbWV0aG9kXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gQlVJTEQuaG9zdExpc3RlbmVyVGFyZ2V0ID8gZ2V0SG9zdExpc3RlbmVyVGFyZ2V0KGVsbSwgZmxhZ3MpIDogZWxtO1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IGhvc3RMaXN0ZW5lclByb3h5KGhvc3RSZWYsIG1ldGhvZCk7XG4gICAgICAgICAgICBjb25zdCBvcHRzID0gaG9zdExpc3RlbmVyT3B0cyhmbGFncyk7XG4gICAgICAgICAgICBwbHQuYWVsKHRhcmdldCwgbmFtZSwgaGFuZGxlciwgb3B0cyk7XG4gICAgICAgICAgICAoaG9zdFJlZi4kcm1MaXN0ZW5lcnMkID0gaG9zdFJlZi4kcm1MaXN0ZW5lcnMkIHx8IFtdKS5wdXNoKCgpID0+IHBsdC5yZWwodGFyZ2V0LCBuYW1lLCBoYW5kbGVyLCBvcHRzKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5jb25zdCBob3N0TGlzdGVuZXJQcm94eSA9IChob3N0UmVmLCBtZXRob2ROYW1lKSA9PiAoZXYpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBpZiAoQlVJTEQubGF6eUxvYWQpIHtcbiAgICAgICAgICAgIGlmIChob3N0UmVmLiRmbGFncyQgJiAyNTYgLyogaXNMaXN0ZW5SZWFkeSAqLykge1xuICAgICAgICAgICAgICAgIC8vIGluc3RhbmNlIGlzIHJlYWR5LCBsZXQncyBjYWxsIGl0J3MgbWVtYmVyIG1ldGhvZCBmb3IgdGhpcyBldmVudFxuICAgICAgICAgICAgICAgIGhvc3RSZWYuJGxhenlJbnN0YW5jZSRbbWV0aG9kTmFtZV0oZXYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgKGhvc3RSZWYuJHF1ZXVlZExpc3RlbmVycyQgPSBob3N0UmVmLiRxdWV1ZWRMaXN0ZW5lcnMkIHx8IFtdKS5wdXNoKFttZXRob2ROYW1lLCBldl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaG9zdFJlZi4kaG9zdEVsZW1lbnQkW21ldGhvZE5hbWVdKGV2KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlRXJyb3IoZSk7XG4gICAgfVxufTtcbmNvbnN0IGdldEhvc3RMaXN0ZW5lclRhcmdldCA9IChlbG0sIGZsYWdzKSA9PiB7XG4gICAgaWYgKEJVSUxELmhvc3RMaXN0ZW5lclRhcmdldERvY3VtZW50ICYmIGZsYWdzICYgNCAvKiBUYXJnZXREb2N1bWVudCAqLylcbiAgICAgICAgcmV0dXJuIGRvYztcbiAgICBpZiAoQlVJTEQuaG9zdExpc3RlbmVyVGFyZ2V0V2luZG93ICYmIGZsYWdzICYgOCAvKiBUYXJnZXRXaW5kb3cgKi8pXG4gICAgICAgIHJldHVybiB3aW47XG4gICAgaWYgKEJVSUxELmhvc3RMaXN0ZW5lclRhcmdldEJvZHkgJiYgZmxhZ3MgJiAxNiAvKiBUYXJnZXRCb2R5ICovKVxuICAgICAgICByZXR1cm4gZG9jLmJvZHk7XG4gICAgaWYgKEJVSUxELmhvc3RMaXN0ZW5lclRhcmdldFBhcmVudCAmJiBmbGFncyAmIDMyIC8qIFRhcmdldFBhcmVudCAqLylcbiAgICAgICAgcmV0dXJuIGVsbS5wYXJlbnRFbGVtZW50O1xuICAgIHJldHVybiBlbG07XG59O1xuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBob3N0TGlzdGVuZXJPcHRzID0gKGZsYWdzKSA9PiBzdXBwb3J0c0xpc3RlbmVyT3B0aW9uc1xuICAgID8gKHtcbiAgICAgICAgcGFzc2l2ZTogKGZsYWdzICYgMSAvKiBQYXNzaXZlICovKSAhPT0gMCxcbiAgICAgICAgY2FwdHVyZTogKGZsYWdzICYgMiAvKiBDYXB0dXJlICovKSAhPT0gMCxcbiAgICB9KVxuICAgIDogKGZsYWdzICYgMiAvKiBDYXB0dXJlICovKSAhPT0gMDtcbmNvbnN0IENPTlRFTlRfUkVGX0lEID0gJ3InO1xuY29uc3QgT1JHX0xPQ0FUSU9OX0lEID0gJ28nO1xuY29uc3QgU0xPVF9OT0RFX0lEID0gJ3MnO1xuY29uc3QgVEVYVF9OT0RFX0lEID0gJ3QnO1xuY29uc3QgSFlEUkFURV9JRCA9ICdzLWlkJztcbmNvbnN0IEhZRFJBVEVEX1NUWUxFX0lEID0gJ3N0eS1pZCc7XG5jb25zdCBIWURSQVRFX0NISUxEX0lEID0gJ2MtaWQnO1xuY29uc3QgSFlEUkFURURfQ1NTID0gJ3t2aXNpYmlsaXR5OmhpZGRlbn0uaHlkcmF0ZWR7dmlzaWJpbGl0eTppbmhlcml0fSc7XG5jb25zdCBYTElOS19OUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJztcbmNvbnN0IGNyZWF0ZVRpbWUgPSAoZm5OYW1lLCB0YWdOYW1lID0gJycpID0+IHtcbiAgICBpZiAoQlVJTEQucHJvZmlsZSAmJiBwZXJmb3JtYW5jZS5tYXJrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGBzdDoke2ZuTmFtZX06JHt0YWdOYW1lfToke2krK31gO1xuICAgICAgICAvLyBTdGFydFxuICAgICAgICBwZXJmb3JtYW5jZS5tYXJrKGtleSk7XG4gICAgICAgIC8vIEVuZFxuICAgICAgICByZXR1cm4gKCkgPT4gcGVyZm9ybWFuY2UubWVhc3VyZShgW1N0ZW5jaWxdICR7Zm5OYW1lfSgpIDwke3RhZ05hbWV9PmAsIGtleSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9O1xuICAgIH1cbn07XG5jb25zdCB1bmlxdWVUaW1lID0gKGtleSwgbWVhc3VyZVRleHQpID0+IHtcbiAgICBpZiAoQlVJTEQucHJvZmlsZSAmJiBwZXJmb3JtYW5jZS5tYXJrKSB7XG4gICAgICAgIGlmIChwZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlOYW1lKGtleSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBwZXJmb3JtYW5jZS5tYXJrKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChwZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlOYW1lKG1lYXN1cmVUZXh0KS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZS5tZWFzdXJlKG1lYXN1cmVUZXh0LCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTtcbiAgICB9XG59O1xuY29uc3QgaW5zcGVjdCA9IChyZWYpID0+IHtcbiAgICBjb25zdCBob3N0UmVmID0gZ2V0SG9zdFJlZihyZWYpO1xuICAgIGlmICghaG9zdFJlZikge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBmbGFncyA9IGhvc3RSZWYuJGZsYWdzJDtcbiAgICBjb25zdCBob3N0RWxlbWVudCA9IGhvc3RSZWYuJGhvc3RFbGVtZW50JDtcbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXJDb3VudDogaG9zdFJlZi4kcmVuZGVyQ291bnQkLFxuICAgICAgICBmbGFnczoge1xuICAgICAgICAgICAgaGFzUmVuZGVyZWQ6ICEhKGZsYWdzICYgMiAvKiBoYXNSZW5kZXJlZCAqLyksXG4gICAgICAgICAgICBoYXNDb25uZWN0ZWQ6ICEhKGZsYWdzICYgMSAvKiBoYXNDb25uZWN0ZWQgKi8pLFxuICAgICAgICAgICAgaXNXYWl0aW5nRm9yQ2hpbGRyZW46ICEhKGZsYWdzICYgNCAvKiBpc1dhaXRpbmdGb3JDaGlsZHJlbiAqLyksXG4gICAgICAgICAgICBpc0NvbnN0cnVjdGluZ0luc3RhbmNlOiAhIShmbGFncyAmIDggLyogaXNDb25zdHJ1Y3RpbmdJbnN0YW5jZSAqLyksXG4gICAgICAgICAgICBpc1F1ZXVlZEZvclVwZGF0ZTogISEoZmxhZ3MgJiAxNiAvKiBpc1F1ZXVlZEZvclVwZGF0ZSAqLyksXG4gICAgICAgICAgICBoYXNJbml0aWFsaXplZENvbXBvbmVudDogISEoZmxhZ3MgJiAzMiAvKiBoYXNJbml0aWFsaXplZENvbXBvbmVudCAqLyksXG4gICAgICAgICAgICBoYXNMb2FkZWRDb21wb25lbnQ6ICEhKGZsYWdzICYgNjQgLyogaGFzTG9hZGVkQ29tcG9uZW50ICovKSxcbiAgICAgICAgICAgIGlzV2F0Y2hSZWFkeTogISEoZmxhZ3MgJiAxMjggLyogaXNXYXRjaFJlYWR5ICovKSxcbiAgICAgICAgICAgIGlzTGlzdGVuUmVhZHk6ICEhKGZsYWdzICYgMjU2IC8qIGlzTGlzdGVuUmVhZHkgKi8pLFxuICAgICAgICAgICAgbmVlZHNSZXJlbmRlcjogISEoZmxhZ3MgJiA1MTIgLyogbmVlZHNSZXJlbmRlciAqLyksXG4gICAgICAgIH0sXG4gICAgICAgIGluc3RhbmNlVmFsdWVzOiBob3N0UmVmLiRpbnN0YW5jZVZhbHVlcyQsXG4gICAgICAgIGFuY2VzdG9yQ29tcG9uZW50OiBob3N0UmVmLiRhbmNlc3RvckNvbXBvbmVudCQsXG4gICAgICAgIGhvc3RFbGVtZW50LFxuICAgICAgICBsYXp5SW5zdGFuY2U6IGhvc3RSZWYuJGxhenlJbnN0YW5jZSQsXG4gICAgICAgIHZub2RlOiBob3N0UmVmLiR2bm9kZSQsXG4gICAgICAgIG1vZGVOYW1lOiBob3N0UmVmLiRtb2RlTmFtZSQsXG4gICAgICAgIG9uUmVhZHlQcm9taXNlOiBob3N0UmVmLiRvblJlYWR5UHJvbWlzZSQsXG4gICAgICAgIG9uUmVhZHlSZXNvbHZlOiBob3N0UmVmLiRvblJlYWR5UmVzb2x2ZSQsXG4gICAgICAgIG9uSW5zdGFuY2VQcm9taXNlOiBob3N0UmVmLiRvbkluc3RhbmNlUHJvbWlzZSQsXG4gICAgICAgIG9uSW5zdGFuY2VSZXNvbHZlOiBob3N0UmVmLiRvbkluc3RhbmNlUmVzb2x2ZSQsXG4gICAgICAgIG9uUmVuZGVyUmVzb2x2ZTogaG9zdFJlZi4kb25SZW5kZXJSZXNvbHZlJCxcbiAgICAgICAgcXVldWVkTGlzdGVuZXJzOiBob3N0UmVmLiRxdWV1ZWRMaXN0ZW5lcnMkLFxuICAgICAgICBybUxpc3RlbmVyczogaG9zdFJlZi4kcm1MaXN0ZW5lcnMkLFxuICAgICAgICBbJ3MtaWQnXTogaG9zdEVsZW1lbnRbJ3MtaWQnXSxcbiAgICAgICAgWydzLWNyJ106IGhvc3RFbGVtZW50WydzLWNyJ10sXG4gICAgICAgIFsncy1sciddOiBob3N0RWxlbWVudFsncy1sciddLFxuICAgICAgICBbJ3MtcCddOiBob3N0RWxlbWVudFsncy1wJ10sXG4gICAgICAgIFsncy1yYyddOiBob3N0RWxlbWVudFsncy1yYyddLFxuICAgICAgICBbJ3Mtc2MnXTogaG9zdEVsZW1lbnRbJ3Mtc2MnXSxcbiAgICB9O1xufTtcbmNvbnN0IGluc3RhbGxEZXZUb29scyA9ICgpID0+IHtcbiAgICBpZiAoQlVJTEQuZGV2VG9vbHMpIHtcbiAgICAgICAgY29uc3Qgc3RlbmNpbCA9ICh3aW4uc3RlbmNpbCA9IHdpbi5zdGVuY2lsIHx8IHt9KTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxJbnNwZWN0ID0gc3RlbmNpbC5pbnNwZWN0O1xuICAgICAgICBzdGVuY2lsLmluc3BlY3QgPSAocmVmKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gaW5zcGVjdChyZWYpO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQgJiYgdHlwZW9mIG9yaWdpbmFsSW5zcGVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG9yaWdpbmFsSW5zcGVjdChyZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICB9XG59O1xuY29uc3Qgcm9vdEFwcGxpZWRTdHlsZXMgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgcmVnaXN0ZXJTdHlsZSA9IChzY29wZUlkLCBjc3NUZXh0LCBhbGxvd0NTKSA9PiB7XG4gICAgbGV0IHN0eWxlID0gc3R5bGVzLmdldChzY29wZUlkKTtcbiAgICBpZiAoc3VwcG9ydHNDb25zdHJ1Y3RpYmxlU3R5bGVzaGVldHMgJiYgYWxsb3dDUykge1xuICAgICAgICBzdHlsZSA9IChzdHlsZSB8fCBuZXcgQ1NTU3R5bGVTaGVldCgpKTtcbiAgICAgICAgc3R5bGUucmVwbGFjZShjc3NUZXh0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN0eWxlID0gY3NzVGV4dDtcbiAgICB9XG4gICAgc3R5bGVzLnNldChzY29wZUlkLCBzdHlsZSk7XG59O1xuY29uc3QgYWRkU3R5bGUgPSAoc3R5bGVDb250YWluZXJOb2RlLCBjbXBNZXRhLCBtb2RlLCBob3N0RWxtKSA9PiB7XG4gICAgbGV0IHNjb3BlSWQgPSBnZXRTY29wZUlkKGNtcE1ldGEsIG1vZGUpO1xuICAgIGxldCBzdHlsZSA9IHN0eWxlcy5nZXQoc2NvcGVJZCk7XG4gICAgaWYgKCFCVUlMRC5hdHRhY2hTdHlsZXMpIHtcbiAgICAgICAgcmV0dXJuIHNjb3BlSWQ7XG4gICAgfVxuICAgIC8vIGlmIGFuIGVsZW1lbnQgaXMgTk9UIGNvbm5lY3RlZCB0aGVuIGdldFJvb3ROb2RlKCkgd2lsbCByZXR1cm4gdGhlIHdyb25nIHJvb3Qgbm9kZVxuICAgIC8vIHNvIHRoZSBmYWxsYmFjayBpcyB0byBhbHdheXMgdXNlIHRoZSBkb2N1bWVudCBmb3IgdGhlIHJvb3Qgbm9kZSBpbiB0aG9zZSBjYXNlc1xuICAgIHN0eWxlQ29udGFpbmVyTm9kZSA9IHN0eWxlQ29udGFpbmVyTm9kZS5ub2RlVHlwZSA9PT0gMTEgLyogRG9jdW1lbnRGcmFnbWVudCAqLyA/IHN0eWxlQ29udGFpbmVyTm9kZSA6IGRvYztcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzdHlsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHN0eWxlQ29udGFpbmVyTm9kZSA9IHN0eWxlQ29udGFpbmVyTm9kZS5oZWFkIHx8IHN0eWxlQ29udGFpbmVyTm9kZTtcbiAgICAgICAgICAgIGxldCBhcHBsaWVkU3R5bGVzID0gcm9vdEFwcGxpZWRTdHlsZXMuZ2V0KHN0eWxlQ29udGFpbmVyTm9kZSk7XG4gICAgICAgICAgICBsZXQgc3R5bGVFbG07XG4gICAgICAgICAgICBpZiAoIWFwcGxpZWRTdHlsZXMpIHtcbiAgICAgICAgICAgICAgICByb290QXBwbGllZFN0eWxlcy5zZXQoc3R5bGVDb250YWluZXJOb2RlLCAoYXBwbGllZFN0eWxlcyA9IG5ldyBTZXQoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhcHBsaWVkU3R5bGVzLmhhcyhzY29wZUlkKSkge1xuICAgICAgICAgICAgICAgIGlmIChCVUlMRC5oeWRyYXRlQ2xpZW50U2lkZSAmJiBzdHlsZUNvbnRhaW5lck5vZGUuaG9zdCAmJiAoc3R5bGVFbG0gPSBzdHlsZUNvbnRhaW5lck5vZGUucXVlcnlTZWxlY3RvcihgWyR7SFlEUkFURURfU1RZTEVfSUR9PVwiJHtzY29wZUlkfVwiXWApKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIG9ubHkgaGFwcGVuaW5nIG9uIG5hdGl2ZSBzaGFkb3ctZG9tLCBkbyBub3QgbmVlZHMgQ1NTIHZhciBzaGltXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlRWxtLmlubmVySFRNTCA9IHN0eWxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEJVSUxELmNzc1ZhclNoaW0gJiYgcGx0LiRjc3NTaGltJCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVFbG0gPSBwbHQuJGNzc1NoaW0kLmNyZWF0ZUhvc3RTdHlsZShob3N0RWxtLCBzY29wZUlkLCBzdHlsZSwgISEoY21wTWV0YS4kZmxhZ3MkICYgMTAgLyogbmVlZHNTY29wZWRFbmNhcHN1bGF0aW9uICovKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdTY29wZUlkID0gc3R5bGVFbG1bJ3Mtc2MnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdTY29wZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVJZCA9IG5ld1Njb3BlSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgZG9uJ3Qgd2FudCB0byBhZGQgdGhpcyBzdHlsZUlEIHRvIHRoZSBhcHBsaWVkU3R5bGVzIFNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBjc3NWYXJTaGltIG1pZ2h0IG5lZWQgdG8gYXBwbHkgc2V2ZXJhbCBkaWZmZXJlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdHlsZXNoZWV0cyBmb3IgdGhlIHNhbWUgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGllZFN0eWxlcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZUVsbSA9IGRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVFbG0uaW5uZXJIVE1MID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKEJVSUxELmh5ZHJhdGVTZXJ2ZXJTaWRlIHx8IEJVSUxELmhvdE1vZHVsZVJlcGxhY2VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZUVsbS5zZXRBdHRyaWJ1dGUoSFlEUkFURURfU1RZTEVfSUQsIHNjb3BlSWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlQ29udGFpbmVyTm9kZS5pbnNlcnRCZWZvcmUoc3R5bGVFbG0sIHN0eWxlQ29udGFpbmVyTm9kZS5xdWVyeVNlbGVjdG9yKCdsaW5rJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXBwbGllZFN0eWxlcykge1xuICAgICAgICAgICAgICAgICAgICBhcHBsaWVkU3R5bGVzLmFkZChzY29wZUlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQlVJTEQuY29uc3RydWN0YWJsZUNTUyAmJiAhc3R5bGVDb250YWluZXJOb2RlLmFkb3B0ZWRTdHlsZVNoZWV0cy5pbmNsdWRlcyhzdHlsZSkpIHtcbiAgICAgICAgICAgIHN0eWxlQ29udGFpbmVyTm9kZS5hZG9wdGVkU3R5bGVTaGVldHMgPSBbLi4uc3R5bGVDb250YWluZXJOb2RlLmFkb3B0ZWRTdHlsZVNoZWV0cywgc3R5bGVdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzY29wZUlkO1xufTtcbmNvbnN0IGF0dGFjaFN0eWxlcyA9IChob3N0UmVmKSA9PiB7XG4gICAgY29uc3QgY21wTWV0YSA9IGhvc3RSZWYuJGNtcE1ldGEkO1xuICAgIGNvbnN0IGVsbSA9IGhvc3RSZWYuJGhvc3RFbGVtZW50JDtcbiAgICBjb25zdCBmbGFncyA9IGNtcE1ldGEuJGZsYWdzJDtcbiAgICBjb25zdCBlbmRBdHRhY2hTdHlsZXMgPSBjcmVhdGVUaW1lKCdhdHRhY2hTdHlsZXMnLCBjbXBNZXRhLiR0YWdOYW1lJCk7XG4gICAgY29uc3Qgc2NvcGVJZCA9IGFkZFN0eWxlKEJVSUxELnNoYWRvd0RvbSAmJiBzdXBwb3J0c1NoYWRvdyAmJiBlbG0uc2hhZG93Um9vdCA/IGVsbS5zaGFkb3dSb290IDogZWxtLmdldFJvb3ROb2RlKCksIGNtcE1ldGEsIGhvc3RSZWYuJG1vZGVOYW1lJCwgZWxtKTtcbiAgICBpZiAoKEJVSUxELnNoYWRvd0RvbSB8fCBCVUlMRC5zY29wZWQpICYmIEJVSUxELmNzc0Fubm90YXRpb25zICYmIGZsYWdzICYgMTAgLyogbmVlZHNTY29wZWRFbmNhcHN1bGF0aW9uICovKSB7XG4gICAgICAgIC8vIG9ubHkgcmVxdWlyZWQgd2hlbiB3ZSdyZSBOT1QgdXNpbmcgbmF0aXZlIHNoYWRvdyBkb20gKHNsb3QpXG4gICAgICAgIC8vIG9yIHRoaXMgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgbmF0aXZlIHNoYWRvdyBkb21cbiAgICAgICAgLy8gYW5kIHRoaXMgaG9zdCBlbGVtZW50IHdhcyBOT1QgY3JlYXRlZCB3aXRoIFNTUlxuICAgICAgICAvLyBsZXQncyBwaWNrIG91dCB0aGUgaW5uZXIgY29udGVudCBmb3Igc2xvdCBwcm9qZWN0aW9uXG4gICAgICAgIC8vIGNyZWF0ZSBhIG5vZGUgdG8gcmVwcmVzZW50IHdoZXJlIHRoZSBvcmlnaW5hbFxuICAgICAgICAvLyBjb250ZW50IHdhcyBmaXJzdCBwbGFjZWQsIHdoaWNoIGlzIHVzZWZ1bCBsYXRlciBvblxuICAgICAgICAvLyBET00gV1JJVEUhIVxuICAgICAgICBlbG1bJ3Mtc2MnXSA9IHNjb3BlSWQ7XG4gICAgICAgIGVsbS5jbGFzc0xpc3QuYWRkKHNjb3BlSWQgKyAnLWgnKTtcbiAgICAgICAgaWYgKEJVSUxELnNjb3BlZCAmJiBmbGFncyAmIDIgLyogc2NvcGVkQ3NzRW5jYXBzdWxhdGlvbiAqLykge1xuICAgICAgICAgICAgZWxtLmNsYXNzTGlzdC5hZGQoc2NvcGVJZCArICctcycpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVuZEF0dGFjaFN0eWxlcygpO1xufTtcbmNvbnN0IGdldFNjb3BlSWQgPSAoY21wLCBtb2RlKSA9PiAnc2MtJyArIChCVUlMRC5tb2RlICYmIG1vZGUgJiYgY21wLiRmbGFncyQgJiAzMiAvKiBoYXNNb2RlICovID8gY21wLiR0YWdOYW1lJCArICctJyArIG1vZGUgOiBjbXAuJHRhZ05hbWUkKTtcbmNvbnN0IGNvbnZlcnRTY29wZWRUb1NoYWRvdyA9IChjc3MpID0+IGNzcy5yZXBsYWNlKC9cXC9cXCohQChbXlxcL10rKVxcKlxcL1teXFx7XStcXHsvZywgJyQxeycpO1xuLy8gUHJpdmF0ZVxuY29uc3QgY29tcHV0ZU1vZGUgPSAoZWxtKSA9PiBtb2RlUmVzb2x1dGlvbkNoYWluLm1hcChoID0+IGgoZWxtKSkuZmluZChtID0+ICEhbSk7XG4vLyBQdWJsaWNcbmNvbnN0IHNldE1vZGUgPSAoaGFuZGxlcikgPT4gbW9kZVJlc29sdXRpb25DaGFpbi5wdXNoKGhhbmRsZXIpO1xuY29uc3QgZ2V0TW9kZSA9IChyZWYpID0+IGdldEhvc3RSZWYocmVmKS4kbW9kZU5hbWUkO1xuLyoqXG4gKiBEZWZhdWx0IHN0eWxlIG1vZGUgaWRcbiAqL1xuLyoqXG4gKiBSZXVzYWJsZSBlbXB0eSBvYmovYXJyYXlcbiAqIERvbid0IGFkZCB2YWx1ZXMgdG8gdGhlc2UhIVxuICovXG5jb25zdCBFTVBUWV9PQkogPSB7fTtcbi8qKlxuICogTmFtZXNwYWNlc1xuICovXG5jb25zdCBTVkdfTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuY29uc3QgSFRNTF9OUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJztcbmNvbnN0IGlzRGVmID0gKHYpID0+IHYgIT0gbnVsbDtcbmNvbnN0IGlzQ29tcGxleFR5cGUgPSAobykgPT4ge1xuICAgIC8vIGh0dHBzOi8vanNwZXJmLmNvbS90eXBlb2YtZm4tb2JqZWN0LzVcbiAgICBvID0gdHlwZW9mIG87XG4gICAgcmV0dXJuIG8gPT09ICdvYmplY3QnIHx8IG8gPT09ICdmdW5jdGlvbic7XG59O1xuLyoqXG4gKiBQcm9kdWN0aW9uIGgoKSBmdW5jdGlvbiBiYXNlZCBvbiBQcmVhY3QgYnlcbiAqIEphc29uIE1pbGxlciAoQGRldmVsb3BpdClcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2RldmVsb3BpdC9wcmVhY3QvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICpcbiAqIE1vZGlmaWVkIGZvciBTdGVuY2lsJ3MgY29tcGlsZXIgYW5kIHZkb21cbiAqL1xuLy8gY29uc3Qgc3RhY2s6IGFueVtdID0gW107XG4vLyBleHBvcnQgZnVuY3Rpb24gaChub2RlTmFtZTogc3RyaW5nIHwgZC5GdW5jdGlvbmFsQ29tcG9uZW50LCB2bm9kZURhdGE6IGQuUHJvcHNUeXBlLCBjaGlsZD86IGQuQ2hpbGRUeXBlKTogZC5WTm9kZTtcbi8vIGV4cG9ydCBmdW5jdGlvbiBoKG5vZGVOYW1lOiBzdHJpbmcgfCBkLkZ1bmN0aW9uYWxDb21wb25lbnQsIHZub2RlRGF0YTogZC5Qcm9wc1R5cGUsIC4uLmNoaWxkcmVuOiBkLkNoaWxkVHlwZVtdKTogZC5WTm9kZTtcbmNvbnN0IGggPSAobm9kZU5hbWUsIHZub2RlRGF0YSwgLi4uY2hpbGRyZW4pID0+IHtcbiAgICBsZXQgY2hpbGQgPSBudWxsO1xuICAgIGxldCBrZXkgPSBudWxsO1xuICAgIGxldCBzbG90TmFtZSA9IG51bGw7XG4gICAgbGV0IHNpbXBsZSA9IGZhbHNlO1xuICAgIGxldCBsYXN0U2ltcGxlID0gZmFsc2U7XG4gICAgbGV0IHZOb2RlQ2hpbGRyZW4gPSBbXTtcbiAgICBjb25zdCB3YWxrID0gKGMpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjaGlsZCA9IGNbaV07XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICB3YWxrKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkICE9IG51bGwgJiYgdHlwZW9mIGNoaWxkICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHNpbXBsZSA9IHR5cGVvZiBub2RlTmFtZSAhPT0gJ2Z1bmN0aW9uJyAmJiAhaXNDb21wbGV4VHlwZShjaGlsZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkID0gU3RyaW5nKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoQlVJTEQuaXNEZXYgJiYgdHlwZW9mIG5vZGVOYW1lICE9PSAnZnVuY3Rpb24nICYmIGNoaWxkLiRmbGFncyQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlRGV2RXJyb3IoYHZOb2RlIHBhc3NlZCBhcyBjaGlsZHJlbiBoYXMgdW5leHBlY3RlZCB0eXBlLlxuTWFrZSBzdXJlIGl0J3MgdXNpbmcgdGhlIGNvcnJlY3QgaCgpIGZ1bmN0aW9uLlxuRW1wdHkgb2JqZWN0cyBjYW4gYWxzbyBiZSB0aGUgY2F1c2UsIGxvb2sgZm9yIEpTWCBjb21tZW50cyB0aGF0IGJlY2FtZSBvYmplY3RzLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2ltcGxlICYmIGxhc3RTaW1wbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHByZXZpb3VzIGNoaWxkIHdhcyBzaW1wbGUgKHN0cmluZyksIHdlIG1lcmdlIGJvdGhcbiAgICAgICAgICAgICAgICAgICAgdk5vZGVDaGlsZHJlblt2Tm9kZUNoaWxkcmVuLmxlbmd0aCAtIDFdLiR0ZXh0JCArPSBjaGlsZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFwcGVuZCBhIG5ldyB2Tm9kZSwgaWYgaXQncyB0ZXh0LCB3ZSBjcmVhdGUgYSB0ZXh0IHZOb2RlXG4gICAgICAgICAgICAgICAgICAgIHZOb2RlQ2hpbGRyZW4ucHVzaChzaW1wbGUgPyBuZXdWTm9kZShudWxsLCBjaGlsZCkgOiBjaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhc3RTaW1wbGUgPSBzaW1wbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHdhbGsoY2hpbGRyZW4pO1xuICAgIGlmICh2bm9kZURhdGEpIHtcbiAgICAgICAgaWYgKEJVSUxELmlzRGV2ICYmIG5vZGVOYW1lID09PSAnaW5wdXQnKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUlucHV0UHJvcGVydGllcyh2bm9kZURhdGEpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vcm1hbGl6ZSBjbGFzcyAvIGNsYXNzbmFtZSBhdHRyaWJ1dGVzXG4gICAgICAgIGlmIChCVUlMRC52ZG9tS2V5ICYmIHZub2RlRGF0YS5rZXkpIHtcbiAgICAgICAgICAgIGtleSA9IHZub2RlRGF0YS5rZXk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEJVSUxELnNsb3RSZWxvY2F0aW9uICYmIHZub2RlRGF0YS5uYW1lKSB7XG4gICAgICAgICAgICBzbG90TmFtZSA9IHZub2RlRGF0YS5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIGlmIChCVUlMRC52ZG9tQ2xhc3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsYXNzRGF0YSA9IHZub2RlRGF0YS5jbGFzc05hbWUgfHwgdm5vZGVEYXRhLmNsYXNzO1xuICAgICAgICAgICAgaWYgKGNsYXNzRGF0YSkge1xuICAgICAgICAgICAgICAgIHZub2RlRGF0YS5jbGFzcyA9XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBjbGFzc0RhdGEgIT09ICdvYmplY3QnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNsYXNzRGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBPYmplY3Qua2V5cyhjbGFzc0RhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihrID0+IGNsYXNzRGF0YVtrXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuam9pbignICcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChCVUlMRC5pc0RldiAmJiB2Tm9kZUNoaWxkcmVuLnNvbWUoaXNIb3N0KSkge1xuICAgICAgICBjb25zb2xlRGV2RXJyb3IoYFRoZSA8SG9zdD4gbXVzdCBiZSB0aGUgc2luZ2xlIHJvb3QgY29tcG9uZW50LiBNYWtlIHN1cmU6XG4tIFlvdSBhcmUgTk9UIHVzaW5nIGhvc3REYXRhKCkgYW5kIDxIb3N0PiBpbiB0aGUgc2FtZSBjb21wb25lbnQuXG4tIDxIb3N0PiBpcyB1c2VkIG9uY2UsIGFuZCBpdCdzIHRoZSBzaW5nbGUgcm9vdCBjb21wb25lbnQgb2YgdGhlIHJlbmRlcigpIGZ1bmN0aW9uLmApO1xuICAgIH1cbiAgICBpZiAoQlVJTEQudmRvbUZ1bmN0aW9uYWwgJiYgdHlwZW9mIG5vZGVOYW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIG5vZGVOYW1lIGlzIGEgZnVuY3Rpb25hbCBjb21wb25lbnRcbiAgICAgICAgcmV0dXJuIG5vZGVOYW1lKHZub2RlRGF0YSA9PT0gbnVsbCA/IHt9IDogdm5vZGVEYXRhLCB2Tm9kZUNoaWxkcmVuLCB2ZG9tRm5VdGlscyk7XG4gICAgfVxuICAgIGNvbnN0IHZub2RlID0gbmV3Vk5vZGUobm9kZU5hbWUsIG51bGwpO1xuICAgIHZub2RlLiRhdHRycyQgPSB2bm9kZURhdGE7XG4gICAgaWYgKHZOb2RlQ2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICB2bm9kZS4kY2hpbGRyZW4kID0gdk5vZGVDaGlsZHJlbjtcbiAgICB9XG4gICAgaWYgKEJVSUxELnZkb21LZXkpIHtcbiAgICAgICAgdm5vZGUuJGtleSQgPSBrZXk7XG4gICAgfVxuICAgIGlmIChCVUlMRC5zbG90UmVsb2NhdGlvbikge1xuICAgICAgICB2bm9kZS4kbmFtZSQgPSBzbG90TmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIHZub2RlO1xufTtcbmNvbnN0IG5ld1ZOb2RlID0gKHRhZywgdGV4dCkgPT4ge1xuICAgIGNvbnN0IHZub2RlID0ge1xuICAgICAgICAkZmxhZ3MkOiAwLFxuICAgICAgICAkdGFnJDogdGFnLFxuICAgICAgICAkdGV4dCQ6IHRleHQsXG4gICAgICAgICRlbG0kOiBudWxsLFxuICAgICAgICAkY2hpbGRyZW4kOiBudWxsLFxuICAgIH07XG4gICAgaWYgKEJVSUxELnZkb21BdHRyaWJ1dGUpIHtcbiAgICAgICAgdm5vZGUuJGF0dHJzJCA9IG51bGw7XG4gICAgfVxuICAgIGlmIChCVUlMRC52ZG9tS2V5KSB7XG4gICAgICAgIHZub2RlLiRrZXkkID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKEJVSUxELnNsb3RSZWxvY2F0aW9uKSB7XG4gICAgICAgIHZub2RlLiRuYW1lJCA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiB2bm9kZTtcbn07XG5jb25zdCBIb3N0ID0ge307XG5jb25zdCBpc0hvc3QgPSAobm9kZSkgPT4gbm9kZSAmJiBub2RlLiR0YWckID09PSBIb3N0O1xuY29uc3QgdmRvbUZuVXRpbHMgPSB7XG4gICAgZm9yRWFjaDogKGNoaWxkcmVuLCBjYikgPT4gY2hpbGRyZW4ubWFwKGNvbnZlcnRUb1B1YmxpYykuZm9yRWFjaChjYiksXG4gICAgbWFwOiAoY2hpbGRyZW4sIGNiKSA9PiBjaGlsZHJlbi5tYXAoY29udmVydFRvUHVibGljKS5tYXAoY2IpLm1hcChjb252ZXJ0VG9Qcml2YXRlKSxcbn07XG5jb25zdCBjb252ZXJ0VG9QdWJsaWMgPSAobm9kZSkgPT4gKHtcbiAgICB2YXR0cnM6IG5vZGUuJGF0dHJzJCxcbiAgICB2Y2hpbGRyZW46IG5vZGUuJGNoaWxkcmVuJCxcbiAgICB2a2V5OiBub2RlLiRrZXkkLFxuICAgIHZuYW1lOiBub2RlLiRuYW1lJCxcbiAgICB2dGFnOiBub2RlLiR0YWckLFxuICAgIHZ0ZXh0OiBub2RlLiR0ZXh0JCxcbn0pO1xuY29uc3QgY29udmVydFRvUHJpdmF0ZSA9IChub2RlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBub2RlLnZ0YWcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY29uc3Qgdm5vZGVEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgbm9kZS52YXR0cnMpO1xuICAgICAgICBpZiAobm9kZS52a2V5KSB7XG4gICAgICAgICAgICB2bm9kZURhdGEua2V5ID0gbm9kZS52a2V5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLnZuYW1lKSB7XG4gICAgICAgICAgICB2bm9kZURhdGEubmFtZSA9IG5vZGUudm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGgobm9kZS52dGFnLCB2bm9kZURhdGEsIC4uLihub2RlLnZjaGlsZHJlbiB8fCBbXSkpO1xuICAgIH1cbiAgICBjb25zdCB2bm9kZSA9IG5ld1ZOb2RlKG5vZGUudnRhZywgbm9kZS52dGV4dCk7XG4gICAgdm5vZGUuJGF0dHJzJCA9IG5vZGUudmF0dHJzO1xuICAgIHZub2RlLiRjaGlsZHJlbiQgPSBub2RlLnZjaGlsZHJlbjtcbiAgICB2bm9kZS4ka2V5JCA9IG5vZGUudmtleTtcbiAgICB2bm9kZS4kbmFtZSQgPSBub2RlLnZuYW1lO1xuICAgIHJldHVybiB2bm9kZTtcbn07XG5jb25zdCB2YWxpZGF0ZUlucHV0UHJvcGVydGllcyA9ICh2bm9kZURhdGEpID0+IHtcbiAgICBjb25zdCBwcm9wcyA9IE9iamVjdC5rZXlzKHZub2RlRGF0YSk7XG4gICAgY29uc3QgdHlwZUluZGV4ID0gcHJvcHMuaW5kZXhPZigndHlwZScpO1xuICAgIGNvbnN0IG1pbkluZGV4ID0gcHJvcHMuaW5kZXhPZignbWluJyk7XG4gICAgY29uc3QgbWF4SW5kZXggPSBwcm9wcy5pbmRleE9mKCdtYXgnKTtcbiAgICBjb25zdCBzdGVwSW5kZXggPSBwcm9wcy5pbmRleE9mKCdtaW4nKTtcbiAgICBjb25zdCB2YWx1ZSA9IHByb3BzLmluZGV4T2YoJ3ZhbHVlJyk7XG4gICAgaWYgKHZhbHVlID09PSAtMSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh2YWx1ZSA8IHR5cGVJbmRleCB8fCB2YWx1ZSA8IG1pbkluZGV4IHx8IHZhbHVlIDwgbWF4SW5kZXggfHwgdmFsdWUgPCBzdGVwSW5kZXgpIHtcbiAgICAgICAgY29uc29sZURldldhcm4oYFRoZSBcInZhbHVlXCIgcHJvcCBvZiA8aW5wdXQ+IHNob3VsZCBiZSBzZXQgYWZ0ZXIgXCJtaW5cIiwgXCJtYXhcIiwgXCJ0eXBlXCIgYW5kIFwic3RlcFwiYCk7XG4gICAgfVxufTtcbi8qKlxuICogUHJvZHVjdGlvbiBzZXRBY2Nlc3NvcigpIGZ1bmN0aW9uIGJhc2VkIG9uIFByZWFjdCBieVxuICogSmFzb24gTWlsbGVyIChAZGV2ZWxvcGl0KVxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZGV2ZWxvcGl0L3ByZWFjdC9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKlxuICogTW9kaWZpZWQgZm9yIFN0ZW5jaWwncyBjb21waWxlciBhbmQgdmRvbVxuICovXG5jb25zdCBzZXRBY2Nlc3NvciA9IChlbG0sIG1lbWJlck5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSwgaXNTdmcsIGZsYWdzKSA9PiB7XG4gICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICBsZXQgaXNQcm9wID0gaXNNZW1iZXJJbkVsZW1lbnQoZWxtLCBtZW1iZXJOYW1lKTtcbiAgICAgICAgbGV0IGxuID0gbWVtYmVyTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoQlVJTEQudmRvbUNsYXNzICYmIG1lbWJlck5hbWUgPT09ICdjbGFzcycpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IGVsbS5jbGFzc0xpc3Q7XG4gICAgICAgICAgICBjb25zdCBvbGRDbGFzc2VzID0gcGFyc2VDbGFzc0xpc3Qob2xkVmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgbmV3Q2xhc3NlcyA9IHBhcnNlQ2xhc3NMaXN0KG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUoLi4ub2xkQ2xhc3Nlcy5maWx0ZXIoYyA9PiBjICYmICFuZXdDbGFzc2VzLmluY2x1ZGVzKGMpKSk7XG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKC4uLm5ld0NsYXNzZXMuZmlsdGVyKGMgPT4gYyAmJiAhb2xkQ2xhc3Nlcy5pbmNsdWRlcyhjKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEJVSUxELnZkb21TdHlsZSAmJiBtZW1iZXJOYW1lID09PSAnc3R5bGUnKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgc3R5bGUgYXR0cmlidXRlLCBjc3MgcHJvcGVydGllcyBhbmQgdmFsdWVzXG4gICAgICAgICAgICBpZiAoQlVJTEQudXBkYXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wIGluIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbmV3VmFsdWUgfHwgbmV3VmFsdWVbcHJvcF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFCVUlMRC5oeWRyYXRlU2VydmVyU2lkZSAmJiBwcm9wLmluY2x1ZGVzKCctJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbG0uc3R5bGUucmVtb3ZlUHJvcGVydHkocHJvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbG0uc3R5bGVbcHJvcF0gPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcCBpbiBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICghb2xkVmFsdWUgfHwgbmV3VmFsdWVbcHJvcF0gIT09IG9sZFZhbHVlW3Byb3BdKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghQlVJTEQuaHlkcmF0ZVNlcnZlclNpZGUgJiYgcHJvcC5pbmNsdWRlcygnLScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbG0uc3R5bGUuc2V0UHJvcGVydHkocHJvcCwgbmV3VmFsdWVbcHJvcF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxtLnN0eWxlW3Byb3BdID0gbmV3VmFsdWVbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQlVJTEQudmRvbUtleSAmJiBtZW1iZXJOYW1lID09PSAna2V5JylcbiAgICAgICAgICAgIDtcbiAgICAgICAgZWxzZSBpZiAoQlVJTEQudmRvbVJlZiAmJiBtZW1iZXJOYW1lID09PSAncmVmJykge1xuICAgICAgICAgICAgLy8gbWluaWZpZXIgd2lsbCBjbGVhbiB0aGlzIHVwXG4gICAgICAgICAgICBpZiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZShlbG0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEJVSUxELnZkb21MaXN0ZW5lciAmJiAoQlVJTEQubGF6eUxvYWQgPyAhaXNQcm9wIDogIWVsbS5fX2xvb2t1cFNldHRlcl9fKG1lbWJlck5hbWUpKSAmJiBtZW1iZXJOYW1lWzBdID09PSAnbycgJiYgbWVtYmVyTmFtZVsxXSA9PT0gJ24nKSB7XG4gICAgICAgICAgICAvLyBFdmVudCBIYW5kbGVyc1xuICAgICAgICAgICAgLy8gc28gaWYgdGhlIG1lbWJlciBuYW1lIHN0YXJ0cyB3aXRoIFwib25cIiBhbmQgdGhlIDNyZCBjaGFyYWN0ZXJzIGlzXG4gICAgICAgICAgICAvLyBhIGNhcGl0YWwgbGV0dGVyLCBhbmQgaXQncyBub3QgYWxyZWFkeSBhIG1lbWJlciBvbiB0aGUgZWxlbWVudCxcbiAgICAgICAgICAgIC8vIHRoZW4gd2UncmUgYXNzdW1pbmcgaXQncyBhbiBldmVudCBsaXN0ZW5lclxuICAgICAgICAgICAgaWYgKG1lbWJlck5hbWVbMl0gPT09ICctJykge1xuICAgICAgICAgICAgICAgIC8vIG9uLSBwcmVmaXhlZCBldmVudHNcbiAgICAgICAgICAgICAgICAvLyBhbGxvd3MgdG8gYmUgZXhwbGljaXQgYWJvdXQgdGhlIGRvbSBldmVudCB0byBsaXN0ZW4gd2l0aG91dCBhbnkgbWFnaWNcbiAgICAgICAgICAgICAgICAvLyB1bmRlciB0aGUgaG9vZDpcbiAgICAgICAgICAgICAgICAvLyA8bXktY21wIG9uLWNsaWNrPiAvLyBsaXN0ZW5zIGZvciBcImNsaWNrXCJcbiAgICAgICAgICAgICAgICAvLyA8bXktY21wIG9uLUNsaWNrPiAvLyBsaXN0ZW5zIGZvciBcIkNsaWNrXCJcbiAgICAgICAgICAgICAgICAvLyA8bXktY21wIG9uLWlvbkNoYW5nZT4gLy8gbGlzdGVucyBmb3IgXCJpb25DaGFuZ2VcIlxuICAgICAgICAgICAgICAgIC8vIDxteS1jbXAgb24tRVZFTlRTPiAvLyBsaXN0ZW5zIGZvciBcIkVWRU5UU1wiXG4gICAgICAgICAgICAgICAgbWVtYmVyTmFtZSA9IG1lbWJlck5hbWUuc2xpY2UoMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc01lbWJlckluRWxlbWVudCh3aW4sIGxuKSkge1xuICAgICAgICAgICAgICAgIC8vIHN0YW5kYXJkIGV2ZW50XG4gICAgICAgICAgICAgICAgLy8gdGhlIEpTWCBhdHRyaWJ1dGUgY291bGQgaGF2ZSBiZWVuIFwib25Nb3VzZU92ZXJcIiBhbmQgdGhlXG4gICAgICAgICAgICAgICAgLy8gbWVtYmVyIG5hbWUgXCJvbm1vdXNlb3ZlclwiIGlzIG9uIHRoZSB3aW5kb3cncyBwcm90b3R5cGVcbiAgICAgICAgICAgICAgICAvLyBzbyBsZXQncyBhZGQgdGhlIGxpc3RlbmVyIFwibW91c2VvdmVyXCIsIHdoaWNoIGlzIGFsbCBsb3dlcmNhc2VkXG4gICAgICAgICAgICAgICAgbWVtYmVyTmFtZSA9IGxuLnNsaWNlKDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gY3VzdG9tIGV2ZW50XG4gICAgICAgICAgICAgICAgLy8gdGhlIEpTWCBhdHRyaWJ1dGUgY291bGQgaGF2ZSBiZWVuIFwib25NeUN1c3RvbUV2ZW50XCJcbiAgICAgICAgICAgICAgICAvLyBzbyBsZXQncyB0cmltIG9mZiB0aGUgXCJvblwiIHByZWZpeCBhbmQgbG93ZXJjYXNlIHRoZSBmaXJzdCBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICAvLyBhbmQgYWRkIHRoZSBsaXN0ZW5lciBcIm15Q3VzdG9tRXZlbnRcIlxuICAgICAgICAgICAgICAgIC8vIGV4Y2VwdCBmb3IgdGhlIGZpcnN0IGNoYXJhY3Rlciwgd2Uga2VlcCB0aGUgZXZlbnQgbmFtZSBjYXNlXG4gICAgICAgICAgICAgICAgbWVtYmVyTmFtZSA9IGxuWzJdICsgbWVtYmVyTmFtZS5zbGljZSgzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHBsdC5yZWwoZWxtLCBtZW1iZXJOYW1lLCBvbGRWYWx1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcGx0LmFlbChlbG0sIG1lbWJlck5hbWUsIG5ld1ZhbHVlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQlVJTEQudmRvbVByb3BPckF0dHIpIHtcbiAgICAgICAgICAgIC8vIFNldCBwcm9wZXJ0eSBpZiBpdCBleGlzdHMgYW5kIGl0J3Mgbm90IGEgU1ZHXG4gICAgICAgICAgICBjb25zdCBpc0NvbXBsZXggPSBpc0NvbXBsZXhUeXBlKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIGlmICgoaXNQcm9wIHx8IChpc0NvbXBsZXggJiYgbmV3VmFsdWUgIT09IG51bGwpKSAmJiAhaXNTdmcpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWVsbS50YWdOYW1lLmluY2x1ZGVzKCctJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuID0gbmV3VmFsdWUgPT0gbnVsbCA/ICcnIDogbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBTYWZhcmksIG1vdmluZyB0aGUgPGlucHV0PiBjYXJldCB3aGVuIHJlLWFzc2lnbmluZyB0aGUgc2FtZSB2YWx1ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZW1iZXJOYW1lID09PSAnbGlzdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Byb3AgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHRyaXBsZS1lcXVhbHNcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9sZFZhbHVlID09IG51bGwgfHwgZWxtW21lbWJlck5hbWVdICE9IG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbG1bbWVtYmVyTmFtZV0gPSBuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxtW21lbWJlck5hbWVdID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBOZWVkIHRvIG1hbnVhbGx5IHVwZGF0ZSBhdHRyaWJ1dGUgaWY6XG4gICAgICAgICAgICAgKiAtIG1lbWJlck5hbWUgaXMgbm90IGFuIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICogLSBpZiB3ZSBhcmUgcmVuZGVyaW5nIHRoZSBob3N0IGVsZW1lbnQgaW4gb3JkZXIgdG8gcmVmbGVjdCBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAqIC0gaWYgaXQncyBhIFNWRywgc2luY2UgcHJvcGVydGllcyBtaWdodCBub3Qgd29yayBpbiA8c3ZnPlxuICAgICAgICAgICAgICogLSBpZiB0aGUgbmV3VmFsdWUgaXMgbnVsbC91bmRlZmluZWQgb3IgJ2ZhbHNlJy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbGV0IHhsaW5rID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoQlVJTEQudmRvbVhsaW5rKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxuICE9PSAobG4gPSBsbi5yZXBsYWNlKC9eeGxpbmtcXDo/LywgJycpKSkge1xuICAgICAgICAgICAgICAgICAgICBtZW1iZXJOYW1lID0gbG47XG4gICAgICAgICAgICAgICAgICAgIHhsaW5rID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3VmFsdWUgPT0gbnVsbCB8fCBuZXdWYWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IGZhbHNlIHx8IGVsbS5nZXRBdHRyaWJ1dGUobWVtYmVyTmFtZSkgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChCVUlMRC52ZG9tWGxpbmsgJiYgeGxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsbS5yZW1vdmVBdHRyaWJ1dGVOUyhYTElOS19OUywgbWVtYmVyTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlKG1lbWJlck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKCFpc1Byb3AgfHwgZmxhZ3MgJiA0IC8qIGlzSG9zdCAqLyB8fCBpc1N2ZykgJiYgIWlzQ29tcGxleCkge1xuICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gbmV3VmFsdWUgPT09IHRydWUgPyAnJyA6IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChCVUlMRC52ZG9tWGxpbmsgJiYgeGxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgZWxtLnNldEF0dHJpYnV0ZU5TKFhMSU5LX05TLCBtZW1iZXJOYW1lLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbG0uc2V0QXR0cmlidXRlKG1lbWJlck5hbWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgcGFyc2VDbGFzc0xpc3RSZWdleCA9IC9cXHMvO1xuY29uc3QgcGFyc2VDbGFzc0xpc3QgPSAodmFsdWUpID0+ICghdmFsdWUgPyBbXSA6IHZhbHVlLnNwbGl0KHBhcnNlQ2xhc3NMaXN0UmVnZXgpKTtcbmNvbnN0IHVwZGF0ZUVsZW1lbnQgPSAob2xkVm5vZGUsIG5ld1Zub2RlLCBpc1N2Z01vZGUsIG1lbWJlck5hbWUpID0+IHtcbiAgICAvLyBpZiB0aGUgZWxlbWVudCBwYXNzZWQgaW4gaXMgYSBzaGFkb3cgcm9vdCwgd2hpY2ggaXMgYSBkb2N1bWVudCBmcmFnbWVudFxuICAgIC8vIHRoZW4gd2Ugd2FudCB0byBiZSBhZGRpbmcgYXR0cnMvcHJvcHMgdG8gdGhlIHNoYWRvdyByb290J3MgXCJob3N0XCIgZWxlbWVudFxuICAgIC8vIGlmIGl0J3Mgbm90IGEgc2hhZG93IHJvb3QsIHRoZW4gd2UgYWRkIGF0dHJzL3Byb3BzIHRvIHRoZSBzYW1lIGVsZW1lbnRcbiAgICBjb25zdCBlbG0gPSBuZXdWbm9kZS4kZWxtJC5ub2RlVHlwZSA9PT0gMTEgLyogRG9jdW1lbnRGcmFnbWVudCAqLyAmJiBuZXdWbm9kZS4kZWxtJC5ob3N0ID8gbmV3Vm5vZGUuJGVsbSQuaG9zdCA6IG5ld1Zub2RlLiRlbG0kO1xuICAgIGNvbnN0IG9sZFZub2RlQXR0cnMgPSAob2xkVm5vZGUgJiYgb2xkVm5vZGUuJGF0dHJzJCkgfHwgRU1QVFlfT0JKO1xuICAgIGNvbnN0IG5ld1Zub2RlQXR0cnMgPSBuZXdWbm9kZS4kYXR0cnMkIHx8IEVNUFRZX09CSjtcbiAgICBpZiAoQlVJTEQudXBkYXRhYmxlKSB7XG4gICAgICAgIC8vIHJlbW92ZSBhdHRyaWJ1dGVzIG5vIGxvbmdlciBwcmVzZW50IG9uIHRoZSB2bm9kZSBieSBzZXR0aW5nIHRoZW0gdG8gdW5kZWZpbmVkXG4gICAgICAgIGZvciAobWVtYmVyTmFtZSBpbiBvbGRWbm9kZUF0dHJzKSB7XG4gICAgICAgICAgICBpZiAoIShtZW1iZXJOYW1lIGluIG5ld1Zub2RlQXR0cnMpKSB7XG4gICAgICAgICAgICAgICAgc2V0QWNjZXNzb3IoZWxtLCBtZW1iZXJOYW1lLCBvbGRWbm9kZUF0dHJzW21lbWJlck5hbWVdLCB1bmRlZmluZWQsIGlzU3ZnTW9kZSwgbmV3Vm5vZGUuJGZsYWdzJCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gYWRkIG5ldyAmIHVwZGF0ZSBjaGFuZ2VkIGF0dHJpYnV0ZXNcbiAgICBmb3IgKG1lbWJlck5hbWUgaW4gbmV3Vm5vZGVBdHRycykge1xuICAgICAgICBzZXRBY2Nlc3NvcihlbG0sIG1lbWJlck5hbWUsIG9sZFZub2RlQXR0cnNbbWVtYmVyTmFtZV0sIG5ld1Zub2RlQXR0cnNbbWVtYmVyTmFtZV0sIGlzU3ZnTW9kZSwgbmV3Vm5vZGUuJGZsYWdzJCk7XG4gICAgfVxufTtcbmNvbnN0IGNyZWF0ZUVsbSA9IChvbGRQYXJlbnRWTm9kZSwgbmV3UGFyZW50Vk5vZGUsIGNoaWxkSW5kZXgsIHBhcmVudEVsbSkgPT4ge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogcHJlZmVyLWNvbnN0XG4gICAgbGV0IG5ld1ZOb2RlID0gbmV3UGFyZW50Vk5vZGUuJGNoaWxkcmVuJFtjaGlsZEluZGV4XTtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IGVsbTtcbiAgICBsZXQgY2hpbGROb2RlO1xuICAgIGxldCBvbGRWTm9kZTtcbiAgICBpZiAoQlVJTEQuc2xvdFJlbG9jYXRpb24gJiYgIXVzZU5hdGl2ZVNoYWRvd0RvbSkge1xuICAgICAgICAvLyByZW1lbWJlciBmb3IgbGF0ZXIgd2UgbmVlZCB0byBjaGVjayB0byByZWxvY2F0ZSBub2Rlc1xuICAgICAgICBjaGVja1Nsb3RSZWxvY2F0ZSA9IHRydWU7XG4gICAgICAgIGlmIChuZXdWTm9kZS4kdGFnJCA9PT0gJ3Nsb3QnKSB7XG4gICAgICAgICAgICBpZiAoc2NvcGVJZCkge1xuICAgICAgICAgICAgICAgIC8vIHNjb3BlZCBjc3MgbmVlZHMgdG8gYWRkIGl0cyBzY29wZWQgaWQgdG8gdGhlIHBhcmVudCBlbGVtZW50XG4gICAgICAgICAgICAgICAgcGFyZW50RWxtLmNsYXNzTGlzdC5hZGQoc2NvcGVJZCArICctcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3Vk5vZGUuJGZsYWdzJCB8PSBuZXdWTm9kZS4kY2hpbGRyZW4kXG4gICAgICAgICAgICAgICAgPyAvLyBzbG90IGVsZW1lbnQgaGFzIGZhbGxiYWNrIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgMiAvKiBpc1Nsb3RGYWxsYmFjayAqL1xuICAgICAgICAgICAgICAgIDogLy8gc2xvdCBlbGVtZW50IGRvZXMgbm90IGhhdmUgZmFsbGJhY2sgY29udGVudFxuICAgICAgICAgICAgICAgICAgICAxIC8qIGlzU2xvdFJlZmVyZW5jZSAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoQlVJTEQuaXNEZXYgJiYgbmV3Vk5vZGUuJGVsbSQpIHtcbiAgICAgICAgY29uc29sZURldkVycm9yKGBUaGUgSlNYICR7bmV3Vk5vZGUuJHRleHQkICE9PSBudWxsID8gYFwiJHtuZXdWTm9kZS4kdGV4dCR9XCIgdGV4dGAgOiBgXCIke25ld1ZOb2RlLiR0YWckfVwiIGVsZW1lbnRgfSBub2RlIHNob3VsZCBub3QgYmUgc2hhcmVkIHdpdGhpbiB0aGUgc2FtZSByZW5kZXJlci4gVGhlIHJlbmRlcmVyIGNhY2hlcyBlbGVtZW50IGxvb2t1cHMgaW4gb3JkZXIgdG8gaW1wcm92ZSBwZXJmb3JtYW5jZS4gSG93ZXZlciwgYSBzaWRlIGVmZmVjdCBmcm9tIHRoaXMgaXMgdGhhdCB0aGUgZXhhY3Qgc2FtZSBKU1ggbm9kZSBzaG91bGQgbm90IGJlIHJldXNlZC4gRm9yIG1vcmUgaW5mb3JtYXRpb24gcGxlYXNlIHNlZSBodHRwczovL3N0ZW5jaWxqcy5jb20vZG9jcy90ZW1wbGF0aW5nLWpzeCNhdm9pZC1zaGFyZWQtanN4LW5vZGVzYCk7XG4gICAgfVxuICAgIGlmIChCVUlMRC52ZG9tVGV4dCAmJiBuZXdWTm9kZS4kdGV4dCQgIT09IG51bGwpIHtcbiAgICAgICAgLy8gY3JlYXRlIHRleHQgbm9kZVxuICAgICAgICBlbG0gPSBuZXdWTm9kZS4kZWxtJCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShuZXdWTm9kZS4kdGV4dCQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChCVUlMRC5zbG90UmVsb2NhdGlvbiAmJiBuZXdWTm9kZS4kZmxhZ3MkICYgMSAvKiBpc1Nsb3RSZWZlcmVuY2UgKi8pIHtcbiAgICAgICAgLy8gY3JlYXRlIGEgc2xvdCByZWZlcmVuY2Ugbm9kZVxuICAgICAgICBlbG0gPSBuZXdWTm9kZS4kZWxtJCA9IEJVSUxELmlzRGVidWcgfHwgQlVJTEQuaHlkcmF0ZVNlcnZlclNpZGUgPyBzbG90UmVmZXJlbmNlRGVidWdOb2RlKG5ld1ZOb2RlKSA6IGRvYy5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoQlVJTEQuc3ZnICYmICFpc1N2Z01vZGUpIHtcbiAgICAgICAgICAgIGlzU3ZnTW9kZSA9IG5ld1ZOb2RlLiR0YWckID09PSAnc3ZnJztcbiAgICAgICAgfVxuICAgICAgICAvLyBjcmVhdGUgZWxlbWVudFxuICAgICAgICBlbG0gPSBuZXdWTm9kZS4kZWxtJCA9IChCVUlMRC5zdmdcbiAgICAgICAgICAgID8gZG9jLmNyZWF0ZUVsZW1lbnROUyhpc1N2Z01vZGUgPyBTVkdfTlMgOiBIVE1MX05TLCBCVUlMRC5zbG90UmVsb2NhdGlvbiAmJiBuZXdWTm9kZS4kZmxhZ3MkICYgMiAvKiBpc1Nsb3RGYWxsYmFjayAqLyA/ICdzbG90LWZiJyA6IG5ld1ZOb2RlLiR0YWckKVxuICAgICAgICAgICAgOiBkb2MuY3JlYXRlRWxlbWVudChCVUlMRC5zbG90UmVsb2NhdGlvbiAmJiBuZXdWTm9kZS4kZmxhZ3MkICYgMiAvKiBpc1Nsb3RGYWxsYmFjayAqLyA/ICdzbG90LWZiJyA6IG5ld1ZOb2RlLiR0YWckKSk7XG4gICAgICAgIGlmIChCVUlMRC5zdmcgJiYgaXNTdmdNb2RlICYmIG5ld1ZOb2RlLiR0YWckID09PSAnZm9yZWlnbk9iamVjdCcpIHtcbiAgICAgICAgICAgIGlzU3ZnTW9kZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFkZCBjc3MgY2xhc3NlcywgYXR0cnMsIHByb3BzLCBsaXN0ZW5lcnMsIGV0Yy5cbiAgICAgICAgaWYgKEJVSUxELnZkb21BdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHVwZGF0ZUVsZW1lbnQobnVsbCwgbmV3Vk5vZGUsIGlzU3ZnTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChCVUlMRC5zaGFkb3dEb20gfHwgQlVJTEQuc2NvcGVkKSAmJiBpc0RlZihzY29wZUlkKSAmJiBlbG1bJ3Mtc2knXSAhPT0gc2NvcGVJZCkge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBzY29wZUlkIGFuZCB0aGlzIGlzIHRoZSBpbml0aWFsIHJlbmRlclxuICAgICAgICAgICAgLy8gdGhlbiBsZXQncyBhZGQgdGhlIHNjb3BlSWQgYXMgYSBjc3MgY2xhc3NcbiAgICAgICAgICAgIGVsbS5jbGFzc0xpc3QuYWRkKChlbG1bJ3Mtc2knXSA9IHNjb3BlSWQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3Vk5vZGUuJGNoaWxkcmVuJCkge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG5ld1ZOb2RlLiRjaGlsZHJlbiQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgdGhlIG5vZGVcbiAgICAgICAgICAgICAgICBjaGlsZE5vZGUgPSBjcmVhdGVFbG0ob2xkUGFyZW50Vk5vZGUsIG5ld1ZOb2RlLCBpLCBlbG0pO1xuICAgICAgICAgICAgICAgIC8vIHJldHVybiBub2RlIGNvdWxkIGhhdmUgYmVlbiBudWxsXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhcHBlbmQgb3VyIG5ldyBub2RlXG4gICAgICAgICAgICAgICAgICAgIGVsbS5hcHBlbmRDaGlsZChjaGlsZE5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoQlVJTEQuc3ZnKSB7XG4gICAgICAgICAgICBpZiAobmV3Vk5vZGUuJHRhZyQgPT09ICdzdmcnKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSByZXNldCB0aGUgU1ZHIGNvbnRleHQgd2hlbiB3ZSdyZSBleGl0aW5nIDxzdmc+IGVsZW1lbnRcbiAgICAgICAgICAgICAgICBpc1N2Z01vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVsbS50YWdOYW1lID09PSAnZm9yZWlnbk9iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAvLyBSZWVudGVyIFNWRyBjb250ZXh0IHdoZW4gd2UncmUgZXhpdGluZyA8Zm9yZWlnbk9iamVjdD4gZWxlbWVudFxuICAgICAgICAgICAgICAgIGlzU3ZnTW9kZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKEJVSUxELnNsb3RSZWxvY2F0aW9uKSB7XG4gICAgICAgIGVsbVsncy1obiddID0gaG9zdFRhZ05hbWU7XG4gICAgICAgIGlmIChuZXdWTm9kZS4kZmxhZ3MkICYgKDIgLyogaXNTbG90RmFsbGJhY2sgKi8gfCAxIC8qIGlzU2xvdFJlZmVyZW5jZSAqLykpIHtcbiAgICAgICAgICAgIC8vIHJlbWVtYmVyIHRoZSBjb250ZW50IHJlZmVyZW5jZSBjb21tZW50XG4gICAgICAgICAgICBlbG1bJ3Mtc3InXSA9IHRydWU7XG4gICAgICAgICAgICAvLyByZW1lbWJlciB0aGUgY29udGVudCByZWZlcmVuY2UgY29tbWVudFxuICAgICAgICAgICAgZWxtWydzLWNyJ10gPSBjb250ZW50UmVmO1xuICAgICAgICAgICAgLy8gcmVtZW1iZXIgdGhlIHNsb3QgbmFtZSwgb3IgZW1wdHkgc3RyaW5nIGZvciBkZWZhdWx0IHNsb3RcbiAgICAgICAgICAgIGVsbVsncy1zbiddID0gbmV3Vk5vZGUuJG5hbWUkIHx8ICcnO1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgd2UndmUgZ290IGFuIG9sZCB2bm9kZSBmb3IgdGhpcyBzbG90XG4gICAgICAgICAgICBvbGRWTm9kZSA9IG9sZFBhcmVudFZOb2RlICYmIG9sZFBhcmVudFZOb2RlLiRjaGlsZHJlbiQgJiYgb2xkUGFyZW50Vk5vZGUuJGNoaWxkcmVuJFtjaGlsZEluZGV4XTtcbiAgICAgICAgICAgIGlmIChvbGRWTm9kZSAmJiBvbGRWTm9kZS4kdGFnJCA9PT0gbmV3Vk5vZGUuJHRhZyQgJiYgb2xkUGFyZW50Vk5vZGUuJGVsbSQpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSd2ZSBnb3QgYW4gb2xkIHNsb3Qgdm5vZGUgYW5kIHRoZSB3cmFwcGVyIGlzIGJlaW5nIHJlcGxhY2VkXG4gICAgICAgICAgICAgICAgLy8gc28gbGV0J3MgbW92ZSB0aGUgb2xkIHNsb3QgY29udGVudCBiYWNrIHRvIGl0J3Mgb3JpZ2luYWwgbG9jYXRpb25cbiAgICAgICAgICAgICAgICBwdXRCYWNrSW5PcmlnaW5hbExvY2F0aW9uKG9sZFBhcmVudFZOb2RlLiRlbG0kLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVsbTtcbn07XG5jb25zdCBwdXRCYWNrSW5PcmlnaW5hbExvY2F0aW9uID0gKHBhcmVudEVsbSwgcmVjdXJzaXZlKSA9PiB7XG4gICAgcGx0LiRmbGFncyQgfD0gMSAvKiBpc1RtcERpc2Nvbm5lY3RlZCAqLztcbiAgICBjb25zdCBvbGRTbG90Q2hpbGROb2RlcyA9IHBhcmVudEVsbS5jaGlsZE5vZGVzO1xuICAgIGZvciAobGV0IGkgPSBvbGRTbG90Q2hpbGROb2Rlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBjaGlsZE5vZGUgPSBvbGRTbG90Q2hpbGROb2Rlc1tpXTtcbiAgICAgICAgaWYgKGNoaWxkTm9kZVsncy1obiddICE9PSBob3N0VGFnTmFtZSAmJiBjaGlsZE5vZGVbJ3Mtb2wnXSkge1xuICAgICAgICAgICAgLy8gLy8gdGhpcyBjaGlsZCBub2RlIGluIHRoZSBvbGQgZWxlbWVudCBpcyBmcm9tIGFub3RoZXIgY29tcG9uZW50XG4gICAgICAgICAgICAvLyAvLyByZW1vdmUgdGhpcyBub2RlIGZyb20gdGhlIG9sZCBzbG90J3MgcGFyZW50XG4gICAgICAgICAgICAvLyBjaGlsZE5vZGUucmVtb3ZlKCk7XG4gICAgICAgICAgICAvLyBhbmQgcmVsb2NhdGUgaXQgYmFjayB0byBpdCdzIG9yaWdpbmFsIGxvY2F0aW9uXG4gICAgICAgICAgICBwYXJlbnRSZWZlcmVuY2VOb2RlKGNoaWxkTm9kZSkuaW5zZXJ0QmVmb3JlKGNoaWxkTm9kZSwgcmVmZXJlbmNlTm9kZShjaGlsZE5vZGUpKTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgb2xkIG9yaWdpbmFsIGxvY2F0aW9uIGNvbW1lbnQgZW50aXJlbHlcbiAgICAgICAgICAgIC8vIGxhdGVyIG9uIHRoZSBwYXRjaCBmdW5jdGlvbiB3aWxsIGtub3cgd2hhdCB0byBkb1xuICAgICAgICAgICAgLy8gYW5kIG1vdmUgdGhpcyB0byB0aGUgY29ycmVjdCBzcG90IGluIG5lZWQgYmVcbiAgICAgICAgICAgIGNoaWxkTm9kZVsncy1vbCddLnJlbW92ZSgpO1xuICAgICAgICAgICAgY2hpbGROb2RlWydzLW9sJ10gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjaGVja1Nsb3RSZWxvY2F0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlY3Vyc2l2ZSkge1xuICAgICAgICAgICAgcHV0QmFja0luT3JpZ2luYWxMb2NhdGlvbihjaGlsZE5vZGUsIHJlY3Vyc2l2ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGx0LiRmbGFncyQgJj0gfjEgLyogaXNUbXBEaXNjb25uZWN0ZWQgKi87XG59O1xuY29uc3QgYWRkVm5vZGVzID0gKHBhcmVudEVsbSwgYmVmb3JlLCBwYXJlbnRWTm9kZSwgdm5vZGVzLCBzdGFydElkeCwgZW5kSWR4KSA9PiB7XG4gICAgbGV0IGNvbnRhaW5lckVsbSA9ICgoQlVJTEQuc2xvdFJlbG9jYXRpb24gJiYgcGFyZW50RWxtWydzLWNyJ10gJiYgcGFyZW50RWxtWydzLWNyJ10ucGFyZW50Tm9kZSkgfHwgcGFyZW50RWxtKTtcbiAgICBsZXQgY2hpbGROb2RlO1xuICAgIGlmIChCVUlMRC5zaGFkb3dEb20gJiYgY29udGFpbmVyRWxtLnNoYWRvd1Jvb3QgJiYgY29udGFpbmVyRWxtLnRhZ05hbWUgPT09IGhvc3RUYWdOYW1lKSB7XG4gICAgICAgIGNvbnRhaW5lckVsbSA9IGNvbnRhaW5lckVsbS5zaGFkb3dSb290O1xuICAgIH1cbiAgICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7XG4gICAgICAgIGlmICh2bm9kZXNbc3RhcnRJZHhdKSB7XG4gICAgICAgICAgICBjaGlsZE5vZGUgPSBjcmVhdGVFbG0obnVsbCwgcGFyZW50Vk5vZGUsIHN0YXJ0SWR4LCBwYXJlbnRFbG0pO1xuICAgICAgICAgICAgaWYgKGNoaWxkTm9kZSkge1xuICAgICAgICAgICAgICAgIHZub2Rlc1tzdGFydElkeF0uJGVsbSQgPSBjaGlsZE5vZGU7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyRWxtLmluc2VydEJlZm9yZShjaGlsZE5vZGUsIEJVSUxELnNsb3RSZWxvY2F0aW9uID8gcmVmZXJlbmNlTm9kZShiZWZvcmUpIDogYmVmb3JlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCByZW1vdmVWbm9kZXMgPSAodm5vZGVzLCBzdGFydElkeCwgZW5kSWR4LCB2bm9kZSwgZWxtKSA9PiB7XG4gICAgZm9yICg7IHN0YXJ0SWR4IDw9IGVuZElkeDsgKytzdGFydElkeCkge1xuICAgICAgICBpZiAoKHZub2RlID0gdm5vZGVzW3N0YXJ0SWR4XSkpIHtcbiAgICAgICAgICAgIGVsbSA9IHZub2RlLiRlbG0kO1xuICAgICAgICAgICAgY2FsbE5vZGVSZWZzKHZub2RlKTtcbiAgICAgICAgICAgIGlmIChCVUlMRC5zbG90UmVsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIHdlJ3JlIHJlbW92aW5nIHRoaXMgZWxlbWVudFxuICAgICAgICAgICAgICAgIC8vIHNvIGl0J3MgcG9zc2libGUgd2UgbmVlZCB0byBzaG93IHNsb3QgZmFsbGJhY2sgY29udGVudCBub3dcbiAgICAgICAgICAgICAgICBjaGVja1Nsb3RGYWxsYmFja1Zpc2liaWxpdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChlbG1bJ3Mtb2wnXSkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgdGhlIG9yaWdpbmFsIGxvY2F0aW9uIGNvbW1lbnRcbiAgICAgICAgICAgICAgICAgICAgZWxtWydzLW9sJ10ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIHBvc3NpYmxlIHRoYXQgY2hpbGQgbm9kZXMgb2YgdGhlIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhhdCdzIGJlaW5nIHJlbW92ZWQgYXJlIHNsb3Qgbm9kZXNcbiAgICAgICAgICAgICAgICAgICAgcHV0QmFja0luT3JpZ2luYWxMb2NhdGlvbihlbG0sIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgdm5vZGUncyBlbGVtZW50IGZyb20gdGhlIGRvbVxuICAgICAgICAgICAgZWxtLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IHVwZGF0ZUNoaWxkcmVuID0gKHBhcmVudEVsbSwgb2xkQ2gsIG5ld1ZOb2RlLCBuZXdDaCkgPT4ge1xuICAgIGxldCBvbGRTdGFydElkeCA9IDA7XG4gICAgbGV0IG5ld1N0YXJ0SWR4ID0gMDtcbiAgICBsZXQgaWR4SW5PbGQgPSAwO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgb2xkRW5kSWR4ID0gb2xkQ2gubGVuZ3RoIC0gMTtcbiAgICBsZXQgb2xkU3RhcnRWbm9kZSA9IG9sZENoWzBdO1xuICAgIGxldCBvbGRFbmRWbm9kZSA9IG9sZENoW29sZEVuZElkeF07XG4gICAgbGV0IG5ld0VuZElkeCA9IG5ld0NoLmxlbmd0aCAtIDE7XG4gICAgbGV0IG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFswXTtcbiAgICBsZXQgbmV3RW5kVm5vZGUgPSBuZXdDaFtuZXdFbmRJZHhdO1xuICAgIGxldCBub2RlO1xuICAgIGxldCBlbG1Ub01vdmU7XG4gICAgd2hpbGUgKG9sZFN0YXJ0SWR4IDw9IG9sZEVuZElkeCAmJiBuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHtcbiAgICAgICAgaWYgKG9sZFN0YXJ0Vm5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVm5vZGUgbWlnaHQgaGF2ZSBiZWVuIG1vdmVkIGxlZnRcbiAgICAgICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvbGRFbmRWbm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZXdTdGFydFZub2RlID09IG51bGwpIHtcbiAgICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZXdFbmRWbm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1NhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdTdGFydFZub2RlKSkge1xuICAgICAgICAgICAgcGF0Y2gob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSk7XG4gICAgICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTYW1lVm5vZGUob2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlKSkge1xuICAgICAgICAgICAgcGF0Y2gob2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlKTtcbiAgICAgICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTYW1lVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7XG4gICAgICAgICAgICAvLyBWbm9kZSBtb3ZlZCByaWdodFxuICAgICAgICAgICAgaWYgKEJVSUxELnNsb3RSZWxvY2F0aW9uICYmIChvbGRTdGFydFZub2RlLiR0YWckID09PSAnc2xvdCcgfHwgbmV3RW5kVm5vZGUuJHRhZyQgPT09ICdzbG90JykpIHtcbiAgICAgICAgICAgICAgICBwdXRCYWNrSW5PcmlnaW5hbExvY2F0aW9uKG9sZFN0YXJ0Vm5vZGUuJGVsbSQucGFyZW50Tm9kZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGF0Y2gob2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUpO1xuICAgICAgICAgICAgcGFyZW50RWxtLmluc2VydEJlZm9yZShvbGRTdGFydFZub2RlLiRlbG0kLCBvbGRFbmRWbm9kZS4kZWxtJC5uZXh0U2libGluZyk7XG4gICAgICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1NhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHtcbiAgICAgICAgICAgIC8vIFZub2RlIG1vdmVkIGxlZnRcbiAgICAgICAgICAgIGlmIChCVUlMRC5zbG90UmVsb2NhdGlvbiAmJiAob2xkU3RhcnRWbm9kZS4kdGFnJCA9PT0gJ3Nsb3QnIHx8IG5ld0VuZFZub2RlLiR0YWckID09PSAnc2xvdCcpKSB7XG4gICAgICAgICAgICAgICAgcHV0QmFja0luT3JpZ2luYWxMb2NhdGlvbihvbGRFbmRWbm9kZS4kZWxtJC5wYXJlbnROb2RlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXRjaChvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSk7XG4gICAgICAgICAgICBwYXJlbnRFbG0uaW5zZXJ0QmVmb3JlKG9sZEVuZFZub2RlLiRlbG0kLCBvbGRTdGFydFZub2RlLiRlbG0kKTtcbiAgICAgICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gY3JlYXRlS2V5VG9PbGRJZHhcbiAgICAgICAgICAgIGlkeEluT2xkID0gLTE7XG4gICAgICAgICAgICBpZiAoQlVJTEQudmRvbUtleSkge1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IG9sZFN0YXJ0SWR4OyBpIDw9IG9sZEVuZElkeDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRDaFtpXSAmJiBvbGRDaFtpXS4ka2V5JCAhPT0gbnVsbCAmJiBvbGRDaFtpXS4ka2V5JCA9PT0gbmV3U3RhcnRWbm9kZS4ka2V5JCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWR4SW5PbGQgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQlVJTEQudmRvbUtleSAmJiBpZHhJbk9sZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgZWxtVG9Nb3ZlID0gb2xkQ2hbaWR4SW5PbGRdO1xuICAgICAgICAgICAgICAgIGlmIChlbG1Ub01vdmUuJHRhZyQgIT09IG5ld1N0YXJ0Vm5vZGUuJHRhZyQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGNyZWF0ZUVsbShvbGRDaCAmJiBvbGRDaFtuZXdTdGFydElkeF0sIG5ld1ZOb2RlLCBpZHhJbk9sZCwgcGFyZW50RWxtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKGVsbVRvTW92ZSwgbmV3U3RhcnRWbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIG9sZENoW2lkeEluT2xkXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGVsbVRvTW92ZS4kZWxtJDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbmV3IGVsZW1lbnRcbiAgICAgICAgICAgICAgICBub2RlID0gY3JlYXRlRWxtKG9sZENoICYmIG9sZENoW25ld1N0YXJ0SWR4XSwgbmV3Vk5vZGUsIG5ld1N0YXJ0SWR4LCBwYXJlbnRFbG0pO1xuICAgICAgICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKEJVSUxELnNsb3RSZWxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFJlZmVyZW5jZU5vZGUob2xkU3RhcnRWbm9kZS4kZWxtJCkuaW5zZXJ0QmVmb3JlKG5vZGUsIHJlZmVyZW5jZU5vZGUob2xkU3RhcnRWbm9kZS4kZWxtJCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2xkU3RhcnRWbm9kZS4kZWxtJC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBvbGRTdGFydFZub2RlLiRlbG0kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9sZFN0YXJ0SWR4ID4gb2xkRW5kSWR4KSB7XG4gICAgICAgIGFkZFZub2RlcyhwYXJlbnRFbG0sIG5ld0NoW25ld0VuZElkeCArIDFdID09IG51bGwgPyBudWxsIDogbmV3Q2hbbmV3RW5kSWR4ICsgMV0uJGVsbSQsIG5ld1ZOb2RlLCBuZXdDaCwgbmV3U3RhcnRJZHgsIG5ld0VuZElkeCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKEJVSUxELnVwZGF0YWJsZSAmJiBuZXdTdGFydElkeCA+IG5ld0VuZElkeCkge1xuICAgICAgICByZW1vdmVWbm9kZXMob2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpO1xuICAgIH1cbn07XG5jb25zdCBpc1NhbWVWbm9kZSA9ICh2bm9kZTEsIHZub2RlMikgPT4ge1xuICAgIC8vIGNvbXBhcmUgaWYgdHdvIHZub2RlIHRvIHNlZSBpZiB0aGV5J3JlIFwidGVjaG5pY2FsbHlcIiB0aGUgc2FtZVxuICAgIC8vIG5lZWQgdG8gaGF2ZSB0aGUgc2FtZSBlbGVtZW50IHRhZywgYW5kIHNhbWUga2V5IHRvIGJlIHRoZSBzYW1lXG4gICAgaWYgKHZub2RlMS4kdGFnJCA9PT0gdm5vZGUyLiR0YWckKSB7XG4gICAgICAgIGlmIChCVUlMRC5zbG90UmVsb2NhdGlvbiAmJiB2bm9kZTEuJHRhZyQgPT09ICdzbG90Jykge1xuICAgICAgICAgICAgcmV0dXJuIHZub2RlMS4kbmFtZSQgPT09IHZub2RlMi4kbmFtZSQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEJVSUxELnZkb21LZXkpIHtcbiAgICAgICAgICAgIHJldHVybiB2bm9kZTEuJGtleSQgPT09IHZub2RlMi4ka2V5JDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmNvbnN0IHJlZmVyZW5jZU5vZGUgPSAobm9kZSkgPT4ge1xuICAgIC8vIHRoaXMgbm9kZSB3YXMgcmVsb2NhdGVkIHRvIGEgbmV3IGxvY2F0aW9uIGluIHRoZSBkb21cbiAgICAvLyBiZWNhdXNlIG9mIHNvbWUgb3RoZXIgY29tcG9uZW50J3Mgc2xvdFxuICAgIC8vIGJ1dCB3ZSBzdGlsbCBoYXZlIGFuIGh0bWwgY29tbWVudCBpbiBwbGFjZSBvZiB3aGVyZVxuICAgIC8vIGl0J3Mgb3JpZ2luYWwgbG9jYXRpb24gd2FzIGFjY29yZGluZyB0byBpdCdzIG9yaWdpbmFsIHZkb21cbiAgICByZXR1cm4gKG5vZGUgJiYgbm9kZVsncy1vbCddKSB8fCBub2RlO1xufTtcbmNvbnN0IHBhcmVudFJlZmVyZW5jZU5vZGUgPSAobm9kZSkgPT4gKG5vZGVbJ3Mtb2wnXSA/IG5vZGVbJ3Mtb2wnXSA6IG5vZGUpLnBhcmVudE5vZGU7XG5jb25zdCBwYXRjaCA9IChvbGRWTm9kZSwgbmV3Vk5vZGUpID0+IHtcbiAgICBjb25zdCBlbG0gPSAobmV3Vk5vZGUuJGVsbSQgPSBvbGRWTm9kZS4kZWxtJCk7XG4gICAgY29uc3Qgb2xkQ2hpbGRyZW4gPSBvbGRWTm9kZS4kY2hpbGRyZW4kO1xuICAgIGNvbnN0IG5ld0NoaWxkcmVuID0gbmV3Vk5vZGUuJGNoaWxkcmVuJDtcbiAgICBjb25zdCB0YWcgPSBuZXdWTm9kZS4kdGFnJDtcbiAgICBjb25zdCB0ZXh0ID0gbmV3Vk5vZGUuJHRleHQkO1xuICAgIGxldCBkZWZhdWx0SG9sZGVyO1xuICAgIGlmICghQlVJTEQudmRvbVRleHQgfHwgdGV4dCA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoQlVJTEQuc3ZnKSB7XG4gICAgICAgICAgICAvLyB0ZXN0IGlmIHdlJ3JlIHJlbmRlcmluZyBhbiBzdmcgZWxlbWVudCwgb3Igc3RpbGwgcmVuZGVyaW5nIG5vZGVzIGluc2lkZSBvZiBvbmVcbiAgICAgICAgICAgIC8vIG9ubHkgYWRkIHRoaXMgdG8gdGhlIHdoZW4gdGhlIGNvbXBpbGVyIHNlZXMgd2UncmUgdXNpbmcgYW4gc3ZnIHNvbWV3aGVyZVxuICAgICAgICAgICAgaXNTdmdNb2RlID0gdGFnID09PSAnc3ZnJyA/IHRydWUgOiB0YWcgPT09ICdmb3JlaWduT2JqZWN0JyA/IGZhbHNlIDogaXNTdmdNb2RlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVsZW1lbnQgbm9kZVxuICAgICAgICBpZiAoQlVJTEQudmRvbUF0dHJpYnV0ZSB8fCBCVUlMRC5yZWZsZWN0KSB7XG4gICAgICAgICAgICBpZiAoQlVJTEQuc2xvdCAmJiB0YWcgPT09ICdzbG90JylcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBlaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgcmVuZGVyIG9mIGFuIGVsZW1lbnQgT1IgaXQncyBhbiB1cGRhdGVcbiAgICAgICAgICAgICAgICAvLyBBTkQgd2UgYWxyZWFkeSBrbm93IGl0J3MgcG9zc2libGUgaXQgY291bGQgaGF2ZSBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgLy8gdGhpcyB1cGRhdGVzIHRoZSBlbGVtZW50J3MgY3NzIGNsYXNzZXMsIGF0dHJzLCBwcm9wcywgbGlzdGVuZXJzLCBldGMuXG4gICAgICAgICAgICAgICAgdXBkYXRlRWxlbWVudChvbGRWTm9kZSwgbmV3Vk5vZGUsIGlzU3ZnTW9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEJVSUxELnVwZGF0YWJsZSAmJiBvbGRDaGlsZHJlbiAhPT0gbnVsbCAmJiBuZXdDaGlsZHJlbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGVyZSdzIGNoaWxkIHZub2RlcyBmb3IgYm90aCB0aGUgb2xkIGFuZCBuZXcgdm5vZGVzXG4gICAgICAgICAgICB1cGRhdGVDaGlsZHJlbihlbG0sIG9sZENoaWxkcmVuLCBuZXdWTm9kZSwgbmV3Q2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5ld0NoaWxkcmVuICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBubyBvbGQgY2hpbGQgdm5vZGVzLCBidXQgdGhlcmUgYXJlIG5ldyBjaGlsZCB2bm9kZXMgdG8gYWRkXG4gICAgICAgICAgICBpZiAoQlVJTEQudXBkYXRhYmxlICYmIEJVSUxELnZkb21UZXh0ICYmIG9sZFZOb2RlLiR0ZXh0JCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIHRoZSBvbGQgdm5vZGUgd2FzIHRleHQsIHNvIGJlIHN1cmUgdG8gY2xlYXIgaXQgb3V0XG4gICAgICAgICAgICAgICAgZWxtLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhZGQgdGhlIG5ldyB2bm9kZSBjaGlsZHJlblxuICAgICAgICAgICAgYWRkVm5vZGVzKGVsbSwgbnVsbCwgbmV3Vk5vZGUsIG5ld0NoaWxkcmVuLCAwLCBuZXdDaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChCVUlMRC51cGRhdGFibGUgJiYgb2xkQ2hpbGRyZW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIG5vIG5ldyBjaGlsZCB2bm9kZXMsIGJ1dCB0aGVyZSBhcmUgb2xkIGNoaWxkIHZub2RlcyB0byByZW1vdmVcbiAgICAgICAgICAgIHJlbW92ZVZub2RlcyhvbGRDaGlsZHJlbiwgMCwgb2xkQ2hpbGRyZW4ubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEJVSUxELnN2ZyAmJiBpc1N2Z01vZGUgJiYgdGFnID09PSAnc3ZnJykge1xuICAgICAgICAgICAgaXNTdmdNb2RlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoQlVJTEQudmRvbVRleHQgJiYgQlVJTEQuc2xvdFJlbG9jYXRpb24gJiYgKGRlZmF1bHRIb2xkZXIgPSBlbG1bJ3MtY3InXSkpIHtcbiAgICAgICAgLy8gdGhpcyBlbGVtZW50IGhhcyBzbG90dGVkIGNvbnRlbnRcbiAgICAgICAgZGVmYXVsdEhvbGRlci5wYXJlbnROb2RlLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICB9XG4gICAgZWxzZSBpZiAoQlVJTEQudmRvbVRleHQgJiYgb2xkVk5vZGUuJHRleHQkICE9PSB0ZXh0KSB7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgdGV4dCBjb250ZW50IGZvciB0aGUgdGV4dCBvbmx5IHZub2RlXG4gICAgICAgIC8vIGFuZCBhbHNvIG9ubHkgaWYgdGhlIHRleHQgaXMgZGlmZmVyZW50IHRoYW4gYmVmb3JlXG4gICAgICAgIGVsbS5kYXRhID0gdGV4dDtcbiAgICB9XG59O1xuY29uc3QgdXBkYXRlRmFsbGJhY2tTbG90VmlzaWJpbGl0eSA9IChlbG0pID0+IHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHByZWZlci1jb25zdFxuICAgIGxldCBjaGlsZE5vZGVzID0gZWxtLmNoaWxkTm9kZXM7XG4gICAgbGV0IGNoaWxkTm9kZTtcbiAgICBsZXQgaTtcbiAgICBsZXQgaWxlbjtcbiAgICBsZXQgajtcbiAgICBsZXQgc2xvdE5hbWVBdHRyO1xuICAgIGxldCBub2RlVHlwZTtcbiAgICBmb3IgKGkgPSAwLCBpbGVuID0gY2hpbGROb2Rlcy5sZW5ndGg7IGkgPCBpbGVuOyBpKyspIHtcbiAgICAgICAgY2hpbGROb2RlID0gY2hpbGROb2Rlc1tpXTtcbiAgICAgICAgaWYgKGNoaWxkTm9kZS5ub2RlVHlwZSA9PT0gMSAvKiBFbGVtZW50Tm9kZSAqLykge1xuICAgICAgICAgICAgaWYgKGNoaWxkTm9kZVsncy1zciddKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBhIHNsb3QgZmFsbGJhY2sgbm9kZVxuICAgICAgICAgICAgICAgIC8vIGdldCB0aGUgc2xvdCBuYW1lIGZvciB0aGlzIHNsb3QgcmVmZXJlbmNlIG5vZGVcbiAgICAgICAgICAgICAgICBzbG90TmFtZUF0dHIgPSBjaGlsZE5vZGVbJ3Mtc24nXTtcbiAgICAgICAgICAgICAgICAvLyBieSBkZWZhdWx0IGFsd2F5cyBzaG93IGEgZmFsbGJhY2sgc2xvdCBub2RlXG4gICAgICAgICAgICAgICAgLy8gdGhlbiBoaWRlIGl0IGlmIHRoZXJlIGFyZSBvdGhlciBzbG90cyBpbiB0aGUgbGlnaHQgZG9tXG4gICAgICAgICAgICAgICAgY2hpbGROb2RlLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBpbGVuOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZVR5cGUgPSBjaGlsZE5vZGVzW2pdLm5vZGVUeXBlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGROb2Rlc1tqXVsncy1obiddICE9PSBjaGlsZE5vZGVbJ3MtaG4nXSB8fCBzbG90TmFtZUF0dHIgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHNpYmxpbmcgbm9kZSBpcyBmcm9tIGEgZGlmZmVyZW50IGNvbXBvbmVudCBPUiBpcyBhIG5hbWVkIGZhbGxiYWNrIHNsb3Qgbm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovICYmIHNsb3ROYW1lQXR0ciA9PT0gY2hpbGROb2Rlc1tqXS5nZXRBdHRyaWJ1dGUoJ3Nsb3QnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkTm9kZS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBhIGRlZmF1bHQgZmFsbGJhY2sgc2xvdCBub2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbnkgZWxlbWVudCBvciB0ZXh0IG5vZGUgKHdpdGggY29udGVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBoaWRlIHRoZSBkZWZhdWx0IGZhbGxiYWNrIHNsb3Qgbm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKG5vZGVUeXBlID09PSAzIC8qIFRleHROb2RlICovICYmIGNoaWxkTm9kZXNbal0udGV4dENvbnRlbnQudHJpbSgpICE9PSAnJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZE5vZGUuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGtlZXAgZHJpbGxpbmcgZG93blxuICAgICAgICAgICAgdXBkYXRlRmFsbGJhY2tTbG90VmlzaWJpbGl0eShjaGlsZE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IHJlbG9jYXRlTm9kZXMgPSBbXTtcbmNvbnN0IHJlbG9jYXRlU2xvdENvbnRlbnQgPSAoZWxtKSA9PiB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBwcmVmZXItY29uc3RcbiAgICBsZXQgY2hpbGROb2RlO1xuICAgIGxldCBub2RlO1xuICAgIGxldCBob3N0Q29udGVudE5vZGVzO1xuICAgIGxldCBzbG90TmFtZUF0dHI7XG4gICAgbGV0IHJlbG9jYXRlTm9kZURhdGE7XG4gICAgbGV0IGo7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBjaGlsZE5vZGVzID0gZWxtLmNoaWxkTm9kZXM7XG4gICAgbGV0IGlsZW4gPSBjaGlsZE5vZGVzLmxlbmd0aDtcbiAgICBmb3IgKDsgaSA8IGlsZW47IGkrKykge1xuICAgICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGVzW2ldO1xuICAgICAgICBpZiAoY2hpbGROb2RlWydzLXNyJ10gJiYgKG5vZGUgPSBjaGlsZE5vZGVbJ3MtY3InXSkgJiYgbm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAvLyBmaXJzdCBnb3QgdGhlIGNvbnRlbnQgcmVmZXJlbmNlIGNvbW1lbnQgbm9kZVxuICAgICAgICAgICAgLy8gdGhlbiB3ZSBnb3QgaXQncyBwYXJlbnQsIHdoaWNoIGlzIHdoZXJlIGFsbCB0aGUgaG9zdCBjb250ZW50IGlzIGluIG5vd1xuICAgICAgICAgICAgaG9zdENvbnRlbnROb2RlcyA9IG5vZGUucGFyZW50Tm9kZS5jaGlsZE5vZGVzO1xuICAgICAgICAgICAgc2xvdE5hbWVBdHRyID0gY2hpbGROb2RlWydzLXNuJ107XG4gICAgICAgICAgICBmb3IgKGogPSBob3N0Q29udGVudE5vZGVzLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IGhvc3RDb250ZW50Tm9kZXNbal07XG4gICAgICAgICAgICAgICAgaWYgKCFub2RlWydzLWNuJ10gJiYgIW5vZGVbJ3MtbnInXSAmJiBub2RlWydzLWhuJ10gIT09IGNoaWxkTm9kZVsncy1obiddKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxldCdzIGRvIHNvbWUgcmVsb2NhdGluZyB0byBpdHMgbmV3IGhvbWVcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IG5ldmVyIHJlbG9jYXRlIGEgY29udGVudCByZWZlcmVuY2Ugbm9kZVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGF0IGlzIHN1cHBvc2UgdG8gYWx3YXlzIHJlcHJlc2VudCB0aGUgb3JpZ2luYWwgY29udGVudCBsb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOb2RlTG9jYXRlZEluU2xvdChub2RlLCBzbG90TmFtZUF0dHIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIHBvc3NpYmxlIHdlJ3ZlIGFscmVhZHkgZGVjaWRlZCB0byByZWxvY2F0ZSB0aGlzIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9jYXRlTm9kZURhdGEgPSByZWxvY2F0ZU5vZGVzLmZpbmQociA9PiByLiRub2RlVG9SZWxvY2F0ZSQgPT09IG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFkZSBzb21lIGNoYW5nZXMgdG8gc2xvdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCdzIG1ha2Ugc3VyZSB3ZSBhbHNvIGRvdWJsZSBjaGVja1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmFsbGJhY2tzIGFyZSBjb3JyZWN0bHkgaGlkZGVuIG9yIHNob3duXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja1Nsb3RGYWxsYmFja1Zpc2liaWxpdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVsncy1zbiddID0gbm9kZVsncy1zbiddIHx8IHNsb3ROYW1lQXR0cjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWxvY2F0ZU5vZGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJldmlvdXNseSB3ZSBuZXZlciBmb3VuZCBhIHNsb3QgaG9tZSBmb3IgdGhpcyBub2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnV0IHR1cm5zIG91dCB3ZSBkaWQsIHNvIGxldCdzIHJlbWVtYmVyIGl0IG5vd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9jYXRlTm9kZURhdGEuJHNsb3RSZWZOb2RlJCA9IGNoaWxkTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0byBvdXIgbGlzdCBvZiBub2RlcyB0byByZWxvY2F0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9jYXRlTm9kZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzbG90UmVmTm9kZSQ6IGNoaWxkTm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG5vZGVUb1JlbG9jYXRlJDogbm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlWydzLXNyJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxvY2F0ZU5vZGVzLm1hcChyZWxvY2F0ZU5vZGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOb2RlTG9jYXRlZEluU2xvdChyZWxvY2F0ZU5vZGUuJG5vZGVUb1JlbG9jYXRlJCwgbm9kZVsncy1zbiddKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2NhdGVOb2RlRGF0YSA9IHJlbG9jYXRlTm9kZXMuZmluZChyID0+IHIuJG5vZGVUb1JlbG9jYXRlJCA9PT0gbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVsb2NhdGVOb2RlRGF0YSAmJiAhcmVsb2NhdGVOb2RlLiRzbG90UmVmTm9kZSQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxvY2F0ZU5vZGUuJHNsb3RSZWZOb2RlJCA9IHJlbG9jYXRlTm9kZURhdGEuJHNsb3RSZWZOb2RlJDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFyZWxvY2F0ZU5vZGVzLnNvbWUociA9PiByLiRub2RlVG9SZWxvY2F0ZSQgPT09IG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzbyBmYXIgdGhpcyBlbGVtZW50IGRvZXMgbm90IGhhdmUgYSBzbG90IGhvbWUsIG5vdCBzZXR0aW5nIHNsb3RSZWZOb2RlIG9uIHB1cnBvc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHdlIG5ldmVyIGZpbmQgYSBob21lIGZvciB0aGlzIGVsZW1lbnQgdGhlbiB3ZSdsbCBuZWVkIHRvIGhpZGUgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9jYXRlTm9kZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJG5vZGVUb1JlbG9jYXRlJDogbm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZE5vZGUubm9kZVR5cGUgPT09IDEgLyogRWxlbWVudE5vZGUgKi8pIHtcbiAgICAgICAgICAgIHJlbG9jYXRlU2xvdENvbnRlbnQoY2hpbGROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBpc05vZGVMb2NhdGVkSW5TbG90ID0gKG5vZGVUb1JlbG9jYXRlLCBzbG90TmFtZUF0dHIpID0+IHtcbiAgICBpZiAobm9kZVRvUmVsb2NhdGUubm9kZVR5cGUgPT09IDEgLyogRWxlbWVudE5vZGUgKi8pIHtcbiAgICAgICAgaWYgKG5vZGVUb1JlbG9jYXRlLmdldEF0dHJpYnV0ZSgnc2xvdCcpID09PSBudWxsICYmIHNsb3ROYW1lQXR0ciA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlVG9SZWxvY2F0ZS5nZXRBdHRyaWJ1dGUoJ3Nsb3QnKSA9PT0gc2xvdE5hbWVBdHRyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChub2RlVG9SZWxvY2F0ZVsncy1zbiddID09PSBzbG90TmFtZUF0dHIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBzbG90TmFtZUF0dHIgPT09ICcnO1xufTtcbmNvbnN0IGNhbGxOb2RlUmVmcyA9ICh2Tm9kZSkgPT4ge1xuICAgIGlmIChCVUlMRC52ZG9tUmVmKSB7XG4gICAgICAgIHZOb2RlLiRhdHRycyQgJiYgdk5vZGUuJGF0dHJzJC5yZWYgJiYgdk5vZGUuJGF0dHJzJC5yZWYobnVsbCk7XG4gICAgICAgIHZOb2RlLiRjaGlsZHJlbiQgJiYgdk5vZGUuJGNoaWxkcmVuJC5tYXAoY2FsbE5vZGVSZWZzKTtcbiAgICB9XG59O1xuY29uc3QgcmVuZGVyVmRvbSA9IChob3N0UmVmLCByZW5kZXJGblJlc3VsdHMpID0+IHtcbiAgICBjb25zdCBob3N0RWxtID0gaG9zdFJlZi4kaG9zdEVsZW1lbnQkO1xuICAgIGNvbnN0IGNtcE1ldGEgPSBob3N0UmVmLiRjbXBNZXRhJDtcbiAgICBjb25zdCBvbGRWTm9kZSA9IGhvc3RSZWYuJHZub2RlJCB8fCBuZXdWTm9kZShudWxsLCBudWxsKTtcbiAgICBjb25zdCByb290Vm5vZGUgPSBpc0hvc3QocmVuZGVyRm5SZXN1bHRzKSA/IHJlbmRlckZuUmVzdWx0cyA6IGgobnVsbCwgbnVsbCwgcmVuZGVyRm5SZXN1bHRzKTtcbiAgICBob3N0VGFnTmFtZSA9IGhvc3RFbG0udGFnTmFtZTtcbiAgICAvLyA8SG9zdD4gcnVudGltZSBjaGVja1xuICAgIGlmIChCVUlMRC5pc0RldiAmJiBBcnJheS5pc0FycmF5KHJlbmRlckZuUmVzdWx0cykgJiYgcmVuZGVyRm5SZXN1bHRzLnNvbWUoaXNIb3N0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSA8SG9zdD4gbXVzdCBiZSB0aGUgc2luZ2xlIHJvb3QgY29tcG9uZW50LlxuTG9va3MgbGlrZSB0aGUgcmVuZGVyKCkgZnVuY3Rpb24gb2YgXCIke2hvc3RUYWdOYW1lLnRvTG93ZXJDYXNlKCl9XCIgaXMgcmV0dXJuaW5nIGFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIDxIb3N0Pi5cblxuVGhlIHJlbmRlcigpIGZ1bmN0aW9uIHNob3VsZCBsb29rIGxpa2UgdGhpcyBpbnN0ZWFkOlxuXG5yZW5kZXIoKSB7XG4gIC8vIERvIG5vdCByZXR1cm4gYW4gYXJyYXlcbiAgcmV0dXJuIChcbiAgICA8SG9zdD57Y29udGVudH08L0hvc3Q+XG4gICk7XG59XG4gIGApO1xuICAgIH1cbiAgICBpZiAoQlVJTEQucmVmbGVjdCAmJiBjbXBNZXRhLiRhdHRyc1RvUmVmbGVjdCQpIHtcbiAgICAgICAgcm9vdFZub2RlLiRhdHRycyQgPSByb290Vm5vZGUuJGF0dHJzJCB8fCB7fTtcbiAgICAgICAgY21wTWV0YS4kYXR0cnNUb1JlZmxlY3QkLm1hcCgoW3Byb3BOYW1lLCBhdHRyaWJ1dGVdKSA9PiAocm9vdFZub2RlLiRhdHRycyRbYXR0cmlidXRlXSA9IGhvc3RFbG1bcHJvcE5hbWVdKSk7XG4gICAgfVxuICAgIHJvb3RWbm9kZS4kdGFnJCA9IG51bGw7XG4gICAgcm9vdFZub2RlLiRmbGFncyQgfD0gNCAvKiBpc0hvc3QgKi87XG4gICAgaG9zdFJlZi4kdm5vZGUkID0gcm9vdFZub2RlO1xuICAgIHJvb3RWbm9kZS4kZWxtJCA9IG9sZFZOb2RlLiRlbG0kID0gKEJVSUxELnNoYWRvd0RvbSA/IGhvc3RFbG0uc2hhZG93Um9vdCB8fCBob3N0RWxtIDogaG9zdEVsbSk7XG4gICAgaWYgKEJVSUxELnNjb3BlZCB8fCBCVUlMRC5zaGFkb3dEb20pIHtcbiAgICAgICAgc2NvcGVJZCA9IGhvc3RFbG1bJ3Mtc2MnXTtcbiAgICB9XG4gICAgaWYgKEJVSUxELnNsb3RSZWxvY2F0aW9uKSB7XG4gICAgICAgIGNvbnRlbnRSZWYgPSBob3N0RWxtWydzLWNyJ107XG4gICAgICAgIHVzZU5hdGl2ZVNoYWRvd0RvbSA9IHN1cHBvcnRzU2hhZG93ICYmIChjbXBNZXRhLiRmbGFncyQgJiAxIC8qIHNoYWRvd0RvbUVuY2Fwc3VsYXRpb24gKi8pICE9PSAwO1xuICAgICAgICAvLyBhbHdheXMgcmVzZXRcbiAgICAgICAgY2hlY2tTbG90RmFsbGJhY2tWaXNpYmlsaXR5ID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIHN5bmNocm9ub3VzIHBhdGNoXG4gICAgcGF0Y2gob2xkVk5vZGUsIHJvb3RWbm9kZSk7XG4gICAgaWYgKEJVSUxELnNsb3RSZWxvY2F0aW9uKSB7XG4gICAgICAgIC8vIHdoaWxlIHdlJ3JlIG1vdmluZyBub2RlcyBhcm91bmQgZXhpc3Rpbmcgbm9kZXMsIHRlbXBvcmFyaWx5IGRpc2FibGVcbiAgICAgICAgLy8gdGhlIGRpc2Nvbm5lY3RDYWxsYmFjayBmcm9tIHdvcmtpbmdcbiAgICAgICAgcGx0LiRmbGFncyQgfD0gMSAvKiBpc1RtcERpc2Nvbm5lY3RlZCAqLztcbiAgICAgICAgaWYgKGNoZWNrU2xvdFJlbG9jYXRlKSB7XG4gICAgICAgICAgICByZWxvY2F0ZVNsb3RDb250ZW50KHJvb3RWbm9kZS4kZWxtJCk7XG4gICAgICAgICAgICBsZXQgcmVsb2NhdGVEYXRhO1xuICAgICAgICAgICAgbGV0IG5vZGVUb1JlbG9jYXRlO1xuICAgICAgICAgICAgbGV0IG9yZ0xvY2F0aW9uTm9kZTtcbiAgICAgICAgICAgIGxldCBwYXJlbnROb2RlUmVmO1xuICAgICAgICAgICAgbGV0IGluc2VydEJlZm9yZU5vZGU7XG4gICAgICAgICAgICBsZXQgcmVmTm9kZTtcbiAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgcmVsb2NhdGVOb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHJlbG9jYXRlRGF0YSA9IHJlbG9jYXRlTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgbm9kZVRvUmVsb2NhdGUgPSByZWxvY2F0ZURhdGEuJG5vZGVUb1JlbG9jYXRlJDtcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGVUb1JlbG9jYXRlWydzLW9sJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGEgcmVmZXJlbmNlIG5vZGUgbWFya2luZyB0aGlzIG5vZGUncyBvcmlnaW5hbCBsb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoaXMgbm9kZSBmb3IgbGF0ZXIgbG9va3Vwc1xuICAgICAgICAgICAgICAgICAgICBvcmdMb2NhdGlvbk5vZGUgPSBCVUlMRC5pc0RlYnVnIHx8IEJVSUxELmh5ZHJhdGVTZXJ2ZXJTaWRlID8gb3JpZ2luYWxMb2NhdGlvbkRlYnVnTm9kZShub2RlVG9SZWxvY2F0ZSkgOiBkb2MuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgICAgICAgICAgICAgICBvcmdMb2NhdGlvbk5vZGVbJ3MtbnInXSA9IG5vZGVUb1JlbG9jYXRlO1xuICAgICAgICAgICAgICAgICAgICBub2RlVG9SZWxvY2F0ZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSgobm9kZVRvUmVsb2NhdGVbJ3Mtb2wnXSA9IG9yZ0xvY2F0aW9uTm9kZSksIG5vZGVUb1JlbG9jYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmVsb2NhdGVOb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHJlbG9jYXRlRGF0YSA9IHJlbG9jYXRlTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgbm9kZVRvUmVsb2NhdGUgPSByZWxvY2F0ZURhdGEuJG5vZGVUb1JlbG9jYXRlJDtcbiAgICAgICAgICAgICAgICBpZiAocmVsb2NhdGVEYXRhLiRzbG90UmVmTm9kZSQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYnkgZGVmYXVsdCB3ZSdyZSBqdXN0IGdvaW5nIHRvIGluc2VydCBpdCBkaXJlY3RseVxuICAgICAgICAgICAgICAgICAgICAvLyBhZnRlciB0aGUgc2xvdCByZWZlcmVuY2Ugbm9kZVxuICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlUmVmID0gcmVsb2NhdGVEYXRhLiRzbG90UmVmTm9kZSQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlTm9kZSA9IHJlbG9jYXRlRGF0YS4kc2xvdFJlZk5vZGUkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICBvcmdMb2NhdGlvbk5vZGUgPSBub2RlVG9SZWxvY2F0ZVsncy1vbCddO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG9yZ0xvY2F0aW9uTm9kZSA9IG9yZ0xvY2F0aW9uTm9kZS5wcmV2aW91c1NpYmxpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZOb2RlID0gb3JnTG9jYXRpb25Ob2RlWydzLW5yJ107XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVmTm9kZSAmJiByZWZOb2RlWydzLXNuJ10gPT09IG5vZGVUb1JlbG9jYXRlWydzLXNuJ10gJiYgcGFyZW50Tm9kZVJlZiA9PT0gcmVmTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmTm9kZSA9IHJlZk5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWZOb2RlIHx8ICFyZWZOb2RlWydzLW5yJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlTm9kZSA9IHJlZk5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoKCFpbnNlcnRCZWZvcmVOb2RlICYmIHBhcmVudE5vZGVSZWYgIT09IG5vZGVUb1JlbG9jYXRlLnBhcmVudE5vZGUpIHx8IG5vZGVUb1JlbG9jYXRlLm5leHRTaWJsaW5nICE9PSBpbnNlcnRCZWZvcmVOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSd2ZSBjaGVja2VkIHRoYXQgaXQncyB3b3J0aCB3aGlsZSB0byByZWxvY2F0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luY2UgdGhhdCB0aGUgbm9kZSB0byByZWxvY2F0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFzIGEgZGlmZmVyZW50IG5leHQgc2libGluZyBvciBwYXJlbnQgcmVsb2NhdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZVRvUmVsb2NhdGUgIT09IGluc2VydEJlZm9yZU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5vZGVUb1JlbG9jYXRlWydzLWhuJ10gJiYgbm9kZVRvUmVsb2NhdGVbJ3Mtb2wnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9iYWJseSBhIGNvbXBvbmVudCBpbiB0aGUgaW5kZXguaHRtbCB0aGF0IGRvZXNuJ3QgaGF2ZSBpdCdzIGhvc3RuYW1lIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlVG9SZWxvY2F0ZVsncy1obiddID0gbm9kZVRvUmVsb2NhdGVbJ3Mtb2wnXS5wYXJlbnROb2RlLm5vZGVOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgaXQgYmFjayB0byB0aGUgZG9tIGJ1dCBpbiBpdHMgbmV3IGhvbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlUmVmLmluc2VydEJlZm9yZShub2RlVG9SZWxvY2F0ZSwgaW5zZXJ0QmVmb3JlTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbm9kZSBkb2Vzbid0IGhhdmUgYSBzbG90IGhvbWUgdG8gZ28gdG8sIHNvIGxldCdzIGhpZGUgaXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVUb1JlbG9jYXRlLm5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlVG9SZWxvY2F0ZS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjaGVja1Nsb3RGYWxsYmFja1Zpc2liaWxpdHkpIHtcbiAgICAgICAgICAgIHVwZGF0ZUZhbGxiYWNrU2xvdFZpc2liaWxpdHkocm9vdFZub2RlLiRlbG0kKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkb25lIG1vdmluZyBub2RlcyBhcm91bmRcbiAgICAgICAgLy8gYWxsb3cgdGhlIGRpc2Nvbm5lY3QgY2FsbGJhY2sgdG8gd29yayBhZ2FpblxuICAgICAgICBwbHQuJGZsYWdzJCAmPSB+MSAvKiBpc1RtcERpc2Nvbm5lY3RlZCAqLztcbiAgICAgICAgLy8gYWx3YXlzIHJlc2V0XG4gICAgICAgIHJlbG9jYXRlTm9kZXMubGVuZ3RoID0gMDtcbiAgICB9XG59O1xuLy8gc2xvdCBjb21tZW50IGRlYnVnIG5vZGVzIG9ubHkgY3JlYXRlZCB3aXRoIHRoZSBgLS1kZWJ1Z2AgZmxhZ1xuLy8gb3RoZXJ3aXNlIHRoZXNlIG5vZGVzIGFyZSB0ZXh0IG5vZGVzIHcvb3V0IGNvbnRlbnRcbmNvbnN0IHNsb3RSZWZlcmVuY2VEZWJ1Z05vZGUgPSAoc2xvdFZOb2RlKSA9PiBkb2MuY3JlYXRlQ29tbWVudChgPHNsb3Qke3Nsb3RWTm9kZS4kbmFtZSQgPyAnIG5hbWU9XCInICsgc2xvdFZOb2RlLiRuYW1lJCArICdcIicgOiAnJ30+IChob3N0PSR7aG9zdFRhZ05hbWUudG9Mb3dlckNhc2UoKX0pYCk7XG5jb25zdCBvcmlnaW5hbExvY2F0aW9uRGVidWdOb2RlID0gKG5vZGVUb1JlbG9jYXRlKSA9PiBkb2MuY3JlYXRlQ29tbWVudChgb3JnLWxvY2F0aW9uIGZvciBgICsgKG5vZGVUb1JlbG9jYXRlLmxvY2FsTmFtZSA/IGA8JHtub2RlVG9SZWxvY2F0ZS5sb2NhbE5hbWV9PiAoaG9zdD0ke25vZGVUb1JlbG9jYXRlWydzLWhuJ119KWAgOiBgWyR7bm9kZVRvUmVsb2NhdGUudGV4dENvbnRlbnR9XWApKTtcbmNvbnN0IGdldEVsZW1lbnQgPSAocmVmKSA9PiAoQlVJTEQubGF6eUxvYWQgPyBnZXRIb3N0UmVmKHJlZikuJGhvc3RFbGVtZW50JCA6IHJlZik7XG5jb25zdCBjcmVhdGVFdmVudCA9IChyZWYsIG5hbWUsIGZsYWdzKSA9PiB7XG4gICAgY29uc3QgZWxtID0gZ2V0RWxlbWVudChyZWYpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGVtaXQ6IChkZXRhaWwpID0+IHtcbiAgICAgICAgICAgIGlmIChCVUlMRC5pc0RldiAmJiAhZWxtLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZURldldhcm4oYFRoZSBcIiR7bmFtZX1cIiBldmVudCB3YXMgZW1pdHRlZCwgYnV0IHRoZSBkaXNwYXRjaGVyIG5vZGUgaXMgbm8gbG9uZ2VyIGNvbm5lY3RlZCB0byB0aGUgZG9tLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVtaXRFdmVudChlbG0sIG5hbWUsIHtcbiAgICAgICAgICAgICAgICBidWJibGVzOiAhIShmbGFncyAmIDQgLyogQnViYmxlcyAqLyksXG4gICAgICAgICAgICAgICAgY29tcG9zZWQ6ICEhKGZsYWdzICYgMiAvKiBDb21wb3NlZCAqLyksXG4gICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogISEoZmxhZ3MgJiAxIC8qIENhbmNlbGxhYmxlICovKSxcbiAgICAgICAgICAgICAgICBkZXRhaWwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbmNvbnN0IGVtaXRFdmVudCA9IChlbG0sIG5hbWUsIG9wdHMpID0+IHtcbiAgICBjb25zdCBldiA9IHBsdC5jZShuYW1lLCBvcHRzKTtcbiAgICBlbG0uZGlzcGF0Y2hFdmVudChldik7XG4gICAgcmV0dXJuIGV2O1xufTtcbmNvbnN0IGF0dGFjaFRvQW5jZXN0b3IgPSAoaG9zdFJlZiwgYW5jZXN0b3JDb21wb25lbnQpID0+IHtcbiAgICBpZiAoQlVJTEQuYXN5bmNMb2FkaW5nICYmIGFuY2VzdG9yQ29tcG9uZW50ICYmICFob3N0UmVmLiRvblJlbmRlclJlc29sdmUkICYmIGFuY2VzdG9yQ29tcG9uZW50WydzLXAnXSkge1xuICAgICAgICBhbmNlc3RvckNvbXBvbmVudFsncy1wJ10ucHVzaChuZXcgUHJvbWlzZShyID0+IChob3N0UmVmLiRvblJlbmRlclJlc29sdmUkID0gcikpKTtcbiAgICB9XG59O1xuY29uc3Qgc2NoZWR1bGVVcGRhdGUgPSAoaG9zdFJlZiwgaXNJbml0aWFsTG9hZCkgPT4ge1xuICAgIGlmIChCVUlMRC50YXNrUXVldWUgJiYgQlVJTEQudXBkYXRhYmxlKSB7XG4gICAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSAxNiAvKiBpc1F1ZXVlZEZvclVwZGF0ZSAqLztcbiAgICB9XG4gICAgaWYgKEJVSUxELmFzeW5jTG9hZGluZyAmJiBob3N0UmVmLiRmbGFncyQgJiA0IC8qIGlzV2FpdGluZ0ZvckNoaWxkcmVuICovKSB7XG4gICAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSA1MTIgLyogbmVlZHNSZXJlbmRlciAqLztcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhdHRhY2hUb0FuY2VzdG9yKGhvc3RSZWYsIGhvc3RSZWYuJGFuY2VzdG9yQ29tcG9uZW50JCk7XG4gICAgLy8gdGhlcmUgaXMgbm8gYW5jZXN0b3IgY29tcG9uZW50IG9yIHRoZSBhbmNlc3RvciBjb21wb25lbnRcbiAgICAvLyBoYXMgYWxyZWFkeSBmaXJlZCBvZmYgaXRzIGxpZmVjeWNsZSB1cGRhdGUgdGhlblxuICAgIC8vIGZpcmUgb2ZmIHRoZSBpbml0aWFsIHVwZGF0ZVxuICAgIGNvbnN0IGRpc3BhdGNoID0gKCkgPT4gZGlzcGF0Y2hIb29rcyhob3N0UmVmLCBpc0luaXRpYWxMb2FkKTtcbiAgICByZXR1cm4gQlVJTEQudGFza1F1ZXVlID8gd3JpdGVUYXNrKGRpc3BhdGNoKSA6IGRpc3BhdGNoKCk7XG59O1xuY29uc3QgZGlzcGF0Y2hIb29rcyA9IChob3N0UmVmLCBpc0luaXRpYWxMb2FkKSA9PiB7XG4gICAgY29uc3QgZWxtID0gaG9zdFJlZi4kaG9zdEVsZW1lbnQkO1xuICAgIGNvbnN0IGVuZFNjaGVkdWxlID0gY3JlYXRlVGltZSgnc2NoZWR1bGVVcGRhdGUnLCBob3N0UmVmLiRjbXBNZXRhJC4kdGFnTmFtZSQpO1xuICAgIGNvbnN0IGluc3RhbmNlID0gQlVJTEQubGF6eUxvYWQgPyBob3N0UmVmLiRsYXp5SW5zdGFuY2UkIDogZWxtO1xuICAgIGxldCBwcm9taXNlO1xuICAgIGlmIChpc0luaXRpYWxMb2FkKSB7XG4gICAgICAgIGlmIChCVUlMRC5sYXp5TG9hZCAmJiBCVUlMRC5ob3N0TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSAyNTYgLyogaXNMaXN0ZW5SZWFkeSAqLztcbiAgICAgICAgICAgIGlmIChob3N0UmVmLiRxdWV1ZWRMaXN0ZW5lcnMkKSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlZi4kcXVldWVkTGlzdGVuZXJzJC5tYXAoKFttZXRob2ROYW1lLCBldmVudF0pID0+IHNhZmVDYWxsKGluc3RhbmNlLCBtZXRob2ROYW1lLCBldmVudCkpO1xuICAgICAgICAgICAgICAgIGhvc3RSZWYuJHF1ZXVlZExpc3RlbmVycyQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVtaXRMaWZlY3ljbGVFdmVudChlbG0sICdjb21wb25lbnRXaWxsTG9hZCcpO1xuICAgICAgICBpZiAoQlVJTEQuY21wV2lsbExvYWQpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBzYWZlQ2FsbChpbnN0YW5jZSwgJ2NvbXBvbmVudFdpbGxMb2FkJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVtaXRMaWZlY3ljbGVFdmVudChlbG0sICdjb21wb25lbnRXaWxsVXBkYXRlJyk7XG4gICAgICAgIGlmIChCVUlMRC5jbXBXaWxsVXBkYXRlKSB7XG4gICAgICAgICAgICBwcm9taXNlID0gc2FmZUNhbGwoaW5zdGFuY2UsICdjb21wb25lbnRXaWxsVXBkYXRlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW1pdExpZmVjeWNsZUV2ZW50KGVsbSwgJ2NvbXBvbmVudFdpbGxSZW5kZXInKTtcbiAgICBpZiAoQlVJTEQuY21wV2lsbFJlbmRlcikge1xuICAgICAgICBwcm9taXNlID0gdGhlbihwcm9taXNlLCAoKSA9PiBzYWZlQ2FsbChpbnN0YW5jZSwgJ2NvbXBvbmVudFdpbGxSZW5kZXInKSk7XG4gICAgfVxuICAgIGVuZFNjaGVkdWxlKCk7XG4gICAgcmV0dXJuIHRoZW4ocHJvbWlzZSwgKCkgPT4gdXBkYXRlQ29tcG9uZW50KGhvc3RSZWYsIGluc3RhbmNlLCBpc0luaXRpYWxMb2FkKSk7XG59O1xuY29uc3QgdXBkYXRlQ29tcG9uZW50ID0gYXN5bmMgKGhvc3RSZWYsIGluc3RhbmNlLCBpc0luaXRpYWxMb2FkKSA9PiB7XG4gICAgLy8gdXBkYXRlQ29tcG9uZW50XG4gICAgY29uc3QgZWxtID0gaG9zdFJlZi4kaG9zdEVsZW1lbnQkO1xuICAgIGNvbnN0IGVuZFVwZGF0ZSA9IGNyZWF0ZVRpbWUoJ3VwZGF0ZScsIGhvc3RSZWYuJGNtcE1ldGEkLiR0YWdOYW1lJCk7XG4gICAgY29uc3QgcmMgPSBlbG1bJ3MtcmMnXTtcbiAgICBpZiAoQlVJTEQuc3R5bGUgJiYgaXNJbml0aWFsTG9hZCkge1xuICAgICAgICAvLyBET00gV1JJVEUhXG4gICAgICAgIGF0dGFjaFN0eWxlcyhob3N0UmVmKTtcbiAgICB9XG4gICAgY29uc3QgZW5kUmVuZGVyID0gY3JlYXRlVGltZSgncmVuZGVyJywgaG9zdFJlZi4kY21wTWV0YSQuJHRhZ05hbWUkKTtcbiAgICBpZiAoQlVJTEQuaXNEZXYpIHtcbiAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDEwMjQgLyogZGV2T25SZW5kZXIgKi87XG4gICAgfVxuICAgIGlmIChCVUlMRC5oeWRyYXRlU2VydmVyU2lkZSkge1xuICAgICAgICBhd2FpdCBjYWxsUmVuZGVyKGhvc3RSZWYsIGluc3RhbmNlLCBlbG0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2FsbFJlbmRlcihob3N0UmVmLCBpbnN0YW5jZSwgZWxtKTtcbiAgICB9XG4gICAgaWYgKEJVSUxELmNzc1ZhclNoaW0gJiYgcGx0LiRjc3NTaGltJCkge1xuICAgICAgICBwbHQuJGNzc1NoaW0kLnVwZGF0ZUhvc3QoZWxtKTtcbiAgICB9XG4gICAgaWYgKEJVSUxELmlzRGV2KSB7XG4gICAgICAgIGhvc3RSZWYuJHJlbmRlckNvdW50JCsrO1xuICAgICAgICBob3N0UmVmLiRmbGFncyQgJj0gfjEwMjQgLyogZGV2T25SZW5kZXIgKi87XG4gICAgfVxuICAgIGlmIChCVUlMRC5oeWRyYXRlU2VydmVyU2lkZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gbWFudWFsbHkgY29ubmVjdGVkIGNoaWxkIGNvbXBvbmVudHMgZHVyaW5nIHNlcnZlci1zaWRlIGh5ZHJhdGVcbiAgICAgICAgICAgIHNlcnZlclNpZGVDb25uZWN0ZWQoZWxtKTtcbiAgICAgICAgICAgIGlmIChpc0luaXRpYWxMb2FkKSB7XG4gICAgICAgICAgICAgICAgLy8gdXNpbmcgb25seSBkdXJpbmcgc2VydmVyLXNpZGUgaHlkcmF0ZVxuICAgICAgICAgICAgICAgIGlmIChob3N0UmVmLiRjbXBNZXRhJC4kZmxhZ3MkICYgMSAvKiBzaGFkb3dEb21FbmNhcHN1bGF0aW9uICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsbVsncy1lbiddID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhvc3RSZWYuJGNtcE1ldGEkLiRmbGFncyQgJiAyIC8qIHNjb3BlZENzc0VuY2Fwc3VsYXRpb24gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgZWxtWydzLWVuJ10gPSAnYyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlRXJyb3IoZSwgZWxtKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoQlVJTEQuYXN5bmNMb2FkaW5nICYmIHJjKSB7XG4gICAgICAgIC8vIG9rLCBzbyB0dXJucyBvdXQgdGhlcmUgYXJlIHNvbWUgY2hpbGQgaG9zdCBlbGVtZW50c1xuICAgICAgICAvLyB3YWl0aW5nIG9uIHRoaXMgcGFyZW50IGVsZW1lbnQgdG8gbG9hZFxuICAgICAgICAvLyBsZXQncyBmaXJlIG9mZiBhbGwgdXBkYXRlIGNhbGxiYWNrcyB3YWl0aW5nXG4gICAgICAgIHJjLm1hcChjYiA9PiBjYigpKTtcbiAgICAgICAgZWxtWydzLXJjJ10gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGVuZFJlbmRlcigpO1xuICAgIGVuZFVwZGF0ZSgpO1xuICAgIGlmIChCVUlMRC5hc3luY0xvYWRpbmcpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW5Qcm9taXNlcyA9IGVsbVsncy1wJ107XG4gICAgICAgIGNvbnN0IHBvc3RVcGRhdGUgPSAoKSA9PiBwb3N0VXBkYXRlQ29tcG9uZW50KGhvc3RSZWYpO1xuICAgICAgICBpZiAoY2hpbGRyZW5Qcm9taXNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHBvc3RVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFByb21pc2UuYWxsKGNoaWxkcmVuUHJvbWlzZXMpLnRoZW4ocG9zdFVwZGF0ZSk7XG4gICAgICAgICAgICBob3N0UmVmLiRmbGFncyQgfD0gNCAvKiBpc1dhaXRpbmdGb3JDaGlsZHJlbiAqLztcbiAgICAgICAgICAgIGNoaWxkcmVuUHJvbWlzZXMubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcG9zdFVwZGF0ZUNvbXBvbmVudChob3N0UmVmKTtcbiAgICB9XG59O1xuY29uc3QgY2FsbFJlbmRlciA9IChob3N0UmVmLCBpbnN0YW5jZSwgZWxtKSA9PiB7XG4gICAgLy8gaW4gb3JkZXIgZm9yIGJ1bmRsZXJzIHRvIGNvcnJlY3RseSB0cmVlc2hha2UgdGhlIEJVSUxEIG9iamVjdFxuICAgIC8vIHdlIG5lZWQgdG8gZW5zdXJlIEJVSUxEIGlzIG5vdCBkZW9wdGltaXplZCB3aXRoaW4gYSB0cnkvY2F0Y2hcbiAgICAvLyBodHRwczovL3JvbGx1cGpzLm9yZy9ndWlkZS9lbi8jdHJlZXNoYWtlIHRyeUNhdGNoRGVvcHRpbWl6YXRpb25cbiAgICBjb25zdCBhbGxSZW5kZXJGbiA9IEJVSUxELmFsbFJlbmRlckZuID8gdHJ1ZSA6IGZhbHNlO1xuICAgIGNvbnN0IGxhenlMb2FkID0gQlVJTEQubGF6eUxvYWQgPyB0cnVlIDogZmFsc2U7XG4gICAgY29uc3QgdGFza1F1ZXVlID0gQlVJTEQudGFza1F1ZXVlID8gdHJ1ZSA6IGZhbHNlO1xuICAgIGNvbnN0IHVwZGF0YWJsZSA9IEJVSUxELnVwZGF0YWJsZSA/IHRydWUgOiBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICByZW5kZXJpbmdSZWYgPSBpbnN0YW5jZTtcbiAgICAgICAgaW5zdGFuY2UgPSBhbGxSZW5kZXJGbiA/IGluc3RhbmNlLnJlbmRlcigpIDogaW5zdGFuY2UucmVuZGVyICYmIGluc3RhbmNlLnJlbmRlcigpO1xuICAgICAgICBpZiAodXBkYXRhYmxlICYmIHRhc2tRdWV1ZSkge1xuICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkICY9IH4xNiAvKiBpc1F1ZXVlZEZvclVwZGF0ZSAqLztcbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRhYmxlIHx8IGxhenlMb2FkKSB7XG4gICAgICAgICAgICBob3N0UmVmLiRmbGFncyQgfD0gMiAvKiBoYXNSZW5kZXJlZCAqLztcbiAgICAgICAgfVxuICAgICAgICBpZiAoQlVJTEQuaGFzUmVuZGVyRm4gfHwgQlVJTEQucmVmbGVjdCkge1xuICAgICAgICAgICAgaWYgKEJVSUxELnZkb21SZW5kZXIgfHwgQlVJTEQucmVmbGVjdCkge1xuICAgICAgICAgICAgICAgIC8vIGxvb2tzIGxpa2Ugd2UndmUgZ290IGNoaWxkIG5vZGVzIHRvIHJlbmRlciBpbnRvIHRoaXMgaG9zdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgLy8gb3Igd2UgbmVlZCB0byB1cGRhdGUgdGhlIGNzcyBjbGFzcy9hdHRycyBvbiB0aGUgaG9zdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgLy8gRE9NIFdSSVRFIVxuICAgICAgICAgICAgICAgIGlmIChCVUlMRC5oeWRyYXRlU2VydmVyU2lkZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGluc3RhbmNlKS50aGVuKHZhbHVlID0+IHJlbmRlclZkb20oaG9zdFJlZiwgdmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlclZkb20oaG9zdFJlZiwgaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsbS50ZXh0Q29udGVudCA9IGluc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGVFcnJvcihlLCBob3N0UmVmLiRob3N0RWxlbWVudCQpO1xuICAgIH1cbiAgICByZW5kZXJpbmdSZWYgPSBudWxsO1xuICAgIHJldHVybiBudWxsO1xufTtcbmNvbnN0IGdldFJlbmRlcmluZ1JlZiA9ICgpID0+IHJlbmRlcmluZ1JlZjtcbmNvbnN0IHBvc3RVcGRhdGVDb21wb25lbnQgPSAoaG9zdFJlZikgPT4ge1xuICAgIGNvbnN0IHRhZ05hbWUgPSBob3N0UmVmLiRjbXBNZXRhJC4kdGFnTmFtZSQ7XG4gICAgY29uc3QgZWxtID0gaG9zdFJlZi4kaG9zdEVsZW1lbnQkO1xuICAgIGNvbnN0IGVuZFBvc3RVcGRhdGUgPSBjcmVhdGVUaW1lKCdwb3N0VXBkYXRlJywgdGFnTmFtZSk7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBCVUlMRC5sYXp5TG9hZCA/IGhvc3RSZWYuJGxhenlJbnN0YW5jZSQgOiBlbG07XG4gICAgY29uc3QgYW5jZXN0b3JDb21wb25lbnQgPSBob3N0UmVmLiRhbmNlc3RvckNvbXBvbmVudCQ7XG4gICAgaWYgKEJVSUxELmNtcERpZFJlbmRlcikge1xuICAgICAgICBpZiAoQlVJTEQuaXNEZXYpIHtcbiAgICAgICAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSAxMDI0IC8qIGRldk9uUmVuZGVyICovO1xuICAgICAgICB9XG4gICAgICAgIHNhZmVDYWxsKGluc3RhbmNlLCAnY29tcG9uZW50RGlkUmVuZGVyJyk7XG4gICAgICAgIGlmIChCVUlMRC5pc0Rldikge1xuICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkICY9IH4xMDI0IC8qIGRldk9uUmVuZGVyICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVtaXRMaWZlY3ljbGVFdmVudChlbG0sICdjb21wb25lbnREaWRSZW5kZXInKTtcbiAgICBpZiAoIShob3N0UmVmLiRmbGFncyQgJiA2NCAvKiBoYXNMb2FkZWRDb21wb25lbnQgKi8pKSB7XG4gICAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSA2NCAvKiBoYXNMb2FkZWRDb21wb25lbnQgKi87XG4gICAgICAgIGlmIChCVUlMRC5hc3luY0xvYWRpbmcgJiYgQlVJTEQuY3NzQW5ub3RhdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIERPTSBXUklURSFcbiAgICAgICAgICAgIGFkZEh5ZHJhdGVkRmxhZyhlbG0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChCVUlMRC5jbXBEaWRMb2FkKSB7XG4gICAgICAgICAgICBpZiAoQlVJTEQuaXNEZXYpIHtcbiAgICAgICAgICAgICAgICBob3N0UmVmLiRmbGFncyQgfD0gMjA0OCAvKiBkZXZPbkRpZExvYWQgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzYWZlQ2FsbChpbnN0YW5jZSwgJ2NvbXBvbmVudERpZExvYWQnKTtcbiAgICAgICAgICAgIGlmIChCVUlMRC5pc0Rldikge1xuICAgICAgICAgICAgICAgIGhvc3RSZWYuJGZsYWdzJCAmPSB+MjA0OCAvKiBkZXZPbkRpZExvYWQgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZW1pdExpZmVjeWNsZUV2ZW50KGVsbSwgJ2NvbXBvbmVudERpZExvYWQnKTtcbiAgICAgICAgZW5kUG9zdFVwZGF0ZSgpO1xuICAgICAgICBpZiAoQlVJTEQuYXN5bmNMb2FkaW5nKSB7XG4gICAgICAgICAgICBob3N0UmVmLiRvblJlYWR5UmVzb2x2ZSQoZWxtKTtcbiAgICAgICAgICAgIGlmICghYW5jZXN0b3JDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICBhcHBEaWRMb2FkKHRhZ05hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoQlVJTEQuY21wRGlkVXBkYXRlKSB7XG4gICAgICAgICAgICAvLyB3ZSd2ZSBhbHJlYWR5IGxvYWRlZCB0aGlzIGNvbXBvbmVudFxuICAgICAgICAgICAgLy8gZmlyZSBvZmYgdGhlIHVzZXIncyBjb21wb25lbnREaWRVcGRhdGUgbWV0aG9kIChpZiBvbmUgd2FzIHByb3ZpZGVkKVxuICAgICAgICAgICAgLy8gY29tcG9uZW50RGlkVXBkYXRlIHJ1bnMgQUZURVIgcmVuZGVyKCkgaGFzIGJlZW4gY2FsbGVkXG4gICAgICAgICAgICAvLyBhbmQgYWxsIGNoaWxkIGNvbXBvbmVudHMgaGF2ZSBmaW5pc2hlZCB1cGRhdGluZ1xuICAgICAgICAgICAgaWYgKEJVSUxELmlzRGV2KSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDEwMjQgLyogZGV2T25SZW5kZXIgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzYWZlQ2FsbChpbnN0YW5jZSwgJ2NvbXBvbmVudERpZFVwZGF0ZScpO1xuICAgICAgICAgICAgaWYgKEJVSUxELmlzRGV2KSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkICY9IH4xMDI0IC8qIGRldk9uUmVuZGVyICovO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVtaXRMaWZlY3ljbGVFdmVudChlbG0sICdjb21wb25lbnREaWRVcGRhdGUnKTtcbiAgICAgICAgZW5kUG9zdFVwZGF0ZSgpO1xuICAgIH1cbiAgICBpZiAoQlVJTEQuaG90TW9kdWxlUmVwbGFjZW1lbnQpIHtcbiAgICAgICAgZWxtWydzLWhtci1sb2FkJ10gJiYgZWxtWydzLWhtci1sb2FkJ10oKTtcbiAgICB9XG4gICAgaWYgKEJVSUxELm1ldGhvZCAmJiBCVUlMRC5sYXp5TG9hZCkge1xuICAgICAgICBob3N0UmVmLiRvbkluc3RhbmNlUmVzb2x2ZSQoZWxtKTtcbiAgICB9XG4gICAgLy8gbG9hZCBldmVudHMgZmlyZSBmcm9tIGJvdHRvbSB0byB0b3BcbiAgICAvLyB0aGUgZGVlcGVzdCBlbGVtZW50cyBsb2FkIGZpcnN0IHRoZW4gYnViYmxlcyB1cFxuICAgIGlmIChCVUlMRC5hc3luY0xvYWRpbmcpIHtcbiAgICAgICAgaWYgKGhvc3RSZWYuJG9uUmVuZGVyUmVzb2x2ZSQpIHtcbiAgICAgICAgICAgIGhvc3RSZWYuJG9uUmVuZGVyUmVzb2x2ZSQoKTtcbiAgICAgICAgICAgIGhvc3RSZWYuJG9uUmVuZGVyUmVzb2x2ZSQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhvc3RSZWYuJGZsYWdzJCAmIDUxMiAvKiBuZWVkc1JlcmVuZGVyICovKSB7XG4gICAgICAgICAgICBuZXh0VGljaygoKSA9PiBzY2hlZHVsZVVwZGF0ZShob3N0UmVmLCBmYWxzZSkpO1xuICAgICAgICB9XG4gICAgICAgIGhvc3RSZWYuJGZsYWdzJCAmPSB+KDQgLyogaXNXYWl0aW5nRm9yQ2hpbGRyZW4gKi8gfCA1MTIgLyogbmVlZHNSZXJlbmRlciAqLyk7XG4gICAgfVxuICAgIC8vICgg4oCiX+KAoilcbiAgICAvLyAoIOKAol/igKIpPuKMkOKWoC3ilqBcbiAgICAvLyAo4oyQ4pagX+KWoClcbn07XG5jb25zdCBmb3JjZVVwZGF0ZSA9IChyZWYpID0+IHtcbiAgICBpZiAoQlVJTEQudXBkYXRhYmxlKSB7XG4gICAgICAgIGNvbnN0IGhvc3RSZWYgPSBnZXRIb3N0UmVmKHJlZik7XG4gICAgICAgIGNvbnN0IGlzQ29ubmVjdGVkID0gaG9zdFJlZi4kaG9zdEVsZW1lbnQkLmlzQ29ubmVjdGVkO1xuICAgICAgICBpZiAoaXNDb25uZWN0ZWQgJiYgKGhvc3RSZWYuJGZsYWdzJCAmICgyIC8qIGhhc1JlbmRlcmVkICovIHwgMTYgLyogaXNRdWV1ZWRGb3JVcGRhdGUgKi8pKSA9PT0gMiAvKiBoYXNSZW5kZXJlZCAqLykge1xuICAgICAgICAgICAgc2NoZWR1bGVVcGRhdGUoaG9zdFJlZiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJldHVybnMgXCJ0cnVlXCIgd2hlbiB0aGUgZm9yY2VkIHVwZGF0ZSB3YXMgc3VjY2Vzc2Z1bGx5IHNjaGVkdWxlZFxuICAgICAgICByZXR1cm4gaXNDb25uZWN0ZWQ7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5jb25zdCBhcHBEaWRMb2FkID0gKHdobykgPT4ge1xuICAgIC8vIG9uIGFwcGxvYWRcbiAgICAvLyB3ZSBoYXZlIGZpbmlzaCB0aGUgZmlyc3QgYmlnIGluaXRpYWwgcmVuZGVyXG4gICAgaWYgKEJVSUxELmNzc0Fubm90YXRpb25zKSB7XG4gICAgICAgIGFkZEh5ZHJhdGVkRmxhZyhkb2MuZG9jdW1lbnRFbGVtZW50KTtcbiAgICB9XG4gICAgaWYgKEJVSUxELmFzeW5jUXVldWUpIHtcbiAgICAgICAgcGx0LiRmbGFncyQgfD0gMiAvKiBhcHBMb2FkZWQgKi87XG4gICAgfVxuICAgIG5leHRUaWNrKCgpID0+IGVtaXRFdmVudCh3aW4sICdhcHBsb2FkJywgeyBkZXRhaWw6IHsgbmFtZXNwYWNlOiBOQU1FU1BBQ0UgfSB9KSk7XG4gICAgaWYgKEJVSUxELnByb2ZpbGUgJiYgcGVyZm9ybWFuY2UubWVhc3VyZSkge1xuICAgICAgICBwZXJmb3JtYW5jZS5tZWFzdXJlKGBbU3RlbmNpbF0gJHtOQU1FU1BBQ0V9IGluaXRpYWwgbG9hZCAoYnkgJHt3aG99KWAsICdzdDphcHA6c3RhcnQnKTtcbiAgICB9XG59O1xuY29uc3Qgc2FmZUNhbGwgPSAoaW5zdGFuY2UsIG1ldGhvZCwgYXJnKSA9PiB7XG4gICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlW21ldGhvZF0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZVttZXRob2RdKGFyZyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGVFcnJvcihlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbmNvbnN0IHRoZW4gPSAocHJvbWlzZSwgdGhlbkZuKSA9PiB7XG4gICAgcmV0dXJuIHByb21pc2UgJiYgcHJvbWlzZS50aGVuID8gcHJvbWlzZS50aGVuKHRoZW5GbikgOiB0aGVuRm4oKTtcbn07XG5jb25zdCBlbWl0TGlmZWN5Y2xlRXZlbnQgPSAoZWxtLCBsaWZlY3ljbGVOYW1lKSA9PiB7XG4gICAgaWYgKEJVSUxELmxpZmVjeWNsZURPTUV2ZW50cykge1xuICAgICAgICBlbWl0RXZlbnQoZWxtLCAnc3RlbmNpbF8nICsgbGlmZWN5Y2xlTmFtZSwge1xuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGNvbXBvc2VkOiB0cnVlLFxuICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBOQU1FU1BBQ0UsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG59O1xuY29uc3QgYWRkSHlkcmF0ZWRGbGFnID0gKGVsbSkgPT4gKEJVSUxELmh5ZHJhdGVkQ2xhc3MgPyBlbG0uY2xhc3NMaXN0LmFkZCgnaHlkcmF0ZWQnKSA6IEJVSUxELmh5ZHJhdGVkQXR0cmlidXRlID8gZWxtLnNldEF0dHJpYnV0ZSgnaHlkcmF0ZWQnLCAnJykgOiB1bmRlZmluZWQpO1xuY29uc3Qgc2VydmVyU2lkZUNvbm5lY3RlZCA9IChlbG0pID0+IHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IGVsbS5jaGlsZHJlbjtcbiAgICBpZiAoY2hpbGRyZW4gIT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZEVsbSA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGlsZEVsbS5jb25uZWN0ZWRDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNoaWxkRWxtLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXJ2ZXJTaWRlQ29ubmVjdGVkKGNoaWxkRWxtKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBpbml0aWFsaXplQ2xpZW50SHlkcmF0ZSA9IChob3N0RWxtLCB0YWdOYW1lLCBob3N0SWQsIGhvc3RSZWYpID0+IHtcbiAgICBjb25zdCBlbmRIeWRyYXRlID0gY3JlYXRlVGltZSgnaHlkcmF0ZUNsaWVudCcsIHRhZ05hbWUpO1xuICAgIGNvbnN0IHNoYWRvd1Jvb3QgPSBob3N0RWxtLnNoYWRvd1Jvb3Q7XG4gICAgY29uc3QgY2hpbGRSZW5kZXJOb2RlcyA9IFtdO1xuICAgIGNvbnN0IHNsb3ROb2RlcyA9IFtdO1xuICAgIGNvbnN0IHNoYWRvd1Jvb3ROb2RlcyA9IEJVSUxELnNoYWRvd0RvbSAmJiBzaGFkb3dSb290ID8gW10gOiBudWxsO1xuICAgIGNvbnN0IHZub2RlID0gKGhvc3RSZWYuJHZub2RlJCA9IG5ld1ZOb2RlKHRhZ05hbWUsIG51bGwpKTtcbiAgICBpZiAoIXBsdC4kb3JnTG9jTm9kZXMkKSB7XG4gICAgICAgIGluaXRpYWxpemVEb2N1bWVudEh5ZHJhdGUoZG9jLmJvZHksIChwbHQuJG9yZ0xvY05vZGVzJCA9IG5ldyBNYXAoKSkpO1xuICAgIH1cbiAgICBob3N0RWxtW0hZRFJBVEVfSURdID0gaG9zdElkO1xuICAgIGhvc3RFbG0ucmVtb3ZlQXR0cmlidXRlKEhZRFJBVEVfSUQpO1xuICAgIGNsaWVudEh5ZHJhdGUodm5vZGUsIGNoaWxkUmVuZGVyTm9kZXMsIHNsb3ROb2Rlcywgc2hhZG93Um9vdE5vZGVzLCBob3N0RWxtLCBob3N0RWxtLCBob3N0SWQpO1xuICAgIGNoaWxkUmVuZGVyTm9kZXMubWFwKGMgPT4ge1xuICAgICAgICBjb25zdCBvcmdMb2NhdGlvbklkID0gYy4kaG9zdElkJCArICcuJyArIGMuJG5vZGVJZCQ7XG4gICAgICAgIGNvbnN0IG9yZ0xvY2F0aW9uTm9kZSA9IHBsdC4kb3JnTG9jTm9kZXMkLmdldChvcmdMb2NhdGlvbklkKTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IGMuJGVsbSQ7XG4gICAgICAgIGlmIChvcmdMb2NhdGlvbk5vZGUgJiYgc3VwcG9ydHNTaGFkb3cgJiYgb3JnTG9jYXRpb25Ob2RlWydzLWVuJ10gPT09ICcnKSB7XG4gICAgICAgICAgICBvcmdMb2NhdGlvbk5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgb3JnTG9jYXRpb25Ob2RlLm5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICAgIG5vZGVbJ3MtaG4nXSA9IHRhZ05hbWU7XG4gICAgICAgICAgICBpZiAob3JnTG9jYXRpb25Ob2RlKSB7XG4gICAgICAgICAgICAgICAgbm9kZVsncy1vbCddID0gb3JnTG9jYXRpb25Ob2RlO1xuICAgICAgICAgICAgICAgIG5vZGVbJ3Mtb2wnXVsncy1uciddID0gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwbHQuJG9yZ0xvY05vZGVzJC5kZWxldGUob3JnTG9jYXRpb25JZCk7XG4gICAgfSk7XG4gICAgaWYgKEJVSUxELnNoYWRvd0RvbSAmJiBzaGFkb3dSb290KSB7XG4gICAgICAgIHNoYWRvd1Jvb3ROb2Rlcy5tYXAoc2hhZG93Um9vdE5vZGUgPT4ge1xuICAgICAgICAgICAgaWYgKHNoYWRvd1Jvb3ROb2RlKSB7XG4gICAgICAgICAgICAgICAgc2hhZG93Um9vdC5hcHBlbmRDaGlsZChzaGFkb3dSb290Tm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbmRIeWRyYXRlKCk7XG59O1xuY29uc3QgY2xpZW50SHlkcmF0ZSA9IChwYXJlbnRWTm9kZSwgY2hpbGRSZW5kZXJOb2Rlcywgc2xvdE5vZGVzLCBzaGFkb3dSb290Tm9kZXMsIGhvc3RFbG0sIG5vZGUsIGhvc3RJZCkgPT4ge1xuICAgIGxldCBjaGlsZE5vZGVUeXBlO1xuICAgIGxldCBjaGlsZElkU3BsdDtcbiAgICBsZXQgY2hpbGRWTm9kZTtcbiAgICBsZXQgaTtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSAvKiBFbGVtZW50Tm9kZSAqLykge1xuICAgICAgICBjaGlsZE5vZGVUeXBlID0gbm9kZS5nZXRBdHRyaWJ1dGUoSFlEUkFURV9DSElMRF9JRCk7XG4gICAgICAgIGlmIChjaGlsZE5vZGVUeXBlKSB7XG4gICAgICAgICAgICAvLyBnb3QgdGhlIG5vZGUgZGF0YSBmcm9tIHRoZSBlbGVtZW50J3MgYXR0cmlidXRlXG4gICAgICAgICAgICAvLyBgJHtob3N0SWR9LiR7bm9kZUlkfS4ke2RlcHRofS4ke2luZGV4fWBcbiAgICAgICAgICAgIGNoaWxkSWRTcGx0ID0gY2hpbGROb2RlVHlwZS5zcGxpdCgnLicpO1xuICAgICAgICAgICAgaWYgKGNoaWxkSWRTcGx0WzBdID09PSBob3N0SWQgfHwgY2hpbGRJZFNwbHRbMF0gPT09ICcwJykge1xuICAgICAgICAgICAgICAgIGNoaWxkVk5vZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICRmbGFncyQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICRob3N0SWQkOiBjaGlsZElkU3BsdFswXSxcbiAgICAgICAgICAgICAgICAgICAgJG5vZGVJZCQ6IGNoaWxkSWRTcGx0WzFdLFxuICAgICAgICAgICAgICAgICAgICAkZGVwdGgkOiBjaGlsZElkU3BsdFsyXSxcbiAgICAgICAgICAgICAgICAgICAgJGluZGV4JDogY2hpbGRJZFNwbHRbM10sXG4gICAgICAgICAgICAgICAgICAgICR0YWckOiBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgICAgICAgJGVsbSQ6IG5vZGUsXG4gICAgICAgICAgICAgICAgICAgICRhdHRycyQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICRjaGlsZHJlbiQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICRrZXkkOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAkbmFtZSQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICR0ZXh0JDogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNoaWxkUmVuZGVyTm9kZXMucHVzaChjaGlsZFZOb2RlKTtcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShIWURSQVRFX0NISUxEX0lEKTtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGEgbmV3IGNoaWxkIHZub2RlXG4gICAgICAgICAgICAgICAgLy8gc28gZW5zdXJlIGl0cyBwYXJlbnQgdm5vZGUgaGFzIHRoZSB2Y2hpbGRyZW4gYXJyYXlcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudFZOb2RlLiRjaGlsZHJlbiQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Vk5vZGUuJGNoaWxkcmVuJCA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBhZGQgb3VyIGNoaWxkIHZub2RlIHRvIGEgc3BlY2lmaWMgaW5kZXggb2YgdGhlIHZub2RlJ3MgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICBwYXJlbnRWTm9kZS4kY2hpbGRyZW4kW2NoaWxkVk5vZGUuJGluZGV4JF0gPSBjaGlsZFZOb2RlO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgbm93IHRoZSBuZXcgcGFyZW50IHZub2RlIGZvciBhbGwgdGhlIG5leHQgY2hpbGQgY2hlY2tzXG4gICAgICAgICAgICAgICAgcGFyZW50Vk5vZGUgPSBjaGlsZFZOb2RlO1xuICAgICAgICAgICAgICAgIGlmIChzaGFkb3dSb290Tm9kZXMgJiYgY2hpbGRWTm9kZS4kZGVwdGgkID09PSAnMCcpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93Um9vdE5vZGVzW2NoaWxkVk5vZGUuJGluZGV4JF0gPSBjaGlsZFZOb2RlLiRlbG0kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyByZWN1cnNpdmVseSBkcmlsbCBkb3duLCBlbmQgdG8gc3RhcnQgc28gd2UgY2FuIHJlbW92ZSBub2Rlc1xuICAgICAgICBmb3IgKGkgPSBub2RlLmNoaWxkTm9kZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNsaWVudEh5ZHJhdGUocGFyZW50Vk5vZGUsIGNoaWxkUmVuZGVyTm9kZXMsIHNsb3ROb2Rlcywgc2hhZG93Um9vdE5vZGVzLCBob3N0RWxtLCBub2RlLmNoaWxkTm9kZXNbaV0sIGhvc3RJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUuc2hhZG93Um9vdCkge1xuICAgICAgICAgICAgLy8ga2VlcCBkcmlsbGluZyBkb3duIHRocm91Z2ggdGhlIHNoYWRvdyByb290IG5vZGVzXG4gICAgICAgICAgICBmb3IgKGkgPSBub2RlLnNoYWRvd1Jvb3QuY2hpbGROb2Rlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGNsaWVudEh5ZHJhdGUocGFyZW50Vk5vZGUsIGNoaWxkUmVuZGVyTm9kZXMsIHNsb3ROb2Rlcywgc2hhZG93Um9vdE5vZGVzLCBob3N0RWxtLCBub2RlLnNoYWRvd1Jvb3QuY2hpbGROb2Rlc1tpXSwgaG9zdElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIENvbW1lbnROb2RlICovKSB7XG4gICAgICAgIC8vIGAke0NPTU1FTlRfVFlQRX0uJHtob3N0SWR9LiR7bm9kZUlkfS4ke2RlcHRofS4ke2luZGV4fWBcbiAgICAgICAgY2hpbGRJZFNwbHQgPSBub2RlLm5vZGVWYWx1ZS5zcGxpdCgnLicpO1xuICAgICAgICBpZiAoY2hpbGRJZFNwbHRbMV0gPT09IGhvc3RJZCB8fCBjaGlsZElkU3BsdFsxXSA9PT0gJzAnKSB7XG4gICAgICAgICAgICAvLyBjb21tZW50IG5vZGUgZm9yIGVpdGhlciB0aGUgaG9zdCBpZCBvciBhIDAgaG9zdCBpZFxuICAgICAgICAgICAgY2hpbGROb2RlVHlwZSA9IGNoaWxkSWRTcGx0WzBdO1xuICAgICAgICAgICAgY2hpbGRWTm9kZSA9IHtcbiAgICAgICAgICAgICAgICAkZmxhZ3MkOiAwLFxuICAgICAgICAgICAgICAgICRob3N0SWQkOiBjaGlsZElkU3BsdFsxXSxcbiAgICAgICAgICAgICAgICAkbm9kZUlkJDogY2hpbGRJZFNwbHRbMl0sXG4gICAgICAgICAgICAgICAgJGRlcHRoJDogY2hpbGRJZFNwbHRbM10sXG4gICAgICAgICAgICAgICAgJGluZGV4JDogY2hpbGRJZFNwbHRbNF0sXG4gICAgICAgICAgICAgICAgJGVsbSQ6IG5vZGUsXG4gICAgICAgICAgICAgICAgJGF0dHJzJDogbnVsbCxcbiAgICAgICAgICAgICAgICAkY2hpbGRyZW4kOiBudWxsLFxuICAgICAgICAgICAgICAgICRrZXkkOiBudWxsLFxuICAgICAgICAgICAgICAgICRuYW1lJDogbnVsbCxcbiAgICAgICAgICAgICAgICAkdGFnJDogbnVsbCxcbiAgICAgICAgICAgICAgICAkdGV4dCQ6IG51bGwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGNoaWxkTm9kZVR5cGUgPT09IFRFWFRfTk9ERV9JRCkge1xuICAgICAgICAgICAgICAgIGNoaWxkVk5vZGUuJGVsbSQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZFZOb2RlLiRlbG0kICYmIGNoaWxkVk5vZGUuJGVsbSQubm9kZVR5cGUgPT09IDMgLyogVGV4dE5vZGUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRWTm9kZS4kdGV4dCQgPSBjaGlsZFZOb2RlLiRlbG0kLnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgICAgICBjaGlsZFJlbmRlck5vZGVzLnB1c2goY2hpbGRWTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgdGV4dCBjb21tZW50IHNpbmNlIGl0J3Mgbm8gbG9uZ2VyIG5lZWRlZFxuICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcmVudFZOb2RlLiRjaGlsZHJlbiQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFZOb2RlLiRjaGlsZHJlbiQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRWTm9kZS4kY2hpbGRyZW4kW2NoaWxkVk5vZGUuJGluZGV4JF0gPSBjaGlsZFZOb2RlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2hhZG93Um9vdE5vZGVzICYmIGNoaWxkVk5vZGUuJGRlcHRoJCA9PT0gJzAnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dSb290Tm9kZXNbY2hpbGRWTm9kZS4kaW5kZXgkXSA9IGNoaWxkVk5vZGUuJGVsbSQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGlsZFZOb2RlLiRob3N0SWQkID09PSBob3N0SWQpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGNvbW1lbnQgbm9kZSBpcyBzcGVjaWZjYWxseSBmb3IgdGhpcyBob3N0IGlkXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkTm9kZVR5cGUgPT09IFNMT1RfTk9ERV9JRCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBgJHtTTE9UX05PREVfSUR9LiR7aG9zdElkfS4ke25vZGVJZH0uJHtkZXB0aH0uJHtpbmRleH0uJHtzbG90TmFtZX1gO1xuICAgICAgICAgICAgICAgICAgICBjaGlsZFZOb2RlLiR0YWckID0gJ3Nsb3QnO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRJZFNwbHRbNV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVbJ3Mtc24nXSA9IGNoaWxkVk5vZGUuJG5hbWUkID0gY2hpbGRJZFNwbHRbNV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlWydzLXNuJ10gPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBub2RlWydzLXNyJ10gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQlVJTEQuc2hhZG93RG9tICYmIHNoYWRvd1Jvb3ROb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnJvd3NlciBzdXBwb3J0IHNoYWRvd1Jvb3QgYW5kIHRoaXMgaXMgYSBzaGFkb3cgZG9tIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGFjdHVhbCBzbG90IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkVk5vZGUuJGVsbSQgPSBkb2MuY3JlYXRlRWxlbWVudChjaGlsZFZOb2RlLiR0YWckKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZFZOb2RlLiRuYW1lJCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgc2xvdCBuYW1lIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkVk5vZGUuJGVsbSQuc2V0QXR0cmlidXRlKCduYW1lJywgY2hpbGRWTm9kZS4kbmFtZSQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5zZXJ0IHRoZSBuZXcgc2xvdCBlbGVtZW50IGJlZm9yZSB0aGUgc2xvdCBjb21tZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNoaWxkVk5vZGUuJGVsbSQsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBzbG90IGNvbW1lbnQgc2luY2UgaXQncyBub3QgbmVlZGVkIGZvciBzaGFkb3dcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRWTm9kZS4kZGVwdGgkID09PSAnMCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dSb290Tm9kZXNbY2hpbGRWTm9kZS4kaW5kZXgkXSA9IGNoaWxkVk5vZGUuJGVsbSQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2xvdE5vZGVzLnB1c2goY2hpbGRWTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFyZW50Vk5vZGUuJGNoaWxkcmVuJCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Vk5vZGUuJGNoaWxkcmVuJCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFZOb2RlLiRjaGlsZHJlbiRbY2hpbGRWTm9kZS4kaW5kZXgkXSA9IGNoaWxkVk5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkTm9kZVR5cGUgPT09IENPTlRFTlRfUkVGX0lEKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGAke0NPTlRFTlRfUkVGX0lEfS4ke2hvc3RJZH1gO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQlVJTEQuc2hhZG93RG9tICYmIHNoYWRvd1Jvb3ROb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBjb250ZW50IHJlZiBjb21tZW50IHNpbmNlIGl0J3Mgbm90IG5lZWRlZCBmb3Igc2hhZG93XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKEJVSUxELnNsb3RSZWxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0RWxtWydzLWNyJ10gPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVsncy1jbiddID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChwYXJlbnRWTm9kZSAmJiBwYXJlbnRWTm9kZS4kdGFnJCA9PT0gJ3N0eWxlJykge1xuICAgICAgICBjb25zdCB2bm9kZSA9IG5ld1ZOb2RlKG51bGwsIG5vZGUudGV4dENvbnRlbnQpO1xuICAgICAgICB2bm9kZS4kZWxtJCA9IG5vZGU7XG4gICAgICAgIHZub2RlLiRpbmRleCQgPSAnMCc7XG4gICAgICAgIHBhcmVudFZOb2RlLiRjaGlsZHJlbiQgPSBbdm5vZGVdO1xuICAgIH1cbn07XG5jb25zdCBpbml0aWFsaXplRG9jdW1lbnRIeWRyYXRlID0gKG5vZGUsIG9yZ0xvY05vZGVzKSA9PiB7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEgLyogRWxlbWVudE5vZGUgKi8pIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmb3IgKDsgaSA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaW5pdGlhbGl6ZURvY3VtZW50SHlkcmF0ZShub2RlLmNoaWxkTm9kZXNbaV0sIG9yZ0xvY05vZGVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZS5zaGFkb3dSb290LmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplRG9jdW1lbnRIeWRyYXRlKG5vZGUuc2hhZG93Um9vdC5jaGlsZE5vZGVzW2ldLCBvcmdMb2NOb2Rlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBDb21tZW50Tm9kZSAqLykge1xuICAgICAgICBjb25zdCBjaGlsZElkU3BsdCA9IG5vZGUubm9kZVZhbHVlLnNwbGl0KCcuJyk7XG4gICAgICAgIGlmIChjaGlsZElkU3BsdFswXSA9PT0gT1JHX0xPQ0FUSU9OX0lEKSB7XG4gICAgICAgICAgICBvcmdMb2NOb2Rlcy5zZXQoY2hpbGRJZFNwbHRbMV0gKyAnLicgKyBjaGlsZElkU3BsdFsyXSwgbm9kZSk7XG4gICAgICAgICAgICBub2RlLm5vZGVWYWx1ZSA9ICcnO1xuICAgICAgICAgICAgLy8gdXNlZnVsIHRvIGtub3cgaWYgdGhlIG9yaWdpbmFsIGxvY2F0aW9uIGlzXG4gICAgICAgICAgICAvLyB0aGUgcm9vdCBsaWdodC1kb20gb2YgYSBzaGFkb3cgZG9tIGNvbXBvbmVudFxuICAgICAgICAgICAgbm9kZVsncy1lbiddID0gY2hpbGRJZFNwbHRbM107XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgcGFyc2VQcm9wZXJ0eVZhbHVlID0gKHByb3BWYWx1ZSwgcHJvcFR5cGUpID0+IHtcbiAgICAvLyBlbnN1cmUgdGhpcyB2YWx1ZSBpcyBvZiB0aGUgY29ycmVjdCBwcm9wIHR5cGVcbiAgICBpZiAocHJvcFZhbHVlICE9IG51bGwgJiYgIWlzQ29tcGxleFR5cGUocHJvcFZhbHVlKSkge1xuICAgICAgICBpZiAoQlVJTEQucHJvcEJvb2xlYW4gJiYgcHJvcFR5cGUgJiA0IC8qIEJvb2xlYW4gKi8pIHtcbiAgICAgICAgICAgIC8vIHBlciB0aGUgSFRNTCBzcGVjLCBhbnkgc3RyaW5nIHZhbHVlIG1lYW5zIGl0IGlzIGEgYm9vbGVhbiB0cnVlIHZhbHVlXG4gICAgICAgICAgICAvLyBidXQgd2UnbGwgY2hlYXQgaGVyZSBhbmQgc2F5IHRoYXQgdGhlIHN0cmluZyBcImZhbHNlXCIgaXMgdGhlIGJvb2xlYW4gZmFsc2VcbiAgICAgICAgICAgIHJldHVybiBwcm9wVmFsdWUgPT09ICdmYWxzZScgPyBmYWxzZSA6IHByb3BWYWx1ZSA9PT0gJycgfHwgISFwcm9wVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEJVSUxELnByb3BOdW1iZXIgJiYgcHJvcFR5cGUgJiAyIC8qIE51bWJlciAqLykge1xuICAgICAgICAgICAgLy8gZm9yY2UgaXQgdG8gYmUgYSBudW1iZXJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHByb3BWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEJVSUxELnByb3BTdHJpbmcgJiYgcHJvcFR5cGUgJiAxIC8qIFN0cmluZyAqLykge1xuICAgICAgICAgICAgLy8gY291bGQgaGF2ZSBiZWVuIHBhc3NlZCBhcyBhIG51bWJlciBvciBib29sZWFuXG4gICAgICAgICAgICAvLyBidXQgd2Ugc3RpbGwgd2FudCBpdCBhcyBhIHN0cmluZ1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhwcm9wVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlZHVuZGFudCByZXR1cm4gaGVyZSBmb3IgYmV0dGVyIG1pbmlmaWNhdGlvblxuICAgICAgICByZXR1cm4gcHJvcFZhbHVlO1xuICAgIH1cbiAgICAvLyBub3Qgc3VyZSBleGFjdGx5IHdoYXQgdHlwZSB3ZSB3YW50XG4gICAgLy8gc28gbm8gbmVlZCB0byBjaGFuZ2UgdG8gYSBkaWZmZXJlbnQgdHlwZVxuICAgIHJldHVybiBwcm9wVmFsdWU7XG59O1xuY29uc3QgZ2V0VmFsdWUgPSAocmVmLCBwcm9wTmFtZSkgPT4gZ2V0SG9zdFJlZihyZWYpLiRpbnN0YW5jZVZhbHVlcyQuZ2V0KHByb3BOYW1lKTtcbmNvbnN0IHNldFZhbHVlID0gKHJlZiwgcHJvcE5hbWUsIG5ld1ZhbCwgY21wTWV0YSkgPT4ge1xuICAgIC8vIGNoZWNrIG91ciBuZXcgcHJvcGVydHkgdmFsdWUgYWdhaW5zdCBvdXIgaW50ZXJuYWwgdmFsdWVcbiAgICBjb25zdCBob3N0UmVmID0gZ2V0SG9zdFJlZihyZWYpO1xuICAgIGNvbnN0IGVsbSA9IEJVSUxELmxhenlMb2FkID8gaG9zdFJlZi4kaG9zdEVsZW1lbnQkIDogcmVmO1xuICAgIGNvbnN0IG9sZFZhbCA9IGhvc3RSZWYuJGluc3RhbmNlVmFsdWVzJC5nZXQocHJvcE5hbWUpO1xuICAgIGNvbnN0IGZsYWdzID0gaG9zdFJlZi4kZmxhZ3MkO1xuICAgIGNvbnN0IGluc3RhbmNlID0gQlVJTEQubGF6eUxvYWQgPyBob3N0UmVmLiRsYXp5SW5zdGFuY2UkIDogZWxtO1xuICAgIG5ld1ZhbCA9IHBhcnNlUHJvcGVydHlWYWx1ZShuZXdWYWwsIGNtcE1ldGEuJG1lbWJlcnMkW3Byb3BOYW1lXVswXSk7XG4gICAgaWYgKCghQlVJTEQubGF6eUxvYWQgfHwgIShmbGFncyAmIDggLyogaXNDb25zdHJ1Y3RpbmdJbnN0YW5jZSAqLykgfHwgb2xkVmFsID09PSB1bmRlZmluZWQpICYmIG5ld1ZhbCAhPT0gb2xkVmFsKSB7XG4gICAgICAgIC8vIGdhZHpvb2tzISB0aGUgcHJvcGVydHkncyB2YWx1ZSBoYXMgY2hhbmdlZCEhXG4gICAgICAgIC8vIHNldCBvdXIgbmV3IHZhbHVlIVxuICAgICAgICBob3N0UmVmLiRpbnN0YW5jZVZhbHVlcyQuc2V0KHByb3BOYW1lLCBuZXdWYWwpO1xuICAgICAgICBpZiAoQlVJTEQuaXNEZXYpIHtcbiAgICAgICAgICAgIGlmIChob3N0UmVmLiRmbGFncyQgJiAxMDI0IC8qIGRldk9uUmVuZGVyICovKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZURldldhcm4oYFRoZSBzdGF0ZS9wcm9wIFwiJHtwcm9wTmFtZX1cIiBjaGFuZ2VkIGR1cmluZyByZW5kZXJpbmcuIFRoaXMgY2FuIHBvdGVudGlhbGx5IGxlYWQgdG8gaW5maW5pdGUtbG9vcHMgYW5kIG90aGVyIGJ1Z3MuYCwgJ1xcbkVsZW1lbnQnLCBlbG0sICdcXG5OZXcgdmFsdWUnLCBuZXdWYWwsICdcXG5PbGQgdmFsdWUnLCBvbGRWYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaG9zdFJlZi4kZmxhZ3MkICYgMjA0OCAvKiBkZXZPbkRpZExvYWQgKi8pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlRGV2V2FybihgVGhlIHN0YXRlL3Byb3AgXCIke3Byb3BOYW1lfVwiIGNoYW5nZWQgZHVyaW5nIFwiY29tcG9uZW50RGlkTG9hZCgpXCIsIHRoaXMgdHJpZ2dlcnMgZXh0cmEgcmUtcmVuZGVycywgdHJ5IHRvIHNldHVwIG9uIFwiY29tcG9uZW50V2lsbExvYWQoKVwiYCwgJ1xcbkVsZW1lbnQnLCBlbG0sICdcXG5OZXcgdmFsdWUnLCBuZXdWYWwsICdcXG5PbGQgdmFsdWUnLCBvbGRWYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghQlVJTEQubGF6eUxvYWQgfHwgaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIC8vIGdldCBhbiBhcnJheSBvZiBtZXRob2QgbmFtZXMgb2Ygd2F0Y2ggZnVuY3Rpb25zIHRvIGNhbGxcbiAgICAgICAgICAgIGlmIChCVUlMRC53YXRjaENhbGxiYWNrICYmIGNtcE1ldGEuJHdhdGNoZXJzJCAmJiBmbGFncyAmIDEyOCAvKiBpc1dhdGNoUmVhZHkgKi8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB3YXRjaE1ldGhvZHMgPSBjbXBNZXRhLiR3YXRjaGVycyRbcHJvcE5hbWVdO1xuICAgICAgICAgICAgICAgIGlmICh3YXRjaE1ldGhvZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpbnN0YW5jZSBpcyB3YXRjaGluZyBmb3Igd2hlbiB0aGlzIHByb3BlcnR5IGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgd2F0Y2hNZXRob2RzLm1hcCh3YXRjaE1ldGhvZE5hbWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaXJlIG9mZiBlYWNoIG9mIHRoZSB3YXRjaCBtZXRob2RzIHRoYXQgYXJlIHdhdGNoaW5nIHRoaXMgcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZVt3YXRjaE1ldGhvZE5hbWVdKG5ld1ZhbCwgb2xkVmFsLCBwcm9wTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGVFcnJvcihlLCBlbG0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQlVJTEQudXBkYXRhYmxlICYmIChmbGFncyAmICgyIC8qIGhhc1JlbmRlcmVkICovIHwgMTYgLyogaXNRdWV1ZWRGb3JVcGRhdGUgKi8pKSA9PT0gMiAvKiBoYXNSZW5kZXJlZCAqLykge1xuICAgICAgICAgICAgICAgIGlmIChCVUlMRC5jbXBTaG91bGRVcGRhdGUgJiYgaW5zdGFuY2UuY29tcG9uZW50U2hvdWxkVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5jb21wb25lbnRTaG91bGRVcGRhdGUobmV3VmFsLCBvbGRWYWwsIHByb3BOYW1lKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBsb29rcyBsaWtlIHRoaXMgdmFsdWUgYWN0dWFsbHkgY2hhbmdlZCwgc28gd2UndmUgZ290IHdvcmsgdG8gZG8hXG4gICAgICAgICAgICAgICAgLy8gYnV0IG9ubHkgaWYgd2UndmUgYWxyZWFkeSByZW5kZXJlZCwgb3RoZXJ3aXNlIGp1c3QgY2hpbGwgb3V0XG4gICAgICAgICAgICAgICAgLy8gcXVldWUgdGhhdCB3ZSBuZWVkIHRvIGRvIGFuIHVwZGF0ZSwgYnV0IGRvbid0IHdvcnJ5IGFib3V0IHF1ZXVpbmdcbiAgICAgICAgICAgICAgICAvLyB1cCBtaWxsaW9ucyBjdXogdGhpcyBmdW5jdGlvbiBlbnN1cmVzIGl0IG9ubHkgcnVucyBvbmNlXG4gICAgICAgICAgICAgICAgc2NoZWR1bGVVcGRhdGUoaG9zdFJlZiwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IHByb3h5Q29tcG9uZW50ID0gKENzdHIsIGNtcE1ldGEsIGZsYWdzKSA9PiB7XG4gICAgaWYgKEJVSUxELm1lbWJlciAmJiBjbXBNZXRhLiRtZW1iZXJzJCkge1xuICAgICAgICBpZiAoQlVJTEQud2F0Y2hDYWxsYmFjayAmJiBDc3RyLndhdGNoZXJzKSB7XG4gICAgICAgICAgICBjbXBNZXRhLiR3YXRjaGVycyQgPSBDc3RyLndhdGNoZXJzO1xuICAgICAgICB9XG4gICAgICAgIC8vIEl0J3MgYmV0dGVyIHRvIGhhdmUgYSBjb25zdCB0aGFuIHR3byBPYmplY3QuZW50cmllcygpXG4gICAgICAgIGNvbnN0IG1lbWJlcnMgPSBPYmplY3QuZW50cmllcyhjbXBNZXRhLiRtZW1iZXJzJCk7XG4gICAgICAgIGNvbnN0IHByb3RvdHlwZSA9IENzdHIucHJvdG90eXBlO1xuICAgICAgICBtZW1iZXJzLm1hcCgoW21lbWJlck5hbWUsIFttZW1iZXJGbGFnc11dKSA9PiB7XG4gICAgICAgICAgICBpZiAoKEJVSUxELnByb3AgfHwgQlVJTEQuc3RhdGUpICYmIChtZW1iZXJGbGFncyAmIDMxIC8qIFByb3AgKi8gfHwgKCghQlVJTEQubGF6eUxvYWQgfHwgZmxhZ3MgJiAyIC8qIHByb3h5U3RhdGUgKi8pICYmIG1lbWJlckZsYWdzICYgMzIgLyogU3RhdGUgKi8pKSkge1xuICAgICAgICAgICAgICAgIC8vIHByb3h5Q29tcG9uZW50IC0gcHJvcFxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90b3R5cGUsIG1lbWJlck5hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJveHlDb21wb25lbnQsIGdldCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldFZhbHVlKHRoaXMsIG1lbWJlck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZXQobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgZHVyaW5nIGRldiB0aW1lXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQlVJTEQuaXNEZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWYgPSBnZXRIb3N0UmVmKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgcHJveHlpbmcgdGhlIGluc3RhbmNlIChub3QgZWxlbWVudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZmxhZ3MgJiAxIC8qIGlzRWxlbWVudENvbnN0cnVjdG9yICovKSA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZWxlbWVudCBpcyBub3QgY29uc3RydWN0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyZWYuJGZsYWdzJCAmIDggLyogaXNDb25zdHJ1Y3RpbmdJbnN0YW5jZSAqLykgPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIG1lbWJlciBpcyBhIHByb3BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1lbWJlckZsYWdzICYgMzEgLyogUHJvcCAqLykgIT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIG1lbWJlciBpcyBub3QgbXV0YWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWVtYmVyRmxhZ3MgJiAxMDI0IC8qIE11dGFibGUgKi8pID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGVEZXZXYXJuKGBAUHJvcCgpIFwiJHttZW1iZXJOYW1lfVwiIG9uIDwke2NtcE1ldGEuJHRhZ05hbWUkfT4gaXMgaW1tdXRhYmxlIGJ1dCB3YXMgbW9kaWZpZWQgZnJvbSB3aXRoaW4gdGhlIGNvbXBvbmVudC5cXG5Nb3JlIGluZm9ybWF0aW9uOiBodHRwczovL3N0ZW5jaWxqcy5jb20vZG9jcy9wcm9wZXJ0aWVzI3Byb3AtbXV0YWJpbGl0eWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb3h5Q29tcG9uZW50LCBzZXQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKHRoaXMsIG1lbWJlck5hbWUsIG5ld1ZhbHVlLCBjbXBNZXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQlVJTEQubGF6eUxvYWQgJiYgQlVJTEQubWV0aG9kICYmIGZsYWdzICYgMSAvKiBpc0VsZW1lbnRDb25zdHJ1Y3RvciAqLyAmJiBtZW1iZXJGbGFncyAmIDY0IC8qIE1ldGhvZCAqLykge1xuICAgICAgICAgICAgICAgIC8vIHByb3h5Q29tcG9uZW50IC0gbWV0aG9kXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgbWVtYmVyTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWYgPSBnZXRIb3N0UmVmKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZi4kb25JbnN0YW5jZVByb21pc2UkLnRoZW4oKCkgPT4gcmVmLiRsYXp5SW5zdGFuY2UkW21lbWJlck5hbWVdKC4uLmFyZ3MpKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChCVUlMRC5vYnNlcnZlQXR0cmlidXRlICYmICghQlVJTEQubGF6eUxvYWQgfHwgZmxhZ3MgJiAxIC8qIGlzRWxlbWVudENvbnN0cnVjdG9yICovKSkge1xuICAgICAgICAgICAgY29uc3QgYXR0ck5hbWVUb1Byb3BOYW1lID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgcHJvdG90eXBlLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayA9IGZ1bmN0aW9uIChhdHRyTmFtZSwgX29sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHBsdC5qbXAoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9wTmFtZSA9IGF0dHJOYW1lVG9Qcm9wTmFtZS5nZXQoYXR0ck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzW3Byb3BOYW1lXSA9IG5ld1ZhbHVlID09PSBudWxsICYmIHR5cGVvZiB0aGlzW3Byb3BOYW1lXSA9PT0gJ2Jvb2xlYW4nID8gZmFsc2UgOiBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBjcmVhdGUgYW4gYXJyYXkgb2YgYXR0cmlidXRlcyB0byBvYnNlcnZlXG4gICAgICAgICAgICAvLyBhbmQgYWxzbyBjcmVhdGUgYSBtYXAgb2YgaHRtbCBhdHRyaWJ1dGUgbmFtZSB0byBqcyBwcm9wZXJ0eSBuYW1lXG4gICAgICAgICAgICBDc3RyLm9ic2VydmVkQXR0cmlidXRlcyA9IG1lbWJlcnNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChbXywgbV0pID0+IG1bMF0gJiAxNSAvKiBIYXNBdHRyaWJ1dGUgKi8pIC8vIGZpbHRlciB0byBvbmx5IGtlZXAgcHJvcHMgdGhhdCBzaG91bGQgbWF0Y2ggYXR0cmlidXRlc1xuICAgICAgICAgICAgICAgIC5tYXAoKFtwcm9wTmFtZSwgbV0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IG1bMV0gfHwgcHJvcE5hbWU7XG4gICAgICAgICAgICAgICAgYXR0ck5hbWVUb1Byb3BOYW1lLnNldChhdHRyTmFtZSwgcHJvcE5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChCVUlMRC5yZWZsZWN0ICYmIG1bMF0gJiA1MTIgLyogUmVmbGVjdEF0dHIgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgY21wTWV0YS4kYXR0cnNUb1JlZmxlY3QkLnB1c2goW3Byb3BOYW1lLCBhdHRyTmFtZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYXR0ck5hbWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gQ3N0cjtcbn07XG5jb25zdCBpbml0aWFsaXplQ29tcG9uZW50ID0gYXN5bmMgKGVsbSwgaG9zdFJlZiwgY21wTWV0YSwgaG1yVmVyc2lvbklkLCBDc3RyKSA9PiB7XG4gICAgLy8gaW5pdGlhbGl6ZUNvbXBvbmVudFxuICAgIGlmICgoQlVJTEQubGF6eUxvYWQgfHwgQlVJTEQuaHlkcmF0ZVNlcnZlclNpZGUgfHwgQlVJTEQuc3R5bGUpICYmIChob3N0UmVmLiRmbGFncyQgJiAzMiAvKiBoYXNJbml0aWFsaXplZENvbXBvbmVudCAqLykgPT09IDApIHtcbiAgICAgICAgaWYgKEJVSUxELmxhenlMb2FkIHx8IEJVSUxELmh5ZHJhdGVDbGllbnRTaWRlKSB7XG4gICAgICAgICAgICAvLyB3ZSBoYXZlbid0IGluaXRpYWxpemVkIHRoaXMgZWxlbWVudCB5ZXRcbiAgICAgICAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSAzMiAvKiBoYXNJbml0aWFsaXplZENvbXBvbmVudCAqLztcbiAgICAgICAgICAgIC8vIGxhenkgbG9hZGVkIGNvbXBvbmVudHNcbiAgICAgICAgICAgIC8vIHJlcXVlc3QgdGhlIGNvbXBvbmVudCdzIGltcGxlbWVudGF0aW9uIHRvIGJlXG4gICAgICAgICAgICAvLyB3aXJlZCB1cCB3aXRoIHRoZSBob3N0IGVsZW1lbnRcbiAgICAgICAgICAgIENzdHIgPSBsb2FkTW9kdWxlKGNtcE1ldGEsIGhvc3RSZWYsIGhtclZlcnNpb25JZCk7XG4gICAgICAgICAgICBpZiAoQ3N0ci50aGVuKSB7XG4gICAgICAgICAgICAgICAgLy8gQXdhaXQgY3JlYXRlcyBhIG1pY3JvLXRhc2sgYXZvaWQgaWYgcG9zc2libGVcbiAgICAgICAgICAgICAgICBjb25zdCBlbmRMb2FkID0gdW5pcXVlVGltZShgc3Q6bG9hZDoke2NtcE1ldGEuJHRhZ05hbWUkfToke2hvc3RSZWYuJG1vZGVOYW1lJH1gLCBgW1N0ZW5jaWxdIExvYWQgbW9kdWxlIGZvciA8JHtjbXBNZXRhLiR0YWdOYW1lJH0+YCk7XG4gICAgICAgICAgICAgICAgQ3N0ciA9IGF3YWl0IENzdHI7XG4gICAgICAgICAgICAgICAgZW5kTG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChCVUlMRC5pc0RldiB8fCBCVUlMRC5pc0RlYnVnKSAmJiAhQ3N0cikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29uc3RydWN0b3IgZm9yIFwiJHtjbXBNZXRhLiR0YWdOYW1lJH0jJHtob3N0UmVmLiRtb2RlTmFtZSR9XCIgd2FzIG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEJVSUxELm1lbWJlciAmJiAhQ3N0ci5pc1Byb3hpZWQpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSdldmUgbmV2ZXIgcHJveGllZCB0aGlzIENvbnN0cnVjdG9yIGJlZm9yZVxuICAgICAgICAgICAgICAgIC8vIGxldCdzIGFkZCB0aGUgZ2V0dGVycy9zZXR0ZXJzIHRvIGl0cyBwcm90b3R5cGUgYmVmb3JlXG4gICAgICAgICAgICAgICAgLy8gdGhlIGZpcnN0IHRpbWUgd2UgY3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoZSBpbXBsZW1lbnRhdGlvblxuICAgICAgICAgICAgICAgIGlmIChCVUlMRC53YXRjaENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNtcE1ldGEuJHdhdGNoZXJzJCA9IENzdHIud2F0Y2hlcnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb3h5Q29tcG9uZW50KENzdHIsIGNtcE1ldGEsIDIgLyogcHJveHlTdGF0ZSAqLyk7XG4gICAgICAgICAgICAgICAgQ3N0ci5pc1Byb3hpZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZW5kTmV3SW5zdGFuY2UgPSBjcmVhdGVUaW1lKCdjcmVhdGVJbnN0YW5jZScsIGNtcE1ldGEuJHRhZ05hbWUkKTtcbiAgICAgICAgICAgIC8vIG9rLCB0aW1lIHRvIGNvbnN0cnVjdCB0aGUgaW5zdGFuY2VcbiAgICAgICAgICAgIC8vIGJ1dCBsZXQncyBrZWVwIHRyYWNrIG9mIHdoZW4gd2Ugc3RhcnQgYW5kIHN0b3BcbiAgICAgICAgICAgIC8vIHNvIHRoYXQgdGhlIGdldHRlcnMvc2V0dGVycyBkb24ndCBpbmNvcnJlY3RseSBzdGVwIG9uIGRhdGFcbiAgICAgICAgICAgIGlmIChCVUlMRC5tZW1iZXIpIHtcbiAgICAgICAgICAgICAgICBob3N0UmVmLiRmbGFncyQgfD0gOCAvKiBpc0NvbnN0cnVjdGluZ0luc3RhbmNlICovO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29uc3RydWN0IHRoZSBsYXp5LWxvYWRlZCBjb21wb25lbnQgaW1wbGVtZW50YXRpb25cbiAgICAgICAgICAgIC8vIHBhc3NpbmcgdGhlIGhvc3RSZWYgaXMgdmVyeSBpbXBvcnRhbnQgZHVyaW5nXG4gICAgICAgICAgICAvLyBjb25zdHJ1Y3Rpb24gaW4gb3JkZXIgdG8gZGlyZWN0bHkgd2lyZSB0b2dldGhlciB0aGVcbiAgICAgICAgICAgIC8vIGhvc3QgZWxlbWVudCBhbmQgdGhlIGxhenktbG9hZGVkIGluc3RhbmNlXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG5ldyBDc3RyKGhvc3RSZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlRXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQlVJTEQubWVtYmVyKSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkICY9IH44IC8qIGlzQ29uc3RydWN0aW5nSW5zdGFuY2UgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQlVJTEQud2F0Y2hDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSAxMjggLyogaXNXYXRjaFJlYWR5ICovO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW5kTmV3SW5zdGFuY2UoKTtcbiAgICAgICAgICAgIGZpcmVDb25uZWN0ZWRDYWxsYmFjayhob3N0UmVmLiRsYXp5SW5zdGFuY2UkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN5bmMgY29uc3RydWN0b3IgY29tcG9uZW50XG4gICAgICAgICAgICBDc3RyID0gZWxtLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDEyOCAvKiBpc1dhdGNoUmVhZHkgKi8gfCAzMiAvKiBoYXNJbml0aWFsaXplZENvbXBvbmVudCAqLztcbiAgICAgICAgfVxuICAgICAgICBpZiAoQlVJTEQuc3R5bGUgJiYgQ3N0ci5zdHlsZSkge1xuICAgICAgICAgICAgLy8gdGhpcyBjb21wb25lbnQgaGFzIHN0eWxlcyBidXQgd2UgaGF2ZW4ndCByZWdpc3RlcmVkIHRoZW0geWV0XG4gICAgICAgICAgICBsZXQgc3R5bGUgPSBDc3RyLnN0eWxlO1xuICAgICAgICAgICAgaWYgKEJVSUxELm1vZGUgJiYgdHlwZW9mIHN0eWxlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHN0eWxlID0gc3R5bGVbKGhvc3RSZWYuJG1vZGVOYW1lJCA9IGNvbXB1dGVNb2RlKGVsbSkpXTtcbiAgICAgICAgICAgICAgICBpZiAoQlVJTEQuaHlkcmF0ZVNlcnZlclNpZGUgJiYgaG9zdFJlZi4kbW9kZU5hbWUkKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsbS5zZXRBdHRyaWJ1dGUoJ3MtbW9kZScsIGhvc3RSZWYuJG1vZGVOYW1lJCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2NvcGVJZCA9IGdldFNjb3BlSWQoY21wTWV0YSwgaG9zdFJlZi4kbW9kZU5hbWUkKTtcbiAgICAgICAgICAgIGlmICghc3R5bGVzLmhhcyhzY29wZUlkKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuZFJlZ2lzdGVyU3R5bGVzID0gY3JlYXRlVGltZSgncmVnaXN0ZXJTdHlsZXMnLCBjbXBNZXRhLiR0YWdOYW1lJCk7XG4gICAgICAgICAgICAgICAgaWYgKCFCVUlMRC5oeWRyYXRlU2VydmVyU2lkZSAmJiBCVUlMRC5zaGFkb3dEb20gJiYgQlVJTEQuc2hhZG93RG9tU2hpbSAmJiBjbXBNZXRhLiRmbGFncyQgJiA4IC8qIG5lZWRzU2hhZG93RG9tU2hpbSAqLykge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IGF3YWl0IGltcG9ydCgnLi9zaGFkb3ctY3NzLmpzJykudGhlbihtID0+IG0uc2NvcGVDc3Moc3R5bGUsIHNjb3BlSWQsIGZhbHNlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyU3R5bGUoc2NvcGVJZCwgc3R5bGUsICEhKGNtcE1ldGEuJGZsYWdzJCAmIDEgLyogc2hhZG93RG9tRW5jYXBzdWxhdGlvbiAqLykpO1xuICAgICAgICAgICAgICAgIGVuZFJlZ2lzdGVyU3R5bGVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gd2UndmUgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgYSBsYXp5IGluc3RhbmNlXG4gICAgY29uc3QgYW5jZXN0b3JDb21wb25lbnQgPSBob3N0UmVmLiRhbmNlc3RvckNvbXBvbmVudCQ7XG4gICAgY29uc3Qgc2NoZWR1bGUgPSAoKSA9PiBzY2hlZHVsZVVwZGF0ZShob3N0UmVmLCB0cnVlKTtcbiAgICBpZiAoQlVJTEQuYXN5bmNMb2FkaW5nICYmIGFuY2VzdG9yQ29tcG9uZW50ICYmIGFuY2VzdG9yQ29tcG9uZW50WydzLXJjJ10pIHtcbiAgICAgICAgLy8gdGhpcyBpcyB0aGUgaW50aWFsIGxvYWQgYW5kIHRoaXMgY29tcG9uZW50IGl0IGhhcyBhbiBhbmNlc3RvciBjb21wb25lbnRcbiAgICAgICAgLy8gYnV0IHRoZSBhbmNlc3RvciBjb21wb25lbnQgaGFzIE5PVCBmaXJlZCBpdHMgd2lsbCB1cGRhdGUgbGlmZWN5Y2xlIHlldFxuICAgICAgICAvLyBzbyBsZXQncyBqdXN0IGNvb2wgb3VyIGpldHMgYW5kIHdhaXQgZm9yIHRoZSBhbmNlc3RvciB0byBjb250aW51ZSBmaXJzdFxuICAgICAgICAvLyB0aGlzIHdpbGwgZ2V0IGZpcmVkIG9mZiB3aGVuIHRoZSBhbmNlc3RvciBjb21wb25lbnRcbiAgICAgICAgLy8gZmluYWxseSBnZXRzIGFyb3VuZCB0byByZW5kZXJpbmcgaXRzIGxhenkgc2VsZlxuICAgICAgICAvLyBmaXJlIG9mZiB0aGUgaW5pdGlhbCB1cGRhdGVcbiAgICAgICAgYW5jZXN0b3JDb21wb25lbnRbJ3MtcmMnXS5wdXNoKHNjaGVkdWxlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNjaGVkdWxlKCk7XG4gICAgfVxufTtcbmNvbnN0IGZpcmVDb25uZWN0ZWRDYWxsYmFjayA9IChpbnN0YW5jZSkgPT4ge1xuICAgIGlmIChCVUlMRC5sYXp5TG9hZCAmJiBCVUlMRC5jb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgICBzYWZlQ2FsbChpbnN0YW5jZSwgJ2Nvbm5lY3RlZENhbGxiYWNrJyk7XG4gICAgfVxufTtcbmNvbnN0IGNvbm5lY3RlZENhbGxiYWNrID0gKGVsbSkgPT4ge1xuICAgIGlmICgocGx0LiRmbGFncyQgJiAxIC8qIGlzVG1wRGlzY29ubmVjdGVkICovKSA9PT0gMCkge1xuICAgICAgICBjb25zdCBob3N0UmVmID0gZ2V0SG9zdFJlZihlbG0pO1xuICAgICAgICBjb25zdCBjbXBNZXRhID0gaG9zdFJlZi4kY21wTWV0YSQ7XG4gICAgICAgIGNvbnN0IGVuZENvbm5lY3RlZCA9IGNyZWF0ZVRpbWUoJ2Nvbm5lY3RlZENhbGxiYWNrJywgY21wTWV0YS4kdGFnTmFtZSQpO1xuICAgICAgICBpZiAoQlVJTEQuaG9zdExpc3RlbmVyVGFyZ2V0UGFyZW50KSB7XG4gICAgICAgICAgICAvLyBvbmx5IHJ1biBpZiB3ZSBoYXZlIGxpc3RlbmVycyBiZWluZyBhdHRhY2hlZCB0byBhIHBhcmVudFxuICAgICAgICAgICAgYWRkSG9zdEV2ZW50TGlzdGVuZXJzKGVsbSwgaG9zdFJlZiwgY21wTWV0YS4kbGlzdGVuZXJzJCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoaG9zdFJlZi4kZmxhZ3MkICYgMSAvKiBoYXNDb25uZWN0ZWQgKi8pKSB7XG4gICAgICAgICAgICAvLyBmaXJzdCB0aW1lIHRoaXMgY29tcG9uZW50IGhhcyBjb25uZWN0ZWRcbiAgICAgICAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSAxIC8qIGhhc0Nvbm5lY3RlZCAqLztcbiAgICAgICAgICAgIGxldCBob3N0SWQ7XG4gICAgICAgICAgICBpZiAoQlVJTEQuaHlkcmF0ZUNsaWVudFNpZGUpIHtcbiAgICAgICAgICAgICAgICBob3N0SWQgPSBlbG0uZ2V0QXR0cmlidXRlKEhZRFJBVEVfSUQpO1xuICAgICAgICAgICAgICAgIGlmIChob3N0SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEJVSUxELnNoYWRvd0RvbSAmJiBzdXBwb3J0c1NoYWRvdyAmJiBjbXBNZXRhLiRmbGFncyQgJiAxIC8qIHNoYWRvd0RvbUVuY2Fwc3VsYXRpb24gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjb3BlSWQgPSBCVUlMRC5tb2RlID8gYWRkU3R5bGUoZWxtLnNoYWRvd1Jvb3QsIGNtcE1ldGEsIGVsbS5nZXRBdHRyaWJ1dGUoJ3MtbW9kZScpKSA6IGFkZFN0eWxlKGVsbS5zaGFkb3dSb290LCBjbXBNZXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsbS5jbGFzc0xpc3QucmVtb3ZlKHNjb3BlSWQgKyAnLWgnLCBzY29wZUlkICsgJy1zJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZUNsaWVudEh5ZHJhdGUoZWxtLCBjbXBNZXRhLiR0YWdOYW1lJCwgaG9zdElkLCBob3N0UmVmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQlVJTEQuc2xvdFJlbG9jYXRpb24gJiYgIWhvc3RJZCkge1xuICAgICAgICAgICAgICAgIC8vIGluaXRVcGRhdGVcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc2xvdCBwb2x5ZmlsbCBpcyByZXF1aXJlZCB3ZSdsbCBuZWVkIHRvIHB1dCBzb21lIG5vZGVzXG4gICAgICAgICAgICAgICAgLy8gaW4gaGVyZSB0byBhY3QgYXMgb3JpZ2luYWwgY29udGVudCBhbmNob3JzIGFzIHdlIG1vdmUgbm9kZXMgYXJvdW5kXG4gICAgICAgICAgICAgICAgLy8gaG9zdCBlbGVtZW50IGhhcyBiZWVuIGNvbm5lY3RlZCB0byB0aGUgRE9NXG4gICAgICAgICAgICAgICAgaWYgKEJVSUxELmh5ZHJhdGVTZXJ2ZXJTaWRlIHx8ICgoQlVJTEQuc2xvdCB8fCBCVUlMRC5zaGFkb3dEb20pICYmIGNtcE1ldGEuJGZsYWdzJCAmICg0IC8qIGhhc1Nsb3RSZWxvY2F0aW9uICovIHwgOCAvKiBuZWVkc1NoYWRvd0RvbVNoaW0gKi8pKSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRDb250ZW50UmVmZXJlbmNlKGVsbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEJVSUxELmFzeW5jTG9hZGluZykge1xuICAgICAgICAgICAgICAgIC8vIGZpbmQgdGhlIGZpcnN0IGFuY2VzdG9yIGNvbXBvbmVudCAoaWYgdGhlcmUgaXMgb25lKSBhbmQgcmVnaXN0ZXJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGNvbXBvbmVudCBhcyBvbmUgb2YgdGhlIGFjdGl2ZWx5IGxvYWRpbmcgY2hpbGQgY29tcG9uZW50cyBmb3IgaXRzIGFuY2VzdG9yXG4gICAgICAgICAgICAgICAgbGV0IGFuY2VzdG9yQ29tcG9uZW50ID0gZWxtO1xuICAgICAgICAgICAgICAgIHdoaWxlICgoYW5jZXN0b3JDb21wb25lbnQgPSBhbmNlc3RvckNvbXBvbmVudC5wYXJlbnROb2RlIHx8IGFuY2VzdG9yQ29tcG9uZW50Lmhvc3QpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNsaW1iIHVwIHRoZSBhbmNlc3RvcnMgbG9va2luZyBmb3IgdGhlIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudCB0aGF0IGhhc24ndCBmaW5pc2hlZCBpdHMgbGlmZWN5Y2xlIHVwZGF0ZSB5ZXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKChCVUlMRC5oeWRyYXRlQ2xpZW50U2lkZSAmJiBhbmNlc3RvckNvbXBvbmVudC5ub2RlVHlwZSA9PT0gMSAvKiBFbGVtZW50Tm9kZSAqLyAmJiBhbmNlc3RvckNvbXBvbmVudC5oYXNBdHRyaWJ1dGUoJ3MtaWQnKSAmJiBhbmNlc3RvckNvbXBvbmVudFsncy1wJ10pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmNlc3RvckNvbXBvbmVudFsncy1wJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGZvdW5kIHRoaXMgY29tcG9uZW50cyBmaXJzdCBhbmNlc3RvciBjb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhpcyBjb21wb25lbnQncyBhbmNlc3RvciBjb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaFRvQW5jZXN0b3IoaG9zdFJlZiwgKGhvc3RSZWYuJGFuY2VzdG9yQ29tcG9uZW50JCA9IGFuY2VzdG9yQ29tcG9uZW50KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIExhenkgcHJvcGVydGllc1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vd2ViL2Z1bmRhbWVudGFscy93ZWItY29tcG9uZW50cy9iZXN0LXByYWN0aWNlcyNsYXp5LXByb3BlcnRpZXNcbiAgICAgICAgICAgIGlmIChCVUlMRC5wcm9wICYmIEJVSUxELmxhenlMb2FkICYmICFCVUlMRC5oeWRyYXRlU2VydmVyU2lkZSAmJiBjbXBNZXRhLiRtZW1iZXJzJCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGNtcE1ldGEuJG1lbWJlcnMkKS5tYXAoKFttZW1iZXJOYW1lLCBbbWVtYmVyRmxhZ3NdXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVtYmVyRmxhZ3MgJiAzMSAvKiBQcm9wICovICYmIGVsbS5oYXNPd25Qcm9wZXJ0eShtZW1iZXJOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlbG1bbWVtYmVyTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZWxtW21lbWJlck5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxtW21lbWJlck5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChCVUlMRC5pbml0aWFsaXplTmV4dFRpY2spIHtcbiAgICAgICAgICAgICAgICAvLyBjb25uZWN0ZWRDYWxsYmFjaywgdGFza1F1ZXVlLCBpbml0aWFsTG9hZFxuICAgICAgICAgICAgICAgIC8vIGFuZ3VsYXIgc2V0cyBhdHRyaWJ1dGUgQUZURVIgY29ubmVjdENhbGxiYWNrXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTg5MDlcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xOTk0MFxuICAgICAgICAgICAgICAgIG5leHRUaWNrKCgpID0+IGluaXRpYWxpemVDb21wb25lbnQoZWxtLCBob3N0UmVmLCBjbXBNZXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplQ29tcG9uZW50KGVsbSwgaG9zdFJlZiwgY21wTWV0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBub3QgdGhlIGZpcnN0IHRpbWUgdGhpcyBoYXMgY29ubmVjdGVkXG4gICAgICAgICAgICAvLyByZWF0dGFjaCBhbnkgZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSBob3N0XG4gICAgICAgICAgICAvLyBzaW5jZSB0aGV5IHdvdWxkIGhhdmUgYmVlbiByZW1vdmVkIHdoZW4gZGlzY29ubmVjdGVkXG4gICAgICAgICAgICBhZGRIb3N0RXZlbnRMaXN0ZW5lcnMoZWxtLCBob3N0UmVmLCBjbXBNZXRhLiRsaXN0ZW5lcnMkLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyBmaXJlIG9mZiBjb25uZWN0ZWRDYWxsYmFjaygpIG9uIGNvbXBvbmVudCBpbnN0YW5jZVxuICAgICAgICAgICAgZmlyZUNvbm5lY3RlZENhbGxiYWNrKGhvc3RSZWYuJGxhenlJbnN0YW5jZSQpO1xuICAgICAgICB9XG4gICAgICAgIGVuZENvbm5lY3RlZCgpO1xuICAgIH1cbn07XG5jb25zdCBzZXRDb250ZW50UmVmZXJlbmNlID0gKGVsbSkgPT4ge1xuICAgIC8vIG9ubHkgcmVxdWlyZWQgd2hlbiB3ZSdyZSBOT1QgdXNpbmcgbmF0aXZlIHNoYWRvdyBkb20gKHNsb3QpXG4gICAgLy8gb3IgdGhpcyBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBuYXRpdmUgc2hhZG93IGRvbVxuICAgIC8vIGFuZCB0aGlzIGhvc3QgZWxlbWVudCB3YXMgTk9UIGNyZWF0ZWQgd2l0aCBTU1JcbiAgICAvLyBsZXQncyBwaWNrIG91dCB0aGUgaW5uZXIgY29udGVudCBmb3Igc2xvdCBwcm9qZWN0aW9uXG4gICAgLy8gY3JlYXRlIGEgbm9kZSB0byByZXByZXNlbnQgd2hlcmUgdGhlIG9yaWdpbmFsXG4gICAgLy8gY29udGVudCB3YXMgZmlyc3QgcGxhY2VkLCB3aGljaCBpcyB1c2VmdWwgbGF0ZXIgb25cbiAgICBjb25zdCBjb250ZW50UmVmRWxtID0gKGVsbVsncy1jciddID0gZG9jLmNyZWF0ZUNvbW1lbnQoQlVJTEQuaXNEZWJ1ZyA/IGBjb250ZW50LXJlZiAoaG9zdD0ke2VsbS5sb2NhbE5hbWV9KWAgOiAnJykpO1xuICAgIGNvbnRlbnRSZWZFbG1bJ3MtY24nXSA9IHRydWU7XG4gICAgZWxtLmluc2VydEJlZm9yZShjb250ZW50UmVmRWxtLCBlbG0uZmlyc3RDaGlsZCk7XG59O1xuY29uc3QgZGlzY29ubmVjdGVkQ2FsbGJhY2sgPSAoZWxtKSA9PiB7XG4gICAgaWYgKChwbHQuJGZsYWdzJCAmIDEgLyogaXNUbXBEaXNjb25uZWN0ZWQgKi8pID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGhvc3RSZWYgPSBnZXRIb3N0UmVmKGVsbSk7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gQlVJTEQubGF6eUxvYWQgPyBob3N0UmVmLiRsYXp5SW5zdGFuY2UkIDogZWxtO1xuICAgICAgICBpZiAoQlVJTEQuaG9zdExpc3RlbmVyKSB7XG4gICAgICAgICAgICBpZiAoaG9zdFJlZi4kcm1MaXN0ZW5lcnMkKSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlZi4kcm1MaXN0ZW5lcnMkLm1hcChybUxpc3RlbmVyID0+IHJtTGlzdGVuZXIoKSk7XG4gICAgICAgICAgICAgICAgaG9zdFJlZi4kcm1MaXN0ZW5lcnMkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNsZWFyIENTUyB2YXItc2hpbSB0cmFja2luZ1xuICAgICAgICBpZiAoQlVJTEQuY3NzVmFyU2hpbSAmJiBwbHQuJGNzc1NoaW0kKSB7XG4gICAgICAgICAgICBwbHQuJGNzc1NoaW0kLnJlbW92ZUhvc3QoZWxtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQlVJTEQubGF6eUxvYWQgJiYgQlVJTEQuZGlzY29ubmVjdGVkQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIHNhZmVDYWxsKGluc3RhbmNlLCAnZGlzY29ubmVjdGVkQ2FsbGJhY2snKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQlVJTEQuY21wRGlkVW5sb2FkKSB7XG4gICAgICAgICAgICBzYWZlQ2FsbChpbnN0YW5jZSwgJ2NvbXBvbmVudERpZFVubG9hZCcpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IGRlZmluZUN1c3RvbUVsZW1lbnQgPSAoQ3N0ciwgY29tcGFjdE1ldGEpID0+IHtcbiAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUoY29tcGFjdE1ldGFbMV0sIHByb3h5Q3VzdG9tRWxlbWVudChDc3RyLCBjb21wYWN0TWV0YSkpO1xufTtcbmNvbnN0IHByb3h5Q3VzdG9tRWxlbWVudCA9IChDc3RyLCBjb21wYWN0TWV0YSkgPT4ge1xuICAgIGNvbnN0IGNtcE1ldGEgPSB7XG4gICAgICAgICRmbGFncyQ6IGNvbXBhY3RNZXRhWzBdLFxuICAgICAgICAkdGFnTmFtZSQ6IGNvbXBhY3RNZXRhWzFdLFxuICAgIH07XG4gICAgaWYgKEJVSUxELm1lbWJlcikge1xuICAgICAgICBjbXBNZXRhLiRtZW1iZXJzJCA9IGNvbXBhY3RNZXRhWzJdO1xuICAgIH1cbiAgICBpZiAoQlVJTEQuaG9zdExpc3RlbmVyKSB7XG4gICAgICAgIGNtcE1ldGEuJGxpc3RlbmVycyQgPSBjb21wYWN0TWV0YVszXTtcbiAgICB9XG4gICAgaWYgKEJVSUxELndhdGNoQ2FsbGJhY2spIHtcbiAgICAgICAgY21wTWV0YS4kd2F0Y2hlcnMkID0gQ3N0ci4kd2F0Y2hlcnMkO1xuICAgIH1cbiAgICBpZiAoQlVJTEQucmVmbGVjdCkge1xuICAgICAgICBjbXBNZXRhLiRhdHRyc1RvUmVmbGVjdCQgPSBbXTtcbiAgICB9XG4gICAgaWYgKEJVSUxELnNoYWRvd0RvbSAmJiAhc3VwcG9ydHNTaGFkb3cgJiYgY21wTWV0YS4kZmxhZ3MkICYgMSAvKiBzaGFkb3dEb21FbmNhcHN1bGF0aW9uICovKSB7XG4gICAgICAgIGNtcE1ldGEuJGZsYWdzJCB8PSA4IC8qIG5lZWRzU2hhZG93RG9tU2hpbSAqLztcbiAgICB9XG4gICAgY29uc3Qgb3JpZ2luYWxDb25uZWN0ZWRDYWxsYmFjayA9IENzdHIucHJvdG90eXBlLmNvbm5lY3RlZENhbGxiYWNrO1xuICAgIGNvbnN0IG9yaWdpbmFsRGlzY29ubmVjdGVkQ2FsbGJhY2sgPSBDc3RyLnByb3RvdHlwZS5kaXNjb25uZWN0ZWRDYWxsYmFjaztcbiAgICBPYmplY3QuYXNzaWduKENzdHIucHJvdG90eXBlLCB7XG4gICAgICAgIF9fcmVnaXN0ZXJIb3N0KCkge1xuICAgICAgICAgICAgcmVnaXN0ZXJIb3N0KHRoaXMsIGNtcE1ldGEpO1xuICAgICAgICB9LFxuICAgICAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIGNvbm5lY3RlZENhbGxiYWNrKHRoaXMpO1xuICAgICAgICAgICAgaWYgKEJVSUxELmNvbm5lY3RlZENhbGxiYWNrICYmIG9yaWdpbmFsQ29ubmVjdGVkQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbENvbm5lY3RlZENhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2sodGhpcyk7XG4gICAgICAgICAgICBpZiAoQlVJTEQuZGlzY29ubmVjdGVkQ2FsbGJhY2sgJiYgb3JpZ2luYWxEaXNjb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsRGlzY29ubmVjdGVkQ2FsbGJhY2suY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICBDc3RyLmlzID0gY21wTWV0YS4kdGFnTmFtZSQ7XG4gICAgcmV0dXJuIHByb3h5Q29tcG9uZW50KENzdHIsIGNtcE1ldGEsIDEgLyogaXNFbGVtZW50Q29uc3RydWN0b3IgKi8gfCAyIC8qIHByb3h5U3RhdGUgKi8pO1xufTtcbmNvbnN0IGZvcmNlTW9kZVVwZGF0ZSA9IChlbG0pID0+IHtcbiAgICBpZiAoQlVJTEQuc3R5bGUgJiYgQlVJTEQubW9kZSAmJiAhQlVJTEQubGF6eUxvYWQpIHtcbiAgICAgICAgY29uc3QgbW9kZSA9IGNvbXB1dGVNb2RlKGVsbSk7XG4gICAgICAgIGNvbnN0IGhvc3RSZWYgPSBnZXRIb3N0UmVmKGVsbSk7XG4gICAgICAgIGlmIChob3N0UmVmLiRtb2RlTmFtZSQgIT09IG1vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNtcE1ldGEgPSBob3N0UmVmLiRjbXBNZXRhJDtcbiAgICAgICAgICAgIGNvbnN0IG9sZFNjb3BlSWQgPSBlbG1bJ3Mtc2MnXTtcbiAgICAgICAgICAgIGNvbnN0IHNjb3BlSWQgPSBnZXRTY29wZUlkKGNtcE1ldGEsIG1vZGUpO1xuICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBlbG0uY29uc3RydWN0b3Iuc3R5bGVbbW9kZV07XG4gICAgICAgICAgICBjb25zdCBmbGFncyA9IGNtcE1ldGEuJGZsYWdzJDtcbiAgICAgICAgICAgIGlmIChzdHlsZSkge1xuICAgICAgICAgICAgICAgIGlmICghc3R5bGVzLmhhcyhzY29wZUlkKSkge1xuICAgICAgICAgICAgICAgICAgICByZWdpc3RlclN0eWxlKHNjb3BlSWQsIHN0eWxlLCAhIShmbGFncyAmIDEgLyogc2hhZG93RG9tRW5jYXBzdWxhdGlvbiAqLykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBob3N0UmVmLiRtb2RlTmFtZSQgPSBtb2RlO1xuICAgICAgICAgICAgICAgIGVsbS5jbGFzc0xpc3QucmVtb3ZlKG9sZFNjb3BlSWQgKyAnLWgnLCBvbGRTY29wZUlkICsgJy1zJyk7XG4gICAgICAgICAgICAgICAgYXR0YWNoU3R5bGVzKGhvc3RSZWYpO1xuICAgICAgICAgICAgICAgIGZvcmNlVXBkYXRlKGVsbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgYXR0YWNoU2hhZG93ID0gKGVsKSA9PiB7XG4gICAgaWYgKHN1cHBvcnRzU2hhZG93KSB7XG4gICAgICAgIGVsLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVsLnNoYWRvd1Jvb3QgPSBlbDtcbiAgICB9XG59O1xuY29uc3QgaG1yU3RhcnQgPSAoZWxtLCBjbXBNZXRhLCBobXJWZXJzaW9uSWQpID0+IHtcbiAgICAvLyDCr1xcXyjjg4QpXy/Cr1xuICAgIGNvbnN0IGhvc3RSZWYgPSBnZXRIb3N0UmVmKGVsbSk7XG4gICAgLy8gcmVzZXQgc3RhdGUgZmxhZ3MgdG8gb25seSBoYXZlIGJlZW4gY29ubmVjdGVkXG4gICAgaG9zdFJlZi4kZmxhZ3MkID0gMSAvKiBoYXNDb25uZWN0ZWQgKi87XG4gICAgLy8gVE9ET1xuICAgIC8vIGRldGF0Y2ggYW55IGV2ZW50IGxpc3RlbmVycyB0aGF0IG1heSBoYXZlIGJlZW4gYWRkZWRcbiAgICAvLyBiZWNhdXNlIHdlJ3JlIG5vdCBwYXNzaW5nIGFuIGV4YWN0IGV2ZW50IG5hbWUgaXQnbGxcbiAgICAvLyByZW1vdmUgYWxsIG9mIHRoaXMgZWxlbWVudCdzIGV2ZW50LCB3aGljaCBpcyBnb29kXG4gICAgLy8gY3JlYXRlIGEgY2FsbGJhY2sgZm9yIHdoZW4gdGhpcyBjb21wb25lbnQgZmluaXNoZXMgaG1yXG4gICAgZWxtWydzLWhtci1sb2FkJ10gPSAoKSA9PiB7XG4gICAgICAgIC8vIGZpbmlzaGVkIGhtciBmb3IgdGhpcyBlbGVtZW50XG4gICAgICAgIGRlbGV0ZSBlbG1bJ3MtaG1yLWxvYWQnXTtcbiAgICB9O1xuICAgIC8vIHJlLWluaXRpYWxpemUgdGhlIGNvbXBvbmVudFxuICAgIGluaXRpYWxpemVDb21wb25lbnQoZWxtLCBob3N0UmVmLCBjbXBNZXRhLCBobXJWZXJzaW9uSWQpO1xufTtcbmNvbnN0IHBhdGNoQ2xvbmVOb2RlID0gKEhvc3RFbGVtZW50UHJvdG90eXBlKSA9PiB7XG4gICAgY29uc3Qgb3JnQ2xvbmVOb2RlID0gSG9zdEVsZW1lbnRQcm90b3R5cGUuY2xvbmVOb2RlO1xuICAgIEhvc3RFbGVtZW50UHJvdG90eXBlLmNsb25lTm9kZSA9IGZ1bmN0aW9uIChkZWVwKSB7XG4gICAgICAgIGNvbnN0IHNyY05vZGUgPSB0aGlzO1xuICAgICAgICBjb25zdCBpc1NoYWRvd0RvbSA9IEJVSUxELnNoYWRvd0RvbSA/IHNyY05vZGUuc2hhZG93Um9vdCAmJiBzdXBwb3J0c1NoYWRvdyA6IGZhbHNlO1xuICAgICAgICBjb25zdCBjbG9uZWROb2RlID0gb3JnQ2xvbmVOb2RlLmNhbGwoc3JjTm9kZSwgaXNTaGFkb3dEb20gPyBkZWVwIDogZmFsc2UpO1xuICAgICAgICBpZiAoQlVJTEQuc2xvdCAmJiAhaXNTaGFkb3dEb20gJiYgZGVlcCkge1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgbGV0IHNsb3R0ZWQsIG5vblN0ZW5jaWxOb2RlO1xuICAgICAgICAgICAgbGV0IHN0ZW5jaWxQcml2YXRlcyA9IFsncy1pZCcsICdzLWNyJywgJ3MtbHInLCAncy1yYycsICdzLXNjJywgJ3MtcCcsICdzLWNuJywgJ3Mtc3InLCAncy1zbicsICdzLWhuJywgJ3Mtb2wnLCAncy1ucicsICdzLXNpJ107XG4gICAgICAgICAgICBmb3IgKDsgaSA8IHNyY05vZGUuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHNsb3R0ZWQgPSBzcmNOb2RlLmNoaWxkTm9kZXNbaV1bJ3MtbnInXTtcbiAgICAgICAgICAgICAgICBub25TdGVuY2lsTm9kZSA9IHN0ZW5jaWxQcml2YXRlcy5ldmVyeSgocHJpdmF0ZUZpZWxkKSA9PiAhc3JjTm9kZS5jaGlsZE5vZGVzW2ldW3ByaXZhdGVGaWVsZF0pO1xuICAgICAgICAgICAgICAgIGlmIChzbG90dGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChCVUlMRC5hcHBlbmRDaGlsZFNsb3RGaXggJiYgY2xvbmVkTm9kZS5fX2FwcGVuZENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9uZWROb2RlLl9fYXBwZW5kQ2hpbGQoc2xvdHRlZC5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVkTm9kZS5hcHBlbmRDaGlsZChzbG90dGVkLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vblN0ZW5jaWxOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb25lZE5vZGUuYXBwZW5kQ2hpbGQoc3JjTm9kZS5jaGlsZE5vZGVzW2ldLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbG9uZWROb2RlO1xuICAgIH07XG59O1xuY29uc3QgcGF0Y2hTbG90QXBwZW5kQ2hpbGQgPSAoSG9zdEVsZW1lbnRQcm90b3R5cGUpID0+IHtcbiAgICBIb3N0RWxlbWVudFByb3RvdHlwZS5fX2FwcGVuZENoaWxkID0gSG9zdEVsZW1lbnRQcm90b3R5cGUuYXBwZW5kQ2hpbGQ7XG4gICAgSG9zdEVsZW1lbnRQcm90b3R5cGUuYXBwZW5kQ2hpbGQgPSBmdW5jdGlvbiAobmV3Q2hpbGQpIHtcbiAgICAgICAgY29uc3Qgc2xvdE5hbWUgPSAobmV3Q2hpbGRbJ3Mtc24nXSA9IGdldFNsb3ROYW1lKG5ld0NoaWxkKSk7XG4gICAgICAgIGNvbnN0IHNsb3ROb2RlID0gZ2V0SG9zdFNsb3ROb2RlKHRoaXMuY2hpbGROb2Rlcywgc2xvdE5hbWUpO1xuICAgICAgICBpZiAoc2xvdE5vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHNsb3RDaGlsZE5vZGVzID0gZ2V0SG9zdFNsb3RDaGlsZE5vZGVzKHNsb3ROb2RlLCBzbG90TmFtZSk7XG4gICAgICAgICAgICBjb25zdCBhcHBlbmRBZnRlciA9IHNsb3RDaGlsZE5vZGVzW3Nsb3RDaGlsZE5vZGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgcmV0dXJuIGFwcGVuZEFmdGVyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld0NoaWxkLCBhcHBlbmRBZnRlci5uZXh0U2libGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX19hcHBlbmRDaGlsZChuZXdDaGlsZCk7XG4gICAgfTtcbn07XG5jb25zdCBwYXRjaENoaWxkU2xvdE5vZGVzID0gKGVsbSwgY21wTWV0YSkgPT4ge1xuICAgIGNsYXNzIEZha2VOb2RlTGlzdCBleHRlbmRzIEFycmF5IHtcbiAgICAgICAgaXRlbShuKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1tuXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY21wTWV0YS4kZmxhZ3MkICYgOCAvKiBuZWVkc1NoYWRvd0RvbVNoaW0gKi8pIHtcbiAgICAgICAgY29uc3QgY2hpbGROb2Rlc0ZuID0gZWxtLl9fbG9va3VwR2V0dGVyX18oJ2NoaWxkTm9kZXMnKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsbSwgJ2NoaWxkcmVuJywge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkTm9kZXMubWFwKChuKSA9PiBuLm5vZGVUeXBlID09PSAxKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxtLCAnY2hpbGRFbGVtZW50Q291bnQnLCB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsbS5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsbSwgJ2NoaWxkTm9kZXMnLCB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGROb2RlcyA9IGNoaWxkTm9kZXNGbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIGlmICgocGx0LiRmbGFncyQgJiAxIC8qIGlzVG1wRGlzY29ubmVjdGVkICovKSA9PT0gMCAmJiBnZXRIb3N0UmVmKHRoaXMpLiRmbGFncyQgJiAyIC8qIGhhc1JlbmRlcmVkICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBGYWtlTm9kZUxpc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbG90ID0gY2hpbGROb2Rlc1tpXVsncy1uciddO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNsb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzbG90KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gRmFrZU5vZGVMaXN0LmZyb20oY2hpbGROb2Rlcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG59O1xuY29uc3QgZ2V0U2xvdE5hbWUgPSAobm9kZSkgPT4gbm9kZVsncy1zbiddIHx8IChub2RlLm5vZGVUeXBlID09PSAxICYmIG5vZGUuZ2V0QXR0cmlidXRlKCdzbG90JykpIHx8ICcnO1xuY29uc3QgZ2V0SG9zdFNsb3ROb2RlID0gKGNoaWxkTm9kZXMsIHNsb3ROYW1lKSA9PiB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBjaGlsZE5vZGU7XG4gICAgZm9yICg7IGkgPCBjaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZXNbaV07XG4gICAgICAgIGlmIChjaGlsZE5vZGVbJ3Mtc3InXSAmJiBjaGlsZE5vZGVbJ3Mtc24nXSA9PT0gc2xvdE5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGROb2RlID0gZ2V0SG9zdFNsb3ROb2RlKGNoaWxkTm9kZS5jaGlsZE5vZGVzLCBzbG90TmFtZSk7XG4gICAgICAgIGlmIChjaGlsZE5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZE5vZGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuY29uc3QgZ2V0SG9zdFNsb3RDaGlsZE5vZGVzID0gKG4sIHNsb3ROYW1lKSA9PiB7XG4gICAgY29uc3QgY2hpbGROb2RlcyA9IFtuXTtcbiAgICB3aGlsZSAoKG4gPSBuLm5leHRTaWJsaW5nKSAmJiBuWydzLXNuJ10gPT09IHNsb3ROYW1lKSB7XG4gICAgICAgIGNoaWxkTm9kZXMucHVzaChuKTtcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkTm9kZXM7XG59O1xuY29uc3QgYm9vdHN0cmFwTGF6eSA9IChsYXp5QnVuZGxlcywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKEJVSUxELnByb2ZpbGUgJiYgcGVyZm9ybWFuY2UubWFyaykge1xuICAgICAgICBwZXJmb3JtYW5jZS5tYXJrKCdzdDphcHA6c3RhcnQnKTtcbiAgICB9XG4gICAgaW5zdGFsbERldlRvb2xzKCk7XG4gICAgY29uc3QgZW5kQm9vdHN0cmFwID0gY3JlYXRlVGltZSgnYm9vdHN0cmFwTGF6eScpO1xuICAgIGNvbnN0IGNtcFRhZ3MgPSBbXTtcbiAgICBjb25zdCBleGNsdWRlID0gb3B0aW9ucy5leGNsdWRlIHx8IFtdO1xuICAgIGNvbnN0IGN1c3RvbUVsZW1lbnRzID0gd2luLmN1c3RvbUVsZW1lbnRzO1xuICAgIGNvbnN0IGhlYWQgPSBkb2MuaGVhZDtcbiAgICBjb25zdCBtZXRhQ2hhcnNldCA9IC8qQF9fUFVSRV9fKi8gaGVhZC5xdWVyeVNlbGVjdG9yKCdtZXRhW2NoYXJzZXRdJyk7XG4gICAgY29uc3QgdmlzaWJpbGl0eVN0eWxlID0gLypAX19QVVJFX18qLyBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBjb25zdCBkZWZlcnJlZENvbm5lY3RlZENhbGxiYWNrcyA9IFtdO1xuICAgIGNvbnN0IHN0eWxlcyA9IC8qQF9fUFVSRV9fKi8gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoYFske0hZRFJBVEVEX1NUWUxFX0lEfV1gKTtcbiAgICBsZXQgYXBwTG9hZEZhbGxiYWNrO1xuICAgIGxldCBpc0Jvb3RzdHJhcHBpbmcgPSB0cnVlO1xuICAgIGxldCBpID0gMDtcbiAgICBPYmplY3QuYXNzaWduKHBsdCwgb3B0aW9ucyk7XG4gICAgcGx0LiRyZXNvdXJjZXNVcmwkID0gbmV3IFVSTChvcHRpb25zLnJlc291cmNlc1VybCB8fCAnLi8nLCBkb2MuYmFzZVVSSSkuaHJlZjtcbiAgICBpZiAoQlVJTEQuYXN5bmNRdWV1ZSkge1xuICAgICAgICBpZiAob3B0aW9ucy5zeW5jUXVldWUpIHtcbiAgICAgICAgICAgIHBsdC4kZmxhZ3MkIHw9IDQgLyogcXVldWVTeW5jICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChCVUlMRC5oeWRyYXRlQ2xpZW50U2lkZSkge1xuICAgICAgICAvLyBJZiB0aGUgYXBwIGlzIGFscmVhZHkgaHlkcmF0ZWQgdGhlcmUgaXMgbm90IHBvaW50IHRvIGRpc2FibGUgdGhlXG4gICAgICAgIC8vIGFzeW5jIHF1ZXVlLiBUaGlzIHdpbGwgaW1wcm92ZSB0aGUgZmlyc3QgaW5wdXQgZGVsYXlcbiAgICAgICAgcGx0LiRmbGFncyQgfD0gMiAvKiBhcHBMb2FkZWQgKi87XG4gICAgfVxuICAgIGlmIChCVUlMRC5oeWRyYXRlQ2xpZW50U2lkZSAmJiBCVUlMRC5zaGFkb3dEb20pIHtcbiAgICAgICAgZm9yICg7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlZ2lzdGVyU3R5bGUoc3R5bGVzW2ldLmdldEF0dHJpYnV0ZShIWURSQVRFRF9TVFlMRV9JRCksIGNvbnZlcnRTY29wZWRUb1NoYWRvdyhzdHlsZXNbaV0uaW5uZXJIVE1MKSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGF6eUJ1bmRsZXMubWFwKGxhenlCdW5kbGUgPT4gbGF6eUJ1bmRsZVsxXS5tYXAoY29tcGFjdE1ldGEgPT4ge1xuICAgICAgICBjb25zdCBjbXBNZXRhID0ge1xuICAgICAgICAgICAgJGZsYWdzJDogY29tcGFjdE1ldGFbMF0sXG4gICAgICAgICAgICAkdGFnTmFtZSQ6IGNvbXBhY3RNZXRhWzFdLFxuICAgICAgICAgICAgJG1lbWJlcnMkOiBjb21wYWN0TWV0YVsyXSxcbiAgICAgICAgICAgICRsaXN0ZW5lcnMkOiBjb21wYWN0TWV0YVszXSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKEJVSUxELm1lbWJlcikge1xuICAgICAgICAgICAgY21wTWV0YS4kbWVtYmVycyQgPSBjb21wYWN0TWV0YVsyXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQlVJTEQuaG9zdExpc3RlbmVyKSB7XG4gICAgICAgICAgICBjbXBNZXRhLiRsaXN0ZW5lcnMkID0gY29tcGFjdE1ldGFbM107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEJVSUxELnJlZmxlY3QpIHtcbiAgICAgICAgICAgIGNtcE1ldGEuJGF0dHJzVG9SZWZsZWN0JCA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChCVUlMRC53YXRjaENhbGxiYWNrKSB7XG4gICAgICAgICAgICBjbXBNZXRhLiR3YXRjaGVycyQgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQlVJTEQuc2hhZG93RG9tICYmICFzdXBwb3J0c1NoYWRvdyAmJiBjbXBNZXRhLiRmbGFncyQgJiAxIC8qIHNoYWRvd0RvbUVuY2Fwc3VsYXRpb24gKi8pIHtcbiAgICAgICAgICAgIGNtcE1ldGEuJGZsYWdzJCB8PSA4IC8qIG5lZWRzU2hhZG93RG9tU2hpbSAqLztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YWdOYW1lID0gQlVJTEQudHJhbnNmb3JtVGFnTmFtZSAmJiBvcHRpb25zLnRyYW5zZm9ybVRhZ05hbWUgPyBvcHRpb25zLnRyYW5zZm9ybVRhZ05hbWUoY21wTWV0YS4kdGFnTmFtZSQpIDogY21wTWV0YS4kdGFnTmFtZSQ7XG4gICAgICAgIGNvbnN0IEhvc3RFbGVtZW50ID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgICAgICAgICAvLyBTdGVuY2lsTGF6eUhvc3RcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKHNlbGYpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgc3VwZXIoc2VsZik7XG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJIb3N0KHNlbGYsIGNtcE1ldGEpO1xuICAgICAgICAgICAgICAgIGlmIChCVUlMRC5zaGFkb3dEb20gJiYgY21wTWV0YS4kZmxhZ3MkICYgMSAvKiBzaGFkb3dEb21FbmNhcHN1bGF0aW9uICovKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgY29tcG9uZW50IGlzIHVzaW5nIHNoYWRvdyBkb21cbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRoaXMgYnJvd3NlciBzdXBwb3J0cyBzaGFkb3cgZG9tXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgcmVhZC1vbmx5IHByb3BlcnR5IFwic2hhZG93Um9vdFwiIHRvIHRoZSBob3N0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkaW5nIHRoZSBzaGFkb3cgcm9vdCBidWlsZCBjb25kaXRpb25hbHMgdG8gbWluaW1pemUgcnVudGltZVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3VwcG9ydHNTaGFkb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChCVUlMRC5zaGFkb3dEZWxlZ2F0ZXNGb2N1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYXR0YWNoU2hhZG93KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogJ29wZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxlZ2F0ZXNGb2N1czogISEoY21wTWV0YS4kZmxhZ3MkICYgMTYgLyogc2hhZG93RGVsZWdhdGVzRm9jdXMgKi8pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIUJVSUxELmh5ZHJhdGVTZXJ2ZXJTaWRlICYmICEoJ3NoYWRvd1Jvb3QnIGluIHNlbGYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNoYWRvd1Jvb3QgPSBzZWxmO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChCVUlMRC5zbG90Q2hpbGROb2Rlc0ZpeCkge1xuICAgICAgICAgICAgICAgICAgICBwYXRjaENoaWxkU2xvdE5vZGVzKHNlbGYsIGNtcE1ldGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgICAgIGlmIChhcHBMb2FkRmFsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGFwcExvYWRGYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIGFwcExvYWRGYWxsYmFjayA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0Jvb3RzdHJhcHBpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29ubmVjdGVkQ2FsbGJhY2sgd2lsbCBiZSBwcm9jZXNzZWQgb25jZSBhbGwgY29tcG9uZW50cyBoYXZlIGJlZW4gcmVnaXN0ZXJlZFxuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZENvbm5lY3RlZENhbGxiYWNrcy5wdXNoKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGx0LmptcCgoKSA9PiBjb25uZWN0ZWRDYWxsYmFjayh0aGlzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgcGx0LmptcCgoKSA9PiBkaXNjb25uZWN0ZWRDYWxsYmFjayh0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21wb25lbnRPblJlYWR5KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRIb3N0UmVmKHRoaXMpLiRvblJlYWR5UHJvbWlzZSQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChCVUlMRC5jbG9uZU5vZGVGaXgpIHtcbiAgICAgICAgICAgIHBhdGNoQ2xvbmVOb2RlKEhvc3RFbGVtZW50LnByb3RvdHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEJVSUxELmFwcGVuZENoaWxkU2xvdEZpeCkge1xuICAgICAgICAgICAgcGF0Y2hTbG90QXBwZW5kQ2hpbGQoSG9zdEVsZW1lbnQucHJvdG90eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQlVJTEQuaG90TW9kdWxlUmVwbGFjZW1lbnQpIHtcbiAgICAgICAgICAgIEhvc3RFbGVtZW50LnByb3RvdHlwZVsncy1obXInXSA9IGZ1bmN0aW9uIChobXJWZXJzaW9uSWQpIHtcbiAgICAgICAgICAgICAgICBobXJTdGFydCh0aGlzLCBjbXBNZXRhLCBobXJWZXJzaW9uSWQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjbXBNZXRhLiRsYXp5QnVuZGxlSWQkID0gbGF6eUJ1bmRsZVswXTtcbiAgICAgICAgaWYgKCFleGNsdWRlLmluY2x1ZGVzKHRhZ05hbWUpICYmICFjdXN0b21FbGVtZW50cy5nZXQodGFnTmFtZSkpIHtcbiAgICAgICAgICAgIGNtcFRhZ3MucHVzaCh0YWdOYW1lKTtcbiAgICAgICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZSh0YWdOYW1lLCBwcm94eUNvbXBvbmVudChIb3N0RWxlbWVudCwgY21wTWV0YSwgMSAvKiBpc0VsZW1lbnRDb25zdHJ1Y3RvciAqLykpO1xuICAgICAgICB9XG4gICAgfSkpO1xuICAgIGlmIChCVUlMRC5oeWRyYXRlZENsYXNzIHx8IEJVSUxELmh5ZHJhdGVkQXR0cmlidXRlKSB7XG4gICAgICAgIHZpc2liaWxpdHlTdHlsZS5pbm5lckhUTUwgPSBjbXBUYWdzICsgSFlEUkFURURfQ1NTO1xuICAgICAgICB2aXNpYmlsaXR5U3R5bGUuc2V0QXR0cmlidXRlKCdkYXRhLXN0eWxlcycsICcnKTtcbiAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUodmlzaWJpbGl0eVN0eWxlLCBtZXRhQ2hhcnNldCA/IG1ldGFDaGFyc2V0Lm5leHRTaWJsaW5nIDogaGVhZC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgLy8gUHJvY2VzcyBkZWZlcnJlZCBjb25uZWN0ZWRDYWxsYmFja3Mgbm93IGFsbCBjb21wb25lbnRzIGhhdmUgYmVlbiByZWdpc3RlcmVkXG4gICAgaXNCb290c3RyYXBwaW5nID0gZmFsc2U7XG4gICAgaWYgKGRlZmVycmVkQ29ubmVjdGVkQ2FsbGJhY2tzLmxlbmd0aCkge1xuICAgICAgICBkZWZlcnJlZENvbm5lY3RlZENhbGxiYWNrcy5tYXAoaG9zdCA9PiBob3N0LmNvbm5lY3RlZENhbGxiYWNrKCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKEJVSUxELnByb2ZpbGUpIHtcbiAgICAgICAgICAgIHBsdC5qbXAoKCkgPT4gKGFwcExvYWRGYWxsYmFjayA9IHNldFRpbWVvdXQoYXBwRGlkTG9hZCwgMzAsICd0aW1lb3V0JykpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBsdC5qbXAoKCkgPT4gKGFwcExvYWRGYWxsYmFjayA9IHNldFRpbWVvdXQoYXBwRGlkTG9hZCwgMzApKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gRmFsbGJhY2sgYXBwTG9hZCBldmVudFxuICAgIGVuZEJvb3RzdHJhcCgpO1xufTtcbmNvbnN0IGdldEFzc2V0UGF0aCA9IChwYXRoKSA9PiB7XG4gICAgY29uc3QgYXNzZXRVcmwgPSBuZXcgVVJMKHBhdGgsIHBsdC4kcmVzb3VyY2VzVXJsJCk7XG4gICAgcmV0dXJuIGFzc2V0VXJsLm9yaWdpbiAhPT0gd2luLmxvY2F0aW9uLm9yaWdpbiA/IGFzc2V0VXJsLmhyZWYgOiBhc3NldFVybC5wYXRobmFtZTtcbn07XG5jb25zdCBzZXRBc3NldFBhdGggPSAocGF0aCkgPT4gKHBsdC4kcmVzb3VyY2VzVXJsJCA9IHBhdGgpO1xuY29uc3QgZ2V0Q29ubmVjdCA9IChfcmVmLCB0YWdOYW1lKSA9PiB7XG4gICAgY29uc3QgY29tcG9uZW50T25SZWFkeSA9ICgpID0+IHtcbiAgICAgICAgbGV0IGVsbSA9IGRvYy5xdWVyeVNlbGVjdG9yKHRhZ05hbWUpO1xuICAgICAgICBpZiAoIWVsbSkge1xuICAgICAgICAgICAgZWxtID0gZG9jLmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gICAgICAgICAgICBkb2MuYm9keS5hcHBlbmRDaGlsZChlbG0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eXBlb2YgZWxtLmNvbXBvbmVudE9uUmVhZHkgPT09ICdmdW5jdGlvbicgPyBlbG0uY29tcG9uZW50T25SZWFkeSgpIDogUHJvbWlzZS5yZXNvbHZlKGVsbSk7XG4gICAgfTtcbiAgICBjb25zdCBjcmVhdGUgPSAoLi4uYXJncykgPT4ge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50T25SZWFkeSgpLnRoZW4oZWwgPT4gZWwuY3JlYXRlKC4uLmFyZ3MpKTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZSxcbiAgICAgICAgY29tcG9uZW50T25SZWFkeSxcbiAgICB9O1xufTtcbmNvbnN0IGdldENvbnRleHQgPSAoX2VsbSwgY29udGV4dCkgPT4ge1xuICAgIGlmIChjb250ZXh0IGluIENvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIENvbnRleHRbY29udGV4dF07XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbnRleHQgPT09ICd3aW5kb3cnKSB7XG4gICAgICAgIHJldHVybiB3aW47XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbnRleHQgPT09ICdkb2N1bWVudCcpIHtcbiAgICAgICAgcmV0dXJuIGRvYztcbiAgICB9XG4gICAgZWxzZSBpZiAoY29udGV4dCA9PT0gJ2lzU2VydmVyJyB8fCBjb250ZXh0ID09PSAnaXNQcmVyZW5kZXInKSB7XG4gICAgICAgIHJldHVybiBCVUlMRC5oeWRyYXRlU2VydmVyU2lkZSA/IHRydWUgOiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29udGV4dCA9PT0gJ2lzQ2xpZW50Jykge1xuICAgICAgICByZXR1cm4gQlVJTEQuaHlkcmF0ZVNlcnZlclNpZGUgPyBmYWxzZSA6IHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbnRleHQgPT09ICdyZXNvdXJjZXNVcmwnIHx8IGNvbnRleHQgPT09ICdwdWJsaWNQYXRoJykge1xuICAgICAgICByZXR1cm4gZ2V0QXNzZXRQYXRoKCcuJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbnRleHQgPT09ICdxdWV1ZScpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdyaXRlOiB3cml0ZVRhc2ssXG4gICAgICAgICAgICByZWFkOiByZWFkVGFzayxcbiAgICAgICAgICAgIHRpY2s6IHtcbiAgICAgICAgICAgICAgICB0aGVuKGNiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0VGljayhjYik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuY29uc3QgaW5zZXJ0VmRvbUFubm90YXRpb25zID0gKGRvYywgc3RhdGljQ29tcG9uZW50cykgPT4ge1xuICAgIGlmIChkb2MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBkb2NEYXRhID0ge1xuICAgICAgICAgICAgaG9zdElkczogMCxcbiAgICAgICAgICAgIHJvb3RMZXZlbElkczogMCxcbiAgICAgICAgICAgIHN0YXRpY0NvbXBvbmVudHM6IG5ldyBTZXQoc3RhdGljQ29tcG9uZW50cyksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9yZ0xvY2F0aW9uTm9kZXMgPSBbXTtcbiAgICAgICAgcGFyc2VWTm9kZUFubm90YXRpb25zKGRvYywgZG9jLmJvZHksIGRvY0RhdGEsIG9yZ0xvY2F0aW9uTm9kZXMpO1xuICAgICAgICBvcmdMb2NhdGlvbk5vZGVzLmZvckVhY2gob3JnTG9jYXRpb25Ob2RlID0+IHtcbiAgICAgICAgICAgIGlmIChvcmdMb2NhdGlvbk5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVSZWYgPSBvcmdMb2NhdGlvbk5vZGVbJ3MtbnInXTtcbiAgICAgICAgICAgICAgICBsZXQgaG9zdElkID0gbm9kZVJlZlsncy1ob3N0LWlkJ107XG4gICAgICAgICAgICAgICAgbGV0IG5vZGVJZCA9IG5vZGVSZWZbJ3Mtbm9kZS1pZCddO1xuICAgICAgICAgICAgICAgIGxldCBjaGlsZElkID0gYCR7aG9zdElkfS4ke25vZGVJZH1gO1xuICAgICAgICAgICAgICAgIGlmIChob3N0SWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBob3N0SWQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBkb2NEYXRhLnJvb3RMZXZlbElkcysrO1xuICAgICAgICAgICAgICAgICAgICBub2RlSWQgPSBkb2NEYXRhLnJvb3RMZXZlbElkcztcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRJZCA9IGAke2hvc3RJZH0uJHtub2RlSWR9YDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVSZWYubm9kZVR5cGUgPT09IDEgLyogRWxlbWVudE5vZGUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVSZWYuc2V0QXR0cmlidXRlKEhZRFJBVEVfQ0hJTERfSUQsIGNoaWxkSWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vZGVSZWYubm9kZVR5cGUgPT09IDMgLyogVGV4dE5vZGUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob3N0SWQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0Q29udGVudCA9IG5vZGVSZWYubm9kZVZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGV4dENvbnRlbnQgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVzZWxlc3Mgd2hpdGVzcGFjZSBub2RlIGF0IHRoZSBkb2N1bWVudCByb290XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZ0xvY2F0aW9uTm9kZS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1lbnRCZWZvcmVUZXh0Tm9kZSA9IGRvYy5jcmVhdGVDb21tZW50KGNoaWxkSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudEJlZm9yZVRleHROb2RlLm5vZGVWYWx1ZSA9IGAke1RFWFRfTk9ERV9JRH0uJHtjaGlsZElkfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlUmVmLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNvbW1lbnRCZWZvcmVUZXh0Tm9kZSwgbm9kZVJlZik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IG9yZ0xvY2F0aW9uTm9kZUlkID0gYCR7T1JHX0xPQ0FUSU9OX0lEfS4ke2NoaWxkSWR9YDtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmdMb2NhdGlvblBhcmVudE5vZGUgPSBvcmdMb2NhdGlvbk5vZGUucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAob3JnTG9jYXRpb25QYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmdMb2NhdGlvblBhcmVudE5vZGVbJ3MtZW4nXSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuZGluZyB3aXRoIGEgXCIuXCIgbWVhbnMgdGhhdCB0aGUgcGFyZW50IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIHRoaXMgbm9kZSdzIG9yaWdpbmFsIGxvY2F0aW9uIGlzIGEgU0hBRE9XIGRvbSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgdGhpcyBub2RlIGlzIGFwYXJ0IG9mIHRoZSByb290IGxldmVsIGxpZ2h0IGRvbVxuICAgICAgICAgICAgICAgICAgICAgICAgb3JnTG9jYXRpb25Ob2RlSWQgKz0gYC5gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9yZ0xvY2F0aW9uUGFyZW50Tm9kZVsncy1lbiddID09PSAnYycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuZGluZyB3aXRoIGEgXCIuY1wiIG1lYW5zIHRoYXQgdGhlIHBhcmVudCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvZiB0aGlzIG5vZGUncyBvcmlnaW5hbCBsb2NhdGlvbiBpcyBhIFNDT1BFRCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgdGhpcyBub2RlIGlzIGFwYXJ0IG9mIHRoZSByb290IGxldmVsIGxpZ2h0IGRvbVxuICAgICAgICAgICAgICAgICAgICAgICAgb3JnTG9jYXRpb25Ob2RlSWQgKz0gYC5jYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcmdMb2NhdGlvbk5vZGUubm9kZVZhbHVlID0gb3JnTG9jYXRpb25Ob2RlSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5jb25zdCBwYXJzZVZOb2RlQW5ub3RhdGlvbnMgPSAoZG9jLCBub2RlLCBkb2NEYXRhLCBvcmdMb2NhdGlvbk5vZGVzKSA9PiB7XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChub2RlWydzLW5yJ10gIT0gbnVsbCkge1xuICAgICAgICBvcmdMb2NhdGlvbk5vZGVzLnB1c2gobm9kZSk7XG4gICAgfVxuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovKSB7XG4gICAgICAgIG5vZGUuY2hpbGROb2Rlcy5mb3JFYWNoKGNoaWxkTm9kZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBob3N0UmVmID0gZ2V0SG9zdFJlZihjaGlsZE5vZGUpO1xuICAgICAgICAgICAgaWYgKGhvc3RSZWYgIT0gbnVsbCAmJiAhZG9jRGF0YS5zdGF0aWNDb21wb25lbnRzLmhhcyhjaGlsZE5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbXBEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBub2RlSWRzOiAwLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaW5zZXJ0Vk5vZGVBbm5vdGF0aW9ucyhkb2MsIGNoaWxkTm9kZSwgaG9zdFJlZi4kdm5vZGUkLCBkb2NEYXRhLCBjbXBEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlVk5vZGVBbm5vdGF0aW9ucyhkb2MsIGNoaWxkTm9kZSwgZG9jRGF0YSwgb3JnTG9jYXRpb25Ob2Rlcyk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5jb25zdCBpbnNlcnRWTm9kZUFubm90YXRpb25zID0gKGRvYywgaG9zdEVsbSwgdm5vZGUsIGRvY0RhdGEsIGNtcERhdGEpID0+IHtcbiAgICBpZiAodm5vZGUgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBob3N0SWQgPSArK2RvY0RhdGEuaG9zdElkcztcbiAgICAgICAgaG9zdEVsbS5zZXRBdHRyaWJ1dGUoSFlEUkFURV9JRCwgaG9zdElkKTtcbiAgICAgICAgaWYgKGhvc3RFbG1bJ3MtY3InXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBob3N0RWxtWydzLWNyJ10ubm9kZVZhbHVlID0gYCR7Q09OVEVOVF9SRUZfSUR9LiR7aG9zdElkfWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZub2RlLiRjaGlsZHJlbiQgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgZGVwdGggPSAwO1xuICAgICAgICAgICAgdm5vZGUuJGNoaWxkcmVuJC5mb3JFYWNoKCh2bm9kZUNoaWxkLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGluc2VydENoaWxkVk5vZGVBbm5vdGF0aW9ucyhkb2MsIHZub2RlQ2hpbGQsIGNtcERhdGEsIGhvc3RJZCwgZGVwdGgsIGluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChob3N0RWxtICYmIHZub2RlICYmIHZub2RlLiRlbG0kICYmICFob3N0RWxtLmhhc0F0dHJpYnV0ZSgnYy1pZCcpKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBob3N0RWxtLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC5jaGlsZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50Q2hpbGROb2RlcyA9IEFycmF5LmZyb20ocGFyZW50LmNoaWxkTm9kZXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1lbnQgPSBwYXJlbnRDaGlsZE5vZGVzLmZpbmQobm9kZSA9PiBub2RlLm5vZGVUeXBlID09PSA4IC8qIENvbW1lbnROb2RlICovICYmIG5vZGVbJ3Mtc3InXSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnRDaGlsZE5vZGVzLmluZGV4T2YoaG9zdEVsbSkgLSAxO1xuICAgICAgICAgICAgICAgICAgICB2bm9kZS4kZWxtJC5zZXRBdHRyaWJ1dGUoSFlEUkFURV9DSElMRF9JRCwgYCR7Y29tbWVudFsncy1ob3N0LWlkJ119LiR7Y29tbWVudFsncy1ub2RlLWlkJ119LjAuJHtpbmRleH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgaW5zZXJ0Q2hpbGRWTm9kZUFubm90YXRpb25zID0gKGRvYywgdm5vZGVDaGlsZCwgY21wRGF0YSwgaG9zdElkLCBkZXB0aCwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBjaGlsZEVsbSA9IHZub2RlQ2hpbGQuJGVsbSQ7XG4gICAgaWYgKGNoaWxkRWxtID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBub2RlSWQgPSBjbXBEYXRhLm5vZGVJZHMrKztcbiAgICBjb25zdCBjaGlsZElkID0gYCR7aG9zdElkfS4ke25vZGVJZH0uJHtkZXB0aH0uJHtpbmRleH1gO1xuICAgIGNoaWxkRWxtWydzLWhvc3QtaWQnXSA9IGhvc3RJZDtcbiAgICBjaGlsZEVsbVsncy1ub2RlLWlkJ10gPSBub2RlSWQ7XG4gICAgaWYgKGNoaWxkRWxtLm5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovKSB7XG4gICAgICAgIGNoaWxkRWxtLnNldEF0dHJpYnV0ZShIWURSQVRFX0NISUxEX0lELCBjaGlsZElkKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY2hpbGRFbG0ubm9kZVR5cGUgPT09IDMgLyogVGV4dE5vZGUgKi8pIHtcbiAgICAgICAgY29uc3QgcGFyZW50Tm9kZSA9IGNoaWxkRWxtLnBhcmVudE5vZGU7XG4gICAgICAgIGNvbnN0IG5vZGVOYW1lID0gcGFyZW50Tm9kZS5ub2RlTmFtZTtcbiAgICAgICAgaWYgKG5vZGVOYW1lICE9PSAnU1RZTEUnICYmIG5vZGVOYW1lICE9PSAnU0NSSVBUJykge1xuICAgICAgICAgICAgY29uc3QgdGV4dE5vZGVJZCA9IGAke1RFWFRfTk9ERV9JRH0uJHtjaGlsZElkfWA7XG4gICAgICAgICAgICBjb25zdCBjb21tZW50QmVmb3JlVGV4dE5vZGUgPSBkb2MuY3JlYXRlQ29tbWVudCh0ZXh0Tm9kZUlkKTtcbiAgICAgICAgICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNvbW1lbnRCZWZvcmVUZXh0Tm9kZSwgY2hpbGRFbG0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGNoaWxkRWxtLm5vZGVUeXBlID09PSA4IC8qIENvbW1lbnROb2RlICovKSB7XG4gICAgICAgIGlmIChjaGlsZEVsbVsncy1zciddKSB7XG4gICAgICAgICAgICBjb25zdCBzbG90TmFtZSA9IGNoaWxkRWxtWydzLXNuJ10gfHwgJyc7XG4gICAgICAgICAgICBjb25zdCBzbG90Tm9kZUlkID0gYCR7U0xPVF9OT0RFX0lEfS4ke2NoaWxkSWR9LiR7c2xvdE5hbWV9YDtcbiAgICAgICAgICAgIGNoaWxkRWxtLm5vZGVWYWx1ZSA9IHNsb3ROb2RlSWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHZub2RlQ2hpbGQuJGNoaWxkcmVuJCAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkRGVwdGggPSBkZXB0aCArIDE7XG4gICAgICAgIHZub2RlQ2hpbGQuJGNoaWxkcmVuJC5mb3JFYWNoKCh2bm9kZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGluc2VydENoaWxkVk5vZGVBbm5vdGF0aW9ucyhkb2MsIHZub2RlLCBjbXBEYXRhLCBob3N0SWQsIGNoaWxkRGVwdGgsIGluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgfVxufTtcbmNvbnN0IHNldFBsYXRmb3JtT3B0aW9ucyA9IChvcHRzKSA9PiBPYmplY3QuYXNzaWduKHBsdCwgb3B0cyk7XG5jb25zdCBGcmFnbWVudCA9IChfLCBjaGlsZHJlbikgPT4gY2hpbGRyZW47XG5jb25zdCBob3N0UmVmcyA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBnZXRIb3N0UmVmID0gKHJlZikgPT4gaG9zdFJlZnMuZ2V0KHJlZik7XG5jb25zdCByZWdpc3Rlckluc3RhbmNlID0gKGxhenlJbnN0YW5jZSwgaG9zdFJlZikgPT4gaG9zdFJlZnMuc2V0KChob3N0UmVmLiRsYXp5SW5zdGFuY2UkID0gbGF6eUluc3RhbmNlKSwgaG9zdFJlZik7XG5jb25zdCByZWdpc3Rlckhvc3QgPSAoZWxtLCBjbXBNZXRhKSA9PiB7XG4gICAgY29uc3QgaG9zdFJlZiA9IHtcbiAgICAgICAgJGZsYWdzJDogMCxcbiAgICAgICAgJGhvc3RFbGVtZW50JDogZWxtLFxuICAgICAgICAkY21wTWV0YSQ6IGNtcE1ldGEsXG4gICAgICAgICRpbnN0YW5jZVZhbHVlcyQ6IG5ldyBNYXAoKSxcbiAgICB9O1xuICAgIGlmIChCVUlMRC5pc0Rldikge1xuICAgICAgICBob3N0UmVmLiRyZW5kZXJDb3VudCQgPSAwO1xuICAgIH1cbiAgICBpZiAoQlVJTEQubWV0aG9kICYmIEJVSUxELmxhenlMb2FkKSB7XG4gICAgICAgIGhvc3RSZWYuJG9uSW5zdGFuY2VQcm9taXNlJCA9IG5ldyBQcm9taXNlKHIgPT4gKGhvc3RSZWYuJG9uSW5zdGFuY2VSZXNvbHZlJCA9IHIpKTtcbiAgICB9XG4gICAgaWYgKEJVSUxELmFzeW5jTG9hZGluZykge1xuICAgICAgICBob3N0UmVmLiRvblJlYWR5UHJvbWlzZSQgPSBuZXcgUHJvbWlzZShyID0+IChob3N0UmVmLiRvblJlYWR5UmVzb2x2ZSQgPSByKSk7XG4gICAgICAgIGVsbVsncy1wJ10gPSBbXTtcbiAgICAgICAgZWxtWydzLXJjJ10gPSBbXTtcbiAgICB9XG4gICAgYWRkSG9zdEV2ZW50TGlzdGVuZXJzKGVsbSwgaG9zdFJlZiwgY21wTWV0YS4kbGlzdGVuZXJzJCwgZmFsc2UpO1xuICAgIHJldHVybiBob3N0UmVmcy5zZXQoZWxtLCBob3N0UmVmKTtcbn07XG5jb25zdCBpc01lbWJlckluRWxlbWVudCA9IChlbG0sIG1lbWJlck5hbWUpID0+IG1lbWJlck5hbWUgaW4gZWxtO1xuY29uc3QgY29uc29sZUVycm9yID0gKGUsIGVsKSA9PiAoY3VzdG9tRXJyb3IgfHwgY29uc29sZS5lcnJvcikoZSwgZWwpO1xuY29uc3QgU1RFTkNJTF9ERVZfTU9ERSA9IEJVSUxELmlzVGVzdGluZ1xuICAgID8gWydTVEVOQ0lMOiddIC8vIEUyRSB0ZXN0aW5nXG4gICAgOiBbJyVjc3RlbmNpbCcsICdjb2xvcjogd2hpdGU7YmFja2dyb3VuZDojNGM0N2ZmO2ZvbnQtd2VpZ2h0OiBib2xkOyBmb250LXNpemU6MTBweDsgcGFkZGluZzoycHggNnB4OyBib3JkZXItcmFkaXVzOiA1cHgnXTtcbmNvbnN0IGNvbnNvbGVEZXZFcnJvciA9ICguLi5tKSA9PiBjb25zb2xlLmVycm9yKC4uLlNURU5DSUxfREVWX01PREUsIC4uLm0pO1xuY29uc3QgY29uc29sZURldldhcm4gPSAoLi4ubSkgPT4gY29uc29sZS53YXJuKC4uLlNURU5DSUxfREVWX01PREUsIC4uLm0pO1xuY29uc3QgY29uc29sZURldkluZm8gPSAoLi4ubSkgPT4gY29uc29sZS5pbmZvKC4uLlNURU5DSUxfREVWX01PREUsIC4uLm0pO1xuY29uc3Qgc2V0RXJyb3JIYW5kbGVyID0gKGhhbmRsZXIpID0+IGN1c3RvbUVycm9yID0gaGFuZGxlcjtcbmNvbnN0IGNtcE1vZHVsZXMgPSAvKkBfX1BVUkVfXyovIG5ldyBNYXAoKTtcbmNvbnN0IGxvYWRNb2R1bGUgPSAoY21wTWV0YSwgaG9zdFJlZiwgaG1yVmVyc2lvbklkKSA9PiB7XG4gICAgLy8gbG9hZE1vZHVsZUltcG9ydFxuICAgIGNvbnN0IGV4cG9ydE5hbWUgPSBjbXBNZXRhLiR0YWdOYW1lJC5yZXBsYWNlKC8tL2csICdfJyk7XG4gICAgY29uc3QgYnVuZGxlSWQgPSBjbXBNZXRhLiRsYXp5QnVuZGxlSWQkO1xuICAgIGlmIChCVUlMRC5pc0RldiAmJiB0eXBlb2YgYnVuZGxlSWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnNvbGVEZXZFcnJvcihgVHJ5aW5nIHRvIGxhemlseSBsb2FkIGNvbXBvbmVudCA8JHtjbXBNZXRhLiR0YWdOYW1lJH0+IHdpdGggc3R5bGUgbW9kZSBcIiR7aG9zdFJlZi4kbW9kZU5hbWUkfVwiLCBidXQgaXQgZG9lcyBub3QgZXhpc3QuYCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IG1vZHVsZSA9ICFCVUlMRC5ob3RNb2R1bGVSZXBsYWNlbWVudCA/IGNtcE1vZHVsZXMuZ2V0KGJ1bmRsZUlkKSA6IGZhbHNlO1xuICAgIGlmIChtb2R1bGUpIHtcbiAgICAgICAgcmV0dXJuIG1vZHVsZVtleHBvcnROYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIGltcG9ydChcbiAgICAvKiB3ZWJwYWNrSW5jbHVkZTogL1xcLmVudHJ5XFwuanMkLyAqL1xuICAgIC8qIHdlYnBhY2tFeGNsdWRlOiAvXFwuc3lzdGVtXFwuZW50cnlcXC5qcyQvICovXG4gICAgLyogd2VicGFja01vZGU6IFwibGF6eVwiICovXG4gICAgYC4vJHtidW5kbGVJZH0uZW50cnkuanMke0JVSUxELmhvdE1vZHVsZVJlcGxhY2VtZW50ICYmIGhtclZlcnNpb25JZCA/ICc/cy1obXI9JyArIGhtclZlcnNpb25JZCA6ICcnfWApLnRoZW4oaW1wb3J0ZWRNb2R1bGUgPT4ge1xuICAgICAgICBpZiAoIUJVSUxELmhvdE1vZHVsZVJlcGxhY2VtZW50KSB7XG4gICAgICAgICAgICBjbXBNb2R1bGVzLnNldChidW5kbGVJZCwgaW1wb3J0ZWRNb2R1bGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbXBvcnRlZE1vZHVsZVtleHBvcnROYW1lXTtcbiAgICB9LCBjb25zb2xlRXJyb3IpO1xufTtcbmNvbnN0IHN0eWxlcyA9IG5ldyBNYXAoKTtcbmNvbnN0IG1vZGVSZXNvbHV0aW9uQ2hhaW4gPSBbXTtcbmNvbnN0IHF1ZXVlRG9tUmVhZHMgPSBbXTtcbmNvbnN0IHF1ZXVlRG9tV3JpdGVzID0gW107XG5jb25zdCBxdWV1ZURvbVdyaXRlc0xvdyA9IFtdO1xuY29uc3QgcXVldWVUYXNrID0gKHF1ZXVlLCB3cml0ZSkgPT4gKGNiKSA9PiB7XG4gICAgcXVldWUucHVzaChjYik7XG4gICAgaWYgKCFxdWV1ZVBlbmRpbmcpIHtcbiAgICAgICAgcXVldWVQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHdyaXRlICYmIHBsdC4kZmxhZ3MkICYgNCAvKiBxdWV1ZVN5bmMgKi8pIHtcbiAgICAgICAgICAgIG5leHRUaWNrKGZsdXNoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBsdC5yYWYoZmx1c2gpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IGNvbnN1bWUgPSAocXVldWUpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBxdWV1ZVtpXShwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGVFcnJvcihlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5sZW5ndGggPSAwO1xufTtcbmNvbnN0IGNvbnN1bWVUaW1lb3V0ID0gKHF1ZXVlLCB0aW1lb3V0KSA9PiB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCB0cyA9IDA7XG4gICAgd2hpbGUgKGkgPCBxdWV1ZS5sZW5ndGggJiYgKHRzID0gcGVyZm9ybWFuY2Uubm93KCkpIDwgdGltZW91dCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcXVldWVbaSsrXSh0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGVFcnJvcihlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaSA9PT0gcXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgfVxuICAgIGVsc2UgaWYgKGkgIT09IDApIHtcbiAgICAgICAgcXVldWUuc3BsaWNlKDAsIGkpO1xuICAgIH1cbn07XG5jb25zdCBmbHVzaCA9ICgpID0+IHtcbiAgICBpZiAoQlVJTEQuYXN5bmNRdWV1ZSkge1xuICAgICAgICBxdWV1ZUNvbmdlc3Rpb24rKztcbiAgICB9XG4gICAgLy8gYWx3YXlzIGZvcmNlIGEgYnVuY2ggb2YgbWVkaXVtIGNhbGxiYWNrcyB0byBydW4sIGJ1dCBzdGlsbCBoYXZlXG4gICAgLy8gYSB0aHJvdHRsZSBvbiBob3cgbWFueSBjYW4gcnVuIGluIGEgY2VydGFpbiB0aW1lXG4gICAgLy8gRE9NIFJFQURTISEhXG4gICAgY29uc3VtZShxdWV1ZURvbVJlYWRzKTtcbiAgICAvLyBET00gV1JJVEVTISEhXG4gICAgaWYgKEJVSUxELmFzeW5jUXVldWUpIHtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IChwbHQuJGZsYWdzJCAmIDYgLyogcXVldWVNYXNrICovKSA9PT0gMiAvKiBhcHBMb2FkZWQgKi8gPyBwZXJmb3JtYW5jZS5ub3coKSArIDE0ICogTWF0aC5jZWlsKHF1ZXVlQ29uZ2VzdGlvbiAqICgxLjAgLyAxMC4wKSkgOiBJbmZpbml0eTtcbiAgICAgICAgY29uc3VtZVRpbWVvdXQocXVldWVEb21Xcml0ZXMsIHRpbWVvdXQpO1xuICAgICAgICBjb25zdW1lVGltZW91dChxdWV1ZURvbVdyaXRlc0xvdywgdGltZW91dCk7XG4gICAgICAgIGlmIChxdWV1ZURvbVdyaXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBxdWV1ZURvbVdyaXRlc0xvdy5wdXNoKC4uLnF1ZXVlRG9tV3JpdGVzKTtcbiAgICAgICAgICAgIHF1ZXVlRG9tV3JpdGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChxdWV1ZVBlbmRpbmcgPSBxdWV1ZURvbVJlYWRzLmxlbmd0aCArIHF1ZXVlRG9tV3JpdGVzLmxlbmd0aCArIHF1ZXVlRG9tV3JpdGVzTG93Lmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICAvLyBzdGlsbCBtb3JlIHRvIGRvIHlldCwgYnV0IHdlJ3ZlIHJ1biBvdXQgb2YgdGltZVxuICAgICAgICAgICAgLy8gbGV0J3MgbGV0IHRoaXMgdGhpbmcgY29vbCBvZmYgYW5kIHRyeSBhZ2FpbiBpbiB0aGUgbmV4dCB0aWNrXG4gICAgICAgICAgICBwbHQucmFmKGZsdXNoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHF1ZXVlQ29uZ2VzdGlvbiA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN1bWUocXVldWVEb21Xcml0ZXMpO1xuICAgICAgICBpZiAoKHF1ZXVlUGVuZGluZyA9IHF1ZXVlRG9tUmVhZHMubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgIC8vIHN0aWxsIG1vcmUgdG8gZG8geWV0LCBidXQgd2UndmUgcnVuIG91dCBvZiB0aW1lXG4gICAgICAgICAgICAvLyBsZXQncyBsZXQgdGhpcyB0aGluZyBjb29sIG9mZiBhbmQgdHJ5IGFnYWluIGluIHRoZSBuZXh0IHRpY2tcbiAgICAgICAgICAgIHBsdC5yYWYoZmx1c2gpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IG5leHRUaWNrID0gLypAX19QVVJFX18qLyAoY2IpID0+IHByb21pc2VSZXNvbHZlKCkudGhlbihjYik7XG5jb25zdCByZWFkVGFzayA9IC8qQF9fUFVSRV9fKi8gcXVldWVUYXNrKHF1ZXVlRG9tUmVhZHMsIGZhbHNlKTtcbmNvbnN0IHdyaXRlVGFzayA9IC8qQF9fUFVSRV9fKi8gcXVldWVUYXNrKHF1ZXVlRG9tV3JpdGVzLCB0cnVlKTtcbmNvbnN0IEJ1aWxkID0ge1xuICAgIGlzRGV2OiBCVUlMRC5pc0RldiA/IHRydWUgOiBmYWxzZSxcbiAgICBpc0Jyb3dzZXI6IHRydWUsXG4gICAgaXNTZXJ2ZXI6IGZhbHNlLFxuICAgIGlzVGVzdGluZzogQlVJTEQuaXNUZXN0aW5nID8gdHJ1ZSA6IGZhbHNlLFxufTtcbmV4cG9ydCB7IEJVSUxELCBFbnYsIE5BTUVTUEFDRSB9IGZyb20gJ0BzdGVuY2lsL2NvcmUvaW50ZXJuYWwvYXBwLWRhdGEnO1xuZXhwb3J0IHsgQnVpbGQsIENTUywgQ29udGV4dCwgRnJhZ21lbnQsIEgsIEggYXMgSFRNTEVsZW1lbnQsIEhvc3QsIFNURU5DSUxfREVWX01PREUsIGFkZEhvc3RFdmVudExpc3RlbmVycywgYXR0YWNoU2hhZG93LCBib290c3RyYXBMYXp5LCBjbXBNb2R1bGVzLCBjb25uZWN0ZWRDYWxsYmFjaywgY29uc29sZURldkVycm9yLCBjb25zb2xlRGV2SW5mbywgY29uc29sZURldldhcm4sIGNvbnNvbGVFcnJvciwgY3JlYXRlRXZlbnQsIGRlZmluZUN1c3RvbUVsZW1lbnQsIGRpc2Nvbm5lY3RlZENhbGxiYWNrLCBkb2MsIGZvcmNlTW9kZVVwZGF0ZSwgZm9yY2VVcGRhdGUsIGdldEFzc2V0UGF0aCwgZ2V0Q29ubmVjdCwgZ2V0Q29udGV4dCwgZ2V0RWxlbWVudCwgZ2V0SG9zdFJlZiwgZ2V0TW9kZSwgZ2V0UmVuZGVyaW5nUmVmLCBnZXRWYWx1ZSwgaCwgaW5zZXJ0VmRvbUFubm90YXRpb25zLCBpc01lbWJlckluRWxlbWVudCwgbG9hZE1vZHVsZSwgbW9kZVJlc29sdXRpb25DaGFpbiwgbmV4dFRpY2ssIHBhcnNlUHJvcGVydHlWYWx1ZSwgcGx0LCBwb3N0VXBkYXRlQ29tcG9uZW50LCBwcm9taXNlUmVzb2x2ZSwgcHJveHlDb21wb25lbnQsIHByb3h5Q3VzdG9tRWxlbWVudCwgcmVhZFRhc2ssIHJlZ2lzdGVySG9zdCwgcmVnaXN0ZXJJbnN0YW5jZSwgcmVuZGVyVmRvbSwgc2V0QXNzZXRQYXRoLCBzZXRFcnJvckhhbmRsZXIsIHNldE1vZGUsIHNldFBsYXRmb3JtT3B0aW9ucywgc2V0VmFsdWUsIHN0eWxlcywgc3VwcG9ydHNDb25zdHJ1Y3RpYmxlU3R5bGVzaGVldHMsIHN1cHBvcnRzTGlzdGVuZXJPcHRpb25zLCBzdXBwb3J0c1NoYWRvdywgd2luLCB3cml0ZVRhc2sgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@stencil+core@2.5.2/node_modules/@stencil/core/internal/client/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js ***!
  \***************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COMPONENT_NAME_KEY: function() { return /* binding */ COMPONENT_NAME_KEY; },\n/* harmony export */   MediaType: function() { return /* binding */ MediaType; },\n/* harmony export */   PLAYER_KEY: function() { return /* binding */ PLAYER_KEY; },\n/* harmony export */   Provider: function() { return /* binding */ Provider; },\n/* harmony export */   REGISTRATION_KEY: function() { return /* binding */ REGISTRATION_KEY; },\n/* harmony export */   REGISTRY_KEY: function() { return /* binding */ REGISTRY_KEY; },\n/* harmony export */   ViewType: function() { return /* binding */ ViewType; },\n/* harmony export */   VmAudio: function() { return /* binding */ VmAudio; },\n/* harmony export */   VmCaptionControl: function() { return /* binding */ VmCaptionControl; },\n/* harmony export */   VmCaptions: function() { return /* binding */ VmCaptions; },\n/* harmony export */   VmClickToPlay: function() { return /* binding */ VmClickToPlay; },\n/* harmony export */   VmControl: function() { return /* binding */ VmControl; },\n/* harmony export */   VmControlGroup: function() { return /* binding */ VmControlGroup; },\n/* harmony export */   VmControlSpacer: function() { return /* binding */ VmControlSpacer; },\n/* harmony export */   VmControls: function() { return /* binding */ VmControls; },\n/* harmony export */   VmCurrentTime: function() { return /* binding */ VmCurrentTime; },\n/* harmony export */   VmDailymotion: function() { return /* binding */ VmDailymotion; },\n/* harmony export */   VmDash: function() { return /* binding */ VmDash; },\n/* harmony export */   VmDblClickFullscreen: function() { return /* binding */ VmDblClickFullscreen; },\n/* harmony export */   VmDefaultControls: function() { return /* binding */ VmDefaultControls; },\n/* harmony export */   VmDefaultSettings: function() { return /* binding */ VmDefaultSettings; },\n/* harmony export */   VmDefaultUi: function() { return /* binding */ VmDefaultUi; },\n/* harmony export */   VmEmbed: function() { return /* binding */ VmEmbed; },\n/* harmony export */   VmEndTime: function() { return /* binding */ VmEndTime; },\n/* harmony export */   VmFile: function() { return /* binding */ VmFile; },\n/* harmony export */   VmFullscreenControl: function() { return /* binding */ VmFullscreenControl; },\n/* harmony export */   VmHls: function() { return /* binding */ VmHls; },\n/* harmony export */   VmIcon: function() { return /* binding */ VmIcon; },\n/* harmony export */   VmIconLibrary: function() { return /* binding */ VmIconLibrary; },\n/* harmony export */   VmLiveIndicator: function() { return /* binding */ VmLiveIndicator; },\n/* harmony export */   VmLoadingScreen: function() { return /* binding */ VmLoadingScreen; },\n/* harmony export */   VmMenu: function() { return /* binding */ VmMenu; },\n/* harmony export */   VmMenuItem: function() { return /* binding */ VmMenuItem; },\n/* harmony export */   VmMenuRadio: function() { return /* binding */ VmMenuRadio; },\n/* harmony export */   VmMenuRadioGroup: function() { return /* binding */ VmMenuRadioGroup; },\n/* harmony export */   VmMuteControl: function() { return /* binding */ VmMuteControl; },\n/* harmony export */   VmPipControl: function() { return /* binding */ VmPipControl; },\n/* harmony export */   VmPlaybackControl: function() { return /* binding */ VmPlaybackControl; },\n/* harmony export */   VmPlayer: function() { return /* binding */ VmPlayer; },\n/* harmony export */   VmPoster: function() { return /* binding */ VmPoster; },\n/* harmony export */   VmScrim: function() { return /* binding */ VmScrim; },\n/* harmony export */   VmScrubberControl: function() { return /* binding */ VmScrubberControl; },\n/* harmony export */   VmSettings: function() { return /* binding */ VmSettings; },\n/* harmony export */   VmSettingsControl: function() { return /* binding */ VmSettingsControl; },\n/* harmony export */   VmSkeleton: function() { return /* binding */ VmSkeleton; },\n/* harmony export */   VmSlider: function() { return /* binding */ VmSlider; },\n/* harmony export */   VmSpinner: function() { return /* binding */ VmSpinner; },\n/* harmony export */   VmSubmenu: function() { return /* binding */ VmSubmenu; },\n/* harmony export */   VmTime: function() { return /* binding */ VmTime; },\n/* harmony export */   VmTimeProgress: function() { return /* binding */ VmTimeProgress; },\n/* harmony export */   VmTooltip: function() { return /* binding */ VmTooltip; },\n/* harmony export */   VmUi: function() { return /* binding */ VmUi; },\n/* harmony export */   VmVideo: function() { return /* binding */ VmVideo; },\n/* harmony export */   VmVimeo: function() { return /* binding */ VmVimeo; },\n/* harmony export */   VmVolumeControl: function() { return /* binding */ VmVolumeControl; },\n/* harmony export */   VmYoutube: function() { return /* binding */ VmYoutube; },\n/* harmony export */   createDispatcher: function() { return /* binding */ createDispatcher; },\n/* harmony export */   defineCustomElements: function() { return /* binding */ defineCustomElements; },\n/* harmony export */   findPlayer: function() { return /* binding */ findPlayer; },\n/* harmony export */   getComponentFromRegistry: function() { return /* binding */ getComponentFromRegistry; },\n/* harmony export */   getPlayerFromRegistry: function() { return /* binding */ getPlayerFromRegistry; },\n/* harmony export */   initialState: function() { return /* binding */ initialState; },\n/* harmony export */   isComponentRegistered: function() { return /* binding */ isComponentRegistered; },\n/* harmony export */   isWritableProp: function() { return /* binding */ isWritableProp; },\n/* harmony export */   setAssetPath: function() { return /* reexport safe */ _stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.setAssetPath; },\n/* harmony export */   setPlatformOptions: function() { return /* reexport safe */ _stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.setPlatformOptions; },\n/* harmony export */   usePlayerContext: function() { return /* binding */ usePlayerContext; },\n/* harmony export */   watchComponentRegistry: function() { return /* binding */ watchComponentRegistry; },\n/* harmony export */   withComponentRegistry: function() { return /* binding */ withComponentRegistry; },\n/* harmony export */   withPlayerContext: function() { return /* binding */ withPlayerContext; }\n/* harmony export */ });\n/* harmony import */ var _stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stencil/core/internal/client */ \"(app-pages-browser)/./node_modules/.pnpm/@stencil+core@2.5.2/node_modules/@stencil/core/internal/client/index.js\");\n\n\n\n/**\n * Listen to an event on the given DOM node. Returns a callback to remove the event listener.\n */\nfunction listen(node, event, handler, options) {\n  node.addEventListener(event, handler, options);\n  return () => node.removeEventListener(event, handler, options);\n}\nfunction fireEventAndRetry(el, event, onFail, interval = 300, maxRetries = 10) {\n  let timeout;\n  let attempt = 0;\n  let found = false;\n  function retry() {\n    if (found)\n      return;\n    timeout = setTimeout(() => {\n      if (attempt === maxRetries) {\n        onFail === null || onFail === void 0 ? void 0 : onFail();\n        return;\n      }\n      el.dispatchEvent(event);\n      attempt += 1;\n      retry();\n    }, interval);\n  }\n  retry();\n  return () => {\n    window.clearTimeout(timeout);\n    found = true;\n  };\n}\nconst isColliding = (a, b, translateAx = 0, translateAy = 0, translateBx = 0, translateBy = 0) => {\n  const aRect = a.getBoundingClientRect();\n  const bRect = b.getBoundingClientRect();\n  return (aRect.left + translateAx < bRect.right + translateBx &&\n    aRect.right + translateAx > bRect.left + translateBx &&\n    aRect.top + translateAy < bRect.bottom + translateBy &&\n    aRect.bottom + translateAy > bRect.top + translateBy);\n};\n\n/**\n * No-operation (noop).\n */\n// eslint-disable-next-line @typescript-eslint/no-empty-function\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst noop = (..._) => {\n  // ...\n};\n/**\n * Checks if `value` is `null`.\n *\n * @param value - The value to check.\n */\nconst isNull = (value) => value === null;\n/**\n * Checks if `value` is `undefined`.\n *\n * @param value - The value to check.\n */\nconst isUndefined = (value) => typeof value === 'undefined';\n/**\n * Checks if `value` is `null` or `undefined`.\n *\n * @param value - The value to check.\n */\nconst isNil = (value) => isNull(value) || isUndefined(value);\n/**\n * Returns the constructor of the given `value`.\n *\n * @param value - The value to return the constructor of.\n */\nconst getConstructor = (value) => \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n!isNil(value) ? value.constructor : undefined;\n/**\n * Checks if `value` is classified as a `Object` object.\n *\n * @param value - The value to check.\n */\nconst isObject = (value) => getConstructor(value) === Object;\n/**\n * Checks if `value` is classified as a `Number` object.\n *\n * @param value - The value to check.\n */\nconst isNumber = (value) => getConstructor(value) === Number && !Number.isNaN(value);\n/**\n * Checks if `value` is classified as a `String` object.\n *\n * @param value - The value to check.\n */\nconst isString = (value) => getConstructor(value) === String;\n/**\n * Checks if `value` is classified as a `Boolean` object.\n *\n * @param value - The value to check.\n */\nconst isBoolean = (value) => getConstructor(value) === Boolean;\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @param value - The value to check.\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nconst isFunction = (value) => getConstructor(value) === Function;\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @param value - The value to check.\n */\nconst isArray = (value) => Array.isArray(value);\n/**\n * Checks if `value` is an instanceof the given `constructor`.\n *\n * @param value - The value to check.\n * @param constructor - The constructor to check against.\n */\nconst isInstanceOf = (value, constructor) => Boolean(value && constructor && value instanceof constructor);\n\n/**\n * Creates an empty Promise and defers resolving/rejecting it.\n */\nconst deferredPromise = () => {\n  let resolve = noop;\n  let reject = noop;\n  const promise = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  return { promise, resolve, reject };\n};\n\nfunction wrapStencilHook(component, lifecycle, hook) {\n  const prevHook = component[lifecycle];\n  component[lifecycle] = function () {\n    hook();\n    return prevHook ? prevHook.call(component) : undefined;\n  };\n}\nfunction createStencilHook(component, onConnect, onDisconnect) {\n  let hasLoaded = false;\n  if (!isUndefined(onConnect)) {\n    wrapStencilHook(component, 'componentWillLoad', () => {\n      onConnect();\n      hasLoaded = true;\n    });\n    wrapStencilHook(component, 'connectedCallback', () => {\n      if (hasLoaded)\n        onConnect();\n    });\n  }\n  if (!isUndefined(onDisconnect)) {\n    wrapStencilHook(component, 'disconnectedCallback', () => {\n      onDisconnect();\n    });\n  }\n}\n\nconst FIND_PLAYER_EVENT = 'vmFindPlayer';\nfunction withFindPlayer(player) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(player);\n  let off;\n  createStencilHook(player, () => {\n    off = listen(el, FIND_PLAYER_EVENT, (event) => {\n      event.stopPropagation();\n      event.detail(el);\n    });\n  }, () => {\n    off === null || off === void 0 ? void 0 : off();\n  });\n}\n/**\n * Finds the closest ancestor player element by firing the `vmFindPlayer` event, and waiting\n * for the player to catch it. This function retries finding the player (`maxRetries`) until it\n * gives up and fails.\n *\n * @param ref - A HTMLElement that is within the player's subtree.\n * @param interval - The length of the timeout before trying again in milliseconds.\n * @param maxRetries - The number of times to retry firing the event.\n */\nconst findPlayer = (ref, interval = 300, maxRetries = 10) => {\n  const el = (isInstanceOf(ref, HTMLElement)\n    ? ref\n    : (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(ref));\n  const search = deferredPromise();\n  // eslint-disable-next-line prefer-const\n  let stopFiring;\n  const event = new CustomEvent(FIND_PLAYER_EVENT, {\n    bubbles: true,\n    composed: true,\n    detail: player => {\n      search.resolve(player);\n      stopFiring();\n    },\n  });\n  stopFiring = fireEventAndRetry(el, event, () => {\n    search.reject(`Could not find player for ${el.nodeName}`);\n  }, interval, maxRetries);\n  return search.promise;\n};\n\nvar MediaType;\n(function (MediaType) {\n  MediaType[\"Audio\"] = \"audio\";\n  MediaType[\"Video\"] = \"video\";\n})(MediaType || (MediaType = {}));\n\nconst STATE_CHANGE_EVENT = 'vmStateChange';\n/**\n * Creates a dispatcher on the given `ref`, to send updates to the closest ancestor player via\n * the custom `vmStateChange` event.\n *\n * @param ref An element to dispatch the state change events from.\n */\nconst createDispatcher = (ref) => (prop, value) => {\n  const el = isInstanceOf(ref, HTMLElement) ? ref : (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(ref);\n  const event = new CustomEvent(STATE_CHANGE_EVENT, {\n    bubbles: true,\n    composed: true,\n    detail: { by: el, prop, value },\n  });\n  el.dispatchEvent(event);\n};\n\nconst en = {\n  play: 'Play',\n  pause: 'Pause',\n  playback: 'Playback',\n  scrubber: 'Scrubber',\n  scrubberLabel: '{currentTime} of {duration}',\n  played: 'Played',\n  duration: 'Duration',\n  buffered: 'Buffered',\n  close: 'Close',\n  currentTime: 'Current time',\n  live: 'LIVE',\n  volume: 'Volume',\n  mute: 'Mute',\n  unmute: 'Unmute',\n  audio: 'Audio',\n  default: 'Default',\n  captions: 'Captions',\n  subtitlesOrCc: 'Subtitles/CC',\n  enableCaptions: 'Enable subtitles/captions',\n  disableCaptions: 'Disable subtitles/captions',\n  auto: 'Auto',\n  fullscreen: 'Fullscreen',\n  enterFullscreen: 'Enter fullscreen',\n  exitFullscreen: 'Exit fullscreen',\n  settings: 'Settings',\n  seekForward: 'Seek forward',\n  seekBackward: 'Seek backward',\n  seekTotal: 'Seek total',\n  normal: 'Normal',\n  none: 'None',\n  playbackRate: 'Playback Rate',\n  playbackQuality: 'Playback Quality',\n  loop: 'Loop',\n  disabled: 'Disabled',\n  off: 'Off',\n  enabled: 'Enabled',\n  pip: 'Picture-in-Picture',\n  enterPiP: 'Miniplayer',\n  exitPiP: 'Expand',\n};\n\nconst initialState = {\n  theme: undefined,\n  paused: true,\n  playing: false,\n  duration: -1,\n  currentProvider: undefined,\n  mediaTitle: undefined,\n  currentSrc: undefined,\n  currentPoster: undefined,\n  textTracks: [],\n  currentTextTrack: -1,\n  audioTracks: [],\n  currentAudioTrack: -1,\n  isTextTrackVisible: true,\n  shouldRenderNativeTextTracks: true,\n  icons: 'vime',\n  currentTime: 0,\n  autoplay: false,\n  ready: false,\n  playbackReady: false,\n  loop: false,\n  muted: false,\n  buffered: 0,\n  playbackRate: 1,\n  playbackRates: [1],\n  playbackQuality: undefined,\n  playbackQualities: [],\n  seeking: false,\n  debug: false,\n  playbackStarted: false,\n  playbackEnded: false,\n  buffering: false,\n  controls: false,\n  isControlsActive: false,\n  volume: 50,\n  isFullscreenActive: false,\n  aspectRatio: '16:9',\n  viewType: undefined,\n  isAudioView: false,\n  isVideoView: false,\n  mediaType: undefined,\n  isAudio: false,\n  isVideo: false,\n  isMobile: false,\n  isTouch: false,\n  isSettingsActive: false,\n  isLive: false,\n  isPiPActive: false,\n  autopause: true,\n  playsinline: false,\n  language: 'en',\n  languages: ['en'],\n  translations: { en },\n  i18n: en,\n};\nconst writableProps = new Set([\n  'autoplay',\n  'autopause',\n  'aspectRatio',\n  'controls',\n  'theme',\n  'debug',\n  'paused',\n  'currentTime',\n  'language',\n  'loop',\n  'translations',\n  'playbackQuality',\n  'muted',\n  'playbackRate',\n  'playsinline',\n  'volume',\n  'isSettingsActive',\n  'isControlsActive',\n  'shouldRenderNativeTextTracks',\n]);\nconst isWritableProp = (prop) => writableProps.has(prop);\n/**\n * Player properties that should be reset when the media is changed.\n */\nconst resetableProps = new Set([\n  'paused',\n  'currentTime',\n  'duration',\n  'buffered',\n  'seeking',\n  'playing',\n  'buffering',\n  'playbackReady',\n  'textTracks',\n  'currentTextTrack',\n  'audioTracks',\n  'currentAudioTrack',\n  'mediaTitle',\n  'currentSrc',\n  'currentPoster',\n  'playbackRate',\n  'playbackRates',\n  'playbackStarted',\n  'playbackEnded',\n  'playbackQuality',\n  'playbackQualities',\n  'mediaType',\n]);\nconst shouldPropResetOnMediaChange = (prop) => resetableProps.has(prop);\n\nvar ViewType;\n(function (ViewType) {\n  ViewType[\"Audio\"] = \"audio\";\n  ViewType[\"Video\"] = \"video\";\n})(ViewType || (ViewType = {}));\n\nclass Disposal {\n  constructor(dispose = []) {\n    this.dispose = dispose;\n  }\n  add(callback) {\n    this.dispose.push(callback);\n  }\n  empty() {\n    this.dispose.forEach(fn => fn());\n    this.dispose = [];\n  }\n}\n\nvar __awaiter$y = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n    function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst PLAYER_KEY = Symbol('vmPlayerKey');\nconst COMPONENT_NAME_KEY = Symbol('vmNameKey');\nconst REGISTRY_KEY = Symbol('vmRegistryKey');\nconst REGISTRATION_KEY = Symbol('vmRegistrationKey');\nconst REGISTER_COMPONENT_EVENT = 'vmComponentRegister';\nconst COMPONENT_REGISTERED_EVENT = 'vmComponentRegistered';\nconst COMPONENT_DEREGISTERED_EVENT = 'vmComponentDeregistered';\nconst getRegistrant = (ref) => isInstanceOf(ref, HTMLElement)\n  ? ref\n  : (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(ref);\n/**\n * Handles registering/deregistering the given `component` in the player registry. All registries\n * are bound per player subtree.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n */\nfunction withComponentRegistry(ref, name) {\n  const registryId = Symbol('vmRegistryId');\n  const registrant = getRegistrant(ref);\n  registrant[COMPONENT_NAME_KEY] = name !== null && name !== void 0 ? name : registrant.nodeName.toLowerCase();\n  registrant[REGISTRATION_KEY] = registryId;\n  const buildEvent = (eventName) => new CustomEvent(eventName, {\n    bubbles: true,\n    composed: true,\n    detail: registrant,\n  });\n  const registerEvent = buildEvent(REGISTER_COMPONENT_EVENT);\n  createStencilHook(ref, () => {\n    registrant.dispatchEvent(registerEvent);\n  });\n}\nfunction withComponentRegistrar(player) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(player);\n  const registry = new Map();\n  const disposal = new Disposal();\n  // TODO properly type this later.\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  el[REGISTRY_KEY] = registry;\n  function onDeregister(registrant) {\n    delete registrant[PLAYER_KEY];\n    delete registrant[REGISTRY_KEY];\n    registry.delete(registrant[REGISTRATION_KEY]);\n    el.dispatchEvent(new CustomEvent(COMPONENT_DEREGISTERED_EVENT, { detail: registrant }));\n  }\n  function onRegister(e) {\n    const ref = e.detail;\n    const registrant = getRegistrant(ref);\n    registrant[PLAYER_KEY] = el;\n    registrant[REGISTRY_KEY] = registry;\n    registry.set(registrant[REGISTRATION_KEY], registrant);\n    el.dispatchEvent(new CustomEvent(COMPONENT_REGISTERED_EVENT, { detail: registrant }));\n    createStencilHook(ref, undefined, () => onDeregister(registrant));\n  }\n  createStencilHook(player, () => {\n    disposal.add(listen(el, REGISTER_COMPONENT_EVENT, onRegister));\n  }, () => {\n    registry.clear();\n    disposal.empty();\n    delete player[REGISTRY_KEY];\n  });\n}\n/**\n * Checks whether any component with the given `name` exists in the registry. All registries\n * are bound per player subtree.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n * @param name - The name of the component to search for.\n */\nfunction isComponentRegistered(ref, name) {\n  var _a;\n  const registrant = getRegistrant(ref);\n  const registry = registrant[REGISTRY_KEY];\n  return Array.from((_a = registry === null || registry === void 0 ? void 0 : registry.values()) !== null && _a !== void 0 ? _a : []).some(r => r[COMPONENT_NAME_KEY] === name);\n}\n/**\n * Returns the player for the given `ref`. This will only work after the component has been\n * registered, prefer using `findPlayer`.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n */\nfunction getPlayerFromRegistry(ref) {\n  const registrant = getRegistrant(ref);\n  return registrant[PLAYER_KEY];\n}\n/**\n * Returns a collection of components from the registry for the given `ref`. All registries\n * are bound per player subtree.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n * @param name - The name of the components to search for in the registry.\n */\nfunction getComponentFromRegistry(ref, name) {\n  var _a, _b;\n  const registrant = getRegistrant(ref);\n  return Array.from((_b = (_a = registrant[REGISTRY_KEY]) === null || _a === void 0 ? void 0 : _a.values()) !== null && _b !== void 0 ? _b : []).filter(r => r[COMPONENT_NAME_KEY] === name);\n}\n/**\n * Watches the current registry on the given `ref` for changes. All registries are bound per\n * player subtree.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n * @param name - The name of the component to watch for.\n * @param onChange - A callback that is called when a component is registered/deregistered.\n */\nfunction watchComponentRegistry(ref, name, onChange) {\n  var _a;\n  return __awaiter$y(this, void 0, void 0, function* () {\n    const player = yield findPlayer(ref);\n    const disposal = new Disposal();\n    const registry = getRegistrant(ref)[REGISTRY_KEY];\n    function listener(e) {\n      if (e.detail[COMPONENT_NAME_KEY] === name)\n        onChange === null || onChange === void 0 ? void 0 : onChange(getComponentFromRegistry(player, name));\n    }\n    // Hydrate.\n    Array.from((_a = registry === null || registry === void 0 ? void 0 : registry.values()) !== null && _a !== void 0 ? _a : []).forEach(reg => listener(new CustomEvent('', { detail: reg })));\n    if (!isUndefined(player)) {\n      disposal.add(listen(player, COMPONENT_REGISTERED_EVENT, listener));\n      disposal.add(listen(player, COMPONENT_DEREGISTERED_EVENT, listener));\n    }\n    createStencilHook(ref, () => {\n      // no-op\n    }, () => {\n      disposal.empty();\n    });\n    return () => {\n      disposal.empty();\n    };\n  });\n}\n\nvar createDeferredPromise = function () {\n    var resolve;\n    var promise = new Promise(function (res) { resolve = res; });\n    return { promise: promise, resolve: resolve };\n};\n\nvar openWormhole = function (Component, props, isBlocking) {\n    if (isBlocking === void 0) { isBlocking = true; }\n    var isConstructor = (Component.constructor.name === 'Function');\n    var Proto = isConstructor ? Component.prototype : Component;\n    var componentWillLoad = Proto.componentWillLoad;\n    Proto.componentWillLoad = function () {\n        var _this = this;\n        var el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(this);\n        var onOpen = createDeferredPromise();\n        var event = new CustomEvent('openWormhole', {\n            bubbles: true,\n            composed: true,\n            detail: {\n                consumer: this,\n                fields: props,\n                updater: function (prop, value) {\n                    var target = (prop in el) ? el : _this;\n                    target[prop] = value;\n                },\n                onOpen: onOpen,\n            },\n        });\n        el.dispatchEvent(event);\n        var willLoad = function () {\n            if (componentWillLoad) {\n                return componentWillLoad.call(_this);\n            }\n        };\n        return isBlocking ? onOpen.promise.then(function () { return willLoad(); }) : (willLoad());\n    };\n};\n\nvar multiverse = new Map();\nvar updateConsumer = function (_a, state) {\n    var fields = _a.fields, updater = _a.updater;\n    fields.forEach(function (field) { updater(field, state[field]); });\n};\nvar Universe = {\n    create: function (creator, initialState) {\n        var el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(creator);\n        var wormholes = new Map();\n        var universe = { wormholes: wormholes, state: initialState };\n        multiverse.set(creator, universe);\n        var connectedCallback = creator.connectedCallback;\n        creator.connectedCallback = function () {\n            multiverse.set(creator, universe);\n            if (connectedCallback) {\n                connectedCallback.call(creator);\n            }\n        };\n        var disconnectedCallback = creator.disconnectedCallback;\n        creator.disconnectedCallback = function () {\n            multiverse.delete(creator);\n            if (disconnectedCallback) {\n                disconnectedCallback.call(creator);\n            }\n        };\n        el.addEventListener('openWormhole', function (event) {\n            event.stopPropagation();\n            var _a = event.detail, consumer = _a.consumer, onOpen = _a.onOpen;\n            if (wormholes.has(consumer))\n                return;\n            if (typeof consumer !== 'symbol') {\n                var connectedCallback_1 = consumer.connectedCallback, disconnectedCallback_1 = consumer.disconnectedCallback;\n                consumer.connectedCallback = function () {\n                    wormholes.set(consumer, event.detail);\n                    if (connectedCallback_1) {\n                        connectedCallback_1.call(consumer);\n                    }\n                };\n                consumer.disconnectedCallback = function () {\n                    wormholes.delete(consumer);\n                    if (disconnectedCallback_1) {\n                        disconnectedCallback_1.call(consumer);\n                    }\n                };\n            }\n            wormholes.set(consumer, event.detail);\n            updateConsumer(event.detail, universe.state);\n            onOpen === null || onOpen === void 0 ? void 0 : onOpen.resolve(function () { wormholes.delete(consumer); });\n        });\n        el.addEventListener('closeWormhole', function (event) {\n            var consumer = event.detail;\n            wormholes.delete(consumer);\n        });\n    },\n    Provider: function (_a, children) {\n        var state = _a.state;\n        var creator = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getRenderingRef)();\n        if (multiverse.has(creator)) {\n            var universe = multiverse.get(creator);\n            universe.state = state;\n            universe.wormholes.forEach(function (opening) { updateConsumer(opening, state); });\n        }\n        return children;\n    }\n};\n\nconst LOAD_START_EVENT = 'vmLoadStart';\n// Events that toggle state and the prop is named `is{PropName}...`.\nconst isToggleStateEvent = new Set([\n  'isFullscreenActive',\n  'isControlsActive',\n  'isTextTrackVisible',\n  'isPiPActive',\n  'isLive',\n  'isTouch',\n  'isAudio',\n  'isVideo',\n  'isAudioView',\n  'isVideoView',\n]);\n// Events that are emitted without the 'Change' postfix.\nconst hasShortenedEventName = new Set([\n  'ready',\n  'playbackStarted',\n  'playbackEnded',\n  'playbackReady',\n]);\nconst getEventName = (prop) => {\n  // Example: isFullscreenActive -> vmFullscreenChange\n  if (isToggleStateEvent.has(prop)) {\n    return `vm${prop.replace('is', '').replace('Active', '')}Change`;\n  }\n  // Example: playbackStarted -> vmPlaybackStarted\n  if (hasShortenedEventName.has(prop)) {\n    return `vm${prop.charAt(0).toUpperCase()}${prop.slice(1)}`;\n  }\n  // Example: currentTime -> vmCurrentTimeChange\n  return `vm${prop.charAt(0).toUpperCase()}${prop.slice(1)}Change`;\n};\nfunction firePlayerEvent(el, prop, newValue, oldValue) {\n  const events = [];\n  events.push(new CustomEvent(getEventName(prop), { detail: newValue }));\n  if (prop === 'paused' && !newValue)\n    events.push(new CustomEvent('vmPlay'));\n  if (prop === 'seeking' && oldValue && !newValue)\n    events.push(new CustomEvent('vmSeeked'));\n  events.forEach(event => {\n    el.dispatchEvent(event);\n  });\n}\n\nvar __awaiter$x = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n    function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n/**\n * Binds props between an instance of a given component class and it's closest ancestor player.\n *\n * @param component A Stencil component instance.\n * @param props A set of props to watch and update on the given component instance.\n */\nconst withPlayerContext = (component, props) => openWormhole(component, props);\n/**\n * Finds the closest ancestor player to the given `ref` and watches the given props for changes. On\n * a prop change the given `updater` fn is called.\n *\n * @param ref A element within any player's subtree.\n * @param props A set of props to watch and call the `updater` fn with.\n * @param updater This function is called with the prop/value of any watched properties.\n */\nconst usePlayerContext = (ref, props, updater, playerRef) => __awaiter$x(void 0, void 0, void 0, function* () {\n  const player = playerRef !== null && playerRef !== void 0 ? playerRef : (yield findPlayer(ref));\n  const listeners = !isUndefined(player)\n    ? props.map(prop => {\n      const event = getEventName(prop);\n      return listen(player, event, () => {\n        updater(prop, player[prop]);\n      });\n    })\n    : [];\n  return () => {\n    listeners.forEach(off => off());\n  };\n});\n\nvar Provider;\n(function (Provider) {\n  Provider[\"Audio\"] = \"audio\";\n  Provider[\"Video\"] = \"video\";\n  Provider[\"HLS\"] = \"hls\";\n  Provider[\"Dash\"] = \"dash\";\n  Provider[\"YouTube\"] = \"youtube\";\n  Provider[\"Vimeo\"] = \"vimeo\";\n  Provider[\"Dailymotion\"] = \"dailymotion\";\n})(Provider || (Provider = {}));\n\nconst audioRegex = /\\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\\?)/i;\nconst videoRegex = /\\.(mp4|og[gv]|webm|mov|m4v)($|\\?)/i;\nconst hlsRegex = /\\.(m3u8)($|\\?)/i;\nconst hlsTypeRegex = /^application\\/(x-mpegURL|vnd\\.apple\\.mpegURL)$/i;\nconst dashRegex = /\\.(mpd)($|\\?)/i;\n\nconst PROVIDER_CHANGE_EVENT = 'vmProviderChange';\n/**\n * Creates a dispatcher on the given `ref`, to send updates to the closest ancestor player via\n * the custom `vmProviderChange` event.\n *\n * @param ref A component reference to dispatch the state change events from.\n */\nconst createProviderDispatcher = (ref) => (prop, value) => {\n  const el = isInstanceOf(ref, HTMLElement) ? ref : (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(ref);\n  const event = new CustomEvent(PROVIDER_CHANGE_EVENT, {\n    bubbles: true,\n    composed: true,\n    detail: { by: el, prop, value },\n  });\n  el.dispatchEvent(event);\n};\n\nconst providerWritableProps = new Set([\n  'ready',\n  'playing',\n  'playbackReady',\n  'playbackStarted',\n  'playbackEnded',\n  'seeking',\n  'buffered',\n  'buffering',\n  'duration',\n  'viewType',\n  'mediaTitle',\n  'mediaType',\n  'currentSrc',\n  'currentPoster',\n  'playbackRates',\n  'playbackQualities',\n  'textTracks',\n  'currentTextTrack',\n  'isTextTrackVisible',\n  'audioTracks',\n  'currentAudioTrack',\n  'isPiPActive',\n  'isFullscreenActive',\n]);\nconst isProviderWritableProp = (prop) => isWritableProp(prop) || providerWritableProps.has(prop);\n\nvar __awaiter$w = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n    function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst PROVIDER_CACHE_KEY = Symbol('vmProviderCache');\nconst PROVIDER_CONNECT_EVENT = 'vmMediaProviderConnect';\nconst PROVIDER_DISCONNECT_EVENT = 'vmMediaProviderDisconnect';\nfunction buildProviderConnectEvent(name, host) {\n  return new CustomEvent(name, {\n    bubbles: true,\n    composed: true,\n    detail: host,\n  });\n}\nfunction withProviderHost(connector) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(connector);\n  const disposal = new Disposal();\n  const cache = new Map();\n  connector[PROVIDER_CACHE_KEY] = cache;\n  function initCache() {\n    Object.keys(connector).forEach(prop => {\n      cache.set(prop, connector[prop]);\n    });\n  }\n  function onDisconnect() {\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => __awaiter$w(this, void 0, void 0, function* () {\n      var _a;\n      connector.ready = false;\n      connector.provider = undefined;\n      cache.clear();\n      (_a = connector.onProviderDisconnect) === null || _a === void 0 ? void 0 : _a.call(connector);\n      el.dispatchEvent(buildProviderConnectEvent(PROVIDER_DISCONNECT_EVENT));\n    }));\n  }\n  function onConnect(event) {\n    event.stopImmediatePropagation();\n    initCache();\n    const hostRef = event.detail;\n    const host = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(event.detail);\n    if (connector.provider === host)\n      return;\n    const name = host === null || host === void 0 ? void 0 : host.nodeName.toLowerCase().replace('vm-', '');\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => __awaiter$w(this, void 0, void 0, function* () {\n      connector.provider = host;\n      connector.currentProvider = Object.values(Provider).find(provider => name === provider);\n      createStencilHook(hostRef, undefined, () => onDisconnect());\n    }));\n  }\n  function onChange(event) {\n    var _a;\n    event.stopImmediatePropagation();\n    const { by, prop, value } = event.detail;\n    if (!isProviderWritableProp(prop)) {\n      (_a = connector.logger) === null || _a === void 0 ? void 0 : _a.warn(`${by.nodeName} tried to change \\`${prop}\\` but it is readonly.`);\n      return;\n    }\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n      cache.set(prop, value);\n      connector[prop] = value;\n    });\n  }\n  createStencilHook(connector, () => {\n    disposal.add(listen(el, PROVIDER_CONNECT_EVENT, onConnect));\n    disposal.add(listen(el, PROVIDER_CHANGE_EVENT, onChange));\n  }, () => {\n    disposal.empty();\n    cache.clear();\n  });\n}\nfunction withProviderConnect(ref) {\n  const connectEvent = buildProviderConnectEvent(PROVIDER_CONNECT_EVENT, ref);\n  createStencilHook(ref, () => {\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(ref).dispatchEvent(connectEvent);\n  });\n}\n\nvar __awaiter$v = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst Audio = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    /**\n     * @internal Whether an external SDK will attach itself to the media player and control it.\n     */\n    this.willAttach = false;\n    /** @inheritdoc */\n    this.preload = 'metadata';\n    withComponentRegistry(this);\n    if (!this.willAttach)\n      withProviderConnect(this);\n  }\n  /** @internal */\n  getAdapter() {\n    var _a, _b;\n    return __awaiter$v(this, void 0, void 0, function* () {\n      const adapter = (_b = (yield ((_a = this.fileProvider) === null || _a === void 0 ? void 0 : _a.getAdapter()))) !== null && _b !== void 0 ? _b : {};\n      adapter.canPlay = (type) => __awaiter$v(this, void 0, void 0, function* () { return isString(type) && audioRegex.test(type); });\n      return adapter;\n    });\n  }\n  render() {\n    return (\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-file\", { noConnect: true, willAttach: this.willAttach, crossOrigin: this.crossOrigin, preload: this.preload, disableRemotePlayback: this.disableRemotePlayback, mediaTitle: this.mediaTitle, viewType: ViewType.Audio, ref: (el) => {\n        this.fileProvider = el;\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n};\n\nconst captionControlCss = \":host([hidden]){display:none}\";\n\nvar __awaiter$u = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst CaptionControl = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.canToggleCaptionVisibility = false;\n    /**\n     * The URL to an SVG element or fragment to load.\n     */\n    this.showIcon = 'captions-on';\n    /**\n     * The URL to an SVG element or fragment to load.\n     */\n    this.hideIcon = 'captions-off';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n    this.hideTooltip = false;\n    /** @inheritdoc */\n    this.keys = 'c';\n    /** @internal */\n    this.i18n = {};\n    /** @internal */\n    this.playbackReady = false;\n    /** @internal */\n    this.textTracks = [];\n    /** @internal */\n    this.isTextTrackVisible = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, [\n      'i18n',\n      'textTracks',\n      'isTextTrackVisible',\n      'playbackReady',\n    ]);\n  }\n  onTextTracksChange() {\n    var _a;\n    return __awaiter$u(this, void 0, void 0, function* () {\n      const player = getPlayerFromRegistry(this);\n      this.canToggleCaptionVisibility =\n        this.textTracks.length > 0 &&\n          ((_a = (yield (player === null || player === void 0 ? void 0 : player.canSetTextTrackVisibility()))) !== null && _a !== void 0 ? _a : false);\n    });\n  }\n  componentDidLoad() {\n    this.onTextTracksChange();\n  }\n  onClick() {\n    var _a;\n    const player = getPlayerFromRegistry(this);\n    (_a = player === null || player === void 0 ? void 0 : player.setTextTrackVisibility) === null || _a === void 0 ? void 0 : _a.call(player, !this.isTextTrackVisible);\n  }\n  render() {\n    const tooltip = this.isTextTrackVisible\n      ? this.i18n.disableCaptions\n      : this.i18n.enableCaptions;\n    const tooltipWithHint = !isUndefined(this.keys)\n      ? `${tooltip} (${this.keys})`\n      : tooltip;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.Host, { hidden: !this.canToggleCaptionVisibility }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control\", { label: this.i18n.captions, keys: this.keys, hidden: !this.canToggleCaptionVisibility, pressed: this.isTextTrackVisible, onClick: this.onClick.bind(this) }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-icon\", { name: this.isTextTrackVisible ? this.showIcon : this.hideIcon, library: this.icons }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-tooltip\", { hidden: this.hideTooltip, position: this.tooltipPosition, direction: this.tooltipDirection }, tooltipWithHint))));\n  }\n  static get watchers() { return {\n    \"textTracks\": [\"onTextTracksChange\"],\n    \"playbackReady\": [\"onTextTracksChange\"]\n  }; }\n  static get style() { return captionControlCss; }\n};\n\n/* eslint-disable func-names */\nconst watch$1 = new Set();\nconst controls = new Set();\n// watchedEl -> (controlsEl -> controlsHeight) saved on collision. Basically keeps track of\n// every collision with all controls for each watched element.\nconst collisions = new Map();\nfunction update() {\n  (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n    controls.forEach(controlsEl => {\n      const controlsHeight = parseFloat(window.getComputedStyle(controlsEl).height);\n      watch$1.forEach(watchedEl => {\n        const watchedElCollisions = collisions.get(watchedEl);\n        const hasCollided = isColliding(watchedEl, controlsEl);\n        const willCollide = isColliding(watchedEl, controlsEl, 0, controlsHeight) ||\n          isColliding(watchedEl, controlsEl, 0, -controlsHeight);\n        watchedElCollisions.set(controlsEl, hasCollided || willCollide ? controlsHeight : 0);\n      });\n    });\n    // Update after assessing all collisions so there are no glitchy movements.\n    watch$1.forEach(watchedEl => {\n      const watchedElCollisions = collisions.get(watchedEl);\n      watchedEl.style.setProperty('--vm-controls-height', `${Math.max(0, Math.max(...watchedElCollisions.values()))}px`);\n    });\n  });\n}\nfunction registerControlsForCollisionDetection(component) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(component);\n  function getInnerEl() {\n    return el.shadowRoot.querySelector('.controls');\n  }\n  createStencilHook(component, () => {\n    const innerEl = getInnerEl();\n    if (!isNull(innerEl)) {\n      controls.add(innerEl);\n      update();\n    }\n  }, () => {\n    controls.delete(getInnerEl());\n    update();\n  });\n  wrapStencilHook(component, 'componentDidLoad', () => {\n    controls.add(getInnerEl());\n    update();\n  });\n  wrapStencilHook(component, 'componentDidRender', update);\n}\nfunction withControlsCollisionDetection(component) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(component);\n  createStencilHook(component, () => {\n    watch$1.add(el);\n    collisions.set(el, new Map());\n    update();\n  }, () => {\n    watch$1.delete(el);\n    collisions.delete(el);\n  });\n}\n\nconst captionsCss = \":host{position:absolute;left:0;bottom:0;width:100%;pointer-events:none;z-index:var(--vm-captions-z-index)}.captions{width:100%;text-align:center;color:var(--vm-captions-text-color);font-size:var(--vm-captions-font-size);padding:$control-spacing;display:none;pointer-events:none;transition:transform 0.4s ease-in-out, opacity 0.3s ease-in-out}.captions.enabled{display:inline-block}.captions.hidden{display:none !important}.captions.inactive{opacity:0;visibility:hidden}.captions.fontMd{font-size:var(--vm-captions-font-size-medium)}.captions.fontLg{font-size:var(--vm-captions-font-size-large)}.captions.fontXl{font-size:var(--vm-captions-font-size-xlarge)}.cue{display:inline-block;background:var(--vm-captions-cue-bg-color);border-radius:var(--vm-captions-cue-border-radius);box-decoration-break:clone;line-height:185%;padding:var(--vm-captions-cue-padding);white-space:pre-wrap;pointer-events:none}.cue>div{display:inline}.cue:empty{display:none}\";\n\nvar __awaiter$t = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst Captions = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.sizeDisposal = new Disposal();\n    this.textDisposal = new Disposal();\n    this.isEnabled = false;\n    this.fontSize = 'sm';\n    /**\n     * Whether the captions should be visible or not.\n     */\n    this.hidden = false;\n    /** @internal */\n    this.isControlsActive = false;\n    /** @internal */\n    this.isVideoView = false;\n    /** @internal */\n    this.playbackStarted = false;\n    /** @internal */\n    this.textTracks = [];\n    /** @internal */\n    this.currentTextTrack = -1;\n    /** @internal */\n    this.isTextTrackVisible = true;\n    withComponentRegistry(this);\n    withControlsCollisionDetection(this);\n    withPlayerContext(this, [\n      'isVideoView',\n      'playbackStarted',\n      'isControlsActive',\n      'textTracks',\n      'currentTextTrack',\n      'isTextTrackVisible',\n    ]);\n  }\n  onEnabledChange() {\n    this.isEnabled = this.playbackStarted && this.isVideoView;\n  }\n  onTextTracksChange() {\n    const textTrack = this.textTracks[this.currentTextTrack];\n    const renderCues = () => {\n      var _a;\n      const activeCues = Array.from((_a = textTrack.activeCues) !== null && _a !== void 0 ? _a : []);\n      this.renderCurrentCue(activeCues[0]);\n    };\n    this.textDisposal.empty();\n    if (!isNil(textTrack)) {\n      renderCues();\n      this.textDisposal.add(listen(textTrack, 'cuechange', renderCues));\n    }\n  }\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n    this.dispatch('shouldRenderNativeTextTracks', false);\n    this.onTextTracksChange();\n    this.onPlayerResize();\n  }\n  disconnectedCallback() {\n    this.textDisposal.empty();\n    this.sizeDisposal.empty();\n    this.dispatch('shouldRenderNativeTextTracks', true);\n  }\n  onPlayerResize() {\n    return __awaiter$t(this, void 0, void 0, function* () {\n      const player = yield findPlayer(this);\n      if (isUndefined(player))\n        return;\n      const container = (yield player.getContainer());\n      const resizeObs = new ResizeObserver(entries => {\n        const entry = entries[0];\n        const { width } = entry.contentRect;\n        if (width >= 1360) {\n          this.fontSize = 'xl';\n        }\n        else if (width >= 1024) {\n          this.fontSize = 'lg';\n        }\n        else if (width >= 768) {\n          this.fontSize = 'md';\n        }\n        else {\n          this.fontSize = 'sm';\n        }\n      });\n      resizeObs.observe(container);\n    });\n  }\n  renderCurrentCue(cue) {\n    if (isNil(cue)) {\n      this.cue = '';\n      return;\n    }\n    const div = document.createElement('div');\n    div.append(cue.getCueAsHTML());\n    this.cue = div.innerHTML.trim();\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { style: {\n        transform: `translateY(calc(${this.isControlsActive ? 'var(--vm-controls-height)' : '24px'} * -1))`,\n      }, class: {\n        captions: true,\n        enabled: this.isEnabled,\n        hidden: this.hidden,\n        fontMd: this.fontSize === 'md',\n        fontLg: this.fontSize === 'lg',\n        fontXl: this.fontSize === 'xl',\n        inactive: !this.isTextTrackVisible,\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"span\", { class: \"cue\" }, this.cue)));\n  }\n  static get watchers() { return {\n    \"isVideoView\": [\"onEnabledChange\"],\n    \"playbackStarted\": [\"onEnabledChange\"],\n    \"textTracks\": [\"onTextTracksChange\"],\n    \"currentTextTrack\": [\"onTextTracksChange\"]\n  }; }\n  static get style() { return captionsCss; }\n};\n\nconst clickToPlayCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-click-to-play-z-index)}.clickToPlay{display:none;width:100%;height:100%;pointer-events:none}.clickToPlay.enabled{display:inline-block;pointer-events:auto}\";\n\nvar __awaiter$s = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst ClickToPlay = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /**\n     * By default this is disabled on mobile to not interfere with playback, set this to `true` to\n     * enable it.\n     */\n    this.useOnMobile = false;\n    /** @internal */\n    this.paused = true;\n    /** @internal */\n    this.isVideoView = false;\n    /** @internal */\n    this.isMobile = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['paused', 'isVideoView', 'isMobile']);\n  }\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n  }\n  /** @internal */\n  forceClick() {\n    return __awaiter$s(this, void 0, void 0, function* () {\n      this.onClick();\n    });\n  }\n  onClick() {\n    this.dispatch('paused', !this.paused);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        clickToPlay: true,\n        enabled: this.isVideoView && (!this.isMobile || this.useOnMobile),\n      }, onClick: this.onClick.bind(this) }));\n  }\n  static get style() { return clickToPlayCss; }\n};\n\nconst controlCss = \"button{display:flex;align-items:center;flex-direction:row;border:var(--vm-control-border);cursor:pointer;flex-shrink:0;font-size:var(--vm-control-icon-size);color:var(--vm-control-color);background:var(--vm-control-bg, transparent);border-radius:var(--vm-control-border-radius);padding:var(--vm-control-padding);position:relative;pointer-events:auto;transition:all 0.3s ease;transform:scale(var(--vm-control-scale, 1));touch-action:manipulation;box-sizing:border-box}button.hidden{display:none}button:focus{outline:0}button.tapHighlight{background:var(--vm-control-tap-highlight)}button.notTouch:focus,button.notTouch:hover,button.notTouch[aria-expanded='true']{background:var(--vm-control-focus-bg);color:var(--vm-control-focus-color);transform:scale(calc(var(--vm-control-scale, 1) + 0.06))}\";\n\nvar __awaiter$r = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst Control = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmInteractionChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmInteractionChange\", 7);\n    this.vmFocus = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmBlur\", 7);\n    this.keyboardDisposal = new Disposal();\n    this.showTapHighlight = false;\n    /**\n     * Whether the control should be displayed or not.\n     */\n    this.hidden = false;\n    /** @internal */\n    this.isTouch = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isTouch']);\n  }\n  onKeysChange() {\n    return __awaiter$r(this, void 0, void 0, function* () {\n      this.keyboardDisposal.empty();\n      if (isUndefined(this.keys))\n        return;\n      const player = yield findPlayer(this);\n      const codes = this.keys.split('/');\n      if (isUndefined(player))\n        return;\n      this.keyboardDisposal.add(listen(player, 'keydown', (event) => {\n        if (codes.includes(event.key)) {\n          this.button.click();\n        }\n      }));\n    });\n  }\n  connectedCallback() {\n    this.findTooltip();\n    this.onKeysChange();\n  }\n  componentWillLoad() {\n    this.findTooltip();\n  }\n  disconnectedCallback() {\n    this.keyboardDisposal.empty();\n  }\n  /**\n   * Focuses the control.\n   */\n  focusControl() {\n    var _a;\n    return __awaiter$r(this, void 0, void 0, function* () {\n      (_a = this.button) === null || _a === void 0 ? void 0 : _a.focus();\n    });\n  }\n  /**\n   * Removes focus from the control.\n   */\n  blurControl() {\n    var _a;\n    return __awaiter$r(this, void 0, void 0, function* () {\n      (_a = this.button) === null || _a === void 0 ? void 0 : _a.blur();\n    });\n  }\n  onTouchStart() {\n    this.showTapHighlight = true;\n  }\n  onTouchEnd() {\n    setTimeout(() => {\n      this.showTapHighlight = false;\n    }, 100);\n  }\n  findTooltip() {\n    const tooltip = this.host.querySelector('vm-tooltip');\n    if (!isNull(tooltip))\n      this.describedBy = tooltip.id;\n    return tooltip;\n  }\n  onShowTooltip() {\n    const tooltip = this.findTooltip();\n    if (!isNull(tooltip))\n      tooltip.active = true;\n    this.vmInteractionChange.emit(true);\n  }\n  onHideTooltip() {\n    const tooltip = this.findTooltip();\n    if (!isNull(tooltip))\n      tooltip.active = false;\n    this.button.blur();\n    this.vmInteractionChange.emit(false);\n  }\n  onFocus() {\n    this.vmFocus.emit();\n    this.onShowTooltip();\n  }\n  onBlur() {\n    this.vmBlur.emit();\n    this.onHideTooltip();\n  }\n  onMouseEnter() {\n    this.onShowTooltip();\n  }\n  onMouseLeave() {\n    this.onHideTooltip();\n  }\n  render() {\n    const isMenuExpanded = this.expanded ? 'true' : 'false';\n    const isPressed = this.pressed ? 'true' : 'false';\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"button\", { class: {\n        hidden: this.hidden,\n        notTouch: !this.isTouch,\n        tapHighlight: this.showTapHighlight,\n      }, id: this.identifier, type: \"button\", \"aria-label\": this.label, \"aria-haspopup\": !isUndefined(this.menu) ? 'true' : undefined, \"aria-controls\": this.menu, \"aria-expanded\": !isUndefined(this.menu) ? isMenuExpanded : undefined, \"aria-pressed\": !isUndefined(this.pressed) ? isPressed : undefined, \"aria-hidden\": this.hidden ? 'true' : 'false', \"aria-describedby\": this.describedBy, onTouchStart: this.onTouchStart.bind(this), onTouchEnd: this.onTouchEnd.bind(this), onFocus: this.onFocus.bind(this), onBlur: this.onBlur.bind(this), onMouseEnter: this.onMouseEnter.bind(this), onMouseLeave: this.onMouseLeave.bind(this), ref: (el) => {\n        this.button = el;\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"keys\": [\"onKeysChange\"]\n  }; }\n  static get style() { return controlCss; }\n};\n\nconst controlGroupCss = \":host{width:100%}.controlGroup{position:relative;width:100%;display:flex;flex-wrap:wrap;flex-direction:inherit;align-items:inherit;justify-content:inherit;box-sizing:border-box}.controlGroup.spaceTop{margin-top:var(--vm-control-group-spacing)}.controlGroup.spaceBottom{margin-bottom:var(--vm-control-group-spacing)}::slotted(*){margin-left:var(--vm-controls-spacing)}::slotted(*:first-child){margin-left:0}\";\n\nconst ControlNewLine = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /**\n     * Determines where to add spacing/margin. The amount of spacing is determined by the CSS variable\n     * `--control-group-spacing`.\n     */\n    this.space = 'none';\n    withComponentRegistry(this);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        controlGroup: true,\n        spaceTop: this.space !== 'none' && this.space !== 'bottom',\n        spaceBottom: this.space !== 'none' && this.space !== 'top',\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n  get host() { return this; }\n  static get style() { return controlGroupCss; }\n};\n\nconst controlSpacerCss = \":host{flex:1}\";\n\nconst ControlSpacer = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    withComponentRegistry(this);\n  }\n  static get style() { return controlSpacerCss; }\n};\n\nconst debounce = (func, wait = 1000, immediate = false) => {\n  let timeout;\n  return function executedFunction(...args) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const context = this;\n    const later = function delayedFunctionCall() {\n      timeout = undefined;\n      if (!immediate)\n        func.apply(context, args);\n    };\n    const callNow = immediate && isUndefined(timeout);\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow)\n      func.apply(context, args);\n  };\n};\n\nconst controlsCss = \":host{position:relative;width:100%;z-index:var(--vm-controls-z-index)}:host([video]){position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.controls{display:flex;width:100%;position:absolute;flex-wrap:wrap;pointer-events:auto;box-sizing:border-box;background:var(--vm-controls-bg);padding:var(--vm-controls-padding);border-radius:var(--vm-controls-border-radius);opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.controls.audio{position:relative}.controls.hidden{display:none}.controls.active{opacity:1;visibility:visible}.controls.fullWidth{width:100%}.controls.fullHeight{height:100%}::slotted(*:not(vm-control-group)){margin-left:var(--vm-controls-spacing)}::slotted(*:not(vm-control-group):first-child){margin-left:0}\";\n\nvar __awaiter$q = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n/**\n * We want to keep the controls active state in-sync per player.\n */\nconst playerRef = {};\nconst hideControlsTimeout = {};\nconst Controls = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.disposal = new Disposal();\n    this.isInteracting = false;\n    /**\n     * Whether the controls are visible or not.\n     */\n    this.hidden = false;\n    /**\n     * Whether the controls container should be 100% width. This has no effect if the view is of\n     * type `audio`.\n     */\n    this.fullWidth = false;\n    /**\n     * Whether the controls container should be 100% height. This has no effect if the view is of\n     * type `audio`.\n     */\n    this.fullHeight = false;\n    /**\n     * Sets the `flex-direction` property that manages the direction in which the controls are layed\n     * out.\n     */\n    this.direction = 'row';\n    /**\n     * Sets the `align-items` flex property that aligns the individual controls on the cross-axis.\n     */\n    this.align = 'center';\n    /**\n     * Sets the `justify-content` flex property that aligns the individual controls on the main-axis.\n     */\n    this.justify = 'start';\n    /**\n     * Pins the controls to the defined position inside the video player. This has no effect when\n     * the view is of type `audio`.\n     */\n    this.pin = 'bottomLeft';\n    /**\n     * The length in milliseconds that the controls are active for before fading out. Audio players\n     * are not effected by this prop.\n     */\n    this.activeDuration = 2750;\n    /**\n     * Whether the controls should wait for playback to start before being shown. Audio players\n     * are not effected by this prop.\n     */\n    this.waitForPlaybackStart = false;\n    /**\n     * Whether the controls should show/hide when paused. Audio players are not effected by this prop.\n     */\n    this.hideWhenPaused = false;\n    /**\n     * Whether the controls should hide when the mouse leaves the player. Audio players are not\n     * effected by this prop.\n     */\n    this.hideOnMouseLeave = false;\n    /** @internal */\n    this.isAudioView = false;\n    /** @internal */\n    this.isSettingsActive = false;\n    /** @internal */\n    this.playbackReady = false;\n    /** @internal */\n    this.isControlsActive = false;\n    /** @internal */\n    this.paused = true;\n    /** @internal */\n    this.playbackStarted = false;\n    withComponentRegistry(this);\n    registerControlsForCollisionDetection(this);\n    withPlayerContext(this, [\n      'playbackReady',\n      'isAudioView',\n      'isControlsActive',\n      'isSettingsActive',\n      'paused',\n      'playbackStarted',\n    ]);\n  }\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n    this.onControlsChange();\n    this.setupPlayerListeners();\n  }\n  componentWillLoad() {\n    this.onControlsChange();\n  }\n  disconnectedCallback() {\n    this.disposal.empty();\n    delete hideControlsTimeout[playerRef[this]];\n    delete playerRef[this];\n  }\n  setupPlayerListeners() {\n    return __awaiter$q(this, void 0, void 0, function* () {\n      const player = yield findPlayer(this);\n      if (isUndefined(player))\n        return;\n      const events = ['focus', 'keydown', 'click', 'touchstart', 'mouseleave'];\n      events.forEach(event => {\n        this.disposal.add(listen(player, event, this.onControlsChange.bind(this)));\n      });\n      this.disposal.add(listen(player, 'mousemove', debounce(this.onControlsChange, 50, true).bind(this)));\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      playerRef[this] = player;\n    });\n  }\n  show() {\n    this.dispatch('isControlsActive', true);\n  }\n  hide() {\n    this.dispatch('isControlsActive', false);\n  }\n  hideWithDelay() {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    clearTimeout(hideControlsTimeout[playerRef[this]]);\n    hideControlsTimeout[playerRef[this]] = setTimeout(() => {\n      this.hide();\n    }, this.activeDuration);\n  }\n  onControlsChange(event) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    clearTimeout(hideControlsTimeout[playerRef[this]]);\n    if (this.hidden || !this.playbackReady) {\n      this.hide();\n      return;\n    }\n    if (this.isAudioView) {\n      this.show();\n      return;\n    }\n    if (this.waitForPlaybackStart && !this.playbackStarted) {\n      this.hide();\n      return;\n    }\n    if (this.isInteracting || this.isSettingsActive) {\n      this.show();\n      return;\n    }\n    if (this.hideWhenPaused && this.paused) {\n      this.hideWithDelay();\n      return;\n    }\n    if (this.hideOnMouseLeave && !this.paused && (event === null || event === void 0 ? void 0 : event.type) === 'mouseleave') {\n      this.hide();\n      return;\n    }\n    if (!this.paused) {\n      this.show();\n      this.hideWithDelay();\n      return;\n    }\n    this.show();\n  }\n  getPosition() {\n    if (this.isAudioView)\n      return {};\n    if (this.pin === 'center') {\n      return {\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n      };\n    }\n    // topLeft => { top: 0, left: 0 }\n    const pos = this.pin.split(/(?=[L|R])/).map(s => s.toLowerCase());\n    return { [pos[0]]: 0, [pos[1]]: 0 };\n  }\n  onStartInteraction() {\n    this.isInteracting = true;\n  }\n  onEndInteraction() {\n    this.isInteracting = false;\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.Host, { video: !this.isAudioView }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { style: Object.assign(Object.assign({}, this.getPosition()), { flexDirection: this.direction, alignItems: this.align === 'center' ? 'center' : `flex-${this.align}`, justifyContent: this.justify }), class: {\n        controls: true,\n        audio: this.isAudioView,\n        hidden: this.hidden,\n        active: this.playbackReady && this.isControlsActive,\n        fullWidth: this.isAudioView || this.fullWidth,\n        fullHeight: !this.isAudioView && this.fullHeight,\n      }, onMouseEnter: this.onStartInteraction.bind(this), onMouseLeave: this.onEndInteraction.bind(this), onTouchStart: this.onStartInteraction.bind(this), onTouchEnd: this.onEndInteraction.bind(this) }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null))));\n  }\n  static get watchers() { return {\n    \"paused\": [\"onControlsChange\"],\n    \"hidden\": [\"onControlsChange\"],\n    \"isAudioView\": [\"onControlsChange\"],\n    \"isInteracting\": [\"onControlsChange\"],\n    \"isSettingsActive\": [\"onControlsChange\"],\n    \"hideWhenPaused\": [\"onControlsChange\"],\n    \"hideOnMouseLeave\": [\"onControlsChange\"],\n    \"playbackStarted\": [\"onControlsChange\"],\n    \"waitForPlaybackStart\": [\"onControlsChange\"],\n    \"playbackReady\": [\"onControlsChange\"]\n  }; }\n  static get style() { return controlsCss; }\n};\n\nconst currentTimeCss = \":host{display:flex;align-items:center;justify-content:center}\";\n\nconst CurrentTime = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /** @internal */\n    this.currentTime = 0;\n    /** @internal */\n    this.i18n = {};\n    /**\n     * Whether the time should always show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n    this.alwaysShowHours = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['currentTime', 'i18n']);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-time\", { label: this.i18n.currentTime, seconds: this.currentTime, alwaysShowHours: this.alwaysShowHours }));\n  }\n  static get style() { return currentTimeCss; }\n};\n\nvar _a, _b;\nconst IS_CLIENT = typeof window !== 'undefined';\nconst UA = IS_CLIENT ? (_a = window.navigator) === null || _a === void 0 ? void 0 : _a.userAgent.toLowerCase() : '';\nconst IS_IOS = /iphone|ipad|ipod|ios|CriOS|FxiOS/.test(UA);\nconst IS_ANDROID = /android/.test(UA);\nconst IS_MOBILE = IS_CLIENT && (IS_IOS || IS_ANDROID);\nconst IS_IPHONE = IS_CLIENT && /(iPhone|iPod)/gi.test((_b = window.navigator) === null || _b === void 0 ? void 0 : _b.platform);\n/firefox/.test(UA);\nconst IS_CHROME = IS_CLIENT && window.chrome;\nIS_CLIENT &&\n  !IS_CHROME &&\n  (window.safari || IS_IOS || /(apple|safari)/.test(UA));\nconst onMobileChange = (callback) => {\n  if (!IS_CLIENT || isUndefined(window.ResizeObserver)) {\n    callback(IS_MOBILE);\n    return noop;\n  }\n  function onResize() {\n    callback(window.innerWidth <= 480 || IS_MOBILE);\n  }\n  callback(window.innerWidth <= 480 || IS_MOBILE);\n  return listen(window, 'resize', onResize);\n};\nconst onTouchInputChange = (callback) => {\n  if (!IS_CLIENT)\n    return noop;\n  let lastTouchTime = 0;\n  const offTouchListener = listen(document, 'touchstart', () => {\n    lastTouchTime = new Date().getTime();\n    callback(true);\n  }, true);\n  const offMouseListener = listen(document, 'mousemove', () => {\n    // Filter emulated events coming from touch events\n    if (new Date().getTime() - lastTouchTime < 500)\n      return;\n    callback(false);\n  }, true);\n  return () => {\n    offTouchListener();\n    offMouseListener();\n  };\n};\n/**\n * Checks if the screen orientation can be changed.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Screen/orientation\n */\nconst canRotateScreen = () => IS_CLIENT && window.screen.orientation && !!window.screen.orientation.lock;\n/**\n * Checks if the native HTML5 video player can enter picture-in-picture (PIP) mode when using\n * the Chrome browser.\n *\n * @see  https://developers.google.com/web/updates/2018/10/watch-video-using-picture-in-picture\n */\nconst canUsePiPInChrome = () => {\n  if (!IS_CLIENT)\n    return false;\n  const video = document.createElement('video');\n  return !!document.pictureInPictureEnabled && !video.disablePictureInPicture;\n};\n/**\n * Checks if the native HTML5 video player can enter picture-in-picture (PIP) mode when using\n * the desktop Safari browser, iOS Safari appears to \"support\" PiP through the check, however PiP\n * does not function.\n *\n * @see https://developer.apple.com/documentation/webkitjs/adding_picture_in_picture_to_your_safari_media_controls\n */\nconst canUsePiPInSafari = () => {\n  if (!IS_CLIENT)\n    return false;\n  const video = document.createElement('video');\n  return (isFunction(video.webkitSupportsPresentationMode) &&\n    isFunction(video.webkitSetPresentationMode) &&\n    !IS_IPHONE);\n};\n// Checks if the native HTML5 video player can enter PIP.\nconst canUsePiP = () => canUsePiPInChrome() || canUsePiPInSafari();\n/**\n * To detect autoplay, we create a video element and call play on it, if it is `paused` after\n * a `play()` call, autoplay is supported. Although this unintuitive, it works across browsers\n * and is currently the lightest way to detect autoplay without using a data source.\n *\n * @see https://github.com/ampproject/amphtml/blob/9bc8756536956780e249d895f3e1001acdee0bc0/src/utils/video.js#L25\n */\nconst canAutoplay = (muted = true, playsinline = true) => {\n  if (!IS_CLIENT)\n    return Promise.resolve(false);\n  const video = document.createElement('video');\n  if (muted) {\n    video.setAttribute('muted', '');\n    video.muted = true;\n  }\n  if (playsinline) {\n    video.setAttribute('playsinline', '');\n    video.setAttribute('webkit-playsinline', '');\n  }\n  video.setAttribute('height', '0');\n  video.setAttribute('width', '0');\n  video.style.position = 'fixed';\n  video.style.top = '0';\n  video.style.width = '0';\n  video.style.height = '0';\n  video.style.opacity = '0';\n  // Promise wrapped this way to catch both sync throws and async rejections.\n  // More info: https://github.com/tc39/proposal-promise-try\n  new Promise(resolve => resolve(video.play())).catch(noop);\n  return Promise.resolve(!video.paused);\n};\n\n/**\n * Attempt to parse json into a POJO.\n */\nfunction tryParseJSON(json) {\n  if (!isString(json))\n    return undefined;\n  try {\n    return JSON.parse(json);\n  }\n  catch (e) {\n    return undefined;\n  }\n}\n/**\n * Check if the given input is json or a plain object.\n */\nconst isObjOrJSON = (input) => !isNil(input) &&\n  (isObject(input) || (isString(input) && input.startsWith('{')));\n/**\n * If an object return otherwise try to parse it as json.\n */\nconst objOrParseJSON = (input) => isObject(input) ? input : tryParseJSON(input);\n/**\n * Load image avoiding xhr/fetch CORS issues. Server status can't be obtained this way\n * unfortunately, so this uses \"naturalWidth\" to determine if the image has been loaded. By\n * default it checks if it is at least 1px.\n */\nconst loadImage = (src, minWidth = 1) => new Promise((resolve, reject) => {\n  const image = new Image();\n  const handler = () => {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    delete image.onload;\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    delete image.onerror;\n    image.naturalWidth >= minWidth ? resolve(image) : reject(image);\n  };\n  Object.assign(image, { onload: handler, onerror: handler, src });\n});\nconst loadScript = (src, onLoad, onError = noop) => {\n  var _a;\n  const script = document.createElement('script');\n  script.src = src;\n  script.onload = onLoad;\n  script.onerror = onError;\n  const firstScriptTag = document.getElementsByTagName('script')[0];\n  (_a = firstScriptTag.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(script, firstScriptTag);\n};\n/**\n * Tries to parse json and return a object.\n */\nconst decodeJSON = (data) => {\n  if (!isObjOrJSON(data))\n    return undefined;\n  return objOrParseJSON(data);\n};\n/**\n * Attempts to safely decode a URI component, on failure it returns the given fallback.\n */\nconst tryDecodeURIComponent = (component, fallback = '') => {\n  if (!IS_CLIENT)\n    return fallback;\n  try {\n    return window.decodeURIComponent(component);\n  }\n  catch (e) {\n    return fallback;\n  }\n};\n/**\n * Returns a simple key/value map and duplicate keys are merged into an array.\n *\n * @see https://github.com/ampproject/amphtml/blob/c7c46cec71bac92f5c5da31dcc6366c18577f566/src/url-parse-query-string.js#L31\n */\nconst QUERY_STRING_REGEX = /(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;\nconst parseQueryString = (qs) => {\n  const params = Object.create(null);\n  if (isUndefined(qs))\n    return params;\n  let match;\n  // eslint-disable-next-line no-cond-assign\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  while ((match = QUERY_STRING_REGEX.exec(qs))) {\n    const name = tryDecodeURIComponent(match[1], match[1]).replace('[]', '');\n    const value = isString(match[2])\n      ? tryDecodeURIComponent(match[2].replace(/\\+/g, ' '), match[2])\n      : '';\n    const currValue = params[name];\n    if (currValue && !isArray(currValue))\n      params[name] = [currValue];\n    currValue ? params[name].push(value) : (params[name] = value);\n  }\n  return params;\n};\n/**\n * Serializes the given params into a query string.\n */\nconst serializeQueryString = (params) => {\n  const qs = [];\n  const appendQueryParam = (param, v) => {\n    qs.push(`${encodeURIComponent(param)}=${encodeURIComponent(v)}`);\n  };\n  Object.keys(params).forEach(param => {\n    const value = params[param];\n    if (isNil(value))\n      return;\n    if (isArray(value)) {\n      value.forEach((v) => appendQueryParam(param, v));\n    }\n    else {\n      appendQueryParam(param, value);\n    }\n  });\n  return qs.join('&');\n};\n/**\n * Notifies the browser to start establishing a connection with the given URL.\n */\nconst preconnect = (url, rel = 'preconnect', as) => {\n  if (!IS_CLIENT)\n    return false;\n  const link = document.createElement('link');\n  link.rel = rel;\n  link.href = url;\n  if (!isUndefined(as))\n    link.as = as;\n  link.crossOrigin = 'true';\n  document.head.append(link);\n  return true;\n};\n/**\n * Safely appends the given query string to the given URL.\n */\nconst appendQueryStringToURL = (url, qs) => {\n  if (isUndefined(qs) || qs.length === 0)\n    return url;\n  const mainAndQuery = url.split('?', 2);\n  return (mainAndQuery[0] +\n    (!isUndefined(mainAndQuery[1]) ? `?${mainAndQuery[1]}&${qs}` : `?${qs}`));\n};\n/**\n * Serializes the given params into a query string and appends them to the given URL.\n */\nconst appendParamsToURL = (url, params) => appendQueryStringToURL(url, isObject(params)\n  ? serializeQueryString(params)\n  : params);\n/**\n * Tries to convert a query string into a object.\n */\nconst decodeQueryString = (qs) => {\n  if (!isString(qs))\n    return undefined;\n  return parseQueryString(qs);\n};\nconst pendingSDKRequests = {};\n/**\n * Loads an SDK into the global window namespace.\n *\n * @see https://github.com/CookPete/react-player/blob/master/src/utils.js#L77\n */\nconst loadSDK = (url, sdkGlobalVar, sdkReadyVar, isLoaded = () => true, loadScriptFn = loadScript) => {\n  const getGlobal = (key) => {\n    if (!isUndefined(window[key]))\n      return window[key];\n    if (window.exports && window.exports[key])\n      return window.exports[key];\n    if (window.module && window.module.exports && window.module.exports[key]) {\n      return window.module.exports[key];\n    }\n    return undefined;\n  };\n  const existingGlobal = getGlobal(sdkGlobalVar);\n  if (existingGlobal && isLoaded(existingGlobal)) {\n    return Promise.resolve(existingGlobal);\n  }\n  return new Promise((resolve, reject) => {\n    if (!isUndefined(pendingSDKRequests[url])) {\n      pendingSDKRequests[url].push({ resolve, reject });\n      return;\n    }\n    pendingSDKRequests[url] = [{ resolve, reject }];\n    const onLoaded = (sdk) => {\n      pendingSDKRequests[url].forEach(request => request.resolve(sdk));\n    };\n    if (!isUndefined(sdkReadyVar)) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const previousOnReady = window[sdkReadyVar];\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      window[sdkReadyVar] = function () {\n        if (!isUndefined(previousOnReady))\n          previousOnReady();\n        onLoaded(getGlobal(sdkGlobalVar));\n      };\n    }\n    loadScriptFn(url, () => {\n      if (isUndefined(sdkReadyVar))\n        onLoaded(getGlobal(sdkGlobalVar));\n    }, e => {\n      pendingSDKRequests[url].forEach(request => {\n        request.reject(e);\n      });\n      delete pendingSDKRequests[url];\n    });\n  });\n};\n\nconst withProviderContext = (provider, additionalProps = []) => withPlayerContext(provider, [\n  'autoplay',\n  'controls',\n  'language',\n  'muted',\n  'logger',\n  'loop',\n  'aspectRatio',\n  'playsinline',\n  ...additionalProps,\n]);\n\nconst dailymotionCss = \":host{z-index:var(--vm-media-z-index)}\";\n\nvar __awaiter$p = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst videoInfoCache$1 = new Map();\nconst Dailymotion = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmLoadStart = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmError\", 7);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.defaultInternalState = {};\n    this.internalState = {\n      currentTime: 0,\n      volume: 0,\n      muted: false,\n      isAdsPlaying: false,\n      playbackReady: false,\n    };\n    this.embedSrc = '';\n    this.mediaTitle = '';\n    /**\n     * Whether to automatically play the next video in the queue.\n     */\n    this.shouldAutoplayQueue = false;\n    /**\n     * Whether to show the 'Up Next' queue.\n     */\n    this.showUpNextQueue = false;\n    /**\n     * Whether to show buttons for sharing the video.\n     */\n    this.showShareButtons = false;\n    /**\n     * Whether to display the Dailymotion logo.\n     */\n    this.showDailymotionLogo = false;\n    /**\n     * Whether to show video information (title and owner) on the start screen.\n     */\n    this.showVideoInfo = true;\n    /** @internal */\n    this.language = 'en';\n    /** @internal */\n    this.autoplay = false;\n    /** @internal */\n    this.controls = false;\n    /** @internal */\n    this.loop = false;\n    /** @internal */\n    this.muted = false;\n    /** @internal */\n    this.playsinline = false;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withProviderContext(this);\n  }\n  onVideoIdChange() {\n    this.internalState = Object.assign({}, this.defaultInternalState);\n    if (!this.videoId) {\n      this.embedSrc = '';\n      return;\n    }\n    this.embedSrc = `${this.getOrigin()}/embed/video/${this.videoId}?api=1`;\n    this.fetchVideoInfo = this.getVideoInfo();\n    this.pendingMediaTitleCall = deferredPromise();\n  }\n  onControlsChange() {\n    if (this.internalState.playbackReady) {\n      this.remoteControl(\"controls\" /* Controls */, this.controls);\n    }\n  }\n  onCustomPosterChange() {\n    this.dispatch('currentPoster', this.poster);\n  }\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    this.dispatch('viewType', ViewType.Video);\n    this.onVideoIdChange();\n    this.internalState.muted = this.muted;\n    this.defaultInternalState = Object.assign({}, this.internalState);\n  }\n  componentWillLoad() {\n    this.initialMuted = this.muted;\n  }\n  getOrigin() {\n    return 'https://www.dailymotion.com';\n  }\n  getPreconnections() {\n    return [this.getOrigin(), 'https://static1.dmcdn.net'];\n  }\n  remoteControl(command, arg) {\n    return this.embed.postMessage({\n      command,\n      parameters: arg ? [arg] : [],\n    });\n  }\n  buildParams() {\n    return {\n      autoplay: this.autoplay,\n      mute: this.initialMuted,\n      controls: this.controls,\n      'queue-autoplay-next': this.shouldAutoplayQueue,\n      'queue-enable': this.showUpNextQueue,\n      'sharing-enable': this.showShareButtons,\n      syndication: this.syndication,\n      'ui-highlight': this.color,\n      'ui-logo': this.showDailymotionLogo,\n      'ui-start-screen-info': this.showVideoInfo,\n    };\n  }\n  getVideoInfo() {\n    return __awaiter$p(this, void 0, void 0, function* () {\n      if (videoInfoCache$1.has(this.videoId))\n        return videoInfoCache$1.get(this.videoId);\n      const apiEndpoint = 'https://api.dailymotion.com';\n      return window\n        .fetch(`${apiEndpoint}/video/${this.videoId}?fields=duration,thumbnail_1080_url`)\n        .then(response => response.json())\n        .then(data => {\n        const poster = data.thumbnail_1080_url;\n        const duration = parseFloat(data.duration);\n        videoInfoCache$1.set(this.videoId, { poster, duration });\n        return { poster, duration };\n      });\n    });\n  }\n  onEmbedSrcChange() {\n    this.vmLoadStart.emit();\n    this.dispatch('viewType', ViewType.Video);\n  }\n  onEmbedMessage(event) {\n    var _a, _b;\n    const msg = event.detail;\n    switch (msg.event) {\n      case \"playback_ready\" /* PlaybackReady */:\n        this.onControlsChange();\n        this.dispatch('currentSrc', this.embedSrc);\n        this.dispatch('mediaType', MediaType.Video);\n        Promise.all([\n          this.fetchVideoInfo,\n          (_a = this.pendingMediaTitleCall) === null || _a === void 0 ? void 0 : _a.promise,\n        ]).then(([info, mediaTitle]) => {\n          var _a, _b;\n          this.dispatch('duration', (_a = info === null || info === void 0 ? void 0 : info.duration) !== null && _a !== void 0 ? _a : -1);\n          this.dispatch('currentPoster', (_b = this.poster) !== null && _b !== void 0 ? _b : info === null || info === void 0 ? void 0 : info.poster);\n          this.dispatch('mediaTitle', mediaTitle);\n          this.dispatch('playbackReady', true);\n        });\n        break;\n      case \"videochange\" /* VideoChange */:\n        (_b = this.pendingMediaTitleCall) === null || _b === void 0 ? void 0 : _b.resolve(msg.title);\n        break;\n      case \"start\" /* Start */:\n        this.dispatch('paused', false);\n        this.dispatch('playbackStarted', true);\n        this.dispatch('buffering', true);\n        break;\n      case \"video_start\" /* VideoStart */:\n        // Commands don't go through until ads have finished, so we store them and then replay them\n        // once the video starts.\n        this.remoteControl(\"muted\" /* Muted */, this.internalState.muted);\n        this.remoteControl(\"volume\" /* Volume */, this.internalState.volume);\n        if (this.internalState.currentTime > 0) {\n          this.remoteControl(\"seek\" /* Seek */, this.internalState.currentTime);\n        }\n        break;\n      case \"play\" /* Play */:\n        this.dispatch('paused', false);\n        break;\n      case \"pause\" /* Pause */:\n        this.dispatch('paused', true);\n        this.dispatch('playing', false);\n        this.dispatch('buffering', false);\n        break;\n      case \"playing\" /* Playing */:\n        this.dispatch('playing', true);\n        this.dispatch('buffering', false);\n        break;\n      case \"video_end\" /* VideoEnd */:\n        if (this.loop) {\n          setTimeout(() => {\n            this.remoteControl(\"play\" /* Play */);\n          }, 300);\n        }\n        else {\n          this.dispatch('playbackEnded', true);\n        }\n        break;\n      case \"timeupdate\" /* TimeUpdate */:\n        this.dispatch('currentTime', parseFloat(msg.time));\n        break;\n      case \"volumechange\" /* VolumeChange */:\n        this.dispatch('muted', msg.muted === 'true');\n        this.dispatch('volume', Math.floor(parseFloat(msg.volume) * 100));\n        break;\n      case \"seeking\" /* Seeking */:\n        this.dispatch('currentTime', parseFloat(msg.time));\n        this.dispatch('seeking', true);\n        break;\n      case \"seeked\" /* Seeked */:\n        this.dispatch('currentTime', parseFloat(msg.time));\n        this.dispatch('seeking', false);\n        break;\n      case \"waiting\" /* Waiting */:\n        this.dispatch('buffering', true);\n        break;\n      case \"progress\" /* Progress */:\n        this.dispatch('buffered', parseFloat(msg.time));\n        break;\n      case \"durationchange\" /* DurationChange */:\n        this.dispatch('duration', parseFloat(msg.duration));\n        break;\n      case \"qualitiesavailable\" /* QualitiesAvailable */:\n        this.dispatch('playbackQualities', msg.qualities.map((q) => `${q}p`));\n        break;\n      case \"qualitychange\" /* QualityChange */:\n        this.dispatch('playbackQuality', `${msg.quality}p`);\n        break;\n      case \"fullscreenchange\" /* FullscreenChange */:\n        this.dispatch('isFullscreenActive', msg.fullscreen === 'true');\n        break;\n      case \"error\" /* Error */:\n        this.vmError.emit(msg.error);\n        break;\n    }\n  }\n  /** @internal */\n  getAdapter() {\n    return __awaiter$p(this, void 0, void 0, function* () {\n      const canPlayRegex = /(?:dai\\.ly|dailymotion|dailymotion\\.com)\\/(?:video\\/|embed\\/|)(?:video\\/|)((?:\\w)+)/;\n      return {\n        getInternalPlayer: () => __awaiter$p(this, void 0, void 0, function* () { return this.embed; }),\n        play: () => __awaiter$p(this, void 0, void 0, function* () {\n          this.remoteControl(\"play\" /* Play */);\n        }),\n        pause: () => __awaiter$p(this, void 0, void 0, function* () {\n          this.remoteControl(\"pause\" /* Pause */);\n        }),\n        canPlay: (type) => __awaiter$p(this, void 0, void 0, function* () { return isString(type) && canPlayRegex.test(type); }),\n        setCurrentTime: (time) => __awaiter$p(this, void 0, void 0, function* () {\n          if (time !== this.internalState.currentTime) {\n            this.internalState.currentTime = time;\n            this.remoteControl(\"seek\" /* Seek */, time);\n          }\n        }),\n        setMuted: (muted) => __awaiter$p(this, void 0, void 0, function* () {\n          this.internalState.muted = muted;\n          this.remoteControl(\"muted\" /* Muted */, muted);\n        }),\n        setVolume: (volume) => __awaiter$p(this, void 0, void 0, function* () {\n          this.internalState.volume = volume / 100;\n          this.dispatch('volume', volume);\n          this.remoteControl(\"volume\" /* Volume */, volume / 100);\n        }),\n        canSetPlaybackQuality: () => __awaiter$p(this, void 0, void 0, function* () { return true; }),\n        setPlaybackQuality: (quality) => __awaiter$p(this, void 0, void 0, function* () {\n          this.remoteControl(\"quality\" /* Quality */, quality.slice(0, -1));\n        }),\n        canSetFullscreen: () => __awaiter$p(this, void 0, void 0, function* () { return true; }),\n        enterFullscreen: () => __awaiter$p(this, void 0, void 0, function* () {\n          this.remoteControl(\"fullscreen\" /* Fullscreen */, true);\n        }),\n        exitFullscreen: () => __awaiter$p(this, void 0, void 0, function* () {\n          this.remoteControl(\"fullscreen\" /* Fullscreen */, false);\n        }),\n      };\n    });\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-embed\", { embedSrc: this.embedSrc, mediaTitle: this.mediaTitle, origin: this.getOrigin(), params: this.buildParams(), decoder: decodeQueryString, preconnections: this.getPreconnections(), onVmEmbedMessage: this.onEmbedMessage.bind(this), onVmEmbedSrcChange: this.onEmbedSrcChange.bind(this), ref: (el) => {\n        this.embed = el;\n      } }));\n  }\n  static get watchers() { return {\n    \"videoId\": [\"onVideoIdChange\"],\n    \"controls\": [\"onControlsChange\"],\n    \"poster\": [\"onCustomPosterChange\"]\n  }; }\n  static get style() { return dailymotionCss; }\n};\n\nconst dashCss = \":host{z-index:var(--vm-media-z-index)}\";\n\nvar __awaiter$o = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst Dash = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmLoadStart = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmError\", 7);\n    this.textTracksDisposal = new Disposal();\n    this.hasAttached = false;\n    /**\n     * The NPM package version of the `dashjs` library to download and use.\n     */\n    this.version = 'latest';\n    /**\n     * The `dashjs` configuration.\n     */\n    this.config = {};\n    /** @internal */\n    this.autoplay = false;\n    /** @inheritdoc */\n    this.preload = 'metadata';\n    /**\n     * Are text tracks enabled by default.\n     */\n    this.enableTextTracksByDefault = true;\n    /** @internal */\n    this.shouldRenderNativeTextTracks = true;\n    /** @internal */\n    this.isTextTrackVisible = true;\n    /** @internal */\n    this.currentTextTrack = -1;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withPlayerContext(this, [\n      'autoplay',\n      'shouldRenderNativeTextTracks',\n      'isTextTrackVisible',\n      'currentTextTrack',\n    ]);\n  }\n  onSrcChange() {\n    var _a;\n    if (!this.hasAttached)\n      return;\n    this.vmLoadStart.emit();\n    (_a = this.dash) === null || _a === void 0 ? void 0 : _a.attachSource(this.src);\n  }\n  onShouldRenderNativeTextTracks() {\n    var _a;\n    if (this.shouldRenderNativeTextTracks) {\n      this.textTracksDisposal.empty();\n    }\n    else {\n      this.hideCurrentTextTrack();\n    }\n    (_a = this.dash) === null || _a === void 0 ? void 0 : _a.enableForcedTextStreaming(!this.shouldRenderNativeTextTracks);\n  }\n  onTextTrackChange() {\n    var _a, _b;\n    if (!this.shouldRenderNativeTextTracks || isUndefined(this.dash))\n      return;\n    this.dash.setTextTrack(!this.isTextTrackVisible ? -1 : this.currentTextTrack);\n    if (!this.isTextTrackVisible) {\n      const track = Array.from((_b = (_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.textTracks) !== null && _b !== void 0 ? _b : [])[this.currentTextTrack];\n      if ((track === null || track === void 0 ? void 0 : track.mode) === 'hidden')\n        this.dispatch('currentTextTrack', -1);\n    }\n  }\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    if (this.mediaEl)\n      this.setupDash();\n  }\n  disconnectedCallback() {\n    this.textTracksDisposal.empty();\n    this.destroyDash();\n  }\n  setupDash() {\n    return __awaiter$o(this, void 0, void 0, function* () {\n      try {\n        const url = this.libSrc ||\n          `https://cdn.jsdelivr.net/npm/dashjs@${this.version}/dist/dash.all.min.js`;\n        const DashSDK = (yield loadSDK(url, 'dashjs'));\n        this.dash = DashSDK.MediaPlayer(this.config).create();\n        this.dash.initialize(this.mediaEl, null, this.autoplay);\n        this.dash.setTextDefaultEnabled(this.enableTextTracksByDefault);\n        this.dash.enableForcedTextStreaming(!this.shouldRenderNativeTextTracks);\n        this.dash.on(DashSDK.MediaPlayer.events.PLAYBACK_METADATA_LOADED, () => {\n          this.dispatch('mediaType', MediaType.Video);\n          this.dispatch('currentSrc', this.src);\n          this.dispatchLevels();\n          this.listenToTextTracksForChanges();\n          this.dispatch('playbackReady', true);\n        });\n        this.dash.on(DashSDK.MediaPlayer.events.TRACK_CHANGE_RENDERED, () => {\n          if (!this.shouldRenderNativeTextTracks)\n            this.hideCurrentTextTrack();\n        });\n        this.dash.on(DashSDK.MediaPlayer.events.ERROR, (e) => {\n          this.vmError.emit(e);\n        });\n        this.hasAttached = true;\n      }\n      catch (e) {\n        this.vmError.emit(e);\n      }\n    });\n  }\n  destroyDash() {\n    var _a;\n    return __awaiter$o(this, void 0, void 0, function* () {\n      (_a = this.dash) === null || _a === void 0 ? void 0 : _a.reset();\n      this.hasAttached = false;\n    });\n  }\n  onMediaElChange(event) {\n    return __awaiter$o(this, void 0, void 0, function* () {\n      this.destroyDash();\n      if (isUndefined(event.detail))\n        return;\n      this.mediaEl = event.detail;\n      yield this.setupDash();\n    });\n  }\n  levelToPlaybackQuality(level) {\n    return level === -1 ? 'Auto' : `${level.height}p`;\n  }\n  findLevelIndexFromQuality(quality) {\n    return this.dash\n      .getBitrateInfoListFor('video')\n      .findIndex((level) => this.levelToPlaybackQuality(level) === quality);\n  }\n  dispatchLevels() {\n    try {\n      const levels = this.dash.getBitrateInfoListFor('video');\n      if ((levels === null || levels === void 0 ? void 0 : levels.length) > 0) {\n        this.dispatch('playbackQualities', [\n          'Auto',\n          ...levels.map(this.levelToPlaybackQuality),\n        ]);\n        this.dispatch('playbackQuality', 'Auto');\n      }\n    }\n    catch (e) {\n      this.vmError.emit(e);\n    }\n  }\n  listenToTextTracksForChanges() {\n    var _a, _b, _c;\n    this.textTracksDisposal.empty();\n    if (isUndefined(this.mediaEl) || this.shouldRenderNativeTextTracks)\n      return;\n    // Init current track.\n    const currentTrack = (_c = ((_b = (_a = this.dash) === null || _a === void 0 ? void 0 : _a.getCurrentTrackFor('text')) === null || _b === void 0 ? void 0 : _b.index) - 1) !== null && _c !== void 0 ? _c : -1;\n    this.currentTextTrack = currentTrack;\n    this.dispatch('currentTextTrack', currentTrack);\n    this.textTracksDisposal.add(listen(this.mediaEl.textTracks, 'change', this.onTextTracksChange.bind(this)));\n  }\n  getTextTracks() {\n    var _a, _b;\n    return Array.from((_b = (_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.textTracks) !== null && _b !== void 0 ? _b : []);\n  }\n  hideCurrentTextTrack() {\n    const textTracks = this.getTextTracks();\n    if (textTracks[this.currentTextTrack] && this.isTextTrackVisible) {\n      textTracks[this.currentTextTrack].mode = 'hidden';\n    }\n  }\n  onTextTracksChange() {\n    this.hideCurrentTextTrack();\n    this.dispatch('textTracks', this.getTextTracks());\n    this.dispatch('isTextTrackVisible', this.isTextTrackVisible);\n    this.dispatch('currentTextTrack', this.currentTextTrack);\n  }\n  /** @internal */\n  getAdapter() {\n    var _a, _b;\n    return __awaiter$o(this, void 0, void 0, function* () {\n      const adapter = (_b = (yield ((_a = this.videoProvider) === null || _a === void 0 ? void 0 : _a.getAdapter()))) !== null && _b !== void 0 ? _b : {};\n      const canVideoProviderPlay = adapter.canPlay;\n      return Object.assign(Object.assign({}, adapter), { getInternalPlayer: () => __awaiter$o(this, void 0, void 0, function* () { return this.dash; }), canPlay: (type) => __awaiter$o(this, void 0, void 0, function* () {\n          var _c;\n          return (isString(type) && dashRegex.test(type)) ||\n            ((_c = canVideoProviderPlay === null || canVideoProviderPlay === void 0 ? void 0 : canVideoProviderPlay(type)) !== null && _c !== void 0 ? _c : false);\n        }), canSetPlaybackQuality: () => __awaiter$o(this, void 0, void 0, function* () {\n          var _d, _e;\n          try {\n            return ((_e = (_d = this.dash) === null || _d === void 0 ? void 0 : _d.getBitrateInfoListFor('video')) === null || _e === void 0 ? void 0 : _e.length) > 0;\n          }\n          catch (e) {\n            this.vmError.emit(e);\n            return false;\n          }\n        }), setPlaybackQuality: (quality) => __awaiter$o(this, void 0, void 0, function* () {\n          if (!isUndefined(this.dash)) {\n            const index = this.findLevelIndexFromQuality(quality);\n            this.dash.updateSettings({\n              streaming: {\n                abr: {\n                  autoSwitchBitrate: {\n                    video: index === -1,\n                  },\n                },\n              },\n            });\n            if (index >= 0)\n              this.dash.setQualityFor('video', index);\n            // Update the provider cache.\n            this.dispatch('playbackQuality', quality);\n          }\n        }), setCurrentTextTrack: (trackId) => __awaiter$o(this, void 0, void 0, function* () {\n          var _f;\n          if (this.shouldRenderNativeTextTracks) {\n            adapter.setCurrentTextTrack(trackId);\n          }\n          else {\n            this.currentTextTrack = trackId;\n            (_f = this.dash) === null || _f === void 0 ? void 0 : _f.setTextTrack(trackId);\n            this.onTextTracksChange();\n          }\n        }), setTextTrackVisibility: (isVisible) => __awaiter$o(this, void 0, void 0, function* () {\n          var _g;\n          if (this.shouldRenderNativeTextTracks) {\n            adapter.setTextTrackVisibility(isVisible);\n          }\n          else {\n            this.isTextTrackVisible = isVisible;\n            (_g = this.dash) === null || _g === void 0 ? void 0 : _g.enableText(isVisible);\n            this.onTextTracksChange();\n          }\n        }) });\n    });\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-video\", { willAttach: true, crossOrigin: this.crossOrigin, preload: this.preload, poster: this.poster, controlsList: this.controlsList, autoPiP: this.autoPiP, disablePiP: this.disablePiP, hasCustomTextManager: !this.shouldRenderNativeTextTracks, disableRemotePlayback: this.disableRemotePlayback, mediaTitle: this.mediaTitle, ref: (el) => {\n        this.videoProvider = el;\n      } }));\n  }\n  static get watchers() { return {\n    \"src\": [\"onSrcChange\"],\n    \"hasAttached\": [\"onSrcChange\"],\n    \"shouldRenderNativeTextTracks\": [\"onShouldRenderNativeTextTracks\"],\n    \"isTextTrackVisible\": [\"onTextTrackChange\"],\n    \"currentTextTrack\": [\"onTextTrackChange\"]\n  }; }\n  static get style() { return dashCss; }\n};\n\nconst dblClickFullscreenCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-dbl-click-fullscreen-z-index)}.dblClickFullscreen{display:none;width:100%;height:100%;pointer-events:none}.dblClickFullscreen.enabled{display:inline-block;pointer-events:auto}\";\n\nvar __awaiter$n = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst DblClickFullscreen = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.canSetFullscreen = false;\n    /**\n     * By default this is disabled on mobile to not interfere with playback, set this to `true` to\n     * enable it.\n     */\n    this.useOnMobile = false;\n    /** @internal */\n    this.isFullscreenActive = true;\n    /** @internal */\n    this.isVideoView = false;\n    /** @internal */\n    this.playbackReady = false;\n    /** @internal */\n    this.isMobile = false;\n    this.clicks = 0;\n    withComponentRegistry(this);\n    withPlayerContext(this, [\n      'playbackReady',\n      'isFullscreenActive',\n      'isVideoView',\n      'isMobile',\n    ]);\n  }\n  onPlaybackReadyChange() {\n    return __awaiter$n(this, void 0, void 0, function* () {\n      const player = yield findPlayer(this);\n      if (isUndefined(player))\n        return;\n      this.canSetFullscreen = yield player.canSetFullscreen();\n    });\n  }\n  onTriggerClickToPlay() {\n    return __awaiter$n(this, void 0, void 0, function* () {\n      const [clickToPlay] = getComponentFromRegistry(this, 'vm-click-to-play');\n      yield (clickToPlay === null || clickToPlay === void 0 ? void 0 : clickToPlay.forceClick());\n    });\n  }\n  onToggleFullscreen() {\n    return __awaiter$n(this, void 0, void 0, function* () {\n      const player = yield findPlayer(this);\n      if (isUndefined(player))\n        return;\n      this.isFullscreenActive\n        ? player.exitFullscreen()\n        : player.enterFullscreen();\n    });\n  }\n  onClick() {\n    this.clicks += 1;\n    if (this.clicks === 1) {\n      setTimeout(() => {\n        if (this.clicks === 1) {\n          this.onTriggerClickToPlay();\n        }\n        else {\n          this.onToggleFullscreen();\n        }\n        this.clicks = 0;\n      }, 300);\n    }\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        dblClickFullscreen: true,\n        enabled: this.playbackReady &&\n          this.canSetFullscreen &&\n          this.isVideoView &&\n          (!this.isMobile || this.useOnMobile),\n      }, onClick: this.onClick.bind(this) }));\n  }\n  static get watchers() { return {\n    \"playbackReady\": [\"onPlaybackReadyChange\"]\n  }; }\n  static get style() { return dblClickFullscreenCss; }\n};\n\nconst defaultControlsCss = \":host{display:contents;pointer-events:none;z-index:var(--vm-controls-z-index)}\";\n\nconst DefaultControls = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /**\n     * The length in milliseconds that the controls are active for before fading out. Audio players\n     * are not effected by this prop.\n     */\n    this.activeDuration = 2750;\n    /**\n     * Whether the controls should wait for playback to start before being shown. Audio players\n     * are not effected by this prop.\n     */\n    this.waitForPlaybackStart = false;\n    /**\n     * Whether the controls should show/hide when paused. Audio players are not effected by this prop.\n     */\n    this.hideWhenPaused = false;\n    /**\n     * Whether the controls should hide when the mouse leaves the player. Audio players are not\n     * effected by this prop.\n     */\n    this.hideOnMouseLeave = false;\n    /** @internal */\n    this.isMobile = false;\n    /** @internal */\n    this.isLive = false;\n    /** @internal */\n    this.isAudioView = false;\n    /** @internal */\n    this.isVideoView = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, [\n      'theme',\n      'isMobile',\n      'isAudioView',\n      'isVideoView',\n      'isLive',\n    ]);\n  }\n  buildAudioControls() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-controls\", { fullWidth: true }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-playback-control\", { tooltipDirection: \"right\" }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-volume-control\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-current-time\", null), this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control-spacer\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-scrubber-control\", null), this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-live-indicator\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-end-time\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-settings-control\", { tooltipDirection: \"left\" }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { style: { marginLeft: '0', paddingRight: '2px' } })));\n  }\n  buildMobileVideoControls() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-scrim\", { gradient: \"up\" }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-controls\", { pin: \"topLeft\", fullWidth: true, activeDuration: this.activeDuration, waitForPlaybackStart: this.waitForPlaybackStart, hideWhenPaused: this.hideWhenPaused }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control-spacer\", null), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-volume-control\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-caption-control\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-settings-control\", null), this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-fullscreen-control\", null)), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-controls\", { pin: \"center\", justify: \"center\", activeDuration: this.activeDuration, waitForPlaybackStart: this.waitForPlaybackStart, hideWhenPaused: this.hideWhenPaused }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-playback-control\", { style: { '--vm-control-scale': '1.3' } })), !this.isLive && ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-controls\", { pin: \"bottomLeft\", fullWidth: true, activeDuration: this.activeDuration, waitForPlaybackStart: this.waitForPlaybackStart, hideWhenPaused: this.hideWhenPaused }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control-group\", null, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-current-time\", null), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control-spacer\", null), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-end-time\", null), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-fullscreen-control\", null)), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control-group\", { space: \"top\" }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-scrubber-control\", null))))));\n  }\n  buildDesktopVideoControls() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, this.theme !== 'light' && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-scrim\", { gradient: \"up\" }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-controls\", { fullWidth: true, pin: \"bottomRight\", activeDuration: this.activeDuration, waitForPlaybackStart: this.waitForPlaybackStart, hideWhenPaused: this.hideWhenPaused, hideOnMouseLeave: this.hideOnMouseLeave }, !this.isLive && ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control-group\", null, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-scrubber-control\", null))), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control-group\", { space: this.isLive ? 'none' : 'top' }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-playback-control\", { tooltipDirection: \"right\" }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-volume-control\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-time-progress\", null), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control-spacer\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-caption-control\", null), this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-live-indicator\", null), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-pip-control\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-settings-control\", null), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-fullscreen-control\", { tooltipDirection: \"left\" })))));\n  }\n  render() {\n    if (this.isAudioView)\n      return this.buildAudioControls();\n    if (this.isVideoView && this.isMobile)\n      return this.buildMobileVideoControls();\n    if (this.isVideoView)\n      return this.buildDesktopVideoControls();\n    return null;\n  }\n  static get style() { return defaultControlsCss; }\n};\n\nconst defaultSettingsCss = \":host{z-index:var(--vm-menu-z-index)}\";\n\nvar __awaiter$m = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst DefaultSettings = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.textTracksDisposal = new Disposal();\n    this.canSetPlaybackRate = false;\n    this.canSetPlaybackQuality = false;\n    this.canSetTextTrack = false;\n    this.canSetAudioTrack = false;\n    /**\n     * Pins the settings to the defined position inside the video player. This has no effect when\n     * the view is of type `audio`, it will always be `bottomRight`.\n     */\n    this.pin = 'bottomRight';\n    /** @internal */\n    this.i18n = {};\n    /** @internal */\n    this.playbackReady = false;\n    /** @internal */\n    this.playbackRate = 1;\n    /** @internal */\n    this.playbackRates = [1];\n    /** @internal */\n    this.isVideoView = false;\n    /** @internal */\n    this.playbackQualities = [];\n    /** @internal */\n    this.textTracks = [];\n    /** @internal */\n    this.currentTextTrack = -1;\n    /** @internal */\n    this.audioTracks = [];\n    /** @internal */\n    this.currentAudioTrack = -1;\n    /** @internal */\n    this.isTextTrackVisible = true;\n    withComponentRegistry(this);\n    withPlayerContext(this, [\n      'i18n',\n      'playbackReady',\n      'playbackRate',\n      'playbackRates',\n      'playbackQuality',\n      'playbackQualities',\n      'isVideoView',\n      'textTracks',\n      'currentTextTrack',\n      'isTextTrackVisible',\n      'audioTracks',\n      'currentAudioTrack',\n    ]);\n  }\n  onPlaybackReady() {\n    return __awaiter$m(this, void 0, void 0, function* () {\n      const player = yield findPlayer(this);\n      if (isUndefined(player))\n        return;\n      this.canSetPlaybackQuality = yield player.canSetPlaybackQuality();\n      this.canSetPlaybackRate = yield player.canSetPlaybackRate();\n    });\n  }\n  onAudioTracksChange() {\n    var _a;\n    return __awaiter$m(this, void 0, void 0, function* () {\n      const player = getPlayerFromRegistry(this);\n      this.canSetAudioTrack = (_a = (yield (player === null || player === void 0 ? void 0 : player.canSetAudioTrack()))) !== null && _a !== void 0 ? _a : false;\n    });\n  }\n  onTextTracksChange() {\n    var _a;\n    return __awaiter$m(this, void 0, void 0, function* () {\n      const player = getPlayerFromRegistry(this);\n      this.canSetTextTrack = (_a = (yield (player === null || player === void 0 ? void 0 : player.canSetTextTrack()))) !== null && _a !== void 0 ? _a : false;\n    });\n  }\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n  }\n  componentDidLoad() {\n    this.onTextTracksChange();\n  }\n  disconnectedCallback() {\n    this.textTracksDisposal.empty();\n  }\n  onPlaybackRateSelect(event) {\n    const radio = event.target;\n    this.dispatch('playbackRate', parseFloat(radio.value));\n  }\n  buildPlaybackRateSubmenu() {\n    if (this.playbackRates.length <= 1 || !this.canSetPlaybackRate) {\n      return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-item\", { label: this.i18n.playbackRate, hint: this.i18n.normal }));\n    }\n    const formatRate = (rate) => rate === 1 ? this.i18n.normal : `${rate}`;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-submenu\", { label: this.i18n.playbackRate, hint: formatRate(this.playbackRate) }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio-group\", { value: `${this.playbackRate}`, onVmCheck: this.onPlaybackRateSelect.bind(this) }, this.playbackRates.map(rate => ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio\", { label: formatRate(rate), value: `${rate}` }))))));\n  }\n  onPlaybackQualitySelect(event) {\n    const radio = event.target;\n    this.dispatch('playbackQuality', radio.value);\n  }\n  buildPlaybackQualitySubmenu() {\n    var _a;\n    if (this.playbackQualities.length <= 1 || !this.canSetPlaybackQuality) {\n      return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-item\", { label: this.i18n.playbackQuality, hint: (_a = this.playbackQuality) !== null && _a !== void 0 ? _a : this.i18n.auto }));\n    }\n    // @TODO this doesn't account for audio qualities yet.\n    const getBadge = (quality) => {\n      const verticalPixels = parseInt(quality.slice(0, -1), 10);\n      if (verticalPixels >= 2160)\n        return 'UHD';\n      if (verticalPixels >= 1080)\n        return 'HD';\n      return undefined;\n    };\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-submenu\", { label: this.i18n.playbackQuality, hint: this.playbackQuality }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio-group\", { value: this.playbackQuality, onVmCheck: this.onPlaybackQualitySelect.bind(this) }, this.playbackQualities.map(quality => ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio\", { label: quality, value: quality, badge: getBadge(quality) }))))));\n  }\n  onTextTrackSelect(event) {\n    const radio = event.target;\n    const trackId = parseInt(radio.value, 10);\n    const player = getPlayerFromRegistry(this);\n    if (trackId === -1) {\n      player === null || player === void 0 ? void 0 : player.setTextTrackVisibility(false);\n      return;\n    }\n    player === null || player === void 0 ? void 0 : player.setTextTrackVisibility(true);\n    player === null || player === void 0 ? void 0 : player.setCurrentTextTrack(trackId);\n  }\n  buildTextTracksSubmenu() {\n    var _a, _b, _c;\n    if (this.textTracks.length <= 1 || !this.canSetTextTrack) {\n      return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-item\", { label: this.i18n.subtitlesOrCc, hint: (_b = (_a = this.textTracks[this.currentTextTrack]) === null || _a === void 0 ? void 0 : _a.label) !== null && _b !== void 0 ? _b : this.i18n.none }));\n    }\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-submenu\", { label: this.i18n.subtitlesOrCc, hint: this.isTextTrackVisible\n        ? (_c = this.textTracks[this.currentTextTrack]) === null || _c === void 0 ? void 0 : _c.label\n        : this.i18n.off }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio-group\", { value: `${!this.isTextTrackVisible ? -1 : this.currentTextTrack}`, onVmCheck: this.onTextTrackSelect.bind(this) }, [(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio\", { label: this.i18n.off, value: \"-1\" })].concat(this.textTracks.map((track, i) => ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio\", { label: track.label, value: `${i}` })))))));\n  }\n  onAudioTrackSelect(event) {\n    const radio = event.target;\n    const trackId = parseInt(radio.value, 10);\n    const player = getPlayerFromRegistry(this);\n    player === null || player === void 0 ? void 0 : player.setCurrentAudioTrack(trackId);\n  }\n  buildAudioTracksMenu() {\n    var _a, _b, _c;\n    if (this.audioTracks.length <= 1 || !this.canSetAudioTrack) {\n      return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-item\", { label: this.i18n.audio, hint: (_b = (_a = this.audioTracks[this.currentAudioTrack]) === null || _a === void 0 ? void 0 : _a.label) !== null && _b !== void 0 ? _b : this.i18n.default }));\n    }\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-submenu\", { label: this.i18n.audio, hint: (_c = this.audioTracks[this.currentAudioTrack]) === null || _c === void 0 ? void 0 : _c.label }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio-group\", { value: `${this.currentAudioTrack}`, onVmCheck: this.onAudioTrackSelect.bind(this) }, this.audioTracks.map((track, i) => ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio\", { label: track.label, value: `${i}` }))))));\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-settings\", { pin: this.pin }, this.buildAudioTracksMenu(), this.buildPlaybackRateSubmenu(), this.buildPlaybackQualitySubmenu(), this.isVideoView && this.buildTextTracksSubmenu(), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n  static get watchers() { return {\n    \"playbackReady\": [\"onPlaybackReady\", \"onAudioTracksChange\", \"onTextTracksChange\"],\n    \"audioTracks\": [\"onAudioTracksChange\"],\n    \"textTracks\": [\"onTextTracksChange\"]\n  }; }\n  static get style() { return defaultSettingsCss; }\n};\n\nconst defaultUiCss = \":host{display:contents;pointer-events:none}\";\n\nconst DefaultUI = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /**\n     * Whether clicking the player should not toggle playback.\n     */\n    this.noClickToPlay = false;\n    /**\n     * Whether double clicking the player should not toggle fullscreen mode.\n     */\n    this.noDblClickFullscreen = false;\n    /**\n     * Whether the custom captions UI should not be loaded.\n     */\n    this.noCaptions = false;\n    /**\n     * Whether the custom poster UI should not be loaded.\n     */\n    this.noPoster = false;\n    /**\n     * Whether the custom spinner UI should not be loaded.\n     */\n    this.noSpinner = false;\n    /**\n     * Whether the custom default controls should not be loaded.\n     */\n    this.noControls = false;\n    /**\n     * Whether the custom default settings menu should not be loaded.\n     */\n    this.noSettings = false;\n    /**\n     * Whether the default loading screen should not be loaded.\n     */\n    this.noLoadingScreen = false;\n    withComponentRegistry(this);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-ui\", null, !this.noClickToPlay && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-click-to-play\", null), !this.noDblClickFullscreen && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-dbl-click-fullscreen\", null), !this.noCaptions && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-captions\", null), !this.noPoster && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-poster\", null), !this.noSpinner && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-spinner\", null), !this.noLoadingScreen && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-loading-screen\", null), !this.noControls && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-default-controls\", null), !this.noSettings && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-default-settings\", null), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n  static get style() { return defaultUiCss; }\n};\n\nclass LazyLoader {\n  constructor(el, attributes, onLoad) {\n    var _a;\n    this.el = el;\n    this.attributes = attributes;\n    this.onLoad = onLoad;\n    this.hasLoaded = false;\n    if (isNil(this.el))\n      return;\n    this.intersectionObs = this.canObserveIntersection()\n      ? new IntersectionObserver(this.onIntersection.bind(this))\n      : undefined;\n    this.mutationObs = this.canObserveMutations()\n      ? new MutationObserver(this.onMutation.bind(this))\n      : undefined;\n    (_a = this.mutationObs) === null || _a === void 0 ? void 0 : _a.observe(this.el, {\n      childList: true,\n      subtree: true,\n      attributeFilter: this.attributes,\n    });\n    this.lazyLoad();\n  }\n  didLoad() {\n    return this.hasLoaded;\n  }\n  destroy() {\n    var _a, _b;\n    (_a = this.intersectionObs) === null || _a === void 0 ? void 0 : _a.disconnect();\n    (_b = this.mutationObs) === null || _b === void 0 ? void 0 : _b.disconnect();\n  }\n  canObserveIntersection() {\n    return IS_CLIENT && window.IntersectionObserver;\n  }\n  canObserveMutations() {\n    return IS_CLIENT && window.MutationObserver;\n  }\n  lazyLoad() {\n    var _a;\n    if (this.canObserveIntersection()) {\n      (_a = this.intersectionObs) === null || _a === void 0 ? void 0 : _a.observe(this.el);\n    }\n    else {\n      this.load();\n    }\n  }\n  onIntersection(entries) {\n    entries.forEach(entry => {\n      if (entry.intersectionRatio > 0 || entry.isIntersecting) {\n        this.load();\n        this.intersectionObs.unobserve(entry.target);\n      }\n    });\n  }\n  onMutation() {\n    if (this.hasLoaded)\n      this.load();\n  }\n  getLazyElements() {\n    const root = !isNil(this.el.shadowRoot) ? this.el.shadowRoot : this.el;\n    return root.querySelectorAll('.lazy');\n  }\n  load() {\n    window.requestAnimationFrame(() => {\n      this.getLazyElements().forEach(this.loadEl.bind(this));\n    });\n  }\n  loadEl(el) {\n    var _a, _b;\n    (_a = this.intersectionObs) === null || _a === void 0 ? void 0 : _a.unobserve(el);\n    this.hasLoaded = true;\n    (_b = this.onLoad) === null || _b === void 0 ? void 0 : _b.call(this, el);\n  }\n}\n\nconst embedCss = \":host{z-index:var(--vm-media-z-index)}iframe{position:absolute;top:0;left:0;border:0;width:100%;height:100%;user-select:none}\";\n\nvar __awaiter$l = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nlet idCount$4 = 0;\nconst connected = new Set();\nconst Embed = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmEmbedSrcChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmEmbedSrcChange\", 3);\n    this.vmEmbedMessage = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmEmbedMessage\", 3);\n    this.vmEmbedLoaded = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmEmbedLoaded\", 3);\n    this.srcWithParams = '';\n    this.hasEnteredViewport = false;\n    /**\n     * A URL that will load the external player and media (Eg: https://www.youtube.com/embed/DyTCOwB0DVw).\n     */\n    this.embedSrc = '';\n    /**\n     * The title of the current media so it can be set on the inner `iframe` for screen readers.\n     */\n    this.mediaTitle = '';\n    /**\n     * The parameters to pass to the embedded player which are appended to the `embedSrc` prop. These\n     * can be passed in as a query string or object.\n     */\n    this.params = '';\n    /**\n     * A collection of URLs to that the browser should immediately start establishing a connection\n     * with.\n     */\n    this.preconnections = [];\n    withComponentRegistry(this);\n  }\n  onEmbedSrcChange() {\n    this.srcWithParams =\n      isString(this.embedSrc) && this.embedSrc.length > 0\n        ? appendParamsToURL(this.embedSrc, this.params)\n        : undefined;\n  }\n  srcWithParamsChange() {\n    if (isUndefined(this.srcWithParams)) {\n      this.vmEmbedSrcChange.emit(this.srcWithParams);\n      return;\n    }\n    if (!this.hasEnteredViewport && !connected.has(this.embedSrc)) {\n      if (preconnect(this.srcWithParams))\n        connected.add(this.embedSrc);\n    }\n    this.vmEmbedSrcChange.emit(this.srcWithParams);\n  }\n  preconnectionsChange() {\n    if (this.hasEnteredViewport) {\n      return;\n    }\n    this.preconnections\n      .filter(connection => !connected.has(connection))\n      .forEach(connection => {\n      if (preconnect(connection))\n        connected.add(connection);\n    });\n  }\n  connectedCallback() {\n    this.lazyLoader = new LazyLoader(this.host, ['data-src'], el => {\n      const src = el.getAttribute('data-src');\n      el.removeAttribute('src');\n      if (!isNull(src))\n        el.setAttribute('src', src);\n    });\n    this.onEmbedSrcChange();\n    this.genIframeId();\n  }\n  disconnectedCallback() {\n    this.lazyLoader.destroy();\n  }\n  onWindowMessage(e) {\n    var _a, _b, _c;\n    const originMatches = e.source === ((_a = this.iframe) === null || _a === void 0 ? void 0 : _a.contentWindow) &&\n      (!isString(this.origin) || this.origin === e.origin);\n    if (!originMatches)\n      return;\n    const message = (_c = (_b = this.decoder) === null || _b === void 0 ? void 0 : _b.call(this, e.data)) !== null && _c !== void 0 ? _c : e.data;\n    if (message)\n      this.vmEmbedMessage.emit(message);\n  }\n  /**\n   * Posts a message to the embedded media player.\n   */\n  postMessage(message, target) {\n    var _a, _b;\n    return __awaiter$l(this, void 0, void 0, function* () {\n      (_b = (_a = this.iframe) === null || _a === void 0 ? void 0 : _a.contentWindow) === null || _b === void 0 ? void 0 : _b.postMessage(JSON.stringify(message), target !== null && target !== void 0 ? target : '*');\n    });\n  }\n  onLoad() {\n    this.vmEmbedLoaded.emit();\n  }\n  genIframeId() {\n    idCount$4 += 1;\n    this.id = `vm-iframe-${idCount$4}`;\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"iframe\", { id: this.id, class: \"lazy\", title: this.mediaTitle, \"data-src\": this.srcWithParams, allowFullScreen: true, allow: \"autoplay; encrypted-media; picture-in-picture;\", onLoad: this.onLoad.bind(this), ref: (el) => {\n        this.iframe = el;\n      } }));\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"embedSrc\": [\"onEmbedSrcChange\"],\n    \"params\": [\"onEmbedSrcChange\"],\n    \"srcWithParams\": [\"srcWithParamsChange\"],\n    \"preconnections\": [\"preconnectionsChange\"]\n  }; }\n  static get style() { return embedCss; }\n};\n\nconst endTimeCss = \":host{display:flex;align-items:center;justify-content:center}\";\n\nconst EndTime = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /** @internal */\n    this.duration = -1;\n    /** @internal */\n    this.i18n = {};\n    /**\n     * Whether the time should always show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n    this.alwaysShowHours = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['duration', 'i18n']);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-time\", { label: this.i18n.duration, seconds: Math.max(0, this.duration), alwaysShowHours: this.alwaysShowHours }));\n  }\n  static get style() { return endTimeCss; }\n};\n\nvar key = {\r\n    fullscreenEnabled: 0,\r\n    fullscreenElement: 1,\r\n    requestFullscreen: 2,\r\n    exitFullscreen: 3,\r\n    fullscreenchange: 4,\r\n    fullscreenerror: 5,\r\n    fullscreen: 6\r\n};\r\nvar webkit = [\r\n    'webkitFullscreenEnabled',\r\n    'webkitFullscreenElement',\r\n    'webkitRequestFullscreen',\r\n    'webkitExitFullscreen',\r\n    'webkitfullscreenchange',\r\n    'webkitfullscreenerror',\r\n    '-webkit-full-screen',\r\n];\r\nvar moz = [\r\n    'mozFullScreenEnabled',\r\n    'mozFullScreenElement',\r\n    'mozRequestFullScreen',\r\n    'mozCancelFullScreen',\r\n    'mozfullscreenchange',\r\n    'mozfullscreenerror',\r\n    '-moz-full-screen',\r\n];\r\nvar ms = [\r\n    'msFullscreenEnabled',\r\n    'msFullscreenElement',\r\n    'msRequestFullscreen',\r\n    'msExitFullscreen',\r\n    'MSFullscreenChange',\r\n    'MSFullscreenError',\r\n    '-ms-fullscreen',\r\n];\r\n// so it doesn't throw if no window or document\r\nvar document$1 = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {};\r\nvar vendor = (('fullscreenEnabled' in document$1 && Object.keys(key)) ||\r\n    (webkit[0] in document$1 && webkit) ||\r\n    (moz[0] in document$1 && moz) ||\r\n    (ms[0] in document$1 && ms) ||\r\n    []);\r\nvar fscreen = {\r\n    requestFullscreen: function (element) { return element[vendor[key.requestFullscreen]](); },\r\n    requestFullscreenFunction: function (element) { return element[vendor[key.requestFullscreen]]; },\r\n    get exitFullscreen() { return document$1[vendor[key.exitFullscreen]].bind(document$1); },\r\n    get fullscreenPseudoClass() { return \":\" + vendor[key.fullscreen]; },\r\n    addEventListener: function (type, handler, options) { return document$1.addEventListener(vendor[key[type]], handler, options); },\r\n    removeEventListener: function (type, handler, options) { return document$1.removeEventListener(vendor[key[type]], handler, options); },\r\n    get fullscreenEnabled() { return Boolean(document$1[vendor[key.fullscreenEnabled]]); },\r\n    set fullscreenEnabled(val) { },\r\n    get fullscreenElement() { return document$1[vendor[key.fullscreenElement]]; },\r\n    set fullscreenElement(val) { },\r\n    get onfullscreenchange() { return document$1[(\"on\" + vendor[key.fullscreenchange]).toLowerCase()]; },\r\n    set onfullscreenchange(handler) { return document$1[(\"on\" + vendor[key.fullscreenchange]).toLowerCase()] = handler; },\r\n    get onfullscreenerror() { return document$1[(\"on\" + vendor[key.fullscreenerror]).toLowerCase()]; },\r\n    set onfullscreenerror(handler) { return document$1[(\"on\" + vendor[key.fullscreenerror]).toLowerCase()] = handler; },\r\n};\n\nfunction mitt(n){return {all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e]);},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]));},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e);}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e);});}}}\n\nvar __awaiter$k = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n    function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n/**\n * Unfortunately fullscreen isn't straight forward due to cross-browser inconsistencies. This\n * class abstract the logic for handling fullscreen across browsers.\n */\nclass FullscreenController {\n  constructor(host) {\n    this.host = host;\n    this.disposal = new Disposal();\n    this.emitter = mitt();\n  }\n  /**\n   * Whether fullscreen mode can be requested, generally is an API available to do so.\n   */\n  get isSupported() {\n    return this.isSupportedNatively;\n  }\n  /**\n   * Whether the native Fullscreen API is enabled/available.\n   */\n  get isSupportedNatively() {\n    return fscreen.fullscreenEnabled;\n  }\n  /**\n   * Whether the host element is in fullscreen mode.\n   */\n  get isFullscreen() {\n    return this.isNativeFullscreen;\n  }\n  /**\n   * Whether the host element is in fullscreen mode via the native Fullscreen API.\n   */\n  get isNativeFullscreen() {\n    if (fscreen.fullscreenElement === this.host)\n      return true;\n    try {\n      // Throws in iOS Safari...\n      return this.host.matches(\n      // Property `fullscreenPseudoClass` is missing from `@types/fscreen`.\n      fscreen\n        .fullscreenPseudoClass);\n    }\n    catch (error) {\n      return false;\n    }\n  }\n  on(type, handler) {\n    // @ts-expect-error - not typed yet.\n    this.emitter.on(type, handler);\n  }\n  off(type, handler) {\n    // @ts-expect-error - not typed yet.\n    this.emitter.off(type, handler);\n  }\n  /**\n   * Dispose of any event listeners and exit fullscreen (if active).\n   */\n  destroy() {\n    return __awaiter$k(this, void 0, void 0, function* () {\n      if (this.isFullscreen)\n        yield this.exitFullscreen();\n      this.disposal.empty();\n      this.emitter.all.clear();\n    });\n  }\n  addFullscreenChangeEventListener(handler) {\n    if (!this.isSupported)\n      return noop;\n    return listen(fscreen, 'fullscreenchange', handler);\n  }\n  addFullscreenErrorEventListener(handler) {\n    if (!this.isSupported)\n      return noop;\n    return listen(fscreen, 'fullscreenerror', handler);\n  }\n  requestFullscreen() {\n    return __awaiter$k(this, void 0, void 0, function* () {\n      if (this.isFullscreen)\n        return;\n      this.throwIfNoFullscreenSupport();\n      // TODO: Check if PiP is active, if so make sure to exit - need PipController.\n      this.disposal.add(this.addFullscreenChangeEventListener(this.handleFullscreenChange.bind(this)));\n      this.disposal.add(this.addFullscreenErrorEventListener(this.handleFullscreenError.bind(this)));\n      return this.makeEnterFullscreenRequest();\n    });\n  }\n  makeEnterFullscreenRequest() {\n    return __awaiter$k(this, void 0, void 0, function* () {\n      return fscreen.requestFullscreen(this.host);\n    });\n  }\n  handleFullscreenChange() {\n    if (!this.isFullscreen)\n      this.disposal.empty();\n    this.emitter.emit('change', this.isFullscreen);\n  }\n  handleFullscreenError(event) {\n    this.emitter.emit('error', event);\n  }\n  exitFullscreen() {\n    return __awaiter$k(this, void 0, void 0, function* () {\n      if (!this.isFullscreen)\n        return;\n      this.throwIfNoFullscreenSupport();\n      return this.makeExitFullscreenRequest();\n    });\n  }\n  makeExitFullscreenRequest() {\n    return __awaiter$k(this, void 0, void 0, function* () {\n      return fscreen.exitFullscreen();\n    });\n  }\n  throwIfNoFullscreenSupport() {\n    if (this.isSupported)\n      return;\n    throw Error('Fullscreen API is not enabled or supported in this environment.');\n  }\n}\n\nvar __awaiter$j = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n    function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n/**\n * Extends the base `FullscreenController` with additional logic for handling fullscreen\n * on iOS Safari where the native Fullscreen API is not available (in this case it fallsback to\n * using the `VideoPresentationController`).\n */\nclass VideoFullscreenController extends FullscreenController {\n  constructor(host, presentationController) {\n    super(host);\n    this.host = host;\n    this.presentationController = presentationController;\n  }\n  get isFullscreen() {\n    return this.presentationController.isFullscreenMode;\n  }\n  /**\n   * Whether a fallback fullscreen API is available on Safari using presentation modes. This\n   * is only used on iOS where the native fullscreen API is not available.\n   *\n   * @link https://developer.apple.com/documentation/webkitjs/htmlvideoelement/1631913-webkitpresentationmode\n   */\n  get isSupported() {\n    return this.presentationController.isSupported;\n  }\n  makeEnterFullscreenRequest() {\n    return __awaiter$j(this, void 0, void 0, function* () {\n      return this.presentationController.setPresentationMode('fullscreen');\n    });\n  }\n  makeExitFullscreenRequest() {\n    return __awaiter$j(this, void 0, void 0, function* () {\n      return this.presentationController.setPresentationMode('inline');\n    });\n  }\n  addFullscreenChangeEventListener() {\n    if (!this.isSupported)\n      return noop;\n    this.presentationController.on('change', this.handlePresentationModeChange.bind(this));\n    return () => {\n      this.presentationController.off('change', this.handlePresentationModeChange.bind(this));\n    };\n  }\n  handlePresentationModeChange() {\n    this.handleFullscreenChange();\n  }\n  addFullscreenErrorEventListener() {\n    return noop;\n  }\n}\n\nvar __awaiter$i = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n    function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n/**\n * Contains the logic for handling presentation modes on Safari. This class is used by\n * the `VideoFullscreenController` as a fallback when the native Fullscreen API is not\n * available (ie: iOS Safari).\n */\nclass VideoPresentationController {\n  constructor(host) {\n    this.host = host;\n    this.disposal = new Disposal();\n    this.emitter = mitt();\n    const disconnectedCallback = host.disconnectedCallback;\n    host.disconnectedCallback = () => __awaiter$i(this, void 0, void 0, function* () {\n      yield this.destroy();\n      disconnectedCallback === null || disconnectedCallback === void 0 ? void 0 : disconnectedCallback.call(host);\n    });\n  }\n  get videoElement() {\n    var _a;\n    if (((_a = this.host.mediaEl) === null || _a === void 0 ? void 0 : _a.tagName.toLowerCase()) === 'video') {\n      return this.host.mediaEl;\n    }\n    return undefined;\n  }\n  /**\n   * The current presentation mode, possible values include `inline`, `picture-in-picture` and\n   * `fullscreen`. Only available in Safari.\n   *\n   * @default undefined\n   * @link https://developer.apple.com/documentation/webkitjs/htmlvideoelement/1631913-webkitpresentationmode\n   */\n  get presentationMode() {\n    var _a;\n    return (_a = this.videoElement) === null || _a === void 0 ? void 0 : _a.webkitPresentationMode;\n  }\n  /**\n   * Whether the current `presentationMode` is `inline`.\n   */\n  get isInlineMode() {\n    return this.presentationMode === 'inline';\n  }\n  /**\n   * Whether the current `presentationMode` is `picture-in-picture`.\n   */\n  get isPictureInPictureMode() {\n    return this.presentationMode === 'inline';\n  }\n  /**\n   * Whether the current `presentationMode` is `fullscreen`.\n   */\n  get isFullscreenMode() {\n    return this.presentationMode === 'fullscreen';\n  }\n  /**\n   * Whether the presentation mode API is available.\n   *\n   * @link https://developer.apple.com/documentation/webkitjs/htmlvideoelement/1628805-webkitsupportsfullscreen\n   */\n  get isSupported() {\n    var _a, _b, _c;\n    return (IS_IOS &&\n      isFunction((_a = this.videoElement) === null || _a === void 0 ? void 0 : _a.webkitSetPresentationMode) &&\n      ((_c = (_b = this.videoElement) === null || _b === void 0 ? void 0 : _b.webkitSupportsFullscreen) !== null && _c !== void 0 ? _c : false));\n  }\n  setPresentationMode(mode) {\n    var _a, _b;\n    (_b = (_a = this.videoElement) === null || _a === void 0 ? void 0 : _a.webkitSetPresentationMode) === null || _b === void 0 ? void 0 : _b.call(_a, mode);\n  }\n  on(type, handler) {\n    // @ts-expect-error - not typed yet.\n    this.emitter.on(type, handler);\n  }\n  off(type, handler) {\n    // @ts-expect-error - not typed yet.\n    this.emitter.off(type, handler);\n  }\n  destroy() {\n    this.setPresentationMode('inline');\n    this.disposal.empty();\n  }\n  addPresentationModeChangeEventListener() {\n    if (!this.isSupported || isNil(this.videoElement))\n      return noop;\n    return listen(this.videoElement, 'webkitpresentationmodechanged', this.handlePresentationModeChange.bind(this));\n  }\n  handlePresentationModeChange() {\n    this.emitter.emit('change', this.presentationMode);\n  }\n}\n\nconst fileCss = \"audio.sc-vm-file,video.sc-vm-file{border-radius:inherit;vertical-align:middle;width:100%;outline:0}video.sc-vm-file{position:absolute;top:0;left:0;border:0;height:100%;user-select:none}\";\n\nvar __awaiter$h = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst File = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.vmLoadStart = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmError\", 7);\n    this.vmMediaElChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmMediaElChange\", 7);\n    this.vmSrcSetChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmSrcSetChange\", 7);\n    this.textTracksDisposal = new Disposal();\n    this.wasPausedBeforeSeeking = true;\n    this.currentSrcSet = [];\n    this.mediaQueryDisposal = new Disposal();\n    /** @internal Whether an external SDK will attach itself to the media player and control it. */\n    this.willAttach = false;\n    /** @inheritdoc */\n    this.preload = 'metadata';\n    /**\n     * The playback rates that are available for this media.\n     */\n    this.playbackRates = [0.25, 0.5, 0.75, 1, 1.25, 1.5, 2];\n    /** @internal */\n    this.language = 'en';\n    /** @internal */\n    this.autoplay = false;\n    /** @internal */\n    this.controls = false;\n    /** @internal */\n    this.loop = false;\n    /** @internal */\n    this.muted = false;\n    /** @internal */\n    this.playsinline = false;\n    /** @internal */\n    this.noConnect = false;\n    /** @internal */\n    this.paused = true;\n    /** @internal */\n    this.currentTime = 0;\n    /** @internal */\n    this.volume = 0;\n    /** @internal */\n    this.playbackReady = false;\n    /** @internal */\n    this.playbackStarted = false;\n    this.presentationController = new VideoPresentationController(this);\n    this.fullscreenController = new VideoFullscreenController(this, this.presentationController);\n    /** @internal */\n    this.currentTextTrack = -1;\n    /** @internal */\n    this.hasCustomTextManager = false;\n    /** @internal */\n    this.isTextTrackVisible = true;\n    /** @internal */\n    this.shouldRenderNativeTextTracks = true;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withProviderContext(this, [\n      'playbackReady',\n      'playbackStarted',\n      'currentTime',\n      'volume',\n      'paused',\n      'currentTextTrack',\n      'isTextTrackVisible',\n      'shouldRenderNativeTextTracks',\n    ]);\n    watchComponentRegistry(this, 'vm-poster', regs => {\n      [this.vmPoster] = regs;\n    });\n  }\n  onMediaTitleChange() {\n    this.dispatch('mediaTitle', this.mediaTitle);\n  }\n  onPosterChange() {\n    var _a;\n    if (!this.playbackStarted)\n      (_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.load();\n  }\n  onViewTypeChange() {\n    this.dispatch('viewType', this.viewType);\n  }\n  connectedCallback() {\n    this.initLazyLoader();\n    this.dispatch = createProviderDispatcher(this);\n    this.onViewTypeChange();\n    this.onPosterChange();\n    this.onMediaTitleChange();\n    this.addPresentationControllerListeners();\n  }\n  componentDidRender() {\n    if (this.prevMediaEl !== this.mediaEl) {\n      this.prevMediaEl = this.mediaEl;\n      this.vmMediaElChange.emit(this.mediaEl);\n      this.presentationController.addPresentationModeChangeEventListener();\n    }\n  }\n  componentDidLoad() {\n    this.onViewTypeChange();\n  }\n  disconnectedCallback() {\n    var _a;\n    this.mediaQueryDisposal.empty();\n    this.textTracksDisposal.empty();\n    this.cancelTimeUpdates();\n    (_a = this.lazyLoader) === null || _a === void 0 ? void 0 : _a.destroy();\n    this.wasPausedBeforeSeeking = true;\n  }\n  initLazyLoader() {\n    this.lazyLoader = new LazyLoader(this.host, ['data-src', 'data-poster'], () => {\n      if (isNil(this.mediaEl))\n        return;\n      const poster = this.mediaEl.getAttribute('data-poster');\n      if (!isNull(poster))\n        this.mediaEl.setAttribute('poster', poster);\n      this.refresh();\n      this.didSrcSetChange();\n    });\n  }\n  refresh() {\n    if (isNil(this.mediaEl))\n      return;\n    const { children } = this.mediaEl;\n    for (let i = 0; i <= children.length - 1; i += 1) {\n      const child = children[i];\n      const src = child.getAttribute('data-src') ||\n        child.getAttribute('src') ||\n        child.getAttribute('data-vs');\n      child.removeAttribute('src');\n      if (isNull(src))\n        continue;\n      child.setAttribute('data-vs', src);\n      child.setAttribute('src', src);\n    }\n  }\n  didSrcSetChange() {\n    if (isNil(this.mediaEl))\n      return;\n    const sources = Array.from(this.mediaEl.querySelectorAll('source'));\n    const srcSet = sources.map(source => {\n      var _a;\n      return ({\n        src: source.getAttribute('data-vs'),\n        media: (_a = source.getAttribute('data-media')) !== null && _a !== void 0 ? _a : undefined,\n        ref: source,\n      });\n    });\n    const didChange = this.currentSrcSet.length !== srcSet.length ||\n      srcSet.some((resource, i) => this.currentSrcSet[i].src !== resource.src);\n    if (didChange) {\n      this.currentSrcSet = srcSet;\n      this.onSrcSetChange();\n    }\n  }\n  onSrcSetChange() {\n    var _a;\n    this.textTracksDisposal.empty();\n    this.mediaQueryDisposal.empty();\n    this.vmLoadStart.emit();\n    this.vmSrcSetChange.emit(this.currentSrcSet);\n    if (!this.willAttach)\n      (_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.load();\n  }\n  hasCustomPoster() {\n    return !IS_IOS && !isUndefined(this.vmPoster);\n  }\n  cancelTimeUpdates() {\n    if (isNumber(this.timeRAF))\n      window.cancelAnimationFrame(this.timeRAF);\n    this.timeRAF = undefined;\n  }\n  requestTimeUpdates() {\n    var _a, _b;\n    this.dispatch('currentTime', (_b = (_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.currentTime) !== null && _b !== void 0 ? _b : 0);\n    this.timeRAF = window.requestAnimationFrame(() => {\n      this.requestTimeUpdates();\n    });\n  }\n  getMediaType() {\n    const { currentSrc } = this.mediaEl;\n    if (audioRegex.test(currentSrc))\n      return MediaType.Audio;\n    if (videoRegex.test(currentSrc) || hlsRegex.test(currentSrc))\n      return MediaType.Video;\n    return undefined;\n  }\n  onLoadedMetadata() {\n    this.mediaEl.volume = this.volume / 100;\n    this.listenToTextTracksForChanges();\n    this.onTextTracksChange();\n    this.onProgress();\n    this.dispatch('currentPoster', this.poster);\n    this.dispatch('duration', this.mediaEl.duration);\n    this.dispatch('playbackRates', this.playbackRates);\n    if (!this.willAttach) {\n      this.dispatch('currentSrc', this.mediaEl.currentSrc);\n      this.dispatch('mediaType', this.getMediaType());\n      this.dispatch('playbackReady', true);\n    }\n  }\n  onProgress() {\n    const { buffered, duration } = this.mediaEl;\n    const end = buffered.length === 0 ? 0 : buffered.end(buffered.length - 1);\n    this.dispatch('buffered', end > duration ? duration : end);\n  }\n  onPlay() {\n    this.requestTimeUpdates();\n    this.dispatch('paused', false);\n    if (!this.playbackStarted)\n      this.dispatch('playbackStarted', true);\n  }\n  onPause() {\n    this.cancelTimeUpdates();\n    this.dispatch('paused', true);\n    this.dispatch('buffering', false);\n  }\n  onPlaying() {\n    this.dispatch('playing', true);\n    this.dispatch('buffering', false);\n  }\n  onSeeking() {\n    if (!this.wasPausedBeforeSeeking)\n      this.wasPausedBeforeSeeking = this.mediaEl.paused;\n    this.dispatch('currentTime', this.mediaEl.currentTime);\n    this.dispatch('seeking', true);\n  }\n  onSeeked() {\n    // Avoid calling `attemptToPlay` if seeking to 0 on 0.\n    if (this.currentTime === 0 && !this.playbackStarted)\n      return;\n    this.dispatch('seeking', false);\n    if (!this.playbackStarted || !this.wasPausedBeforeSeeking)\n      this.attemptToPlay();\n    this.wasPausedBeforeSeeking = true;\n  }\n  onRateChange() {\n    this.dispatch('playbackRate', this.mediaEl.playbackRate);\n  }\n  onVolumeChange() {\n    this.dispatch('muted', this.mediaEl.muted);\n    this.dispatch('volume', this.mediaEl.volume * 100);\n  }\n  onDurationChange() {\n    this.dispatch('duration', this.mediaEl.duration);\n  }\n  onWaiting() {\n    this.dispatch('buffering', true);\n  }\n  onSuspend() {\n    this.dispatch('buffering', false);\n  }\n  onEnded() {\n    if (!this.loop)\n      this.dispatch('playbackEnded', true);\n  }\n  onError() {\n    this.vmError.emit(this.mediaEl.error);\n  }\n  attemptToPlay() {\n    var _a;\n    try {\n      (_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.play();\n    }\n    catch (e) {\n      this.vmError.emit(e);\n    }\n  }\n  togglePiPInChrome(toggle) {\n    var _a;\n    return toggle\n      ? (_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.requestPictureInPicture()\n      : document.exitPictureInPicture();\n  }\n  togglePiPInSafari(toggle) {\n    var _a, _b;\n    const mode = toggle\n      ? \"picture-in-picture\" /* PiP */\n      : \"inline\" /* Inline */;\n    if (!((_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.webkitSupportsPresentationMode(mode))) {\n      throw new Error('PiP API is not available.');\n    }\n    return (_b = this.mediaEl) === null || _b === void 0 ? void 0 : _b.webkitSetPresentationMode(mode);\n  }\n  togglePiP(toggle) {\n    return __awaiter$h(this, void 0, void 0, function* () {\n      if (canUsePiPInChrome())\n        return this.togglePiPInChrome(toggle);\n      if (canUsePiPInSafari())\n        return this.togglePiPInSafari(toggle);\n      throw new Error('PiP API is not available.');\n    });\n  }\n  onEnterPiP() {\n    this.dispatch('isPiPActive', true);\n  }\n  onLeavePiP() {\n    this.dispatch('isPiPActive', false);\n  }\n  addPresentationControllerListeners() {\n    this.presentationController.on('change', mode => {\n      this.dispatch('isPiPActive', mode === \"picture-in-picture\" /* PiP */);\n      this.dispatch('isFullscreenActive', mode === \"fullscreen\" /* Fullscreen */);\n    });\n  }\n  /** @internal */\n  getAdapter() {\n    return __awaiter$h(this, void 0, void 0, function* () {\n      return {\n        getInternalPlayer: () => __awaiter$h(this, void 0, void 0, function* () { return this.mediaEl; }),\n        play: () => __awaiter$h(this, void 0, void 0, function* () { var _a; return (_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.play(); }),\n        pause: () => __awaiter$h(this, void 0, void 0, function* () { var _b; return (_b = this.mediaEl) === null || _b === void 0 ? void 0 : _b.pause(); }),\n        canPlay: (type) => __awaiter$h(this, void 0, void 0, function* () { return isString(type) && (audioRegex.test(type) || videoRegex.test(type)); }),\n        setCurrentTime: (time) => __awaiter$h(this, void 0, void 0, function* () {\n          if (this.mediaEl)\n            this.mediaEl.currentTime = time;\n        }),\n        setMuted: (muted) => __awaiter$h(this, void 0, void 0, function* () {\n          if (this.mediaEl)\n            this.mediaEl.muted = muted;\n        }),\n        setVolume: (volume) => __awaiter$h(this, void 0, void 0, function* () {\n          if (this.mediaEl)\n            this.mediaEl.volume = volume / 100;\n        }),\n        canSetPlaybackRate: () => __awaiter$h(this, void 0, void 0, function* () { return true; }),\n        setPlaybackRate: (rate) => __awaiter$h(this, void 0, void 0, function* () {\n          if (this.mediaEl)\n            this.mediaEl.playbackRate = rate;\n        }),\n        canSetPiP: () => __awaiter$h(this, void 0, void 0, function* () { return canUsePiP(); }),\n        enterPiP: () => this.togglePiP(true),\n        exitPiP: () => this.togglePiP(false),\n        canSetFullscreen: () => __awaiter$h(this, void 0, void 0, function* () { return this.fullscreenController.isSupported; }),\n        enterFullscreen: () => this.fullscreenController.requestFullscreen(),\n        exitFullscreen: () => this.fullscreenController.exitFullscreen(),\n        setCurrentTextTrack: (trackId) => __awaiter$h(this, void 0, void 0, function* () {\n          if (trackId !== this.currentTextTrack)\n            this.toggleTextTrackModes(trackId);\n        }),\n        setTextTrackVisibility: (isVisible) => __awaiter$h(this, void 0, void 0, function* () {\n          this.isTextTrackVisible = isVisible;\n          this.toggleTextTrackModes(this.currentTextTrack);\n        }),\n      };\n    });\n  }\n  onHasCustomTextManagerChange() {\n    if (this.hasCustomTextManager) {\n      this.textTracksDisposal.empty();\n    }\n    else if (this.playbackReady) {\n      this.listenToTextTracksForChanges();\n    }\n  }\n  onShouldRenderNativeTextTracksChange() {\n    if (this.hasCustomTextManager)\n      return;\n    this.toggleTextTrackModes(this.currentTextTrack);\n  }\n  onProviderConnect(event) {\n    if (this.noConnect)\n      event.stopImmediatePropagation();\n  }\n  onProviderDisconnect(event) {\n    if (this.noConnect)\n      event.stopImmediatePropagation();\n  }\n  getFilteredTextTracks() {\n    const tracks = [];\n    const textTrackList = Array.from(this.mediaEl.textTracks);\n    for (let i = 0; i < textTrackList.length; i += 1) {\n      const track = textTrackList[i];\n      // Edge adds a track without a label; we don't want to use it.\n      if ((track.kind === 'subtitles' || track.kind === 'captions') &&\n        track.label) {\n        tracks.push(textTrackList[i]);\n      }\n    }\n    return tracks;\n  }\n  listenToTextTracksForChanges() {\n    if (this.hasCustomTextManager)\n      return;\n    this.textTracksDisposal.empty();\n    if (isUndefined(this.mediaEl))\n      return;\n    this.textTracksDisposal.add(listen(this.mediaEl.textTracks, 'change', this.onTextTracksChange.bind(this)));\n  }\n  onTextTracksChange() {\n    var _a;\n    const tracks = this.getFilteredTextTracks();\n    let trackId = -1;\n    for (let id = 0; id < tracks.length; id += 1) {\n      if (tracks[id].mode === 'hidden') {\n        // Do not break in case there is a following track with showing.\n        trackId = id;\n      }\n      else if (tracks[id].mode === 'showing') {\n        trackId = id;\n        break;\n      }\n    }\n    if (!this.shouldRenderNativeTextTracks &&\n      ((_a = tracks[trackId]) === null || _a === void 0 ? void 0 : _a.mode) === 'showing') {\n      tracks[trackId].mode = 'hidden';\n      return;\n    }\n    if (this.shouldRenderNativeTextTracks) {\n      this.isTextTrackVisible =\n        trackId !== -1 && tracks[trackId].mode === 'showing';\n      this.dispatch('isTextTrackVisible', this.isTextTrackVisible);\n    }\n    this.dispatch('textTracks', tracks);\n    this.dispatch('currentTextTrack', this.shouldRenderNativeTextTracks && !this.isTextTrackVisible\n      ? -1\n      : trackId);\n  }\n  toggleTextTrackModes(newTrackId) {\n    if (isNil(this.mediaEl))\n      return;\n    const { textTracks } = this.mediaEl;\n    if (newTrackId === -1) {\n      Array.from(textTracks).forEach(track => {\n        track.mode = 'disabled';\n      });\n    }\n    else {\n      const oldTrack = textTracks[this.currentTextTrack];\n      if (oldTrack)\n        oldTrack.mode = 'disabled';\n    }\n    const nextTrack = textTracks[newTrackId];\n    if (nextTrack) {\n      nextTrack.mode =\n        this.isTextTrackVisible && this.shouldRenderNativeTextTracks\n          ? 'showing'\n          : 'hidden';\n    }\n    this.dispatch('currentTextTrack', this.shouldRenderNativeTextTracks && !this.isTextTrackVisible\n      ? -1\n      : newTrackId);\n    this.dispatch('isTextTrackVisible', this.isTextTrackVisible);\n  }\n  render() {\n    const mediaProps = {\n      autoplay: this.autoplay,\n      muted: this.muted,\n      playsinline: this.playsinline,\n      playsInline: this.playsinline,\n      'x5-playsinline': this.playsinline,\n      'webkit-playsinline': this.playsinline,\n      controls: this.controls,\n      crossorigin: this.crossOrigin === '' ? 'anonymous' : this.crossOrigin,\n      controlslist: this.controlsList,\n      'data-poster': !this.hasCustomPoster() ? this.poster : undefined,\n      loop: this.loop,\n      preload: this.preload,\n      disablePictureInPicture: this.disablePiP,\n      autoPictureInPicture: this.autoPiP,\n      disableRemotePlayback: this.disableRemotePlayback,\n      'x-webkit-airplay': this.disableRemotePlayback ? 'deny' : 'allow',\n      ref: (el) => {\n        this.mediaEl = el;\n      },\n      onLoadedMetadata: this.onLoadedMetadata.bind(this),\n      onProgress: this.onProgress.bind(this),\n      onPlay: this.onPlay.bind(this),\n      onPause: this.onPause.bind(this),\n      onPlaying: this.onPlaying.bind(this),\n      onSeeking: this.onSeeking.bind(this),\n      onSeeked: this.onSeeked.bind(this),\n      onRateChange: this.onRateChange.bind(this),\n      onVolumeChange: this.onVolumeChange.bind(this),\n      onDurationChange: this.onDurationChange.bind(this),\n      onWaiting: this.onWaiting.bind(this),\n      onSuspend: this.onSuspend.bind(this),\n      onEnded: this.onEnded.bind(this),\n      onError: this.onError.bind(this),\n    };\n    const audio = ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"audio\", Object.assign({ class: \"lazy\" }, mediaProps), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null), \"Your browser does not support the\", (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"code\", null, \"audio\"), \"element.\"));\n    const video = ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"video\", Object.assign({ class: \"lazy\" }, mediaProps, {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      onenterpictureinpicture: this.onEnterPiP.bind(this), onleavepictureinpicture: this.onLeavePiP.bind(this)\n    }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null), \"Your browser does not support the\", (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"code\", null, \"video\"), \"element.\"));\n    return this.viewType === ViewType.Audio ? audio : video;\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"mediaTitle\": [\"onMediaTitleChange\"],\n    \"poster\": [\"onPosterChange\"],\n    \"viewType\": [\"onViewTypeChange\"],\n    \"hasCustomTextManager\": [\"onHasCustomTextManagerChange\"],\n    \"shouldRenderNativeTextTracks\": [\"onShouldRenderNativeTextTracksChange\"]\n  }; }\n  static get style() { return fileCss; }\n};\n\nconst fullscreenControlCss = \":host([hidden]){display:none}\";\n\nvar __awaiter$g = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst FullscreenControl = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.canSetFullscreen = false;\n    /**\n     * The name of the enter fullscreen icon to resolve from the icon library.\n     */\n    this.enterIcon = 'fullscreen-enter';\n    /**\n     * The name of the exit fullscreen icon to resolve from the icon library.\n     */\n    this.exitIcon = 'fullscreen-exit';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n    this.hideTooltip = false;\n    /** @inheritdoc */\n    this.keys = 'f';\n    /** @internal */\n    this.isFullscreenActive = false;\n    /** @internal */\n    this.i18n = {};\n    /** @internal */\n    this.playbackReady = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isFullscreenActive', 'playbackReady', 'i18n']);\n  }\n  onPlaybackReadyChange() {\n    var _a;\n    return __awaiter$g(this, void 0, void 0, function* () {\n      const player = getPlayerFromRegistry(this);\n      this.canSetFullscreen = (_a = (yield (player === null || player === void 0 ? void 0 : player.canSetFullscreen()))) !== null && _a !== void 0 ? _a : false;\n    });\n  }\n  componentDidLoad() {\n    this.onPlaybackReadyChange();\n  }\n  onClick() {\n    const player = getPlayerFromRegistry(this);\n    !this.isFullscreenActive\n      ? player === null || player === void 0 ? void 0 : player.enterFullscreen()\n      : player === null || player === void 0 ? void 0 : player.exitFullscreen();\n  }\n  render() {\n    const tooltip = this.isFullscreenActive\n      ? this.i18n.exitFullscreen\n      : this.i18n.enterFullscreen;\n    const tooltipWithHint = !isUndefined(this.keys)\n      ? `${tooltip} (${this.keys})`\n      : tooltip;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.Host, { hidden: !this.canSetFullscreen }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control\", { label: this.i18n.fullscreen, keys: this.keys, pressed: this.isFullscreenActive, hidden: !this.canSetFullscreen, onClick: this.onClick.bind(this) }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-icon\", { name: this.isFullscreenActive ? this.exitIcon : this.enterIcon, library: this.icons }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-tooltip\", { hidden: this.hideTooltip, position: this.tooltipPosition, direction: this.tooltipDirection }, tooltipWithHint))));\n  }\n  static get watchers() { return {\n    \"playbackReady\": [\"onPlaybackReadyChange\"]\n  }; }\n  static get style() { return fullscreenControlCss; }\n};\n\nvar __awaiter$f = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst HLS = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.vmLoadStart = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmError\", 7);\n    this.hasAttached = false;\n    /**\n     * The NPM package version of the `hls.js` library to download and use if HLS is not natively\n     * supported.\n     */\n    this.version = 'latest';\n    /** @inheritdoc */\n    this.preload = 'metadata';\n    /** @internal */\n    this.playbackReady = false;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withPlayerContext(this, ['playbackReady']);\n  }\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    if (this.mediaEl)\n      this.setupHls();\n  }\n  disconnectedCallback() {\n    this.destroyHls();\n  }\n  get src() {\n    if (isNil(this.videoProvider))\n      return undefined;\n    const sources = this.videoProvider.querySelectorAll('source');\n    const currSource = Array.from(sources).find(source => hlsRegex.test(source.src) || hlsTypeRegex.test(source.type));\n    return currSource === null || currSource === void 0 ? void 0 : currSource.src;\n  }\n  setupHls() {\n    return __awaiter$f(this, void 0, void 0, function* () {\n      if (!isUndefined(this.hls))\n        return;\n      try {\n        const url = this.libSrc ||\n          `https://cdn.jsdelivr.net/npm/hls.js@${this.version}/dist/hls.min.js`;\n        const Hls = (yield loadSDK(url, 'Hls'));\n        if (!Hls.isSupported()) {\n          this.vmError.emit('hls.js is not supported');\n          return;\n        }\n        this.hls = new Hls(this.config);\n        this.hls.on(Hls.Events.MEDIA_ATTACHED, () => {\n          this.hasAttached = true;\n          this.onSrcChange();\n        });\n        this.hls.on(Hls.Events.AUDIO_TRACKS_UPDATED, () => {\n          this.dispatch('audioTracks', this.hls.audioTracks);\n          this.dispatch('currentAudioTrack', this.hls.audioTrack);\n        });\n        this.hls.on(Hls.Events.AUDIO_TRACK_SWITCHED, () => {\n          this.dispatch('currentAudioTrack', this.hls.audioTrack);\n        });\n        this.hls.on(Hls.Events.ERROR, (event, data) => {\n          if (data.fatal) {\n            switch (data.type) {\n              case Hls.ErrorTypes.NETWORK_ERROR:\n                this.hls.startLoad();\n                break;\n              case Hls.ErrorTypes.MEDIA_ERROR:\n                this.hls.recoverMediaError();\n                break;\n              default:\n                this.destroyHls();\n                break;\n            }\n          }\n          this.vmError.emit({ event, data });\n        });\n        this.hls.on(Hls.Events.MANIFEST_PARSED, () => {\n          this.dispatch('mediaType', MediaType.Video);\n          this.dispatch('currentSrc', this.src);\n          this.dispatchLevels();\n        });\n        this.hls.on(Hls.Events.LEVEL_LOADED, (_, data) => {\n          if (!this.playbackReady) {\n            this.dispatch('duration', data.details.totalduration);\n            this.dispatch('playbackReady', true);\n          }\n        });\n        this.hls.attachMedia(this.mediaEl);\n      }\n      catch (e) {\n        this.vmError.emit(e);\n      }\n    });\n  }\n  dispatchLevels() {\n    if (!this.hls.levels || this.hls.levels.length === 0)\n      return;\n    this.dispatch('playbackQualities', [\n      'Auto',\n      ...this.hls.levels.map(this.levelToPlaybackQuality),\n    ]);\n    this.dispatch('playbackQuality', 'Auto');\n  }\n  levelToPlaybackQuality(level) {\n    return level === -1 ? 'Auto' : `${level.height}p`;\n  }\n  findLevelIndexFromQuality(quality) {\n    return this.hls.levels.findIndex((level) => this.levelToPlaybackQuality(level) === quality);\n  }\n  destroyHls() {\n    var _a;\n    (_a = this.hls) === null || _a === void 0 ? void 0 : _a.destroy();\n    this.hasAttached = false;\n  }\n  onMediaElChange(event) {\n    return __awaiter$f(this, void 0, void 0, function* () {\n      this.destroyHls();\n      if (isUndefined(event.detail))\n        return;\n      this.mediaEl = event.detail;\n      // Need a small delay incase the media element changes rapidly and Hls.js can't reattach.\n      setTimeout(() => __awaiter$f(this, void 0, void 0, function* () {\n        yield this.setupHls();\n      }), 50);\n    });\n  }\n  onSrcChange() {\n    var _a;\n    return __awaiter$f(this, void 0, void 0, function* () {\n      if (this.hasAttached && this.hls.url !== this.src) {\n        this.vmLoadStart.emit();\n        (_a = this.hls) === null || _a === void 0 ? void 0 : _a.loadSource(this.src);\n      }\n    });\n  }\n  /** @internal */\n  getAdapter() {\n    var _a, _b;\n    return __awaiter$f(this, void 0, void 0, function* () {\n      const adapter = (_b = (yield ((_a = this.videoProvider) === null || _a === void 0 ? void 0 : _a.getAdapter()))) !== null && _b !== void 0 ? _b : {};\n      const canVideoProviderPlay = adapter.canPlay;\n      return Object.assign(Object.assign({}, adapter), { getInternalPlayer: () => __awaiter$f(this, void 0, void 0, function* () { return this.hls; }), canPlay: (type) => __awaiter$f(this, void 0, void 0, function* () {\n          var _c;\n          return (isString(type) && hlsRegex.test(type)) ||\n            ((_c = canVideoProviderPlay === null || canVideoProviderPlay === void 0 ? void 0 : canVideoProviderPlay(type)) !== null && _c !== void 0 ? _c : false);\n        }), canSetPlaybackQuality: () => __awaiter$f(this, void 0, void 0, function* () { var _d, _e; return ((_e = (_d = this.hls) === null || _d === void 0 ? void 0 : _d.levels) === null || _e === void 0 ? void 0 : _e.length) > 0; }), setPlaybackQuality: (quality) => __awaiter$f(this, void 0, void 0, function* () {\n          if (!isUndefined(this.hls)) {\n            this.hls.currentLevel = this.findLevelIndexFromQuality(quality);\n            // Update the provider cache.\n            this.dispatch('playbackQuality', quality);\n          }\n        }), setCurrentAudioTrack: (trackId) => __awaiter$f(this, void 0, void 0, function* () {\n          if (!isUndefined(this.hls)) {\n            this.hls.audioTrack = trackId;\n          }\n        }) });\n    });\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-video\", { willAttach: true, crossOrigin: this.crossOrigin, preload: this.preload, poster: this.poster, controlsList: this.controlsList, autoPiP: this.autoPiP, disablePiP: this.disablePiP, disableRemotePlayback: this.disableRemotePlayback, mediaTitle: this.mediaTitle, ref: (el) => {\n        this.videoProvider = el;\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n};\n\n/**\n * INSPIRED BY: https://github.com/shoelace-style/shoelace/blob/next/src/components/icon-library/icon-library-registry.ts\n */\nconst ICONS_BASE_CDN_URL = 'https://cdn.jsdelivr.net/npm/@vime/core@latest/icons';\nconst registry = new Map(Object.entries({\n  vime: iconName => `${ICONS_BASE_CDN_URL}/vime/vm-${iconName}.svg`,\n  material: iconName => `${ICONS_BASE_CDN_URL}/material/md-${iconName}.svg`,\n}));\nconst watch = new Set();\nfunction withIconRegistry(component) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(component);\n  createStencilHook(component, () => {\n    watch.add(el);\n  }, () => {\n    watch.delete(el);\n  });\n}\nconst getIconLibraryResolver = (name) => registry.get(name);\nfunction registerIconLibrary(name, resolver) {\n  if (!isUndefined(resolver)) {\n    registry.set(name, resolver);\n  }\n  // Redraw watched icons.\n  watch.forEach(iconEl => {\n    if (iconEl.library === name)\n      iconEl.redraw();\n  });\n}\nfunction deregisterIconLibrary(name) {\n  registry.delete(name);\n}\n\n/**\n * INSPIRED BY: https://github.com/shoelace-style/shoelace/blob/next/src/components/icon/request.ts\n */\nvar __awaiter$e = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n    function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst iconFiles = new Map();\nconst requestIcon = (url) => {\n  if (iconFiles.has(url))\n    return iconFiles.get(url);\n  const request = fetch(url).then((response) => __awaiter$e(void 0, void 0, void 0, function* () {\n    if (response.ok) {\n      const div = document.createElement('div');\n      div.innerHTML = yield response.text();\n      const svg = div.firstElementChild;\n      return {\n        ok: response.ok,\n        status: response.status,\n        svg: svg && svg.tagName.toLowerCase() === 'svg' ? svg.outerHTML : '',\n      };\n    }\n    return {\n      ok: response.ok,\n      status: response.status,\n    };\n  }));\n  iconFiles.set(url, request);\n  return request;\n};\n\nconst iconCss = \":host{display:inline-block;width:1em;height:1em;contain:strict;box-sizing:content-box !important}.icon,svg{display:block;height:100%;width:100%;transition:var(--vm-icon-transition);transform:var(--vm-icon-transform);fill:var(--vm-icon-fill, currentColor);stroke:var(--vm-icon-stroke)}\";\n\n/**\n * INSPIRED BY: https://github.com/shoelace-style/shoelace/blob/next/src/components/icon/icon.tsx\n */\nvar __awaiter$d = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst parser = new DOMParser();\nconst Icon = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmLoad = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoad\", 7);\n    this.vmError = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmError\", 7);\n    /** @internal */\n    this.icons = 'material';\n    withComponentRegistry(this);\n    withIconRegistry(this);\n  }\n  handleChange() {\n    this.setIcon();\n  }\n  connectedCallback() {\n    withPlayerContext(this, ['icons']);\n  }\n  componentDidLoad() {\n    this.setIcon();\n  }\n  /**\n   * @internal Fetches the icon and redraws it. Used to handle library registrations.\n   */\n  redraw() {\n    return __awaiter$d(this, void 0, void 0, function* () {\n      this.setIcon();\n    });\n  }\n  getLabel() {\n    let label = '';\n    if (this.label) {\n      label = this.label;\n    }\n    else if (this.name) {\n      label = this.name.replace(/-/g, ' ');\n    }\n    else if (this.src) {\n      label = this.src\n        .replace(/.*\\//, '')\n        .replace(/-/g, ' ')\n        .replace(/\\.svg/i, '');\n    }\n    return label;\n  }\n  setIcon() {\n    var _a;\n    return __awaiter$d(this, void 0, void 0, function* () {\n      const resolver = getIconLibraryResolver((_a = this.library) !== null && _a !== void 0 ? _a : this.icons);\n      let url = this.src;\n      if (this.name && resolver) {\n        url = resolver(this.name);\n      }\n      if (url) {\n        try {\n          const file = yield requestIcon(url);\n          if (file.ok) {\n            const doc = parser.parseFromString(file.svg, 'text/html');\n            const svg = doc.body.querySelector('svg');\n            if (svg) {\n              this.svg = svg.outerHTML;\n              this.vmLoad.emit();\n            }\n            else {\n              this.svg = '';\n              this.vmError.emit({ status: file.status });\n            }\n          }\n        }\n        catch (_b) {\n          this.vmError.emit();\n        }\n      }\n    });\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"icon\", role: \"img\", \"aria-label\": this.getLabel(), innerHTML: this.svg }));\n  }\n  static get watchers() { return {\n    \"name\": [\"handleChange\"],\n    \"src\": [\"handleChange\"],\n    \"library\": [\"handleChange\"],\n    \"icons\": [\"handleChange\"]\n  }; }\n  static get style() { return iconCss; }\n};\n\nconst IconLibrary = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /** @internal */\n    this.icons = 'material';\n    withComponentRegistry(this);\n    withPlayerContext(this, ['icons']);\n  }\n  handleUpdate() {\n    this.register();\n  }\n  connectedCallback() {\n    this.register();\n  }\n  disconnectedCallback() {\n    if (!isUndefined(this.name))\n      deregisterIconLibrary(this.name);\n  }\n  register() {\n    var _a;\n    registerIconLibrary((_a = this.name) !== null && _a !== void 0 ? _a : this.icons, this.name ? this.resolver : undefined);\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"name\": [\"handleUpdate\"],\n    \"resolver\": [\"handleUpdate\"],\n    \"icons\": [\"handleUpdate\"]\n  }; }\n};\n\nconst liveIndicatorCss = \".liveIndicator{display:flex;align-items:center;font-size:13px;font-weight:bold;letter-spacing:0.6px;color:var(--vm-control-color)}.liveIndicator.hidden{display:none}.indicator{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:4px;background-color:var(--vm-live-indicator-color, red)}\";\n\nconst LiveIndicator = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /** @internal */\n    this.isLive = false;\n    /** @internal */\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isLive', 'i18n']);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        liveIndicator: true,\n        hidden: !this.isLive,\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"indicator\" }), this.i18n.live));\n  }\n  static get style() { return liveIndicatorCss; }\n};\n\nconst loadingScreenCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-loading-screen-z-index);display:flex;align-items:center;justify-content:center}.loadingScreen{opacity:100;transition:var(--vm-fade-transition)}.loadingScreen.inactive{opacity:0}.dotPulse{position:relative;left:-9999px;width:var(--vm-loading-screen-dot-size);height:var(--vm-loading-screen-dot-size);border-radius:calc(var(--vm-loading-screen-dot-size) / 2);background-color:var(--vm-loading-screen-dot-color);color:var(--vm-loading-screen-dot-color);box-shadow:9999px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n    var(--vm-loading-screen-dot-color);animation:dotPulse var(--vm-loading-screen-pulse-duration) infinite linear;animation-delay:calc(var(--vm-loading-screen-pulse-duration) / 6)}.dotPulse::before,.dotPulse::after{content:'';display:inline-block;position:absolute;top:0;width:var(--vm-loading-screen-dot-size);height:var(--vm-loading-screen-dot-size);border-radius:calc(var(--vm-loading-screen-dot-size) / 2);background-color:var(--vm-loading-screen-dot-color);color:var(--vm-loading-screen-dot-color)}.dotPulse::before{box-shadow:9984px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n    var(--vm-loading-screen-dot-color);animation:dotPulseBefore var(--vm-loading-screen-pulse-duration) infinite\\n    linear;animation-delay:0s}.dotPulse::after{box-shadow:10014px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n    var(--vm-loading-screen-dot-color);animation:dotPulseAfter var(--vm-loading-screen-pulse-duration) infinite\\n    linear;animation-delay:calc(var(--vm-loading-screen-pulse-duration) / 3)}@keyframes dotPulseBefore{0%{box-shadow:9984px 0 0\\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n      var(--vm-loading-screen-dot-color)}30%{box-shadow:9984px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:9984px 0 0\\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n      var(--vm-loading-screen-dot-color)}}@keyframes dotPulse{0%{box-shadow:9999px 0 0\\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n      var(--vm-loading-screen-dot-color)}30%{box-shadow:9999px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:9999px 0 0\\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n      var(--vm-loading-screen-dot-color)}}@keyframes dotPulseAfter{0%{box-shadow:10014px 0 0\\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n      var(--vm-loading-screen-dot-color)}30%{box-shadow:10014px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:10014px 0 0\\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n      var(--vm-loading-screen-dot-color)}}\";\n\nconst LoadingScreen = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /** @internal */\n    this.playbackReady = false;\n    /**\n     * Whether the loading dots are hidden or not.\n     */\n    this.hideDots = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['playbackReady']);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        loadingScreen: true,\n        inactive: this.playbackReady,\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null), !this.hideDots && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"dotPulse\" })));\n  }\n  static get style() { return loadingScreenCss; }\n};\n\nfunction unwrapSubmenu(el) {\n  if (el.tagName.toLowerCase() !== 'vm-submenu')\n    return el;\n  const submenu = el;\n  return submenu.shadowRoot.querySelector('vm-menu-item');\n}\nfunction unwrapRadioGroup(el) {\n  var _a;\n  if (el.tagName.toLowerCase() !== 'vm-menu-radio-group')\n    return el;\n  const radioGroup = el;\n  const slot = radioGroup.shadowRoot.querySelector('slot');\n  const assignedElements = Array.from((_a = slot === null || slot === void 0 ? void 0 : slot.assignedElements()) !== null && _a !== void 0 ? _a : []);\n  return assignedElements\n    .filter(radio => radio.tagName.toLowerCase() === 'vm-menu-radio')\n    .map(radio => radio.shadowRoot.querySelector('vm-menu-item'));\n}\nfunction menuItemHunter(assignedElements) {\n  if (isUndefined(assignedElements))\n    return [];\n  const allowed = ['vm-menu-item', 'vm-menu-radio-group', 'vm-submenu'];\n  return Array.from(assignedElements !== null && assignedElements !== void 0 ? assignedElements : [])\n    .filter(el => allowed.includes(el.tagName.toLowerCase()))\n    .map(el => unwrapSubmenu(el))\n    .map(el => unwrapRadioGroup(el))\n    .reduce((acc, val) => acc.concat(val), []);\n}\n\nconst menuCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none;z-index:var(--vm-menu-z-index)}:host([active]){pointer-events:auto;z-index:calc(var(--vm-menu-z-index) + 1)}.menu{position:absolute;top:0;left:0;width:100%;height:100%;box-sizing:border-box;transition:var(--vm-menu-transition)}.menu.slideIn{transform:translateX(0)}.menu[aria-hidden='true'].slideInFromLeft{transform:translateX(-100%)}.menu[aria-hidden='true'].slideInFromRight{transform:translateX(100%)}.container{display:flex;flex-direction:column;position:relative;text-align:left;width:100%;height:100%;color:var(--vm-menu-color);background:var(--vm-menu-bg);font-size:var(--vm-menu-font-size);font-weight:var(--vm-menu-font-weight)}.menu:focus{outline:0}\";\n\nvar __awaiter$c = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst Menu = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmOpen = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmOpen\", 7);\n    this.vmClose = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmClose\", 7);\n    this.vmFocus = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmBlur\", 7);\n    this.vmActiveSubmenuChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmActiveSubmenuChange\", 7);\n    this.vmActiveMenuItemChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmActiveMenuItemChange\", 7);\n    this.vmMenuHeightChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmMenuHeightChange\", 3);\n    this.hasDisconnected = false;\n    /**\n     * Whether the menu is open/visible.\n     */\n    this.active = false;\n    withComponentRegistry(this);\n  }\n  onActiveMenuitemChange() {\n    this.vmActiveMenuItemChange.emit(this.activeMenuItem);\n  }\n  onActiveSubmenuChange() {\n    this.vmActiveSubmenuChange.emit(this.activeSubmenu);\n  }\n  onActiveChange() {\n    var _a;\n    if (this.hasDisconnected)\n      return;\n    this.active ? this.vmOpen.emit(this.host) : this.vmClose.emit(this.host);\n    if (((_a = this.controller) === null || _a === void 0 ? void 0 : _a.tagName.toLowerCase()) === 'vm-menu-item') {\n      this.controller.expanded = true;\n    }\n  }\n  connectedCallback() {\n    this.hasDisconnected = false;\n  }\n  componentDidRender() {\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n      if (!this.hasDisconnected)\n        this.calculateHeight();\n    });\n  }\n  disconnectedCallback() {\n    this.controller = undefined;\n    this.hasDisconnected = true;\n  }\n  /**\n   * Focuses the menu.\n   */\n  focusMenu() {\n    var _a;\n    return __awaiter$c(this, void 0, void 0, function* () {\n      (_a = this.menu) === null || _a === void 0 ? void 0 : _a.focus();\n    });\n  }\n  /**\n   * Removes focus from the menu.\n   */\n  blurMenu() {\n    var _a;\n    return __awaiter$c(this, void 0, void 0, function* () {\n      (_a = this.menu) === null || _a === void 0 ? void 0 : _a.blur();\n    });\n  }\n  /**\n   * Returns the currently focused menu item.\n   */\n  getActiveMenuItem() {\n    return __awaiter$c(this, void 0, void 0, function* () {\n      return this.activeMenuItem;\n    });\n  }\n  /**\n   * Sets the currently focused menu item.\n   */\n  setActiveMenuItem(item) {\n    return __awaiter$c(this, void 0, void 0, function* () {\n      item === null || item === void 0 ? void 0 : item.focusItem();\n      this.activeMenuItem = item;\n    });\n  }\n  /**\n   * Calculates the height of the settings menu based on its children.\n   */\n  calculateHeight() {\n    var _a, _b;\n    return __awaiter$c(this, void 0, void 0, function* () {\n      let height = 0;\n      if (this.activeSubmenu) {\n        const submenu = yield this.activeSubmenu.getMenu();\n        height = (_a = (yield (submenu === null || submenu === void 0 ? void 0 : submenu.calculateHeight()))) !== null && _a !== void 0 ? _a : 0;\n        height += yield this.activeSubmenu.getControllerHeight();\n      }\n      else {\n        const children = ((_b = this.container) === null || _b === void 0 ? void 0 : _b.firstChild).assignedElements({ flatten: true });\n        children === null || children === void 0 ? void 0 : children.forEach(child => {\n          height += parseFloat(window.getComputedStyle(child).height);\n        });\n      }\n      this.vmMenuHeightChange.emit(height);\n      return height;\n    });\n  }\n  onOpenSubmenu(event) {\n    event.stopPropagation();\n    if (!isUndefined(this.activeSubmenu))\n      this.activeSubmenu.active = false;\n    this.activeSubmenu = event.detail;\n    this.getChildren().forEach(child => {\n      if (child !== this.activeSubmenu) {\n        child.style.opacity = '0';\n        child.style.visibility = 'hidden';\n      }\n    });\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n      this.activeSubmenu.active = true;\n    });\n  }\n  onCloseSubmenu(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isUndefined(this.activeSubmenu))\n      this.activeSubmenu.active = false;\n    this.getChildren().forEach(child => {\n      if (child !== this.activeSubmenu) {\n        child.style.opacity = '';\n        child.style.visibility = '';\n      }\n    });\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n      this.activeSubmenu = undefined;\n    });\n  }\n  onWindowClick() {\n    this.onCloseSubmenu();\n    this.onClose();\n  }\n  onWindowKeyDown(event) {\n    if (this.active && event.key === 'Escape') {\n      this.onCloseSubmenu();\n      this.onClose();\n      this.focusController();\n    }\n  }\n  getChildren() {\n    var _a;\n    const assignedElements = (_a = this.host\n      .shadowRoot.querySelector('slot')) === null || _a === void 0 ? void 0 : _a.assignedElements({ flatten: true });\n    return (assignedElements !== null && assignedElements !== void 0 ? assignedElements : []);\n  }\n  getMenuItems() {\n    var _a;\n    const assignedElements = (_a = this.host\n      .shadowRoot.querySelector('slot')) === null || _a === void 0 ? void 0 : _a.assignedElements({ flatten: true });\n    return menuItemHunter(assignedElements);\n  }\n  focusController() {\n    var _a, _b, _c, _d, _e;\n    if (!isUndefined((_a = this.controller) === null || _a === void 0 ? void 0 : _a.focusItem)) {\n      (_b = this.controller) === null || _b === void 0 ? void 0 : _b.focusItem();\n    }\n    else if (!isUndefined((_c = this.controller) === null || _c === void 0 ? void 0 : _c.focusControl)) {\n      (_d = this.controller) === null || _d === void 0 ? void 0 : _d.focusControl();\n    }\n    else {\n      (_e = this.controller) === null || _e === void 0 ? void 0 : _e.focus();\n    }\n  }\n  triggerMenuItem() {\n    var _a;\n    if (isUndefined(this.activeMenuItem))\n      return;\n    this.activeMenuItem.click();\n    // If it controls a menu then focus it essentially opening it.\n    (_a = this.activeMenuItem.menu) === null || _a === void 0 ? void 0 : _a.focusMenu();\n  }\n  onClose() {\n    this.activeMenuItem = undefined;\n    this.active = false;\n  }\n  onClick(event) {\n    // Stop the event from propagating while playing with menu so that when it is clicked outside\n    // the menu we can close it in the `onWindowClick` handler above.\n    event.stopPropagation();\n  }\n  onFocus() {\n    var _a;\n    this.active = true;\n    [this.activeMenuItem] = this.getMenuItems();\n    (_a = this.activeMenuItem) === null || _a === void 0 ? void 0 : _a.focusItem();\n    this.vmFocus.emit();\n  }\n  onBlur() {\n    this.vmBlur.emit();\n  }\n  foucsMenuItem(items, index) {\n    if (index < 0)\n      index = items.length - 1;\n    if (index > items.length - 1)\n      index = 0;\n    this.activeMenuItem = items[index];\n    this.activeMenuItem.focusItem();\n  }\n  onKeyDown(event) {\n    if (!this.active)\n      return;\n    event.preventDefault();\n    event.stopPropagation();\n    const items = this.getMenuItems();\n    let index = items.findIndex(item => item === this.activeMenuItem);\n    switch (event.key) {\n      case 'Escape':\n        this.onClose();\n        this.focusController();\n        break;\n      case 'ArrowDown':\n      case 'Tab':\n        this.foucsMenuItem(items, (index += 1));\n        break;\n      case 'ArrowUp':\n        this.foucsMenuItem(items, (index -= 1));\n        break;\n      case 'ArrowLeft':\n        this.onClose();\n        this.focusController();\n        break;\n      case 'ArrowRight':\n      case 'Enter':\n      case ' ':\n        this.triggerMenuItem();\n        break;\n      case 'Home':\n      case 'PageUp':\n        this.foucsMenuItem(items, 0);\n        break;\n      case 'End':\n      case 'PageDown':\n        this.foucsMenuItem(items, items.length - 1);\n        break;\n    }\n  }\n  render() {\n    var _a, _b, _c;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { id: this.identifier, class: {\n        menu: true,\n        slideIn: !isUndefined(this.slideInDirection),\n        slideInFromLeft: this.slideInDirection === 'left',\n        slideInFromRight: this.slideInDirection === 'right',\n      }, role: \"menu\", tabindex: \"-1\", \"aria-labelledby\": (_b = (_a = this.controller) === null || _a === void 0 ? void 0 : _a.identifier) !== null && _b !== void 0 ? _b : (_c = this.controller) === null || _c === void 0 ? void 0 : _c.id, \"aria-hidden\": !this.active ? 'true' : 'false', onFocus: this.onFocus.bind(this), onBlur: this.onBlur.bind(this), onClick: this.onClick.bind(this), onKeyDown: this.onKeyDown.bind(this), ref: el => {\n        this.menu = el;\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"container\", ref: el => {\n        this.container = el;\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null))));\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"activeMenuItem\": [\"onActiveMenuitemChange\"],\n    \"activeSubmenu\": [\"onActiveSubmenuChange\"],\n    \"active\": [\"onActiveChange\"]\n  }; }\n  static get style() { return menuCss; }\n};\n\nconst menuItemCss = \":host{display:block}.menuItem{display:flex;position:relative;align-items:center;flex-direction:row;cursor:pointer;color:var(--vm-menu-color);background:var(--vm-menu-bg);font-size:var(--vm-menu-font-size);font-weight:var(--vm-menu-font-weight);padding:var(--vm-menu-item-padding);touch-action:manipulation;box-sizing:border-box}.menuItem:focus{outline:0}.menuItem.hidden{display:none}.menuItem.tapHighlight{background:var(--vm-menu-item-tap-highlight)}.menuItem.showDivider{border-bottom:0.5px solid var(--vm-menu-item-divider-color)}.menuItem.notTouch:hover,.menuItem.notTouch:focus{outline:0;color:var(--vm-menu-item-focus-color);background-color:var(--vm-menu-item-focus-bg)}.menuItem[aria-expanded='true']{position:absolute;z-index:2;top:0;width:100%}.menuItem[aria-hidden='true']{display:none}.menuItem[aria-checked='true'] vm-icon{opacity:1;visibility:visible}vm-icon{display:inline-block}vm-icon{fill:currentColor;pointer-events:none;font-size:var(--vm-menu-item-check-icon-size);margin-right:10px;opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.hint{display:inline-block;margin-left:auto;overflow:hidden;pointer-events:none;margin-right:6px;font-size:var(--vm-menu-item-hint-font-size);opacity:var(--vm-menu-item-hint-opacity);color:var(--vm-menu-item-hint-color)}.badge{display:inline-block;line-height:1;overflow:hidden;pointer-events:none;margin-left:6px;color:var(--vm-menu-item-badge-color);background:var(--vm-menu-item-badge-bg);font-size:var(--vm-menu-item-badge-font-size)}.spacer{flex:1}.arrow{color:var(--vm-menu-item-arrow-color);border:2px solid;padding:2px;display:inline-block;border-width:0 2px 2px 0}.arrow.left{margin-right:6px;transform:rotate(135deg)}.arrow.right{transform:rotate(-45deg);opacity:0.38}\";\n\nvar __awaiter$b = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst MenuItem = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmFocus = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmBlur\", 7);\n    this.showTapHighlight = false;\n    /**\n     * Whether the item is displayed or not.\n     */\n    this.hidden = false;\n    /**\n     * The name of the checkmark icon to resolve from the icon library.\n     */\n    this.checkIcon = 'check';\n    /** @internal */\n    this.isTouch = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isTouch']);\n  }\n  /**\n   * Focuses the menu item.\n   */\n  focusItem() {\n    var _a;\n    return __awaiter$b(this, void 0, void 0, function* () {\n      (_a = this.menuItem) === null || _a === void 0 ? void 0 : _a.focus();\n    });\n  }\n  /**\n   * Removes focus from the menu item.\n   */\n  blurItem() {\n    var _a;\n    return __awaiter$b(this, void 0, void 0, function* () {\n      (_a = this.menuItem) === null || _a === void 0 ? void 0 : _a.blur();\n    });\n  }\n  /**\n   * Returns the height of the menu item.\n   */\n  getHeight() {\n    return __awaiter$b(this, void 0, void 0, function* () {\n      return parseFloat(this.menuItem ? window.getComputedStyle(this.menuItem).height : '0');\n    });\n  }\n  onClick() {\n    if (!isNil(this.menu))\n      this.menu.active = !this.expanded;\n  }\n  onFocus() {\n    this.vmFocus.emit();\n  }\n  onBlur() {\n    this.vmBlur.emit();\n  }\n  onTouchStart() {\n    this.showTapHighlight = true;\n  }\n  onTouchEnd() {\n    setTimeout(() => {\n      this.showTapHighlight = false;\n    }, 100);\n  }\n  onMouseLeave() {\n    var _a;\n    (_a = this.menuItem) === null || _a === void 0 ? void 0 : _a.blur();\n  }\n  render() {\n    var _a, _b, _c, _d;\n    const isCheckedDefined = !isUndefined(this.checked);\n    const isMenuDefined = !isUndefined(this.menu);\n    const hasExpanded = this.expanded ? 'true' : 'false';\n    const isChecked = this.checked ? 'true' : 'false';\n    const showCheckedIcon = isCheckedDefined && !isUndefined(this.checkIcon);\n    const showLeftNavArrow = isMenuDefined && this.expanded;\n    const showRightNavArrow = isMenuDefined && !this.expanded;\n    const showHint = !isUndefined(this.hint) &&\n      !isCheckedDefined &&\n      (!isMenuDefined || !this.expanded);\n    const showBadge = !isUndefined(this.badge) && !showHint && !showRightNavArrow;\n    const hasSpacer = showHint || showRightNavArrow;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        menuItem: true,\n        notTouch: !this.isTouch,\n        tapHighlight: this.showTapHighlight,\n        showDivider: isMenuDefined && ((_a = this.expanded) !== null && _a !== void 0 ? _a : false),\n      }, id: this.identifier, role: isCheckedDefined ? 'menuitemradio' : 'menuitem', tabindex: \"0\", \"aria-label\": this.label, \"aria-hidden\": this.hidden ? 'true' : 'false', \"aria-haspopup\": isMenuDefined ? 'true' : undefined, \"aria-controls\": (_c = (_b = this.menu) === null || _b === void 0 ? void 0 : _b.identifier) !== null && _c !== void 0 ? _c : (_d = this.menu) === null || _d === void 0 ? void 0 : _d.id, \"aria-expanded\": isMenuDefined ? hasExpanded : undefined, \"aria-checked\": isCheckedDefined ? isChecked : undefined, onClick: this.onClick.bind(this), onFocus: this.onFocus.bind(this), onBlur: this.onBlur.bind(this), onTouchStart: this.onTouchStart.bind(this), onTouchEnd: this.onTouchEnd.bind(this), onMouseLeave: this.onMouseLeave.bind(this), ref: el => {\n        this.menuItem = el;\n      } }, showCheckedIcon && ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-icon\", { name: this.checkIcon, library: this.icons })), showLeftNavArrow && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"span\", { class: \"arrow left\" }), this.label, hasSpacer && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"span\", { class: \"spacer\" }), showHint && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"span\", { class: \"hint\" }, this.hint), showBadge && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"span\", { class: \"badge\" }, this.badge), showRightNavArrow && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"span\", { class: \"arrow right\" })));\n  }\n  get host() { return this; }\n  static get style() { return menuItemCss; }\n};\n\nconst MenuRadio = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmCheck = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCheck\", 7);\n    /**\n     * Whether the radio item is selected or not.\n     */\n    this.checked = false;\n    /**\n     * The URL to an SVG element or fragment to load.\n     */\n    this.checkIcon = 'check';\n    withComponentRegistry(this);\n  }\n  onClick() {\n    this.checked = true;\n    this.vmCheck.emit();\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-item\", { label: this.label, checked: this.checked, badge: this.badge, checkIcon: this.checkIcon, icons: this.icons, onClick: this.onClick.bind(this) }));\n  }\n};\n\nconst MenuRadioGroup = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmCheck = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCheck\", 7);\n    withComponentRegistry(this);\n  }\n  onValueChange() {\n    var _a;\n    (_a = this.findRadios()) === null || _a === void 0 ? void 0 : _a.forEach(radio => {\n      radio.checked = radio.value === this.value;\n    });\n  }\n  connectedCallback() {\n    this.onValueChange();\n  }\n  componentDidLoad() {\n    this.onValueChange();\n  }\n  onSelectionChange(event) {\n    const radio = event.target;\n    this.value = radio.value;\n  }\n  findRadios() {\n    var _a;\n    return (_a = this.host\n      .shadowRoot.querySelector('slot')) === null || _a === void 0 ? void 0 : _a.assignedElements();\n  }\n  render() {\n    return (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null);\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"value\": [\"onValueChange\"]\n  }; }\n};\n\nconst MuteControl = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmFocus = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmBlur\", 7);\n    /**\n     * The name of the low volume icon to resolve from the icon library.\n     */\n    this.lowVolumeIcon = 'volume-low';\n    /**\n     * The name of the high volume icon to resolve from the icon library.\n     */\n    this.highVolumeIcon = 'volume-high';\n    /**\n     * The name of the muted volume icon to resolve from the icon library.\n     */\n    this.mutedIcon = 'volume-mute';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n    this.hideTooltip = false;\n    /** @inheritdoc */\n    this.keys = 'm';\n    /** @internal */\n    this.volume = 50;\n    /** @internal */\n    this.muted = false;\n    /** @internal */\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['muted', 'volume', 'i18n']);\n  }\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n  }\n  getIcon() {\n    const volumeIcon = this.volume < 50 ? this.lowVolumeIcon : this.highVolumeIcon;\n    return this.muted || this.volume === 0 ? this.mutedIcon : volumeIcon;\n  }\n  onClick() {\n    this.dispatch('muted', !this.muted);\n  }\n  render() {\n    const tooltip = this.muted ? this.i18n.unmute : this.i18n.mute;\n    const tooltipWithHint = !isUndefined(this.keys)\n      ? `${tooltip} (${this.keys})`\n      : tooltip;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control\", { label: this.i18n.mute, pressed: this.muted, keys: this.keys, onClick: this.onClick.bind(this) }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-icon\", { name: this.getIcon(), library: this.icons }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-tooltip\", { hidden: this.hideTooltip, position: this.tooltipPosition, direction: this.tooltipDirection }, tooltipWithHint)));\n  }\n};\n\nconst pipControlCss = \":host([hidden]){display:none}\";\n\nvar __awaiter$a = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst PiPControl = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.canSetPiP = false;\n    /**\n     * The name of the enter pip icon to resolve from the icon library.\n     */\n    this.enterIcon = 'pip-enter';\n    /**\n     * The name of the exit pip icon to resolve from the icon library.\n     */\n    this.exitIcon = 'pip-exit';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n    this.hideTooltip = false;\n    /** @inheritdoc */\n    this.keys = 'p';\n    /** @internal */\n    this.isPiPActive = false;\n    /** @internal */\n    this.i18n = {};\n    /** @internal */\n    this.playbackReady = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isPiPActive', 'playbackReady', 'i18n']);\n  }\n  onPlaybackReadyChange() {\n    var _a;\n    return __awaiter$a(this, void 0, void 0, function* () {\n      const player = getPlayerFromRegistry(this);\n      this.canSetPiP = (_a = (yield (player === null || player === void 0 ? void 0 : player.canSetPiP()))) !== null && _a !== void 0 ? _a : false;\n    });\n  }\n  componentDidLoad() {\n    this.onPlaybackReadyChange();\n  }\n  onClick() {\n    const player = getPlayerFromRegistry(this);\n    !this.isPiPActive ? player === null || player === void 0 ? void 0 : player.enterPiP() : player === null || player === void 0 ? void 0 : player.exitPiP();\n  }\n  render() {\n    const tooltip = this.isPiPActive ? this.i18n.exitPiP : this.i18n.enterPiP;\n    const tooltipWithHint = !isUndefined(this.keys)\n      ? `${tooltip} (${this.keys})`\n      : tooltip;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.Host, { hidden: !this.canSetPiP }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control\", { label: this.i18n.pip, keys: this.keys, pressed: this.isPiPActive, hidden: !this.canSetPiP, onClick: this.onClick.bind(this) }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-icon\", { name: this.isPiPActive ? this.exitIcon : this.enterIcon, library: this.icons }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-tooltip\", { hidden: this.hideTooltip, position: this.tooltipPosition, direction: this.tooltipDirection }, tooltipWithHint))));\n  }\n  static get watchers() { return {\n    \"playbackReady\": [\"onPlaybackReadyChange\"]\n  }; }\n  static get style() { return pipControlCss; }\n};\n\nconst PlaybackControl = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /**\n     * The name of the play icon to resolve from the icon library.\n     */\n    this.playIcon = 'play';\n    /**\n     * The name of the pause icon to resolve from the icon library.\n     */\n    this.pauseIcon = 'pause';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n    this.hideTooltip = false;\n    /** @inheritdoc */\n    this.keys = 'k';\n    /** @internal */\n    this.paused = true;\n    /** @internal */\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['paused', 'i18n']);\n  }\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n  }\n  onClick() {\n    this.dispatch('paused', !this.paused);\n  }\n  render() {\n    const tooltip = this.paused ? this.i18n.play : this.i18n.pause;\n    const tooltipWithHint = !isUndefined(this.keys)\n      ? `${tooltip} (${this.keys})`\n      : tooltip;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control\", { label: this.i18n.playback, keys: this.keys, pressed: !this.paused, onClick: this.onClick.bind(this) }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-icon\", { name: this.paused ? this.playIcon : this.pauseIcon, library: this.icons }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-tooltip\", { hidden: this.hideTooltip, position: this.tooltipPosition, direction: this.tooltipDirection }, tooltipWithHint)));\n  }\n};\n\nclass Logger {\n  constructor() {\n    this.silent = false;\n  }\n  log(...args) {\n    if (!this.silent && !isUndefined(console))\n      console.log('[Vime tip]:', ...args);\n  }\n  warn(...args) {\n    if (!this.silent && !isUndefined(console))\n      console.error('[Vime warn]:', ...args);\n  }\n}\n\nconst players = new Set();\nfunction withAutopause(player) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(player);\n  createStencilHook(player, () => {\n    players.add(el);\n  }, () => {\n    players.delete(el);\n  });\n}\nfunction autopause(player) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(player);\n  players.forEach(p => {\n    if (p !== el && p.autopause)\n      p.paused = true;\n  });\n}\n\n/* eslint-disable func-names */\nfunction withPlayerEvents(player) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(player);\n  const cache = new Map();\n  function initCache() {\n    Object.keys(initialState).forEach(prop => {\n      cache.set(prop, player[prop]);\n    });\n  }\n  createStencilHook(player, () => {\n    initCache();\n  }, () => {\n    cache.clear();\n  });\n  const { componentDidRender } = player;\n  player.componentDidRender = function () {\n    componentDidRender === null || componentDidRender === void 0 ? void 0 : componentDidRender();\n    const props = Array.from(cache.keys());\n    for (let i = 0; i < props.length; i += 1) {\n      const prop = props[i];\n      const oldValue = cache.get(prop);\n      const newValue = player[prop];\n      if (oldValue !== newValue) {\n        firePlayerEvent(el, prop, newValue, oldValue);\n        cache.set(prop, newValue);\n      }\n    }\n  };\n}\n\nvar __awaiter$9 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n    function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n// These changes need to be called immediately to avoid the browser blocking the request.\nconst immediateAdapterCall = new Set(['currentTime', 'paused']);\nfunction withPlayerScheduler(player) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(player);\n  const disposal = new Disposal();\n  const cache = new Map();\n  function initCache() {\n    Object.keys(initialState).forEach(prop => {\n      cache.set(prop, player[prop]);\n    });\n  }\n  // Queue of adapter calls to be run when the media is ready for playback.\n  let adapterCalls = [];\n  function flushAdapterCalls() {\n    return __awaiter$9(this, void 0, void 0, function* () {\n      const adapter = yield player.adapter;\n      if (isUndefined(adapter))\n        return;\n      for (let i = 0; i < adapterCalls.length; i += 1) {\n        // eslint-disable-next-line no-await-in-loop\n        yield adapterCalls[i](adapter);\n      }\n      adapterCalls = [];\n    });\n  }\n  let hasMediaChanged = false;\n  function onMediaChange(e) {\n    e === null || e === void 0 ? void 0 : e.stopImmediatePropagation();\n    // Don't reset first time otherwise props intialized by the user will be reset.\n    if (!hasMediaChanged) {\n      hasMediaChanged = true;\n      return;\n    }\n    adapterCalls = [];\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n      Object.keys(initialState)\n        .filter(shouldPropResetOnMediaChange)\n        .forEach(prop => {\n        player[prop] = initialState[prop];\n      });\n    });\n  }\n  function onStateChange(event) {\n    var _a;\n    return __awaiter$9(this, void 0, void 0, function* () {\n      event.stopImmediatePropagation();\n      const { by, prop, value } = event.detail;\n      if (!isWritableProp(prop)) {\n        (_a = player.logger) === null || _a === void 0 ? void 0 : _a.warn(`${by.nodeName} tried to change \\`${prop}\\` but it is readonly.`);\n        return;\n      }\n      if (!player.playbackStarted && immediateAdapterCall.has(prop)) {\n        const adapter = yield player.adapter;\n        if (prop === 'paused' && !value) {\n          adapter === null || adapter === void 0 ? void 0 : adapter.play();\n        }\n        if (prop === 'currentTime') {\n          adapter === null || adapter === void 0 ? void 0 : adapter.play();\n          adapter === null || adapter === void 0 ? void 0 : adapter.setCurrentTime(value);\n        }\n      }\n      (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n        player[prop] = value;\n      });\n    });\n  }\n  // Called by ProviderConnect.\n  const { onProviderDisconnect } = player;\n  player.onProviderDisconnect = function () {\n    onMediaChange();\n    if (onProviderDisconnect)\n      onProviderDisconnect.call(player);\n  };\n  createStencilHook(player, () => {\n    initCache();\n    disposal.add(listen(el, LOAD_START_EVENT, onMediaChange));\n    disposal.add(listen(el, STATE_CHANGE_EVENT, onStateChange));\n  }, () => {\n    cache.clear();\n    disposal.empty();\n  });\n  wrapStencilHook(player, 'componentWillRender', () => __awaiter$9(this, void 0, void 0, function* () {\n    if (player.playbackReady && adapterCalls.length > 0)\n      yield flushAdapterCalls();\n  }));\n  function isAdapterCallRequired(prop, value) {\n    var _a;\n    return value !== ((_a = player[PROVIDER_CACHE_KEY]) === null || _a === void 0 ? void 0 : _a.get(prop));\n  }\n  return function safeAdapterCall(prop, method) {\n    return __awaiter$9(this, void 0, void 0, function* () {\n      if (!isAdapterCallRequired(prop, player[prop]))\n        return;\n      const value = player[prop];\n      const safeCall = (adapter) => __awaiter$9(this, void 0, void 0, function* () {\n        var _a;\n        try {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          // @ts-ignore\n          yield ((_a = adapter === null || adapter === void 0 ? void 0 : adapter[method]) === null || _a === void 0 ? void 0 : _a.call(adapter, value));\n        }\n        catch (e) {\n          el.dispatchEvent(new CustomEvent('vmError', { detail: e }));\n        }\n      });\n      if (player.playbackReady) {\n        yield safeCall(yield player.adapter);\n      }\n      else {\n        adapterCalls.push(safeCall);\n      }\n    });\n  };\n}\n\nconst playerCss = \".player{box-sizing:border-box;direction:ltr;font-family:var(--vm-player-font-family);-moz-osx-font-smoothing:auto;-webkit-font-smoothing:subpixel-antialiased;-webkit-tap-highlight-color:transparent;font-variant-numeric:tabular-nums;font-weight:500;line-height:1.7;width:100%;display:block;max-width:100%;min-width:275px;min-height:40px;position:relative;text-shadow:none;outline:0;transition:box-shadow 0.3s ease;box-shadow:var(--vm-player-box-shadow);border-radius:var(--vm-player-border-radius)}.player.idle{cursor:none}.player.audio{background-color:transparent !important}.player.video{height:0;overflow:hidden;background-color:var(--vm-player-bg, #000)}.player.fullscreen{margin:0;border-radius:0;width:100%;height:100%;padding-bottom:0 !important}.blocker{position:absolute;top:0;left:0;width:100%;height:100%;display:inline-block;z-index:var(--vm-blocker-z-index)}\";\n\nvar __awaiter$8 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nlet idCount$3 = 0;\nconst Player = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmThemeChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmThemeChange\", 7);\n    this.vmPausedChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPausedChange\", 7);\n    this.vmPlay = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlay\", 7);\n    this.vmPlayingChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlayingChange\", 7);\n    this.vmSeekingChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmSeekingChange\", 7);\n    this.vmSeeked = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmSeeked\", 7);\n    this.vmBufferingChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmBufferingChange\", 7);\n    this.vmDurationChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmDurationChange\", 7);\n    this.vmCurrentTimeChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCurrentTimeChange\", 7);\n    this.vmReady = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmReady\", 7);\n    this.vmPlaybackReady = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlaybackReady\", 7);\n    this.vmPlaybackStarted = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlaybackStarted\", 7);\n    this.vmPlaybackEnded = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlaybackEnded\", 7);\n    this.vmBufferedChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmBufferedChange\", 7);\n    this.vmError = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmError\", 7);\n    this.vmLoadStart = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmCurrentProviderChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCurrentProviderChange\", 7);\n    this.vmCurrentSrcChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCurrentSrcChange\", 7);\n    this.vmCurrentPosterChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCurrentPosterChange\", 7);\n    this.vmMediaTitleChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmMediaTitleChange\", 7);\n    this.vmControlsChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmControlsChange\", 7);\n    this.vmPlaybackRateChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlaybackRateChange\", 7);\n    this.vmPlaybackRatesChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlaybackRatesChange\", 7);\n    this.vmPlaybackQualityChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlaybackQualityChange\", 7);\n    this.vmPlaybackQualitiesChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlaybackQualitiesChange\", 7);\n    this.vmMutedChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmMutedChange\", 7);\n    this.vmVolumeChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmVolumeChange\", 7);\n    this.vmViewTypeChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmViewTypeChange\", 7);\n    this.vmMediaTypeChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmMediaTypeChange\", 7);\n    this.vmLiveChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLiveChange\", 7);\n    this.vmTouchChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmTouchChange\", 7);\n    this.vmLanguageChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLanguageChange\", 7);\n    this.vmI18nChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmI18nChange\", 7);\n    this.vmTranslationsChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmTranslationsChange\", 7);\n    this.vmLanguagesChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLanguagesChange\", 7);\n    this.vmFullscreenChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmFullscreenChange\", 7);\n    this.vmPiPChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPiPChange\", 7);\n    this.vmTextTracksChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmTextTracksChange\", 7);\n    this.vmCurrentTextTrackChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCurrentTextTrackChange\", 7);\n    this.vmTextTrackVisibleChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmTextTrackVisibleChange\", 7);\n    this.vmAudioTracksChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmAudioTracksChange\", 7);\n    this.vmCurrentAudioTrackChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCurrentAudioTrackChange\", 7);\n    this.disposal = new Disposal();\n    /**\n     * ------------------------------------------------------\n     * Props\n     * ------------------------------------------------------\n     */\n    /** @internal @readonly */\n    this.logger = new Logger();\n    /** @inheritDoc */\n    this.icons = 'vime';\n    /** @inheritDoc */\n    this.paused = true;\n    /** @inheritDoc @readonly */\n    this.playing = false;\n    /** @inheritDoc @readonly */\n    this.duration = -1;\n    /** @inheritDoc */\n    this.currentTime = 0;\n    /** @inheritDoc */\n    this.autoplay = false;\n    /** @inheritDoc @readonly */\n    this.ready = false;\n    /** @inheritDoc @readonly */\n    this.playbackReady = false;\n    /** @inheritDoc */\n    this.loop = false;\n    /** @inheritDoc */\n    this.muted = false;\n    /** @inheritDoc @readonly */\n    this.buffered = 0;\n    /** @inheritDoc */\n    this.playbackRate = 1;\n    this.lastRateCheck = 1;\n    /** @inheritDoc @readonly */\n    this.playbackRates = [1];\n    /** @inheritDoc @readonly */\n    this.playbackQualities = [];\n    /** @inheritDoc @readonly */\n    this.seeking = false;\n    /** @inheritDoc */\n    this.debug = false;\n    /** @inheritDoc @readonly */\n    this.playbackStarted = false;\n    /** @inheritDoc @readonly */\n    this.playbackEnded = false;\n    /** @inheritDoc @readonly */\n    this.buffering = false;\n    /** @inheritDoc */\n    this.controls = false;\n    /** @inheritDoc */\n    this.isControlsActive = false;\n    /** @inheritDoc @readonly */\n    this.isSettingsActive = false;\n    /** @inheritDoc */\n    this.volume = 50;\n    /** @inheritDoc @readonly */\n    this.isFullscreenActive = false;\n    /** @inheritDoc */\n    this.aspectRatio = '16:9';\n    /** @inheritDoc @readonly */\n    this.isAudioView = false;\n    /** @inheritDoc @readonly */\n    this.isVideoView = false;\n    /** @inheritDoc @readonly */\n    this.isAudio = false;\n    /** @inheritDoc @readonly */\n    this.isVideo = false;\n    /** @inheritDoc @readonly */\n    this.isLive = false;\n    /** @inheritDoc @readonly */\n    this.isMobile = false;\n    /** @inheritDoc @readonly */\n    this.isTouch = false;\n    /** @inheritDoc @readonly */\n    this.isPiPActive = false;\n    /** @inheritDoc @readonly */\n    this.textTracks = [];\n    /** @inheritDoc @readonly */\n    this.currentTextTrack = -1;\n    /** @inheritDoc @readonly */\n    this.isTextTrackVisible = true;\n    /** @inheritDoc */\n    this.shouldRenderNativeTextTracks = true;\n    /** @inheritDoc @readonly */\n    this.audioTracks = [];\n    /** @inheritDoc @readonly */\n    this.currentAudioTrack = -1;\n    /** @inheritDoc */\n    this.autopause = true;\n    /** @inheritDoc */\n    this.playsinline = false;\n    /** @inheritDoc */\n    this.language = 'en';\n    /** @inheritDoc */\n    this.translations = { en };\n    /** @inheritDoc @readonly */\n    this.languages = ['en'];\n    /** @inheritDoc @readonly */\n    this.i18n = en;\n    withFindPlayer(this);\n    withComponentRegistrar(this);\n    withAutopause(this);\n    withProviderHost(this);\n    withPlayerEvents(this);\n    this.safeAdapterCall = withPlayerScheduler(this);\n  }\n  get adapter() {\n    var _a;\n    return (_a = this.provider) === null || _a === void 0 ? void 0 : _a.getAdapter();\n  }\n  onContainerChange() {\n    var _a;\n    (_a = this.fullscreenController) === null || _a === void 0 ? void 0 : _a.destroy();\n    if (isUndefined(this.container))\n      return;\n    this.fullscreenController = new FullscreenController(this.container);\n    this.fullscreenController.on('change', isActive => {\n      this.isFullscreenActive = isActive;\n      if (isActive)\n        this.rotateDevice();\n    });\n    this.fullscreenController.on('error', error => {\n      this.vmError.emit(error);\n    });\n  }\n  onPausedChange() {\n    if (this.paused) {\n      this.playing = false;\n    }\n    else {\n      autopause(this);\n    }\n    this.safeAdapterCall('paused', !this.paused ? 'play' : 'pause');\n  }\n  onDurationChange() {\n    this.isLive = this.duration === Infinity;\n  }\n  onCurrentTimeChange() {\n    const duration = this.playbackReady ? this.duration : Infinity;\n    this.currentTime = Math.max(0, Math.min(this.currentTime, duration));\n    this.safeAdapterCall('currentTime', 'setCurrentTime');\n  }\n  onPlaybackReadyChange() {\n    if (!this.ready)\n      this.ready = true;\n  }\n  onMutedChange() {\n    this.safeAdapterCall('muted', 'setMuted');\n  }\n  onPlaybackRateChange(newRate, prevRate) {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      if (newRate === this.lastRateCheck)\n        return;\n      if (!(yield ((_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.canSetPlaybackRate) === null || _b === void 0 ? void 0 : _b.call(_a)))) {\n        this.logger.log('provider cannot change `playbackRate`.');\n        this.lastRateCheck = prevRate;\n        this.playbackRate = prevRate;\n        return;\n      }\n      if (!this.playbackRates.includes(newRate)) {\n        this.logger.log(`invalid \\`playbackRate\\` of ${newRate}, ` +\n          `valid values are [${this.playbackRates.join(', ')}]`);\n        this.lastRateCheck = prevRate;\n        this.playbackRate = prevRate;\n        return;\n      }\n      this.lastRateCheck = newRate;\n      this.safeAdapterCall('playbackRate', 'setPlaybackRate');\n    });\n  }\n  onPlaybackQualityChange(newQuality, prevQuality) {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      if (isUndefined(newQuality) || newQuality === this.lastQualityCheck)\n        return;\n      if (!(yield ((_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.canSetPlaybackQuality) === null || _b === void 0 ? void 0 : _b.call(_a)))) {\n        this.logger.log('provider cannot change `playbackQuality`.');\n        this.lastQualityCheck = prevQuality;\n        this.playbackQuality = prevQuality;\n        return;\n      }\n      if (!this.playbackQualities.includes(newQuality)) {\n        this.logger.log(`invalid \\`playbackQuality\\` of ${newQuality}, ` +\n          `valid values are [${this.playbackQualities.join(', ')}]`);\n        this.lastQualityCheck = prevQuality;\n        this.playbackQuality = prevQuality;\n        return;\n      }\n      this.lastQualityCheck = newQuality;\n      this.safeAdapterCall('playbackQuality', 'setPlaybackQuality');\n    });\n  }\n  onDebugChange() {\n    this.logger.silent = !this.debug;\n  }\n  onVolumeChange() {\n    return __awaiter$8(this, void 0, void 0, function* () {\n      this.volume = Math.max(0, Math.min(this.volume, 100));\n      this.safeAdapterCall('volume', 'setVolume');\n    });\n  }\n  onViewTypeChange() {\n    this.isAudioView = this.viewType === ViewType.Audio;\n    this.isVideoView = this.viewType === ViewType.Video;\n  }\n  onMediaTypeChange() {\n    this.isAudio = this.mediaType === MediaType.Audio;\n    this.isVideo = this.mediaType === MediaType.Video;\n  }\n  onLanguageChange(_, prevLanguage) {\n    if (!this.languages.includes(this.language)) {\n      this.logger.log(`invalid \\`language\\` of ${this.language}, ` +\n        `valid values are [${this.languages.join(', ')}]`);\n      this.language = prevLanguage;\n      return;\n    }\n    this.i18n = this.translations[this.language];\n  }\n  onTranslationsChange() {\n    Object.assign(this.translations, { en });\n    this.languages = Object.keys(this.translations);\n    this.i18n = this.translations[this.language];\n  }\n  onError(event) {\n    this.logger.warn(event.detail);\n  }\n  /**\n   * ------------------------------------------------------\n   * Methods\n   * ------------------------------------------------------\n   */\n  /** @inheritDoc */\n  getProvider() {\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return this.provider;\n    });\n  }\n  /** @internal */\n  getAdapter() {\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return this.adapter;\n    });\n  }\n  /** @inheritDoc */\n  play() {\n    var _a;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.play();\n    });\n  }\n  /** @inheritDoc */\n  pause() {\n    var _a;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.pause();\n    });\n  }\n  /** @inheritDoc */\n  canPlay(type) {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.canPlay(type)) !== null && _b !== void 0 ? _b : false;\n    });\n  }\n  /** @inheritDoc */\n  canAutoplay() {\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return canAutoplay();\n    });\n  }\n  /** @inheritDoc */\n  canMutedAutoplay() {\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return canAutoplay(true);\n    });\n  }\n  /** @inheritDoc */\n  canSetPlaybackRate() {\n    var _a, _b, _c;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (_c = (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.canSetPlaybackRate) === null || _b === void 0 ? void 0 : _b.call(_a)) !== null && _c !== void 0 ? _c : false;\n    });\n  }\n  /** @inheritDoc */\n  canSetPlaybackQuality() {\n    var _a, _b, _c;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (_c = (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.canSetPlaybackQuality) === null || _b === void 0 ? void 0 : _b.call(_a)) !== null && _c !== void 0 ? _c : false;\n    });\n  }\n  /** @inheritDoc */\n  canSetFullscreen() {\n    var _a, _b, _c;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (this.fullscreenController.isSupported ||\n        ((_c = (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.canSetFullscreen) === null || _b === void 0 ? void 0 : _b.call(_a)) !== null && _c !== void 0 ? _c : false));\n    });\n  }\n  /** @inheritDoc */\n  enterFullscreen(options) {\n    var _a, _b, _c;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      if (!this.isVideoView) {\n        throw Error('Cannot enter fullscreen on an audio player view.');\n      }\n      if (this.fullscreenController.isSupported) {\n        return this.fullscreenController.requestFullscreen();\n      }\n      const adapter = yield this.adapter;\n      const canProviderSetFullscreen = (_b = (yield ((_a = adapter === null || adapter === void 0 ? void 0 : adapter.canSetFullscreen) === null || _a === void 0 ? void 0 : _a.call(adapter)))) !== null && _b !== void 0 ? _b : false;\n      if (canProviderSetFullscreen) {\n        return (_c = adapter === null || adapter === void 0 ? void 0 : adapter.enterFullscreen) === null || _c === void 0 ? void 0 : _c.call(adapter, options);\n      }\n      throw Error('Fullscreen API is not available.');\n    });\n  }\n  /** @inheritDoc */\n  exitFullscreen() {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      if (this.fullscreenController.isSupported) {\n        return this.fullscreenController.exitFullscreen();\n      }\n      return (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.exitFullscreen) === null || _b === void 0 ? void 0 : _b.call(_a);\n    });\n  }\n  /** @inheritDoc */\n  canSetPiP() {\n    var _a, _b, _c;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (_c = (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.canSetPiP) === null || _b === void 0 ? void 0 : _b.call(_a)) !== null && _c !== void 0 ? _c : false;\n    });\n  }\n  /** @inheritDoc */\n  enterPiP() {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      if (!this.isVideoView)\n        throw Error('Cannot enter PiP mode on an audio player view.');\n      if (!(yield this.canSetPiP()))\n        throw Error('Picture-in-Picture API is not available.');\n      return (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.enterPiP) === null || _b === void 0 ? void 0 : _b.call(_a);\n    });\n  }\n  /** @inheritDoc */\n  exitPiP() {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.exitPiP) === null || _b === void 0 ? void 0 : _b.call(_a);\n    });\n  }\n  /** @inheritDoc */\n  canSetAudioTrack() {\n    var _a;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return !isUndefined((_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.setCurrentAudioTrack);\n    });\n  }\n  /** @inheritDoc */\n  setCurrentAudioTrack(trackId) {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.setCurrentAudioTrack) === null || _b === void 0 ? void 0 : _b.call(_a, trackId);\n    });\n  }\n  /** @inheritDoc */\n  canSetTextTrack() {\n    var _a;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return !isUndefined((_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.setCurrentTextTrack);\n    });\n  }\n  /** @inheritDoc */\n  setCurrentTextTrack(trackId) {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.setCurrentTextTrack) === null || _b === void 0 ? void 0 : _b.call(_a, trackId);\n    });\n  }\n  /** @inheritDoc */\n  canSetTextTrackVisibility() {\n    var _a;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return !isUndefined((_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.setTextTrackVisibility);\n    });\n  }\n  /** @inheritDoc */\n  setTextTrackVisibility(isVisible) {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.setTextTrackVisibility) === null || _b === void 0 ? void 0 : _b.call(_a, isVisible);\n    });\n  }\n  /** @inheritDoc */\n  extendLanguage(language, translation) {\n    var _a;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      const translations = Object.assign(Object.assign({}, this.translations), { [language]: Object.assign(Object.assign({}, ((_a = this.translations[language]) !== null && _a !== void 0 ? _a : {})), translation) });\n      this.translations = translations;\n    });\n  }\n  connectedCallback() {\n    this.onPausedChange();\n    this.onCurrentTimeChange();\n    this.onVolumeChange();\n    this.onMutedChange();\n    this.onDebugChange();\n    this.onContainerChange();\n    this.onTranslationsChange();\n    this.onLanguageChange(this.language, initialState.language);\n    this.disposal.add(onMobileChange(isMobile => {\n      this.isMobile = isMobile;\n    }));\n    this.disposal.add(onTouchInputChange(isTouch => {\n      this.isTouch = isTouch;\n    }));\n  }\n  componentWillLoad() {\n    Universe.create(this, this.getPlayerState());\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.fullscreenController) === null || _a === void 0 ? void 0 : _a.destroy();\n    this.disposal.empty();\n  }\n  rotateDevice() {\n    return __awaiter$8(this, void 0, void 0, function* () {\n      if (!this.isMobile || !canRotateScreen())\n        return;\n      try {\n        if (this.isFullscreenActive) {\n          yield window.screen.orientation.lock('landscape');\n        }\n        else {\n          yield window.screen.orientation.unlock();\n        }\n      }\n      catch (err) {\n        this.vmError.emit(err);\n      }\n    });\n  }\n  getPlayerState() {\n    const state = {};\n    const props = Object.keys(initialState);\n    for (let i = 0; i < props.length; i += 1) {\n      state[props[i]] = this[props[i]];\n    }\n    return state;\n  }\n  calcAspectRatio() {\n    const [width, height] = /\\d{1,2}:\\d{1,2}/.test(this.aspectRatio)\n      ? this.aspectRatio.split(':')\n      : [16, 9];\n    return (100 / Number(width)) * Number(height);\n  }\n  /**\n   * Returns the inner container.\n   */\n  getContainer() {\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return this.container;\n    });\n  }\n  /** @internal Exposed for E2E testing. */\n  callAdapter(method, value) {\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (yield this.adapter)[method](value);\n    });\n  }\n  hasCustomControls() {\n    return isComponentRegistered(this, 'vm-controls');\n  }\n  genId() {\n    var _a;\n    const id = (_a = this.host) === null || _a === void 0 ? void 0 : _a.id;\n    if (isString(id) && id.length > 0)\n      return id;\n    idCount$3 += 1;\n    return `vm-player-${idCount$3}`;\n  }\n  render() {\n    const label = `${this.isAudioView ? 'Audio Player' : 'Video Player'}` +\n      `${!isUndefined(this.mediaTitle) ? ` - ${this.mediaTitle}` : ''}`;\n    const canShowCustomUI = !IS_IOS ||\n      !this.isVideoView ||\n      (this.playsinline && !this.isFullscreenActive);\n    if (!canShowCustomUI) {\n      this.controls = true;\n    }\n    const isIdle = canShowCustomUI &&\n      this.hasCustomControls() &&\n      this.isVideoView &&\n      !this.paused &&\n      !this.isControlsActive;\n    const isBlockerVisible = !this.controls && canShowCustomUI && this.isVideoView;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.Host, { id: this.genId(), idle: isIdle, mobile: this.isMobile, touch: this.isTouch, live: this.isLive, audio: this.isAudioView, video: this.isVideoView, pip: this.isPiPActive, fullscreen: this.isFullscreenActive }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { \"aria-label\": label, \"aria-hidden\": !this.ready ? 'true' : 'false', \"aria-busy\": !this.playbackReady ? 'true' : 'false', class: {\n        player: true,\n        idle: isIdle,\n        audio: this.isAudioView,\n        video: this.isVideoView,\n        fullscreen: this.isFullscreenActive,\n      }, style: {\n        paddingBottom: this.isVideoView\n          ? `${this.calcAspectRatio()}%`\n          : undefined,\n      }, ref: el => {\n        (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n          this.container = el;\n        });\n      } }, isBlockerVisible && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"blocker\" }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(Universe.Provider, { state: this.getPlayerState() }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)))));\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"container\": [\"onContainerChange\"],\n    \"paused\": [\"onPausedChange\"],\n    \"duration\": [\"onDurationChange\"],\n    \"currentTime\": [\"onCurrentTimeChange\"],\n    \"playbackReady\": [\"onPlaybackReadyChange\"],\n    \"muted\": [\"onMutedChange\"],\n    \"playbackRate\": [\"onPlaybackRateChange\"],\n    \"playbackQuality\": [\"onPlaybackQualityChange\"],\n    \"debug\": [\"onDebugChange\"],\n    \"volume\": [\"onVolumeChange\"],\n    \"viewType\": [\"onViewTypeChange\"],\n    \"isAudioView\": [\"onViewTypeChange\"],\n    \"isVideoView\": [\"onViewTypeChange\"],\n    \"mediaType\": [\"onMediaTypeChange\"],\n    \"language\": [\"onLanguageChange\"],\n    \"translations\": [\"onTranslationsChange\"]\n  }; }\n  static get style() { return playerCss; }\n};\n\nconst posterCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-poster-z-index)}.poster{width:100%;height:100%;background:#000;opacity:0;visibility:hidden;pointer-events:none;transition:var(--vm-fade-transition)}.poster.hidden{display:none}.poster.active{opacity:1;visibility:visible}img{width:100%;height:100%;pointer-events:none}\";\n\nconst Poster = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmLoaded = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoaded\", 3);\n    this.vmWillShow = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmWillShow\", 3);\n    this.vmWillHide = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmWillHide\", 3);\n    this.isHidden = true;\n    this.isActive = false;\n    this.hasLoaded = false;\n    /**\n     * How the poster image should be resized to fit the container (sets the `object-fit` property).\n     */\n    this.fit = 'cover';\n    /** @internal */\n    this.isVideoView = false;\n    /** @internal */\n    this.playbackStarted = false;\n    /** @internal */\n    this.currentTime = 0;\n    withComponentRegistry(this);\n    withPlayerContext(this, [\n      'mediaTitle',\n      'currentPoster',\n      'playbackStarted',\n      'currentTime',\n      'isVideoView',\n    ]);\n  }\n  onCurrentPosterChange() {\n    var _a;\n    this.hasLoaded = false;\n    (_a = this.lazyLoader) === null || _a === void 0 ? void 0 : _a.onMutation();\n  }\n  connectedCallback() {\n    this.lazyLoader = new LazyLoader(this.host, ['data-src', 'src'], el => {\n      const src = el.getAttribute('data-src');\n      el.removeAttribute('src');\n      if (!isNull(src)) {\n        el.setAttribute('src', src);\n      }\n    });\n    this.onEnabledChange();\n    this.onActiveChange();\n  }\n  disconnectedCallback() {\n    this.lazyLoader.destroy();\n  }\n  onVisibilityChange() {\n    !this.isHidden && this.isActive\n      ? this.vmWillShow.emit()\n      : this.vmWillHide.emit();\n  }\n  onEnabledChange() {\n    this.isHidden = !this.isVideoView;\n    this.onVisibilityChange();\n  }\n  onActiveChange() {\n    this.isActive = !this.playbackStarted || this.currentTime <= 0.1;\n    this.onVisibilityChange();\n  }\n  onPosterLoad() {\n    this.vmLoaded.emit();\n    this.hasLoaded = true;\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        poster: true,\n        hidden: this.isHidden,\n        active: this.isActive && this.hasLoaded,\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"img\", { class: \"lazy\", \"data-src\": this.currentPoster, alt: !isUndefined(this.mediaTitle)\n        ? `${this.mediaTitle} Poster`\n        : 'Media Poster', style: { objectFit: this.fit }, onLoad: this.onPosterLoad.bind(this) })));\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"currentPoster\": [\"onCurrentPosterChange\"],\n    \"isVideoView\": [\"onEnabledChange\"],\n    \"currentTime\": [\"onActiveChange\"],\n    \"playbackStarted\": [\"onActiveChange\"]\n  }; }\n  static get style() { return posterCss; }\n};\n\nconst scrimCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-scrim-z-index)}.scrim{position:absolute;width:100%;background:var(--vm-scrim-bg);display:inline-block;opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.scrim.gradient{height:258px;background:none;background-position:bottom;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAECCAYAAAA/9r2TAAABKklEQVQ4T2XI50cFABiF8dvee++67b33uM17b1MkkSSSSBJJJIkkkkQSSSKJ9Efmeb8cr86HH88JBP4thkfEkiKOFPGkSCCNRE8SKZJJkUIaqZ40UqSTIoMUmaSR5ckmRQ4pckkjz5NPigJSFJKiiDSKPSWkKCVFGWmUeypIUUmKKlJUk0aNJ0iKWlLUkUa9p4EUjaRoIkUzabR4WknRRop20ujwdJKiixTdpOghjV5PHyn6STFAGoOeIVIMk2KEFKOkMeYZJ8UEKUKkMemZIsU0KWZIMUsac54wKSKkiJLGvGeBFIukWCLFMrkCq7AG67ABm7AF27ADu7AH+3AAh3AEx3ACp3AG53ABl3AF13ADt3AH9/AAj/AEz/ACr/AG7/ABn/AF3/ADv39LujSyJPVJ0QAAAABJRU5ErkJggg==')}.scrim.gradientUp{top:unset;bottom:0}.scrim.gradientDown{transform:rotate(180deg)}.scrim.hidden{display:none}.scrim.active{opacity:1;visibility:visible}\";\n\nconst Scrim = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /** @internal */\n    this.isVideoView = false;\n    /** @internal */\n    this.isControlsActive = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isVideoView', 'isControlsActive']);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        scrim: true,\n        gradient: !isUndefined(this.gradient),\n        gradientUp: this.gradient === 'up',\n        gradientDown: this.gradient === 'down',\n        hidden: !this.isVideoView,\n        active: this.isControlsActive,\n      } }));\n  }\n  static get style() { return scrimCss; }\n};\n\nconst getHours = (value) => Math.trunc((value / 60 / 60) % 60);\nconst getMinutes = (value) => Math.trunc((value / 60) % 60);\nconst getSeconds = (value) => Math.trunc(value % 60);\nconst formatTime = (seconds = 0, alwaysShowHours = false) => {\n  // Format time component to add leading zero.\n  const format = (value) => `0${value}`.slice(-2);\n  const hours = getHours(seconds);\n  const mins = getMinutes(seconds);\n  const secs = getSeconds(seconds);\n  return `${alwaysShowHours || hours > 0 ? `${hours}:` : ''}${format(mins)}:${format(secs)}`;\n};\n\nconst scrubberControlCss = \":host{--vm-tooltip-spacing:var(--vm-scrubber-tooltip-spacing);flex:1;position:relative;cursor:pointer;pointer-events:auto;box-sizing:border-box;left:calc(var(--vm-slider-thumb-width) / 2);margin-right:var(--vm-slider-thumb-width);margin-bottom:var(--vm-slider-track-height)}@keyframes progress{to{background-position:var(--vm-scrubber-loading-stripe-size) 0}}.scrubber{position:relative;width:100%}vm-slider,progress{margin-left:calc(calc(var(--vm-slider-thumb-width) / 2) * -1);margin-right:calc(calc(var(--vm-slider-thumb-width) / 2) * -1);width:calc(100% + var(--vm-slider-thumb-width));height:var(--vm-slider-track-height)}vm-slider:hover,progress:hover{cursor:pointer}vm-slider{position:absolute;top:0;left:0;z-index:3}progress{-webkit-appearance:none;background:transparent;border:0;border-radius:100px;position:absolute;left:0;top:50%;padding:0;color:var(--vm-scrubber-buffered-bg);height:var(--vm-slider-track-height)}progress::-webkit-progress-bar{background:transparent}progress::-webkit-progress-value{background:currentColor;border-radius:100px;min-width:var(--vm-slider-track-height);transition:width 0.2s ease}progress::-moz-progress-bar{background:currentColor;border-radius:100px;min-width:var(--vm-slider-track-height);transition:width 0.2s ease}progress::-ms-fill{border-radius:100px;transition:width 0.2s ease}progress.loading{animation:progress 1s linear infinite;background-image:linear-gradient(\\n    -45deg,\\n    var(--vm-scrubber-loading-stripe-color) 25%,\\n    transparent 25%,\\n    transparent 50%,\\n    var(--vm-scrubber-loading-stripe-color) 50%,\\n    var(--vm-scrubber-loading-stripe-color) 75%,\\n    transparent 75%,\\n    transparent\\n  );background-repeat:repeat-x;background-size:var(--vm-scrubber-loading-stripe-size)\\n    var(--vm-scrubber-loading-stripe-size);color:transparent;background-color:transparent}\";\n\nvar __awaiter$7 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst ScrubberControl = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.keyboardDisposal = new Disposal();\n    this.timestamp = '';\n    this.endTime = 0;\n    /**\n     * Whether the timestamp in the tooltip should show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n    this.alwaysShowHours = false;\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n    this.hideTooltip = false;\n    /** @internal */\n    this.currentTime = 0;\n    /** @internal */\n    this.duration = -1;\n    /**\n     * Prevents seeking forward/backward by using the Left/Right arrow keys.\n     */\n    this.noKeyboard = false;\n    /** @internal */\n    this.buffering = false;\n    /** @internal */\n    this.buffered = 0;\n    /** @internal */\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, [\n      'i18n',\n      'currentTime',\n      'duration',\n      'buffering',\n      'buffered',\n    ]);\n  }\n  onNoKeyboardChange() {\n    return __awaiter$7(this, void 0, void 0, function* () {\n      this.keyboardDisposal.empty();\n      if (this.noKeyboard)\n        return;\n      const player = yield findPlayer(this);\n      if (isUndefined(player))\n        return;\n      const onKeyDown = (event) => {\n        if (event.key !== 'ArrowLeft' && event.key !== 'ArrowRight')\n          return;\n        event.preventDefault();\n        const isLeftArrow = event.key === 'ArrowLeft';\n        const seekTo = isLeftArrow\n          ? Math.max(0, this.currentTime - 5)\n          : Math.min(this.duration, this.currentTime + 5);\n        this.dispatch('currentTime', seekTo);\n      };\n      this.keyboardDisposal.add(listen(player, 'keydown', onKeyDown));\n    });\n  }\n  onDurationChange() {\n    // Avoid -1.\n    this.endTime = Math.max(0, this.duration);\n  }\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n    this.timestamp = formatTime(this.currentTime, this.alwaysShowHours);\n    this.onNoKeyboardChange();\n  }\n  disconnectedCallback() {\n    this.keyboardDisposal.empty();\n  }\n  setTooltipPosition(value) {\n    var _a, _b;\n    const tooltipRect = (_b = (_a = this.tooltip.shadowRoot) === null || _a === void 0 ? void 0 : _a.querySelector('.tooltip')) === null || _b === void 0 ? void 0 : _b.getBoundingClientRect();\n    const bounds = this.slider.getBoundingClientRect();\n    const thumbWidth = parseFloat(window\n      .getComputedStyle(this.slider)\n      .getPropertyValue('--vm-slider-thumb-width'));\n    const leftLimit = tooltipRect.width / 2 - thumbWidth / 2;\n    const rightLimit = bounds.width - tooltipRect.width / 2 - thumbWidth / 2;\n    const xPos = Math.max(leftLimit, Math.min(value, rightLimit));\n    this.tooltip.style = `--vm-tooltip-left: ${xPos}px`;\n  }\n  onSeek(event) {\n    this.dispatch('currentTime', event.detail);\n  }\n  onSeeking(event) {\n    if (this.duration < 0 || this.tooltip.hidden)\n      return;\n    if (event.type === 'mouseleave') {\n      this.getSliderInput().blur();\n      this.tooltip.active = false;\n      return;\n    }\n    const rect = this.host.getBoundingClientRect();\n    const percent = Math.max(0, Math.min(100, (100 / rect.width) * (event.pageX - rect.left)));\n    this.timestamp = formatTime((this.duration / 100) * percent, this.alwaysShowHours);\n    this.setTooltipPosition((percent / 100) * rect.width);\n    if (!this.tooltip.active) {\n      this.getSliderInput().focus();\n      this.tooltip.active = true;\n    }\n  }\n  getSliderInput() {\n    var _a;\n    return (_a = this.slider.shadowRoot) === null || _a === void 0 ? void 0 : _a.querySelector('input');\n  }\n  render() {\n    const sliderValueText = this.i18n.scrubberLabel\n      .replace(/{currentTime}/, formatTime(this.currentTime))\n      .replace(/{duration}/, formatTime(this.endTime));\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"scrubber\", onMouseEnter: this.onSeeking.bind(this), onMouseLeave: this.onSeeking.bind(this), onMouseMove: this.onSeeking.bind(this), onTouchMove: () => {\n        this.getSliderInput().focus();\n      }, onTouchEnd: () => {\n        this.getSliderInput().blur();\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-slider\", { step: 0.01, max: this.endTime, value: this.currentTime, label: this.i18n.scrubber, valueText: sliderValueText, onVmValueChange: this.onSeek.bind(this), ref: (el) => {\n        this.slider = el;\n      } }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"progress\", { class: {\n        loading: this.buffering,\n      },\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      min: 0, max: this.endTime, value: this.buffered, \"aria-label\": this.i18n.buffered, \"aria-valuemin\": \"0\", \"aria-valuemax\": this.endTime, \"aria-valuenow\": this.buffered, \"aria-valuetext\": `${(this.endTime > 0\n        ? this.buffered / this.endTime\n        : 0).toFixed(0)}%` }, \"% buffered\"), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-tooltip\", { hidden: this.hideTooltip, ref: (el) => {\n        this.tooltip = el;\n      } }, this.timestamp)));\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"noKeyboard\": [\"onNoKeyboardChange\"],\n    \"duration\": [\"onDurationChange\"]\n  }; }\n  static get style() { return scrubberControlCss; }\n};\n\nconst settingsCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-menu-z-index)}.settings{position:absolute;opacity:0;pointer-events:none;overflow-x:hidden;overflow-y:auto;background-color:var(--vm-menu-bg);max-height:var(--vm-settings-max-height);border-radius:var(--vm-settings-border-radius);padding:var(--vm-settings-padding);box-shadow:var(--vm-settings-shadow);box-sizing:border-box;scrollbar-width:thin;scroll-behavior:smooth;scrollbar-color:var(--vm-settings-scroll-thumb-color)\\n    var(--vm-settings-scroll-track-color);transform:translateY(8px);transition:var(--vm-settings-transition)}.container{display:block;width:var(--vm-settings-width);height:100%;position:relative;transition:width 0.25s ease-in, height 0.25s ease-in}.settings.hydrated{visibility:hidden !important}.settings::-webkit-scrollbar{width:var(--vm-settings-scroll-width)}.settings::-webkit-scrollbar-track{background:var(--vm-settings-scroll-track-color)}.settings::-webkit-scrollbar-thumb{border-radius:var(--vm-settings-scroll-width);background-color:var(--vm-settings-scroll-thumb-color);border:2px solid var(--vm-menu-bg)}.settings.active{transform:translateY(0);opacity:1;pointer-events:auto;visibility:visible !important}.settings.mobile{position:fixed;top:auto !important;left:0 !important;right:0 !important;bottom:0 !important;width:100%;min-height:56px;max-height:50%;border-radius:0;z-index:2147483647;transform:translateY(100%)}.settings.mobile.active{transform:translateY(0)}.settings.mobile>vm-menu{height:100% !important;overflow:auto !important}\";\n\nvar __awaiter$6 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nlet idCount$2 = 0;\nconst Settings = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.disposal = new Disposal();\n    this.menuHeight = 0;\n    /**\n     * Pins the settings to the defined position inside the video player. This has no effect when\n     * the view is of type `audio` (always `bottomRight`) and on mobile devices (always bottom sheet).\n     */\n    this.pin = 'bottomRight';\n    /**\n     * Whether the settings menu is opened/closed.\n     */\n    this.active = false;\n    /** @internal */\n    this.isMobile = false;\n    /** @internal */\n    this.isAudioView = false;\n    withComponentRegistry(this);\n    withControlsCollisionDetection(this);\n    withPlayerContext(this, ['isMobile', 'isAudioView']);\n  }\n  onActiveChange() {\n    this.dispatch('isSettingsActive', this.active);\n    if (isUndefined(this.controller))\n      return;\n    this.controller.expanded = this.active;\n  }\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n    idCount$2 += 1;\n    this.id = `vm-settings-${idCount$2}`;\n  }\n  disconnectedCallback() {\n    this.disposal.empty();\n  }\n  /**\n   * Sets the controller responsible for opening/closing this settings menu.\n   */\n  setController(controller) {\n    return __awaiter$6(this, void 0, void 0, function* () {\n      this.controller = controller;\n      this.controller.menu = this.id;\n      this.disposal.empty();\n      this.disposal.add(listen(this.controller, 'click', () => {\n        this.active = !this.active;\n      }));\n      this.disposal.add(listen(this.controller, 'keydown', (event) => {\n        if (event.key !== 'Enter')\n          return;\n        // We're looking for !active because the `click` event above will toggle it to active.\n        if (!this.active)\n          this.menu.focusMenu();\n      }));\n    });\n  }\n  getPosition() {\n    if (this.isAudioView) {\n      return {\n        right: '0',\n        bottom: 'calc(var(--vm-controls-height, 0) + 4px)',\n      };\n    }\n    // topLeft => { top: 0, left: 0 }\n    const pos = this.pin.split(/(?=[L|R])/).map(s => s.toLowerCase());\n    return {\n      [pos.includes('top') ? 'top' : 'bottom']: 'var(--vm-controls-height, 0)',\n      [pos.includes('left') ? 'left' : 'right']: '8px',\n    };\n  }\n  onOpen(event) {\n    var _a;\n    if (((_a = event.detail) === null || _a === void 0 ? void 0 : _a.identifier) !== this.id)\n      return;\n    this.active = true;\n  }\n  onClose(event) {\n    var _a;\n    if (((_a = event.detail) === null || _a === void 0 ? void 0 : _a.identifier) !== this.id)\n      return;\n    this.active = false;\n  }\n  onHeightChange(event) {\n    this.menuHeight = event.detail;\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { style: Object.assign({}, this.getPosition()), class: {\n        settings: true,\n        active: this.active,\n        mobile: this.isMobile,\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"container\", style: { height: `${this.menuHeight}px` } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu\", { identifier: this.id, active: this.active, controller: this.controller, onVmOpen: this.onOpen.bind(this), onVmClose: this.onClose.bind(this), onVmMenuHeightChange: this.onHeightChange.bind(this), ref: (el) => {\n        this.menu = el;\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)))));\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"active\": [\"onActiveChange\"]\n  }; }\n  static get style() { return settingsCss; }\n};\n\nconst settingsControlCss = \".settingsControl.hidden{display:none}.settingsControl{--vm-icon-transition:transform 0.3s ease}.settingsControl.active{--vm-icon-transform:rotate(90deg)}\";\n\nvar __awaiter$5 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nlet idCount$1 = 0;\nconst SettingsControl = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /**\n     * The name of the settings icon to resolve from the icon library.\n     */\n    this.icon = 'settings';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the settings menu this control manages is open.\n     */\n    this.expanded = false;\n    /** @internal */\n    this.i18n = {};\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n    this.hideTooltip = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['i18n']);\n  }\n  onComponentsChange() {\n    if (!isUndefined(this.vmSettings)) {\n      this.vmSettings.setController(this.host);\n    }\n  }\n  connectedCallback() {\n    idCount$1 += 1;\n    this.id = `vm-settings-control-${idCount$1}`;\n    watchComponentRegistry(this, 'vm-settings', regs => {\n      [this.vmSettings] = regs;\n    });\n  }\n  /**\n   * Focuses the control.\n   */\n  focusControl() {\n    var _a;\n    return __awaiter$5(this, void 0, void 0, function* () {\n      (_a = this.control) === null || _a === void 0 ? void 0 : _a.focusControl();\n    });\n  }\n  /**\n   * Removes focus from the control.\n   */\n  blurControl() {\n    var _a;\n    return __awaiter$5(this, void 0, void 0, function* () {\n      (_a = this.control) === null || _a === void 0 ? void 0 : _a.blurControl();\n    });\n  }\n  render() {\n    const hasSettings = !isUndefined(this.menu);\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        settingsControl: true,\n        hidden: !hasSettings,\n        active: hasSettings && this.expanded,\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control\", { identifier: this.id, menu: this.menu, hidden: !hasSettings, expanded: this.expanded, label: this.i18n.settings, ref: control => {\n        this.control = control;\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-icon\", { name: this.icon, library: this.icons }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-tooltip\", { hidden: this.hideTooltip || this.expanded, position: this.tooltipPosition, direction: this.tooltipDirection }, this.i18n.settings))));\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"vmSettings\": [\"onComponentsChange\"]\n  }; }\n  static get style() { return settingsControlCss; }\n};\n\nconst skeletonCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-skeleton-z-index)}@keyframes sheen{0%{background-position:200% 0}to{background-position:-200% 0}}.skeleton{width:100%;height:100%;display:flex;min-height:1rem;pointer-events:auto}.sheen.hidden{opacity:0;visibility:hidden;transition:var(--vm-fade-transition);pointer-events:none}.indicator{flex:1 1 auto;background:var(--vm-skeleton-color)}.skeleton.sheen .indicator{background:linear-gradient(\\n    270deg,\\n    var(--vm-skeleton-sheen-color),\\n    var(--vm-skeleton-color),\\n    var(--vm-skeleton-color),\\n    var(--vm-skeleton-sheen-color)\\n  );background-size:400% 100%;background-size:400% 100%;animation:sheen 8s ease-in-out infinite}\";\n\nconst Skeleton = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.hidden = false;\n    /**\n     * Determines which animation effect the skeleton will use.\n     * */\n    this.effect = 'sheen';\n    /** @internal */\n    this.ready = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['ready']);\n  }\n  onReadyChange() {\n    if (!this.ready) {\n      this.hidden = false;\n    }\n    else {\n      setTimeout(() => {\n        this.hidden = true;\n      }, 500);\n    }\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        skeleton: true,\n        hidden: this.hidden,\n        sheen: this.effect === 'sheen',\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"indicator\" })));\n  }\n  static get watchers() { return {\n    \"ready\": [\"onReadyChange\"]\n  }; }\n  static get style() { return skeletonCss; }\n};\n\nconst sliderCss = \":host{width:100%}.slider{width:100%}input{width:100%;-webkit-appearance:none;background:transparent;border:0;outline:0;cursor:pointer;box-sizing:border-box;border-radius:calc(var(--vm-slider-thumb-height) * 2);user-select:none;-webkit-user-select:none;touch-action:manipulation;color:var(--vm-slider-value-color);display:block;height:var(--vm-slider-track-height);margin:0;padding:0;transition:box-shadow 0.3s ease}input::-webkit-slider-runnable-track{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background-image:linear-gradient(\\n    to right,\\n    currentColor var(--vm-value, 0%),\\n    transparent var(--vm-value, 0%)\\n  );background-color:var(--vm-slider-track-color)}input::-webkit-slider-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow);-webkit-appearance:none;margin-top:calc(\\n    0px -\\n      calc(\\n        calc(var(--vm-slider-thumb-height) - var(--vm-slider-track-height)) / 2\\n      )\\n  )}input::-moz-range-track{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background-color:var(--vm-slider-track-color)}input::-moz-range-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow)}input::-moz-range-progress{background:currentColor;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height)}input::-ms-track{border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;color:transparent;background-color:var(--vm-slider-track-color)}input::-ms-fill-upper{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none}input::-ms-fill-lower{border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background:currentColor}input::-ms-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow);margin-top:0}input::-ms-tooltip{display:none}input:hover::-webkit-slider-runnable-track{height:var(--vm-slider-track-focused-height)}input:hover::-moz-range-track{height:var(--vm-slider-track-focused-height)}input:hover::-ms-track{height:var(--vm-slider-track-focused-height)}input:hover::-ms-fill-upper{height:var(--vm-slider-track-focused-height)}input:hover::-ms-fill-lower{height:var(--vm-slider-track-focused-height)}input:hover::-webkit-slider-thumb{opacity:1}input:hover::-moz-range-thumb{opacity:1}input:hover::-ms-thumb{opacity:1}input:focus{outline:0}input:focus::-webkit-slider-runnable-track{outline:0;height:var(--vm-slider-track-focused-height)}input:focus::-moz-range-track{outline:0;height:var(--vm-slider-track-focused-height)}input:focus::-ms-track{outline:0;height:var(--vm-slider-track-focused-height)}input::-moz-focus-outer{border:0}\";\n\nconst Slider = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmValueChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmValueChange\", 7);\n    this.vmFocus = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmBlur\", 7);\n    /**\n     * A number that specifies the granularity that the value must adhere to.\n     */\n    this.step = 1;\n    /**\n     * The lowest value in the range of permitted values.\n     */\n    this.min = 0;\n    /**\n     * The greatest permitted value.\n     */\n    this.max = 10;\n    /**\n     * The current value.\n     */\n    this.value = 5;\n    withComponentRegistry(this);\n  }\n  getPercentage() {\n    return `${(this.value / this.max) * 100}%`;\n  }\n  onValueChange(event) {\n    var _a;\n    const value = parseFloat((_a = event.target) === null || _a === void 0 ? void 0 : _a.value);\n    this.vmValueChange.emit(value);\n  }\n  calcTouchedValue(event) {\n    const input = event.target;\n    const touch = event.changedTouches[0];\n    const min = parseFloat(input.getAttribute('min'));\n    const max = parseFloat(input.getAttribute('max'));\n    const step = parseFloat(input.getAttribute('step'));\n    const delta = max - min;\n    // Calculate percentage.\n    let percent;\n    const clientRect = input.getBoundingClientRect();\n    const sliderThumbWidth = parseFloat(window\n      .getComputedStyle(this.host)\n      .getPropertyValue('--vm-slider-thumb-width'));\n    const thumbWidth = ((100 / clientRect.width) * (sliderThumbWidth / 2)) / 100;\n    percent = (100 / clientRect.width) * (touch.clientX - clientRect.left);\n    // Don't allow outside bounds.\n    percent = Math.max(0, Math.min(percent, 100));\n    // Factor in the thumb offset.\n    if (percent < 50) {\n      percent -= (100 - percent * 2) * thumbWidth;\n    }\n    else if (percent > 50) {\n      percent += (percent - 50) * 2 * thumbWidth;\n    }\n    const position = delta * (percent / 100);\n    if (step >= 1) {\n      return min + Math.round(position / step) * step;\n    }\n    /**\n     * This part differs from original implementation to save space. Only supports 2 decimal\n     * places (0.01) as the step.\n     */\n    return min + parseFloat(position.toFixed(2));\n  }\n  /**\n   * Basically input[range=\"type\"] on touch devices sucks (particularly iOS), so this helps make it\n   * better.\n   *\n   * @see https://github.com/sampotts/rangetouch\n   */\n  onTouch(event) {\n    const input = event.target;\n    if (input.disabled)\n      return;\n    event.preventDefault();\n    this.value = this.calcTouchedValue(event);\n    this.vmValueChange.emit(this.value);\n    input.dispatchEvent(new window.Event(event.type === 'touchend' ? 'change' : 'input', {\n      bubbles: true,\n    }));\n  }\n  render() {\n    var _a;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"slider\", style: {\n        '--vm-value': this.getPercentage(),\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"input\", { type: \"range\", step: this.step, min: this.min, max: this.max, value: this.value, autocomplete: \"off\", \"aria-label\": this.label, \"aria-valuemin\": this.min, \"aria-valuemax\": this.max, \"aria-valuenow\": this.value, \"aria-valuetext\": (_a = this.valueText) !== null && _a !== void 0 ? _a : this.getPercentage(), \"aria-orientation\": \"horizontal\", onInput: this.onValueChange.bind(this), onFocus: () => {\n        this.vmFocus.emit();\n      }, onBlur: () => {\n        this.vmBlur.emit();\n      }, onTouchStart: this.onTouch.bind(this), onTouchMove: this.onTouch.bind(this), onTouchEnd: this.onTouch.bind(this) })));\n  }\n  get host() { return this; }\n  static get style() { return sliderCss; }\n};\n\nconst spinnerCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-spinner-z-index)}.spinner{width:100%;height:100%;display:flex;justify-content:center;align-items:center;opacity:0;visibility:hidden;pointer-events:none;transition:var(--vm-fade-transition)}.spinner.hidden{display:none}.spinner.active{opacity:1;visibility:visible}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.spin{background:transparent;margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;pointer-events:none;border-top:var(--vm-spinner-thickness) solid var(--vm-spinner-fill-color);border-left:var(--vm-spinner-thickness) solid var(--vm-spinner-fill-color);border-right:var(--vm-spinner-thickness) solid var(--vm-spinner-track-color);border-bottom:var(--vm-spinner-thickness) solid var(--vm-spinner-track-color);transform:translateZ(0)}.spin.active{animation:spin var(--vm-spinner-spin-duration) infinite\\n    var(--vm-spinner-spin-timing-func)}.spin,.spin::after{border-radius:50%;width:var(--vm-spinner-width);height:var(--vm-spinner-height)}\";\n\nconst Spinner = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmWillShow = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmWillShow\", 3);\n    this.vmWillHide = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmWillHide\", 3);\n    this.blacklist = [Provider.YouTube];\n    this.isHidden = true;\n    this.isActive = false;\n    /** @internal */\n    this.isVideoView = false;\n    /**\n     * Whether the spinner should be active when the player is booting or media is loading.\n     */\n    this.showWhenMediaLoading = false;\n    /** @internal */\n    this.playbackReady = false;\n    /** @internal */\n    this.buffering = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, [\n      'isVideoView',\n      'buffering',\n      'playbackReady',\n      'currentProvider',\n    ]);\n  }\n  onVideoViewChange() {\n    this.isHidden = !this.isVideoView;\n    this.onVisiblityChange();\n  }\n  onActiveChange() {\n    this.isActive =\n      this.buffering || (this.showWhenMediaLoading && !this.playbackReady);\n    this.onVisiblityChange();\n  }\n  onVisiblityChange() {\n    !this.isHidden && this.isActive\n      ? this.vmWillShow.emit()\n      : this.vmWillHide.emit();\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        spinner: true,\n        hidden: this.isHidden || this.blacklist.includes(this.currentProvider),\n        active: this.isActive,\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        spin: true,\n        active: this.isActive,\n      } }, \"Loading...\")));\n  }\n  static get watchers() { return {\n    \"isVideoView\": [\"onVideoViewChange\"],\n    \"buffering\": [\"onActiveChange\"],\n    \"playbackReady\": [\"onActiveChange\"]\n  }; }\n  static get style() { return spinnerCss; }\n};\n\nvar __awaiter$4 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nlet idCount = 0;\nconst Submenu = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmOpenSubmenu = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmOpenSubmenu\", 7);\n    this.vmCloseSubmenu = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCloseSubmenu\", 7);\n    /**\n     * The direction the submenu should slide in from.\n     */\n    this.slideInDirection = 'right';\n    /**\n     * Whether the submenu is open/closed.\n     */\n    this.active = false;\n    withComponentRegistry(this);\n  }\n  connectedCallback() {\n    this.genId();\n  }\n  /**\n   * Returns the controller (`vm-menu-item`) for this submenu.\n   */\n  getController() {\n    return __awaiter$4(this, void 0, void 0, function* () {\n      return this.controller;\n    });\n  }\n  /**\n   * Returns the menu (`vm-menu`) for this submenu.\n   */\n  getMenu() {\n    return __awaiter$4(this, void 0, void 0, function* () {\n      return this.menu;\n    });\n  }\n  /**\n   * Returns the height of the submenu controller.\n   */\n  getControllerHeight() {\n    var _a, _b;\n    return __awaiter$4(this, void 0, void 0, function* () {\n      return (_b = (_a = this.controller) === null || _a === void 0 ? void 0 : _a.getHeight()) !== null && _b !== void 0 ? _b : 0;\n    });\n  }\n  getControllerHeightSync() {\n    var _a;\n    const el = (_a = this.controller) === null || _a === void 0 ? void 0 : _a.shadowRoot.querySelector(\"[role='menuitem']\");\n    return el ? parseFloat(window.getComputedStyle(el).height) : 0;\n  }\n  onMenuOpen() {\n    this.active = true;\n    this.vmOpenSubmenu.emit(this.host);\n  }\n  onMenuClose() {\n    this.active = false;\n    this.vmCloseSubmenu.emit(this.host);\n  }\n  genId() {\n    idCount += 1;\n    this.id = `vm-submenu-${idCount}`;\n  }\n  getControllerId() {\n    return `${this.id}-controller`;\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-item\", { identifier: this.getControllerId(), menu: this.menu, label: this.label, hint: this.hint, expanded: this.active, ref: el => {\n        (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n          this.controller = el;\n        });\n      } }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu\", { identifier: this.id, controller: this.controller, active: this.active, slideInDirection: this.slideInDirection, onVmOpen: this.onMenuOpen.bind(this), onVmClose: this.onMenuClose.bind(this), ref: el => {\n        (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n          this.menu = el;\n        });\n      }, style: { top: `${this.getControllerHeightSync() + 1}px` } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null))));\n  }\n  get host() { return this; }\n};\n\nconst timeCss = \".time{display:flex;align-items:center;color:var(--vm-time-color);font-size:var(--vm-time-font-size);font-weight:var(--vm-time-font-weight)}\";\n\nconst Time = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /**\n     * The length of time in seconds.\n     */\n    this.seconds = 0;\n    /**\n     * Whether the time should always show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n    this.alwaysShowHours = false;\n    withComponentRegistry(this);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"time\", \"aria-label\": this.label }, formatTime(Math.max(0, this.seconds), this.alwaysShowHours)));\n  }\n  static get style() { return timeCss; }\n};\n\nconst timeProgressCss = \".timeProgress{display:flex;width:100%;height:100%;align-items:center;color:var(--vm-time-color)}.separator{margin:0 4px}\";\n\nconst TimeProgress = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /**\n     * The string used to separate the current time and end time.\n     */\n    this.separator = '/';\n    /**\n     * Whether the times should always show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n    this.alwaysShowHours = false;\n    withComponentRegistry(this);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"timeProgress\" }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-current-time\", { alwaysShowHours: this.alwaysShowHours }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"span\", { class: \"separator\" }, this.separator), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-end-time\", { alwaysShowHours: this.alwaysShowHours })));\n  }\n  static get style() { return timeProgressCss; }\n};\n\nconst tooltipCss = \":host{display:contents;z-index:var(--vm-tooltip-z-index)}.tooltip{left:var(--vm-tooltip-left, 50%);transform:translateX(-50%);line-height:1.3;pointer-events:none;position:absolute;opacity:0;white-space:nowrap;visibility:hidden;background:var(--vm-tooltip-bg);border-radius:var(--vm-tooltip-border-radius);box-sizing:border-box;box-shadow:var(--vm-tooltip-box-shadow);color:var(--vm-tooltip-color);font-size:var(--vm-tooltip-font-size);padding:var(--vm-tooltip-padding);transition:opacity var(--vm-tooltip-fade-duration)\\n    var(--vm-tooltip-fade-timing-func)}.tooltip[aria-hidden='false']{opacity:1;visibility:visible}.tooltip.hidden{display:none}.tooltip.onTop{bottom:100%;margin-bottom:var(--vm-tooltip-spacing)}.tooltip.onBottom{top:100%;margin-top:var(--vm-tooltip-spacing)}.tooltip.growLeft{left:auto;right:0;transform:none}.tooltip.growRight{left:0;transform:none}\";\n\nlet tooltipIdCount = 0;\nconst Tooltip = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    // Avoid tooltips flashing when player initializing.\n    this.hasLoaded = false;\n    /**\n     * Whether the tooltip is displayed or not.\n     */\n    this.hidden = false;\n    /**\n     * Whether the tooltip is visible or not.\n     */\n    this.active = false;\n    /**\n     * Determines if the tooltip appears on top/bottom of it's parent.\n     */\n    this.position = 'top';\n    /** @internal */\n    this.isTouch = false;\n    /** @internal */\n    this.isMobile = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isTouch', 'isMobile']);\n  }\n  componentDidLoad() {\n    this.hasLoaded = true;\n  }\n  getId() {\n    // eslint-disable-next-line prefer-destructuring\n    const id = this.host.id;\n    if (isString(id) && id.length > 0)\n      return id;\n    tooltipIdCount += 1;\n    return `vm-tooltip-${tooltipIdCount}`;\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { id: this.getId(), role: \"tooltip\", \"aria-hidden\": !this.active || this.isTouch || this.isMobile ? 'true' : 'false', class: {\n        tooltip: true,\n        hidden: !this.hasLoaded || this.hidden,\n        onTop: this.position === 'top',\n        onBottom: this.position === 'bottom',\n        growLeft: this.direction === 'left',\n        growRight: this.direction === 'right',\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n  get host() { return this; }\n  static get style() { return tooltipCss; }\n};\n\nconst uiCss = \":host{z-index:var(--vm-ui-z-index)}.ui{width:100%;pointer-events:none}.ui.hidden{display:none}.ui.video{position:absolute;top:0;left:0;height:100%}\";\n\nconst UI = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /** @internal */\n    this.isVideoView = false;\n    /** @internal */\n    this.playsinline = false;\n    /** @internal */\n    this.isFullscreenActive = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, [\n      'isVideoView',\n      'playsinline',\n      'isFullscreenActive',\n    ]);\n  }\n  render() {\n    const canShowCustomUI = !IS_IOS ||\n      !this.isVideoView ||\n      (this.playsinline && !this.isFullscreenActive);\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        ui: true,\n        hidden: !canShowCustomUI,\n        video: this.isVideoView,\n      } }, canShowCustomUI && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n  static get style() { return uiCss; }\n};\n\nvar __awaiter$3 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst Video = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    /**\n     * @internal Whether an external SDK will attach itself to the media player and control it.\n     */\n    this.willAttach = false;\n    /**\n     * @internal Whether an external SDK will manage the text tracks.\n     */\n    this.hasCustomTextManager = false;\n    /** @inheritdoc */\n    this.preload = 'metadata';\n    withComponentRegistry(this);\n    withProviderConnect(this);\n  }\n  onProviderConnect(event) {\n    if (this.willAttach)\n      event.stopImmediatePropagation();\n  }\n  onProviderDisconnect(event) {\n    if (this.willAttach)\n      event.stopImmediatePropagation();\n  }\n  /** @internal */\n  getAdapter() {\n    var _a;\n    return __awaiter$3(this, void 0, void 0, function* () {\n      return (_a = this.fileProvider) === null || _a === void 0 ? void 0 : _a.getAdapter();\n    });\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-file\", { noConnect: true, willAttach: this.willAttach, crossOrigin: this.crossOrigin, poster: this.poster, preload: this.preload, controlsList: this.controlsList, autoPiP: this.autoPiP, disablePiP: this.disablePiP, disableRemotePlayback: this.disableRemotePlayback, hasCustomTextManager: this.hasCustomTextManager, mediaTitle: this.mediaTitle, viewType: ViewType.Video, ref: (el) => {\n        this.fileProvider = el;\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n};\n\n/**\n * @see https://developer.vimeo.com/player/sdk/reference#events-for-playback-controls\n */\nvar VimeoEvent;\n(function (VimeoEvent) {\n  VimeoEvent[\"Play\"] = \"play\";\n  VimeoEvent[\"Pause\"] = \"pause\";\n  VimeoEvent[\"Seeking\"] = \"seeking\";\n  VimeoEvent[\"Seeked\"] = \"seeked\";\n  VimeoEvent[\"TimeUpdate\"] = \"timeupdate\";\n  VimeoEvent[\"VolumeChange\"] = \"volumechange\";\n  VimeoEvent[\"DurationChange\"] = \"durationchange\";\n  VimeoEvent[\"FullscreenChange\"] = \"fullscreenchange\";\n  VimeoEvent[\"CueChange\"] = \"cuechange\";\n  VimeoEvent[\"Progress\"] = \"progress\";\n  VimeoEvent[\"Error\"] = \"error\";\n  VimeoEvent[\"PlaybackRateChange\"] = \"playbackratechange\";\n  VimeoEvent[\"Loaded\"] = \"loaded\";\n  VimeoEvent[\"BufferStart\"] = \"bufferstart\";\n  VimeoEvent[\"BufferEnd\"] = \"bufferend\";\n  VimeoEvent[\"TextTrackChange\"] = \"texttrackchange\";\n  VimeoEvent[\"Waiting\"] = \"waiting\";\n  VimeoEvent[\"Ended\"] = \"ended\";\n})(VimeoEvent || (VimeoEvent = {}));\n\nconst vimeoCss = \":host{z-index:var(--vm-media-z-index)}vm-embed{position:absolute;top:0;left:0;width:100%;height:100%}vm-embed.hideControls{display:block;width:100%;height:auto;position:relative}\";\n\nvar __awaiter$2 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst videoInfoCache = new Map();\nconst Vimeo = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmLoadStart = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmError\", 7);\n    this.defaultInternalState = {};\n    this.volume = 50;\n    this.hasLoaded = false;\n    this.internalState = {\n      paused: true,\n      playing: false,\n      seeking: false,\n      currentTime: 0,\n      buffered: 0,\n      playbackStarted: false,\n      playRequest: false,\n    };\n    this.embedSrc = '';\n    this.mediaTitle = '';\n    /**\n     * Whether to display the video owner's name.\n     */\n    this.byline = true;\n    /**\n     * Whether to display the video owner's portrait.\n     */\n    this.portrait = true;\n    /**\n     * Turns off automatically determining the aspect ratio of the current video.\n     */\n    this.noAutoAspectRatio = false;\n    /**\n     * Whether cookies should be enabled on the embed.\n     */\n    this.cookies = true;\n    /** @internal */\n    this.language = 'en';\n    /** @internal */\n    this.aspectRatio = '16:9';\n    /** @internal */\n    this.autoplay = false;\n    /** @internal */\n    this.controls = false;\n    /** @internal */\n    this.loop = false;\n    /** @internal */\n    this.muted = false;\n    /** @internal */\n    this.playsinline = false;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withProviderContext(this);\n  }\n  onVideoIdChange() {\n    this.cancelTimeUpdates();\n    if (!this.videoId) {\n      this.embedSrc = '';\n      return;\n    }\n    this.embedSrc = `${this.getOrigin()}/video/${this.videoId}`;\n    this.pendingDurationCall = deferredPromise();\n    this.pendingMediaTitleCall = deferredPromise();\n    this.fetchVideoInfo = this.getVideoInfo();\n  }\n  onCustomPosterChange() {\n    this.dispatch('currentPoster', this.poster);\n  }\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    this.dispatch('viewType', ViewType.Video);\n    this.onVideoIdChange();\n    this.defaultInternalState = Object.assign({}, this.internalState);\n  }\n  componentWillLoad() {\n    this.initialMuted = this.muted;\n  }\n  disconnectedCallback() {\n    this.cancelTimeUpdates();\n    this.pendingPlayRequest = undefined;\n  }\n  getOrigin() {\n    return 'https://player.vimeo.com';\n  }\n  getPreconnections() {\n    return [\n      this.getOrigin(),\n      'https://i.vimeocdn.com',\n      'https://f.vimeocdn.com',\n      'https://fresnel.vimeocdn.com',\n    ];\n  }\n  remoteControl(command, arg) {\n    return this.embed.postMessage({\n      method: command,\n      value: arg,\n    });\n  }\n  buildParams() {\n    return {\n      byline: this.byline,\n      color: this.color,\n      portrait: this.portrait,\n      autopause: false,\n      transparent: false,\n      autoplay: this.autoplay,\n      muted: this.initialMuted,\n      playsinline: this.playsinline,\n      dnt: !this.cookies,\n    };\n  }\n  getVideoInfo() {\n    return __awaiter$2(this, void 0, void 0, function* () {\n      if (videoInfoCache.has(this.videoId))\n        return videoInfoCache.get(this.videoId);\n      return window\n        .fetch(`https://vimeo.com/api/oembed.json?url=${this.embedSrc}`)\n        .then(response => response.json())\n        .then(data => {\n        var _a;\n        const thumnailRegex = /vimeocdn.com\\/video\\/(.*)?_/;\n        const thumbnailId = (_a = data === null || data === void 0 ? void 0 : data.thumbnail_url) === null || _a === void 0 ? void 0 : _a.match(thumnailRegex)[1];\n        const poster = `https://i.vimeocdn.com/video/${thumbnailId}_1920x1080.jpg`;\n        const info = { poster, width: data === null || data === void 0 ? void 0 : data.width, height: data === null || data === void 0 ? void 0 : data.height };\n        videoInfoCache.set(this.videoId, info);\n        return info;\n      });\n    });\n  }\n  onTimeChange(time) {\n    if (this.internalState.currentTime === time)\n      return;\n    this.dispatch('currentTime', time);\n    // This is how we detect `seeking` early.\n    if (Math.abs(this.internalState.currentTime - time) > 1.5) {\n      this.internalState.seeking = true;\n      this.dispatch('seeking', true);\n      if (this.internalState.playing && this.internalState.buffered < time) {\n        this.dispatch('buffering', true);\n      }\n      // Player doesn't resume playback once seeked.\n      window.clearTimeout(this.pendingPlayRequest);\n      if (!this.internalState.paused) {\n        this.internalState.playRequest = true;\n      }\n      this.remoteControl(this.internalState.playbackStarted\n        ? \"pause\" /* Pause */\n        : \"play\" /* Play */);\n    }\n    this.internalState.currentTime = time;\n  }\n  cancelTimeUpdates() {\n    if (isNumber(this.timeRAF))\n      window.cancelAnimationFrame(this.timeRAF);\n  }\n  requestTimeUpdates() {\n    this.remoteControl(\"getCurrentTime\" /* GetCurrentTime */);\n    this.timeRAF = window.requestAnimationFrame(() => {\n      this.requestTimeUpdates();\n    });\n  }\n  onSeeked() {\n    if (!this.internalState.seeking)\n      return;\n    this.dispatch('seeking', false);\n    this.internalState.seeking = false;\n    if (this.internalState.playRequest) {\n      window.setTimeout(() => {\n        this.remoteControl(\"play\" /* Play */);\n      }, 150);\n    }\n  }\n  onVimeoMethod(method, arg) {\n    var _a, _b;\n    switch (method) {\n      case \"getCurrentTime\" /* GetCurrentTime */:\n        if (!this.internalState.seeking)\n          this.onTimeChange(arg);\n        break;\n      case \"getDuration\" /* GetDuration */:\n        (_a = this.pendingDurationCall) === null || _a === void 0 ? void 0 : _a.resolve(arg);\n        break;\n      case \"getVideoTitle\" /* GetVideoTitle */:\n        (_b = this.pendingMediaTitleCall) === null || _b === void 0 ? void 0 : _b.resolve(arg);\n        break;\n    }\n  }\n  onLoaded() {\n    var _a, _b;\n    if (this.hasLoaded)\n      return;\n    this.pendingPlayRequest = undefined;\n    this.internalState = Object.assign({}, this.defaultInternalState);\n    this.dispatch('currentSrc', this.embedSrc);\n    this.dispatch('mediaType', MediaType.Video);\n    this.remoteControl(\"getDuration\" /* GetDuration */);\n    this.remoteControl(\"getVideoTitle\" /* GetVideoTitle */);\n    Promise.all([\n      this.fetchVideoInfo,\n      (_a = this.pendingDurationCall) === null || _a === void 0 ? void 0 : _a.promise,\n      (_b = this.pendingMediaTitleCall) === null || _b === void 0 ? void 0 : _b.promise,\n    ]).then(([info, duration, mediaTitle]) => {\n      var _a, _b, _c;\n      this.requestTimeUpdates();\n      this.dispatch('aspectRatio', `${(_a = info === null || info === void 0 ? void 0 : info.width) !== null && _a !== void 0 ? _a : 16}:${(_b = info === null || info === void 0 ? void 0 : info.height) !== null && _b !== void 0 ? _b : 9}`);\n      this.dispatch('currentPoster', (_c = this.poster) !== null && _c !== void 0 ? _c : info === null || info === void 0 ? void 0 : info.poster);\n      this.dispatch('duration', duration !== null && duration !== void 0 ? duration : -1);\n      this.dispatch('mediaTitle', mediaTitle);\n      this.dispatch('playbackReady', true);\n    });\n    this.hasLoaded = true;\n  }\n  onVimeoEvent(event, payload) {\n    switch (event) {\n      case \"ready\" /* Ready */:\n        Object.values(VimeoEvent).forEach(e => {\n          this.remoteControl(\"addEventListener\" /* AddEventListener */, e);\n        });\n        break;\n      case \"loaded\" /* Loaded */:\n        this.onLoaded();\n        break;\n      case \"play\" /* Play */:\n        // Incase of autoplay which might skip `Loaded` event.\n        this.onLoaded();\n        this.internalState.paused = false;\n        this.dispatch('paused', false);\n        break;\n      case \"playProgress\" /* PlayProgress */:\n        if (!this.internalState.playing) {\n          this.dispatch('playing', true);\n          this.internalState.playing = true;\n          this.internalState.playbackStarted = true;\n          this.pendingPlayRequest = window.setTimeout(() => {\n            this.internalState.playRequest = false;\n            this.pendingPlayRequest = undefined;\n          }, 1000);\n        }\n        this.dispatch('buffering', false);\n        this.onSeeked();\n        break;\n      case \"pause\" /* Pause */:\n        this.internalState.paused = true;\n        this.internalState.playing = false;\n        this.dispatch('paused', true);\n        this.dispatch('buffering', false);\n        break;\n      case \"loadProgress\" /* LoadProgress */:\n        this.internalState.buffered = payload.seconds;\n        this.dispatch('buffered', payload.seconds);\n        break;\n      case \"bufferstart\" /* BufferStart */:\n        this.dispatch('buffering', true);\n        // Attempt to detect `play` events early.\n        if (this.internalState.paused) {\n          this.internalState.paused = false;\n          this.dispatch('paused', false);\n          this.dispatch('playbackStarted', true);\n        }\n        break;\n      case \"bufferend\" /* BufferEnd */:\n        this.dispatch('buffering', false);\n        if (this.internalState.paused)\n          this.onSeeked();\n        break;\n      case \"volumechange\" /* VolumeChange */:\n        if (payload.volume > 0) {\n          const newVolume = Math.floor(payload.volume * 100);\n          this.dispatch('muted', false);\n          if (this.volume !== newVolume) {\n            this.volume = newVolume;\n            this.dispatch('volume', this.volume);\n          }\n        }\n        else {\n          this.dispatch('muted', true);\n        }\n        break;\n      case \"durationchange\" /* DurationChange */:\n        this.dispatch('duration', payload.duration);\n        break;\n      case \"playbackratechange\" /* PlaybackRateChange */:\n        this.dispatch('playbackRate', payload.playbackRate);\n        break;\n      case \"fullscreenchange\" /* FullscreenChange */:\n        this.dispatch('isFullscreenActive', payload.fullscreen);\n        break;\n      case \"finish\" /* Finish */:\n        if (this.loop) {\n          this.remoteControl(\"setCurrentTime\" /* SetCurrentTime */, 0);\n          setTimeout(() => {\n            this.remoteControl(\"play\" /* Play */);\n          }, 200);\n        }\n        else {\n          this.dispatch('playbackEnded', true);\n        }\n        break;\n      case \"error\" /* Error */:\n        this.vmError.emit(payload);\n        break;\n    }\n  }\n  onEmbedSrcChange() {\n    this.hasLoaded = false;\n    this.vmLoadStart.emit();\n    this.dispatch('viewType', ViewType.Video);\n  }\n  onEmbedMessage(event) {\n    const message = event.detail;\n    if (!isUndefined(message.event))\n      this.onVimeoEvent(message.event, message.data);\n    if (!isUndefined(message.method))\n      this.onVimeoMethod(message.method, message.value);\n  }\n  adjustPosition() {\n    if (this.controls) {\n      return {};\n    }\n    const [aw, ah] = this.aspectRatio.split(':').map(r => parseInt(r, 10));\n    const height = 240;\n    const padding = (100 / aw) * ah;\n    const offset = (height - padding) / (height / 50);\n    return {\n      paddingBottom: `${height}%`,\n      transform: `translateY(-${offset + 0.02}%)`,\n    };\n  }\n  /** @internal */\n  getAdapter() {\n    return __awaiter$2(this, void 0, void 0, function* () {\n      const canPlayRegex = /vimeo(?:\\.com|)\\/([0-9]{9,})/;\n      const fileRegex = /vimeo\\.com\\/external\\/[0-9]+\\..+/;\n      return {\n        getInternalPlayer: () => __awaiter$2(this, void 0, void 0, function* () { return this.embed; }),\n        play: () => __awaiter$2(this, void 0, void 0, function* () {\n          this.remoteControl(\"play\" /* Play */);\n        }),\n        pause: () => __awaiter$2(this, void 0, void 0, function* () {\n          this.remoteControl(\"pause\" /* Pause */);\n        }),\n        canPlay: (type) => __awaiter$2(this, void 0, void 0, function* () { return isString(type) && !fileRegex.test(type) && canPlayRegex.test(type); }),\n        setCurrentTime: (time) => __awaiter$2(this, void 0, void 0, function* () {\n          if (time !== this.internalState.currentTime) {\n            this.remoteControl(\"setCurrentTime\" /* SetCurrentTime */, time);\n          }\n        }),\n        setMuted: (muted) => __awaiter$2(this, void 0, void 0, function* () {\n          if (!muted)\n            this.volume = this.volume > 0 ? this.volume : 30;\n          this.remoteControl(\"setVolume\" /* SetVolume */, muted ? 0 : this.volume / 100);\n        }),\n        setVolume: (volume) => __awaiter$2(this, void 0, void 0, function* () {\n          if (!this.muted) {\n            this.remoteControl(\"setVolume\" /* SetVolume */, volume / 100);\n          }\n          else {\n            // Confirm volume was set.\n            this.dispatch('volume', volume);\n          }\n        }),\n        // @TODO how to check if Vimeo pro?\n        canSetPlaybackRate: () => __awaiter$2(this, void 0, void 0, function* () { return false; }),\n        setPlaybackRate: (rate) => __awaiter$2(this, void 0, void 0, function* () {\n          this.remoteControl(\"setPlaybackRate\" /* SetPlaybackRate */, rate);\n        }),\n      };\n    });\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-embed\", { class: { hideControls: !this.controls }, style: this.adjustPosition(), embedSrc: this.embedSrc, mediaTitle: this.mediaTitle, origin: this.getOrigin(), params: this.buildParams(), decoder: decodeJSON, preconnections: this.getPreconnections(), onVmEmbedMessage: this.onEmbedMessage.bind(this), onVmEmbedSrcChange: this.onEmbedSrcChange.bind(this), ref: (el) => {\n        this.embed = el;\n      } }));\n  }\n  static get watchers() { return {\n    \"videoId\": [\"onVideoIdChange\"],\n    \"poster\": [\"onCustomPosterChange\"]\n  }; }\n  static get style() { return vimeoCss; }\n};\n\nconst volumeControlCss = \".volumeControl{align-items:center;display:flex;position:relative;pointer-events:auto;box-sizing:border-box}vm-slider{width:75px;height:100%;margin:0;max-width:0;position:relative;z-index:3;transition:margin 0.2s cubic-bezier(0.4, 0, 1, 1),\\n    max-width 0.2s cubic-bezier(0.4, 0, 1, 1);margin-left:calc(var(--vm-control-spacing) / 2) !important;visibility:hidden}vm-slider:hover{cursor:pointer}vm-slider.hidden{display:none}vm-slider.active{max-width:75px;visibility:visible;margin:0 calc(var(--vm-control-spacing) / 2)}\";\n\nvar __awaiter$1 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst VolumeControl = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.keyboardDisposal = new Disposal();\n    this.prevMuted = false;\n    this.currentVolume = 50;\n    this.isSliderActive = false;\n    /**\n     * The name of the low volume icon to resolve from the icon library.\n     */\n    this.lowVolumeIcon = 'volume-low';\n    /**\n     * The name of the high volume icon to resolve from the icon library.\n     */\n    this.highVolumeIcon = 'volume-high';\n    /**\n     * The name of the muted volume icon to resolve from the icon library.\n     */\n    this.mutedIcon = 'volume-mute';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should be hidden.\n     */\n    this.hideTooltip = false;\n    /**\n     * A pipe (`/`) separated string of JS keyboard keys, that when caught in a `keydown` event, will\n     * toggle the muted state of the player.\n     */\n    this.muteKeys = 'm';\n    /**\n     * Prevents the volume being changed using the Up/Down arrow keys.\n     */\n    this.noKeyboard = false;\n    /** @internal */\n    this.muted = false;\n    /** @internal */\n    this.volume = 50;\n    /** @internal */\n    this.isMobile = false;\n    /** @internal */\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['volume', 'muted', 'isMobile', 'i18n']);\n  }\n  onNoKeyboardChange() {\n    return __awaiter$1(this, void 0, void 0, function* () {\n      this.keyboardDisposal.empty();\n      if (this.noKeyboard)\n        return;\n      const player = yield findPlayer(this);\n      if (isUndefined(player))\n        return;\n      this.keyboardDisposal.add(listen(player, 'keydown', (event) => {\n        if (event.key !== 'ArrowUp' && event.key !== 'ArrowDown')\n          return;\n        const isUpArrow = event.key === 'ArrowUp';\n        const newVolume = isUpArrow\n          ? Math.min(100, this.volume + 5)\n          : Math.max(0, this.volume - 5);\n        this.dispatch('volume', parseInt(`${newVolume}`, 10));\n      }));\n    });\n  }\n  onPlayerVolumeChange() {\n    this.currentVolume = this.muted ? 0 : this.volume;\n    if (!this.muted && this.prevMuted && this.volume === 0) {\n      this.dispatch('volume', 30);\n    }\n    this.prevMuted = this.muted;\n  }\n  connectedCallback() {\n    this.prevMuted = this.muted;\n    this.dispatch = createDispatcher(this);\n    this.onNoKeyboardChange();\n  }\n  disconnectedCallback() {\n    this.keyboardDisposal.empty();\n  }\n  onShowSlider() {\n    clearTimeout(this.hideSliderTimeout);\n    this.isSliderActive = true;\n  }\n  onHideSlider() {\n    this.hideSliderTimeout = setTimeout(() => {\n      this.isSliderActive = false;\n    }, 100);\n  }\n  onVolumeChange(event) {\n    const newVolume = event.detail;\n    this.currentVolume = newVolume;\n    this.dispatch('volume', newVolume);\n    this.dispatch('muted', newVolume === 0);\n  }\n  onKeyDown(event) {\n    if (event.key !== 'ArrowLeft' && event.key !== 'ArrowRight')\n      return;\n    event.stopPropagation();\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"volumeControl\", onMouseEnter: this.onShowSlider.bind(this), onMouseLeave: this.onHideSlider.bind(this) }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-mute-control\", { keys: this.muteKeys, lowVolumeIcon: this.lowVolumeIcon, highVolumeIcon: this.highVolumeIcon, mutedIcon: this.mutedIcon, icons: this.icons, tooltipPosition: this.tooltipPosition, tooltipDirection: this.tooltipDirection, hideTooltip: this.hideTooltip, onVmFocus: this.onShowSlider.bind(this), onVmBlur: this.onHideSlider.bind(this) }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-slider\", { class: {\n        hidden: this.isMobile,\n        active: this.isSliderActive,\n      }, step: 5, max: 100, value: this.currentVolume, label: this.i18n.volume, onKeyDown: this.onKeyDown.bind(this), onVmFocus: this.onShowSlider.bind(this), onVmBlur: this.onHideSlider.bind(this), onVmValueChange: this.onVolumeChange.bind(this) })));\n  }\n  static get watchers() { return {\n    \"noKeyboard\": [\"onNoKeyboardChange\"],\n    \"muted\": [\"onPlayerVolumeChange\"],\n    \"volume\": [\"onPlayerVolumeChange\"]\n  }; }\n  static get style() { return volumeControlCss; }\n};\n\nconst mapYouTubePlaybackQuality = (quality) => {\n  switch (quality) {\n    case \"unknown\" /* Unknown */:\n      return undefined;\n    case \"tiny\" /* Tiny */:\n      return '144p';\n    case \"small\" /* Small */:\n      return '240p';\n    case \"medium\" /* Medium */:\n      return '360p';\n    case \"large\" /* Large */:\n      return '480p';\n    case \"hd720\" /* Hd720 */:\n      return '720p';\n    case \"hd1080\" /* Hd1080 */:\n      return '1080p';\n    case \"highres\" /* Highres */:\n      return '1440p';\n    case \"max\" /* Max */:\n      return '2160p';\n    default:\n      return undefined;\n  }\n};\n\nconst youtubeCss = \":host{z-index:var(--vm-media-z-index)}\";\n\nvar __awaiter = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst posterCache = new Map();\nconst YouTube = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmLoadStart = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoadStart\", 7);\n    this.defaultInternalState = {};\n    this.internalState = {\n      paused: true,\n      duration: 0,\n      seeking: false,\n      playbackReady: false,\n      playbackStarted: false,\n      currentTime: 0,\n      lastTimeUpdate: 0,\n      playbackRate: 1,\n      state: -1,\n    };\n    this.embedSrc = '';\n    this.mediaTitle = '';\n    /**\n     * Whether cookies should be enabled on the embed.\n     */\n    this.cookies = false;\n    /**\n     * Whether the fullscreen control should be shown.\n     */\n    this.showFullscreenControl = true;\n    /** @internal */\n    this.language = 'en';\n    /** @internal */\n    this.autoplay = false;\n    /** @internal */\n    this.controls = false;\n    /** @internal */\n    this.loop = false;\n    /** @internal */\n    this.muted = false;\n    /** @internal */\n    this.playsinline = false;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withProviderContext(this);\n  }\n  onVideoIdChange() {\n    if (!this.videoId) {\n      this.embedSrc = '';\n      return;\n    }\n    this.embedSrc = `${this.getOrigin()}/embed/${this.videoId}`;\n    this.fetchPosterURL = this.findPosterURL();\n  }\n  onCustomPosterChange() {\n    this.dispatch('currentPoster', this.poster);\n  }\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    this.dispatch('viewType', ViewType.Video);\n    this.onVideoIdChange();\n    this.defaultInternalState = Object.assign({}, this.internalState);\n  }\n  componentWillLoad() {\n    this.initialMuted = this.muted;\n  }\n  /** @internal */\n  getAdapter() {\n    return __awaiter(this, void 0, void 0, function* () {\n      const canPlayRegex = /(?:youtu\\.be|youtube|youtube\\.com|youtube-nocookie\\.com)\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=|)((?:\\w|-){11})/;\n      return {\n        getInternalPlayer: () => __awaiter(this, void 0, void 0, function* () { return this.embed; }),\n        play: () => __awaiter(this, void 0, void 0, function* () {\n          this.remoteControl(\"playVideo\" /* Play */);\n        }),\n        pause: () => __awaiter(this, void 0, void 0, function* () {\n          this.remoteControl(\"pauseVideo\" /* Pause */);\n        }),\n        canPlay: (type) => __awaiter(this, void 0, void 0, function* () { return isString(type) && canPlayRegex.test(type); }),\n        setCurrentTime: (time) => __awaiter(this, void 0, void 0, function* () {\n          if (time !== this.internalState.currentTime) {\n            this.remoteControl(\"seekTo\" /* Seek */, time);\n          }\n        }),\n        setMuted: (muted) => __awaiter(this, void 0, void 0, function* () {\n          muted\n            ? this.remoteControl(\"mute\" /* Mute */)\n            : this.remoteControl(\"unMute\" /* Unmute */);\n        }),\n        setVolume: (volume) => __awaiter(this, void 0, void 0, function* () {\n          this.remoteControl(\"setVolume\" /* SetVolume */, volume);\n        }),\n        canSetPlaybackRate: () => __awaiter(this, void 0, void 0, function* () { return true; }),\n        setPlaybackRate: (rate) => __awaiter(this, void 0, void 0, function* () {\n          this.remoteControl(\"setPlaybackRate\" /* SetPlaybackRate */, rate);\n        }),\n      };\n    });\n  }\n  getOrigin() {\n    return !this.cookies\n      ? 'https://www.youtube-nocookie.com'\n      : 'https://www.youtube.com';\n  }\n  getPreconnections() {\n    return [\n      this.getOrigin(),\n      'https://www.google.com',\n      'https://googleads.g.doubleclick.net',\n      'https://static.doubleclick.net',\n      'https://s.ytimg.com',\n      'https://i.ytimg.com',\n    ];\n  }\n  remoteControl(command, arg) {\n    return this.embed.postMessage({\n      event: 'command',\n      func: command,\n      args: arg ? [arg] : undefined,\n    });\n  }\n  buildParams() {\n    return {\n      enablejsapi: 1,\n      cc_lang_pref: this.language,\n      hl: this.language,\n      fs: this.showFullscreenControl ? 1 : 0,\n      controls: this.controls ? 1 : 0,\n      disablekb: !this.controls ? 1 : 0,\n      iv_load_policy: this.controls ? 1 : 3,\n      mute: this.initialMuted ? 1 : 0,\n      playsinline: this.playsinline ? 1 : 0,\n      autoplay: this.autoplay ? 1 : 0,\n    };\n  }\n  onEmbedSrcChange() {\n    this.vmLoadStart.emit();\n    this.dispatch('viewType', ViewType.Video);\n  }\n  onEmbedLoaded() {\n    // Seems like we have to wait a random small delay or else YT player isn't ready.\n    window.setTimeout(() => this.embed.postMessage({ event: 'listening' }), 100);\n  }\n  findPosterURL() {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (posterCache.has(this.videoId))\n        return posterCache.get(this.videoId);\n      const posterURL = (quality) => `https://i.ytimg.com/vi/${this.videoId}/${quality}.jpg`;\n      /**\n       * We are testing a that the image has a min-width of 121px because if the thumbnail does not\n       * exist YouTube returns a blank/error image that is 120px wide.\n       */\n      return loadImage(posterURL('maxresdefault'), 121) // 1080p (no padding)\n        .catch(() => loadImage(posterURL('sddefault'), 121)) // 640p (padded 4:3)\n        .catch(() => loadImage(posterURL('hqdefault'), 121)) // 480p (padded 4:3)\n        .then(img => {\n        const poster = img.src;\n        posterCache.set(this.videoId, poster);\n        return poster;\n      });\n    });\n  }\n  onCued() {\n    if (this.internalState.playbackReady)\n      return;\n    this.internalState = Object.assign({}, this.defaultInternalState);\n    this.dispatch('currentSrc', this.embedSrc);\n    this.dispatch('mediaType', MediaType.Video);\n    this.fetchPosterURL.then(poster => {\n      var _a;\n      this.dispatch('currentPoster', (_a = this.poster) !== null && _a !== void 0 ? _a : poster);\n      this.dispatch('playbackReady', true);\n    });\n    this.internalState.playbackReady = true;\n  }\n  onPlayerStateChange(state) {\n    // Sometimes the embed falls back to an unstarted state for some unknown reason, this will\n    // make sure the player is configured to the right starting state.\n    if (this.internalState.playbackReady &&\n      state === -1 /* Unstarted */) {\n      this.internalState.paused = true;\n      this.internalState.playbackStarted = false;\n      this.dispatch('buffering', false);\n      this.dispatch('paused', true);\n      this.dispatch('playbackStarted', false);\n      return;\n    }\n    const isPlaying = state === 1 /* Playing */;\n    const isBuffering = state === 3 /* Buffering */;\n    this.dispatch('buffering', isBuffering);\n    // Attempt to detect `play` events early.\n    if (this.internalState.paused && (isBuffering || isPlaying)) {\n      this.internalState.paused = false;\n      this.dispatch('paused', false);\n      if (!this.internalState.playbackStarted) {\n        this.dispatch('playbackStarted', true);\n        this.internalState.playbackStarted = true;\n      }\n    }\n    switch (state) {\n      case 5 /* Cued */:\n        this.onCued();\n        break;\n      case 1 /* Playing */:\n        // Incase of autoplay which might skip `Cued` event.\n        this.onCued();\n        this.dispatch('playing', true);\n        break;\n      case 2 /* Paused */:\n        this.internalState.paused = true;\n        this.dispatch('paused', true);\n        break;\n      case 0 /* Ended */:\n        if (this.loop) {\n          window.setTimeout(() => {\n            this.remoteControl(\"playVideo\" /* Play */);\n          }, 150);\n        }\n        else {\n          this.dispatch('playbackEnded', true);\n          this.internalState.paused = true;\n          this.dispatch('paused', true);\n        }\n        break;\n    }\n    this.internalState.state = state;\n  }\n  calcCurrentTime(time) {\n    let currentTime = time;\n    if (this.internalState.state === 0 /* Ended */) {\n      return this.internalState.duration;\n    }\n    if (this.internalState.state === 1 /* Playing */) {\n      const elapsedTime = (Date.now() / 1e3 - this.defaultInternalState.lastTimeUpdate) *\n        this.internalState.playbackRate;\n      if (elapsedTime > 0)\n        currentTime += Math.min(elapsedTime, 1);\n    }\n    return currentTime;\n  }\n  onTimeChange(time) {\n    const currentTime = this.calcCurrentTime(time);\n    this.dispatch('currentTime', currentTime);\n    // This is the only way to detect `seeking`.\n    if (Math.abs(this.internalState.currentTime - currentTime) > 1.5) {\n      this.internalState.seeking = true;\n      this.dispatch('seeking', true);\n    }\n    this.internalState.currentTime = currentTime;\n  }\n  onBufferedChange(buffered) {\n    this.dispatch('buffered', buffered);\n    /**\n     * This is the only way to detect `seeked`. Unfortunately while the player is `paused` `seeking`\n     * and `seeked` will fire at the same time, there are no updates inbetween -_-. We need an\n     * artifical delay between the two events.\n     */\n    if (this.internalState.seeking &&\n      buffered > this.internalState.currentTime) {\n      window.setTimeout(() => {\n        this.internalState.seeking = false;\n        this.dispatch('seeking', false);\n      }, this.internalState.paused ? 100 : 0);\n    }\n  }\n  onEmbedMessage(event) {\n    const message = event.detail;\n    const { info } = message;\n    if (!info)\n      return;\n    if (isObject(info.videoData))\n      this.dispatch('mediaTitle', info.videoData.title);\n    if (isNumber(info.duration)) {\n      this.internalState.duration = info.duration;\n      this.dispatch('duration', info.duration);\n    }\n    if (isArray(info.availablePlaybackRates)) {\n      this.dispatch('playbackRates', info.availablePlaybackRates);\n    }\n    if (isNumber(info.playbackRate)) {\n      this.internalState.playbackRate = info.playbackRate;\n      this.dispatch('playbackRate', info.playbackRate);\n    }\n    if (isNumber(info.currentTime))\n      this.onTimeChange(info.currentTime);\n    if (isNumber(info.currentTimeLastUpdated)) {\n      this.internalState.lastTimeUpdate = info.currentTimeLastUpdated;\n    }\n    if (isNumber(info.videoLoadedFraction)) {\n      this.onBufferedChange(info.videoLoadedFraction * this.internalState.duration);\n    }\n    if (isNumber(info.volume))\n      this.dispatch('volume', info.volume);\n    if (isBoolean(info.muted))\n      this.dispatch('muted', info.muted);\n    if (isArray(info.availableQualityLevels)) {\n      this.dispatch('playbackQualities', info.availableQualityLevels.map(q => mapYouTubePlaybackQuality(q)));\n    }\n    if (isString(info.playbackQuality)) {\n      this.dispatch('playbackQuality', mapYouTubePlaybackQuality(info.playbackQuality));\n    }\n    if (isNumber(info.playerState))\n      this.onPlayerStateChange(info.playerState);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-embed\", { embedSrc: this.embedSrc, mediaTitle: this.mediaTitle, origin: this.getOrigin(), params: this.buildParams(), decoder: decodeJSON, preconnections: this.getPreconnections(), onVmEmbedLoaded: this.onEmbedLoaded.bind(this), onVmEmbedMessage: this.onEmbedMessage.bind(this), onVmEmbedSrcChange: this.onEmbedSrcChange.bind(this), ref: (el) => {\n        this.embed = el;\n      } }));\n  }\n  static get watchers() { return {\n    \"cookies\": [\"onVideoIdChange\"],\n    \"videoId\": [\"onVideoIdChange\"],\n    \"poster\": [\"onCustomPosterChange\"]\n  }; }\n  static get style() { return youtubeCss; }\n};\n\nconst VmAudio = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Audio, [4,\"vm-audio\",{\"willAttach\":[4,\"will-attach\"],\"crossOrigin\":[1,\"cross-origin\"],\"preload\":[1],\"disableRemotePlayback\":[4,\"disable-remote-playback\"],\"mediaTitle\":[1,\"media-title\"]}]);\nconst VmCaptionControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(CaptionControl, [1,\"vm-caption-control\",{\"showIcon\":[1,\"show-icon\"],\"hideIcon\":[1,\"hide-icon\"],\"tooltipPosition\":[1,\"tooltip-position\"],\"tooltipDirection\":[1,\"tooltip-direction\"],\"hideTooltip\":[4,\"hide-tooltip\"],\"icons\":[1],\"keys\":[1],\"i18n\":[16],\"playbackReady\":[4,\"playback-ready\"],\"textTracks\":[16],\"isTextTrackVisible\":[4,\"is-text-track-visible\"],\"canToggleCaptionVisibility\":[32]}]);\nconst VmCaptions = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Captions, [1,\"vm-captions\",{\"hidden\":[4],\"isControlsActive\":[4,\"is-controls-active\"],\"isVideoView\":[4,\"is-video-view\"],\"playbackStarted\":[4,\"playback-started\"],\"textTracks\":[16],\"currentTextTrack\":[2,\"current-text-track\"],\"isTextTrackVisible\":[4,\"is-text-track-visible\"],\"isEnabled\":[32],\"cue\":[32],\"fontSize\":[32]}]);\nconst VmClickToPlay = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(ClickToPlay, [1,\"vm-click-to-play\",{\"useOnMobile\":[4,\"use-on-mobile\"],\"paused\":[4],\"isVideoView\":[4,\"is-video-view\"],\"isMobile\":[4,\"is-mobile\"]}]);\nconst VmControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Control, [1,\"vm-control\",{\"keys\":[1],\"identifier\":[1],\"hidden\":[4],\"label\":[1],\"menu\":[1],\"expanded\":[4],\"pressed\":[4],\"isTouch\":[4,\"is-touch\"],\"describedBy\":[32],\"showTapHighlight\":[32]}]);\nconst VmControlGroup = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(ControlNewLine, [1,\"vm-control-group\",{\"space\":[1]}]);\nconst VmControlSpacer = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(ControlSpacer, [1,\"vm-control-spacer\"]);\nconst VmControls = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Controls, [1,\"vm-controls\",{\"hidden\":[4],\"fullWidth\":[4,\"full-width\"],\"fullHeight\":[4,\"full-height\"],\"direction\":[1],\"align\":[1],\"justify\":[1],\"pin\":[513],\"activeDuration\":[2,\"active-duration\"],\"waitForPlaybackStart\":[4,\"wait-for-playback-start\"],\"hideWhenPaused\":[4,\"hide-when-paused\"],\"hideOnMouseLeave\":[4,\"hide-on-mouse-leave\"],\"isAudioView\":[4,\"is-audio-view\"],\"isSettingsActive\":[4,\"is-settings-active\"],\"playbackReady\":[4,\"playback-ready\"],\"isControlsActive\":[4,\"is-controls-active\"],\"paused\":[4],\"playbackStarted\":[4,\"playback-started\"],\"isInteracting\":[32]}]);\nconst VmCurrentTime = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(CurrentTime, [1,\"vm-current-time\",{\"currentTime\":[2,\"current-time\"],\"i18n\":[16],\"alwaysShowHours\":[4,\"always-show-hours\"]}]);\nconst VmDailymotion = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Dailymotion, [1,\"vm-dailymotion\",{\"videoId\":[1,\"video-id\"],\"shouldAutoplayQueue\":[4,\"should-autoplay-queue\"],\"showUpNextQueue\":[4,\"show-up-next-queue\"],\"showShareButtons\":[4,\"show-share-buttons\"],\"color\":[1],\"syndication\":[1],\"showDailymotionLogo\":[4,\"show-dailymotion-logo\"],\"showVideoInfo\":[4,\"show-video-info\"],\"language\":[1],\"autoplay\":[4],\"controls\":[4],\"poster\":[1],\"logger\":[16],\"loop\":[4],\"muted\":[4],\"playsinline\":[4],\"embedSrc\":[32],\"mediaTitle\":[32]}]);\nconst VmDash = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Dash, [1,\"vm-dash\",{\"src\":[1],\"version\":[1],\"libSrc\":[1,\"lib-src\"],\"config\":[16],\"autoplay\":[4],\"crossOrigin\":[1,\"cross-origin\"],\"preload\":[1],\"poster\":[1],\"controlsList\":[1,\"controls-list\"],\"autoPiP\":[4,\"auto-pip\"],\"disablePiP\":[4,\"disable-pip\"],\"disableRemotePlayback\":[4,\"disable-remote-playback\"],\"mediaTitle\":[1,\"media-title\"],\"enableTextTracksByDefault\":[4,\"enable-text-tracks-by-default\"],\"shouldRenderNativeTextTracks\":[4,\"should-render-native-text-tracks\"],\"isTextTrackVisible\":[4,\"is-text-track-visible\"],\"currentTextTrack\":[2,\"current-text-track\"],\"hasAttached\":[32]},[[0,\"vmMediaElChange\",\"onMediaElChange\"]]]);\nconst VmDblClickFullscreen = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(DblClickFullscreen, [1,\"vm-dbl-click-fullscreen\",{\"useOnMobile\":[4,\"use-on-mobile\"],\"isFullscreenActive\":[4,\"is-fullscreen-active\"],\"isVideoView\":[4,\"is-video-view\"],\"playbackReady\":[4,\"playback-ready\"],\"isMobile\":[4,\"is-mobile\"],\"canSetFullscreen\":[32]}]);\nconst VmDefaultControls = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(DefaultControls, [1,\"vm-default-controls\",{\"activeDuration\":[2,\"active-duration\"],\"waitForPlaybackStart\":[4,\"wait-for-playback-start\"],\"hideWhenPaused\":[4,\"hide-when-paused\"],\"hideOnMouseLeave\":[4,\"hide-on-mouse-leave\"],\"theme\":[1],\"isMobile\":[4,\"is-mobile\"],\"isLive\":[4,\"is-live\"],\"isAudioView\":[4,\"is-audio-view\"],\"isVideoView\":[4,\"is-video-view\"]}]);\nconst VmDefaultSettings = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(DefaultSettings, [1,\"vm-default-settings\",{\"pin\":[513],\"i18n\":[16],\"playbackReady\":[4,\"playback-ready\"],\"playbackRate\":[2,\"playback-rate\"],\"playbackRates\":[16],\"isVideoView\":[4,\"is-video-view\"],\"playbackQuality\":[1,\"playback-quality\"],\"playbackQualities\":[16],\"textTracks\":[16],\"currentTextTrack\":[2,\"current-text-track\"],\"audioTracks\":[16],\"currentAudioTrack\":[2,\"current-audio-track\"],\"isTextTrackVisible\":[4,\"is-text-track-visible\"],\"canSetPlaybackRate\":[32],\"canSetPlaybackQuality\":[32],\"canSetTextTrack\":[32],\"canSetAudioTrack\":[32]}]);\nconst VmDefaultUi = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(DefaultUI, [1,\"vm-default-ui\",{\"noClickToPlay\":[4,\"no-click-to-play\"],\"noDblClickFullscreen\":[4,\"no-dbl-click-fullscreen\"],\"noCaptions\":[4,\"no-captions\"],\"noPoster\":[4,\"no-poster\"],\"noSpinner\":[4,\"no-spinner\"],\"noControls\":[4,\"no-controls\"],\"noSettings\":[4,\"no-settings\"],\"noLoadingScreen\":[4,\"no-loading-screen\"]}]);\nconst VmEmbed = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Embed, [1,\"vm-embed\",{\"embedSrc\":[1,\"embed-src\"],\"mediaTitle\":[1,\"media-title\"],\"params\":[1],\"origin\":[1],\"preconnections\":[16],\"decoder\":[16],\"srcWithParams\":[32],\"hasEnteredViewport\":[32]},[[8,\"message\",\"onWindowMessage\"]]]);\nconst VmEndTime = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(EndTime, [1,\"vm-end-time\",{\"duration\":[2],\"i18n\":[16],\"alwaysShowHours\":[4,\"always-show-hours\"]}]);\nconst VmFile = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(File, [6,\"vm-file\",{\"willAttach\":[4,\"will-attach\"],\"crossOrigin\":[1,\"cross-origin\"],\"preload\":[1],\"poster\":[1],\"mediaTitle\":[1,\"media-title\"],\"controlsList\":[1,\"controls-list\"],\"autoPiP\":[4,\"auto-pip\"],\"disablePiP\":[4,\"disable-pip\"],\"disableRemotePlayback\":[4,\"disable-remote-playback\"],\"viewType\":[1,\"view-type\"],\"playbackRates\":[16],\"language\":[1],\"autoplay\":[4],\"controls\":[4],\"logger\":[16],\"loop\":[4],\"muted\":[4],\"playsinline\":[4],\"noConnect\":[4,\"no-connect\"],\"paused\":[4],\"currentTime\":[2,\"current-time\"],\"volume\":[2],\"playbackReady\":[4,\"playback-ready\"],\"playbackStarted\":[4,\"playback-started\"],\"currentTextTrack\":[2,\"current-text-track\"],\"hasCustomTextManager\":[4,\"has-custom-text-manager\"],\"isTextTrackVisible\":[4,\"is-text-track-visible\"],\"shouldRenderNativeTextTracks\":[4,\"should-render-native-text-tracks\"],\"vmPoster\":[32]},[[0,\"vmMediaProviderConnect\",\"onProviderConnect\"],[0,\"vmMediaProviderDisconnect\",\"onProviderDisconnect\"]]]);\nconst VmFullscreenControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(FullscreenControl, [1,\"vm-fullscreen-control\",{\"enterIcon\":[1,\"enter-icon\"],\"exitIcon\":[1,\"exit-icon\"],\"icons\":[1],\"tooltipPosition\":[1,\"tooltip-position\"],\"tooltipDirection\":[1,\"tooltip-direction\"],\"hideTooltip\":[4,\"hide-tooltip\"],\"keys\":[1],\"isFullscreenActive\":[4,\"is-fullscreen-active\"],\"i18n\":[16],\"playbackReady\":[4,\"playback-ready\"],\"canSetFullscreen\":[32]}]);\nconst VmHls = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(HLS, [4,\"vm-hls\",{\"version\":[1],\"libSrc\":[1,\"lib-src\"],\"config\":[8],\"crossOrigin\":[1,\"cross-origin\"],\"preload\":[1],\"poster\":[1],\"controlsList\":[1,\"controls-list\"],\"autoPiP\":[4,\"auto-pip\"],\"disablePiP\":[4,\"disable-pip\"],\"disableRemotePlayback\":[4,\"disable-remote-playback\"],\"playbackReady\":[4,\"playback-ready\"],\"mediaTitle\":[1,\"media-title\"],\"hasAttached\":[32]},[[0,\"vmMediaElChange\",\"onMediaElChange\"],[0,\"vmSrcSetChange\",\"onSrcChange\"]]]);\nconst VmIcon = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Icon, [1,\"vm-icon\",{\"name\":[1],\"src\":[1],\"label\":[1],\"library\":[1],\"icons\":[1],\"svg\":[32]}]);\nconst VmIconLibrary = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(IconLibrary, [1,\"vm-icon-library\",{\"name\":[1],\"resolver\":[16],\"icons\":[1]}]);\nconst VmLiveIndicator = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(LiveIndicator, [1,\"vm-live-indicator\",{\"isLive\":[4,\"is-live\"],\"i18n\":[16]}]);\nconst VmLoadingScreen = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(LoadingScreen, [1,\"vm-loading-screen\",{\"playbackReady\":[4,\"playback-ready\"],\"hideDots\":[4,\"hide-dots\"]}]);\nconst VmMenu = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Menu, [1,\"vm-menu\",{\"active\":[1540],\"identifier\":[1],\"controller\":[16],\"slideInDirection\":[1,\"slide-in-direction\"],\"activeMenuItem\":[32],\"activeSubmenu\":[32]},[[0,\"vmOpenSubmenu\",\"onOpenSubmenu\"],[0,\"vmCloseSubmenu\",\"onCloseSubmenu\"],[8,\"click\",\"onWindowClick\"],[8,\"keydown\",\"onWindowKeyDown\"]]]);\nconst VmMenuItem = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(MenuItem, [1,\"vm-menu-item\",{\"identifier\":[1],\"hidden\":[4],\"label\":[1],\"menu\":[16],\"expanded\":[4],\"checked\":[4],\"hint\":[1],\"badge\":[1],\"checkIcon\":[1,\"check-icon\"],\"icons\":[1],\"isTouch\":[4,\"is-touch\"],\"showTapHighlight\":[32]}]);\nconst VmMenuRadio = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(MenuRadio, [1,\"vm-menu-radio\",{\"label\":[1],\"value\":[1],\"checked\":[1028],\"badge\":[1],\"checkIcon\":[1,\"check-icon\"],\"icons\":[1]}]);\nconst VmMenuRadioGroup = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(MenuRadioGroup, [1,\"vm-menu-radio-group\",{\"value\":[1025]},[[0,\"vmCheck\",\"onSelectionChange\"]]]);\nconst VmMuteControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(MuteControl, [1,\"vm-mute-control\",{\"lowVolumeIcon\":[1,\"low-volume-icon\"],\"highVolumeIcon\":[1,\"high-volume-icon\"],\"mutedIcon\":[1,\"muted-icon\"],\"icons\":[1],\"tooltipPosition\":[1,\"tooltip-position\"],\"tooltipDirection\":[1,\"tooltip-direction\"],\"hideTooltip\":[4,\"hide-tooltip\"],\"keys\":[1],\"volume\":[2],\"muted\":[4],\"i18n\":[16]}]);\nconst VmPipControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(PiPControl, [1,\"vm-pip-control\",{\"enterIcon\":[1,\"enter-icon\"],\"exitIcon\":[1,\"exit-icon\"],\"icons\":[1],\"tooltipPosition\":[1,\"tooltip-position\"],\"tooltipDirection\":[1,\"tooltip-direction\"],\"hideTooltip\":[4,\"hide-tooltip\"],\"keys\":[1],\"isPiPActive\":[4,\"is-pi-p-active\"],\"i18n\":[16],\"playbackReady\":[4,\"playback-ready\"],\"canSetPiP\":[32]}]);\nconst VmPlaybackControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(PlaybackControl, [1,\"vm-playback-control\",{\"playIcon\":[1,\"play-icon\"],\"pauseIcon\":[1,\"pause-icon\"],\"icons\":[1],\"tooltipPosition\":[1,\"tooltip-position\"],\"tooltipDirection\":[1,\"tooltip-direction\"],\"hideTooltip\":[4,\"hide-tooltip\"],\"keys\":[1],\"paused\":[4],\"i18n\":[16]}]);\nconst VmPlayer = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Player, [1,\"vm-player\",{\"logger\":[16],\"theme\":[513],\"icons\":[513],\"paused\":[1028],\"playing\":[1028],\"duration\":[1026],\"mediaTitle\":[1025,\"media-title\"],\"currentProvider\":[1025,\"current-provider\"],\"currentSrc\":[1025,\"current-src\"],\"currentPoster\":[1025,\"current-poster\"],\"currentTime\":[1026,\"current-time\"],\"autoplay\":[4],\"ready\":[1540],\"playbackReady\":[1028,\"playback-ready\"],\"loop\":[4],\"muted\":[1028],\"buffered\":[1026],\"playbackRate\":[1026,\"playback-rate\"],\"playbackRates\":[1040],\"playbackQuality\":[1025,\"playback-quality\"],\"playbackQualities\":[1040],\"seeking\":[1028],\"debug\":[4],\"playbackStarted\":[1028,\"playback-started\"],\"playbackEnded\":[1028,\"playback-ended\"],\"buffering\":[1028],\"controls\":[4],\"isControlsActive\":[4,\"is-controls-active\"],\"isSettingsActive\":[1028,\"is-settings-active\"],\"volume\":[1026],\"isFullscreenActive\":[1028,\"is-fullscreen-active\"],\"aspectRatio\":[1025,\"aspect-ratio\"],\"viewType\":[1025,\"view-type\"],\"isAudioView\":[1028,\"is-audio-view\"],\"isVideoView\":[1028,\"is-video-view\"],\"mediaType\":[1025,\"media-type\"],\"isAudio\":[1028,\"is-audio\"],\"isVideo\":[1028,\"is-video\"],\"isLive\":[1028,\"is-live\"],\"isMobile\":[1028,\"is-mobile\"],\"isTouch\":[1028,\"is-touch\"],\"isPiPActive\":[1028,\"is-pi-p-active\"],\"textTracks\":[16],\"currentTextTrack\":[2,\"current-text-track\"],\"isTextTrackVisible\":[4,\"is-text-track-visible\"],\"shouldRenderNativeTextTracks\":[4,\"should-render-native-text-tracks\"],\"audioTracks\":[16],\"currentAudioTrack\":[2,\"current-audio-track\"],\"autopause\":[4],\"playsinline\":[4],\"language\":[1025],\"translations\":[1040],\"languages\":[1040],\"i18n\":[1040],\"container\":[32]},[[0,\"vmError\",\"onError\"]]]);\nconst VmPoster = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Poster, [1,\"vm-poster\",{\"fit\":[1],\"isVideoView\":[4,\"is-video-view\"],\"currentPoster\":[1,\"current-poster\"],\"mediaTitle\":[1,\"media-title\"],\"playbackStarted\":[4,\"playback-started\"],\"currentTime\":[2,\"current-time\"],\"isHidden\":[32],\"isActive\":[32],\"hasLoaded\":[32]}]);\nconst VmScrim = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Scrim, [1,\"vm-scrim\",{\"gradient\":[1],\"isVideoView\":[4,\"is-video-view\"],\"isControlsActive\":[4,\"is-controls-active\"]}]);\nconst VmScrubberControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(ScrubberControl, [1,\"vm-scrubber-control\",{\"alwaysShowHours\":[4,\"always-show-hours\"],\"hideTooltip\":[4,\"hide-tooltip\"],\"currentTime\":[2,\"current-time\"],\"duration\":[2],\"noKeyboard\":[4,\"no-keyboard\"],\"buffering\":[4],\"buffered\":[2],\"i18n\":[16],\"timestamp\":[32],\"endTime\":[32]}]);\nconst VmSettings = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Settings, [1,\"vm-settings\",{\"pin\":[513],\"active\":[1540],\"isMobile\":[4,\"is-mobile\"],\"isAudioView\":[4,\"is-audio-view\"],\"menuHeight\":[32]}]);\nconst VmSettingsControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(SettingsControl, [1,\"vm-settings-control\",{\"icon\":[1],\"icons\":[1],\"tooltipPosition\":[1,\"tooltip-position\"],\"tooltipDirection\":[1,\"tooltip-direction\"],\"menu\":[1],\"expanded\":[4],\"i18n\":[16],\"hideTooltip\":[4,\"hide-tooltip\"],\"vmSettings\":[32]}]);\nconst VmSkeleton = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Skeleton, [1,\"vm-skeleton\",{\"effect\":[1],\"ready\":[4],\"hidden\":[32]}]);\nconst VmSlider = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Slider, [1,\"vm-slider\",{\"step\":[2],\"min\":[2],\"max\":[2],\"value\":[2],\"valueText\":[1,\"value-text\"],\"label\":[1]}]);\nconst VmSpinner = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Spinner, [1,\"vm-spinner\",{\"isVideoView\":[4,\"is-video-view\"],\"currentProvider\":[1,\"current-provider\"],\"showWhenMediaLoading\":[4,\"show-when-media-loading\"],\"playbackReady\":[4,\"playback-ready\"],\"buffering\":[4],\"isHidden\":[32],\"isActive\":[32]}]);\nconst VmSubmenu = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Submenu, [1,\"vm-submenu\",{\"label\":[1],\"hint\":[1],\"slideInDirection\":[1,\"slide-in-direction\"],\"active\":[1540],\"menu\":[32],\"controller\":[32]}]);\nconst VmTime = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Time, [1,\"vm-time\",{\"label\":[1],\"seconds\":[2],\"alwaysShowHours\":[4,\"always-show-hours\"]}]);\nconst VmTimeProgress = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(TimeProgress, [1,\"vm-time-progress\",{\"separator\":[1],\"alwaysShowHours\":[4,\"always-show-hours\"]}]);\nconst VmTooltip = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Tooltip, [1,\"vm-tooltip\",{\"hidden\":[4],\"active\":[4],\"position\":[1],\"direction\":[1],\"isTouch\":[4,\"is-touch\"],\"isMobile\":[4,\"is-mobile\"]}]);\nconst VmUi = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(UI, [1,\"vm-ui\",{\"isVideoView\":[4,\"is-video-view\"],\"playsinline\":[4],\"isFullscreenActive\":[4,\"is-fullscreen-active\"]}]);\nconst VmVideo = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Video, [4,\"vm-video\",{\"willAttach\":[4,\"will-attach\"],\"hasCustomTextManager\":[4,\"has-custom-text-manager\"],\"crossOrigin\":[1,\"cross-origin\"],\"preload\":[1],\"poster\":[1],\"controlsList\":[1,\"controls-list\"],\"autoPiP\":[4,\"auto-pip\"],\"disablePiP\":[4,\"disable-pip\"],\"disableRemotePlayback\":[4,\"disable-remote-playback\"],\"mediaTitle\":[1,\"media-title\"]},[[0,\"vmMediaProviderConnect\",\"onProviderConnect\"],[0,\"vmMediaProviderDisconnect\",\"onProviderDisconnect\"]]]);\nconst VmVimeo = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Vimeo, [1,\"vm-vimeo\",{\"videoId\":[1,\"video-id\"],\"byline\":[4],\"color\":[1],\"portrait\":[4],\"noAutoAspectRatio\":[4,\"no-auto-aspect-ratio\"],\"poster\":[1],\"cookies\":[4],\"language\":[1],\"aspectRatio\":[1,\"aspect-ratio\"],\"autoplay\":[4],\"controls\":[4],\"logger\":[16],\"loop\":[4],\"muted\":[4],\"playsinline\":[4],\"embedSrc\":[32],\"mediaTitle\":[32]}]);\nconst VmVolumeControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(VolumeControl, [1,\"vm-volume-control\",{\"lowVolumeIcon\":[1,\"low-volume-icon\"],\"highVolumeIcon\":[1,\"high-volume-icon\"],\"mutedIcon\":[1,\"muted-icon\"],\"icons\":[1],\"tooltipPosition\":[1,\"tooltip-position\"],\"tooltipDirection\":[1,\"tooltip-direction\"],\"hideTooltip\":[4,\"hide-tooltip\"],\"muteKeys\":[1,\"mute-keys\"],\"noKeyboard\":[4,\"no-keyboard\"],\"muted\":[4],\"volume\":[2],\"isMobile\":[4,\"is-mobile\"],\"i18n\":[16],\"currentVolume\":[32],\"isSliderActive\":[32]}]);\nconst VmYoutube = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(YouTube, [1,\"vm-youtube\",{\"cookies\":[4],\"videoId\":[1,\"video-id\"],\"showFullscreenControl\":[4,\"show-fullscreen-control\"],\"poster\":[1],\"language\":[1],\"autoplay\":[4],\"controls\":[4],\"logger\":[16],\"loop\":[4],\"muted\":[4],\"playsinline\":[4],\"embedSrc\":[32],\"mediaTitle\":[32]}]);\nconst defineCustomElements = (opts) => {\n  if (typeof customElements !== 'undefined') {\n    [\n      VmAudio,\n  VmCaptionControl,\n  VmCaptions,\n  VmClickToPlay,\n  VmControl,\n  VmControlGroup,\n  VmControlSpacer,\n  VmControls,\n  VmCurrentTime,\n  VmDailymotion,\n  VmDash,\n  VmDblClickFullscreen,\n  VmDefaultControls,\n  VmDefaultSettings,\n  VmDefaultUi,\n  VmEmbed,\n  VmEndTime,\n  VmFile,\n  VmFullscreenControl,\n  VmHls,\n  VmIcon,\n  VmIconLibrary,\n  VmLiveIndicator,\n  VmLoadingScreen,\n  VmMenu,\n  VmMenuItem,\n  VmMenuRadio,\n  VmMenuRadioGroup,\n  VmMuteControl,\n  VmPipControl,\n  VmPlaybackControl,\n  VmPlayer,\n  VmPoster,\n  VmScrim,\n  VmScrubberControl,\n  VmSettings,\n  VmSettingsControl,\n  VmSkeleton,\n  VmSlider,\n  VmSpinner,\n  VmSubmenu,\n  VmTime,\n  VmTimeProgress,\n  VmTooltip,\n  VmUi,\n  VmVideo,\n  VmVimeo,\n  VmVolumeControl,\n  VmYoutube\n    ].forEach(cmp => {\n      if (!customElements.get(cmp.is)) {\n        customElements.define(cmp.is, cmp, opts);\n      }\n    });\n  }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStjb3JlQDUuNC4xL25vZGVfbW9kdWxlcy9AdmltZS9jb3JlL2Rpc3QvY3VzdG9tLWVsZW1lbnRzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXlKO0FBQ3hFOztBQUVqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxXQUFXO0FBQ1g7O0FBRUE7QUFD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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix3Q0FBd0M7QUFDakUsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwQkFBMEIsR0FBRyxzQkFBc0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxnQkFBZ0IsR0FBRyxHQUFHLFFBQVEsR0FBRztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsTUFBZ0M7QUFDbkQsMEJBQTBCLCtEQUErRCxpQkFBaUI7QUFDMUc7QUFDQSxnQ0FBZ0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNqRiwrQkFBK0IsTUFBTSxtQ0FBbUMsWUFBWTtBQUNwRiw0QkFBNEI7QUFDNUI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixNQUFnQztBQUNuRCwwQkFBMEIsK0RBQStELGlCQUFpQjtBQUMxRztBQUNBLGdDQUFnQyxNQUFNLCtCQUErQixZQUFZO0FBQ2pGLCtCQUErQixNQUFNLG1DQUFtQyxZQUFZO0FBQ3BGLDRCQUE0QjtBQUM1QjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbURBQW1ELHNCQUFzQixzQkFBc0IsV0FBVyxVQUFVLGlCQUFpQixrQkFBa0IsTUFBTSxPQUFPLFNBQVMsWUFBWSxpQkFBaUI7O0FBRTFNLG1CQUFtQixNQUFnQztBQUNuRCwwQkFBMEIsK0RBQStELGlCQUFpQjtBQUMxRztBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwRUFBVztBQUNsQyxtQkFBbUIsMEVBQVc7QUFDOUIsMkJBQTJCLDBFQUFXO0FBQ3RDLDBCQUEwQiwwRUFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksV0FBVztBQUN2QixvQkFBb0IsMEJBQTBCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxRQUFRO0FBQy9ELCtCQUErQiw4QkFBOEI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELFdBQVc7QUFDckUsK0JBQStCLGtDQUFrQztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELGNBQWM7QUFDL0QsNkJBQTZCLDBCQUEwQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsSUFBSTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7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dmltZStjb3JlQDUuNC4xL25vZGVfbW9kdWxlcy9AdmltZS9jb3JlL2Rpc3QvY3VzdG9tLWVsZW1lbnRzL2luZGV4LmpzPzg0YzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RWxlbWVudCwgZ2V0UmVuZGVyaW5nUmVmLCB3cml0ZVRhc2ssIGgsIGF0dGFjaFNoYWRvdywgSG9zdCwgY3JlYXRlRXZlbnQsIEZyYWdtZW50LCBwcm94eUN1c3RvbUVsZW1lbnQgfSBmcm9tICdAc3RlbmNpbC9jb3JlL2ludGVybmFsL2NsaWVudCc7XG5leHBvcnQgeyBzZXRBc3NldFBhdGgsIHNldFBsYXRmb3JtT3B0aW9ucyB9IGZyb20gJ0BzdGVuY2lsL2NvcmUvaW50ZXJuYWwvY2xpZW50JztcblxuLyoqXG4gKiBMaXN0ZW4gdG8gYW4gZXZlbnQgb24gdGhlIGdpdmVuIERPTSBub2RlLiBSZXR1cm5zIGEgY2FsbGJhY2sgdG8gcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lci5cbiAqL1xuZnVuY3Rpb24gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gIHJldHVybiAoKSA9PiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gZmlyZUV2ZW50QW5kUmV0cnkoZWwsIGV2ZW50LCBvbkZhaWwsIGludGVydmFsID0gMzAwLCBtYXhSZXRyaWVzID0gMTApIHtcbiAgbGV0IHRpbWVvdXQ7XG4gIGxldCBhdHRlbXB0ID0gMDtcbiAgbGV0IGZvdW5kID0gZmFsc2U7XG4gIGZ1bmN0aW9uIHJldHJ5KCkge1xuICAgIGlmIChmb3VuZClcbiAgICAgIHJldHVybjtcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoYXR0ZW1wdCA9PT0gbWF4UmV0cmllcykge1xuICAgICAgICBvbkZhaWwgPT09IG51bGwgfHwgb25GYWlsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkZhaWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICBhdHRlbXB0ICs9IDE7XG4gICAgICByZXRyeSgpO1xuICAgIH0sIGludGVydmFsKTtcbiAgfVxuICByZXRyeSgpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgZm91bmQgPSB0cnVlO1xuICB9O1xufVxuY29uc3QgaXNDb2xsaWRpbmcgPSAoYSwgYiwgdHJhbnNsYXRlQXggPSAwLCB0cmFuc2xhdGVBeSA9IDAsIHRyYW5zbGF0ZUJ4ID0gMCwgdHJhbnNsYXRlQnkgPSAwKSA9PiB7XG4gIGNvbnN0IGFSZWN0ID0gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgYlJlY3QgPSBiLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICByZXR1cm4gKGFSZWN0LmxlZnQgKyB0cmFuc2xhdGVBeCA8IGJSZWN0LnJpZ2h0ICsgdHJhbnNsYXRlQnggJiZcbiAgICBhUmVjdC5yaWdodCArIHRyYW5zbGF0ZUF4ID4gYlJlY3QubGVmdCArIHRyYW5zbGF0ZUJ4ICYmXG4gICAgYVJlY3QudG9wICsgdHJhbnNsYXRlQXkgPCBiUmVjdC5ib3R0b20gKyB0cmFuc2xhdGVCeSAmJlxuICAgIGFSZWN0LmJvdHRvbSArIHRyYW5zbGF0ZUF5ID4gYlJlY3QudG9wICsgdHJhbnNsYXRlQnkpO1xufTtcblxuLyoqXG4gKiBOby1vcGVyYXRpb24gKG5vb3ApLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5jb25zdCBub29wID0gKC4uLl8pID0+IHtcbiAgLy8gLi4uXG59O1xuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLlxuICovXG5jb25zdCBpc051bGwgPSAodmFsdWUpID0+IHZhbHVlID09PSBudWxsO1xuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKi9cbmNvbnN0IGlzVW5kZWZpbmVkID0gKHZhbHVlKSA9PiB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO1xuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLlxuICovXG5jb25zdCBpc05pbCA9ICh2YWx1ZSkgPT4gaXNOdWxsKHZhbHVlKSB8fCBpc1VuZGVmaW5lZCh2YWx1ZSk7XG4vKipcbiAqIFJldHVybnMgdGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBnaXZlbiBgdmFsdWVgLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byByZXR1cm4gdGhlIGNvbnN0cnVjdG9yIG9mLlxuICovXG5jb25zdCBnZXRDb25zdHJ1Y3RvciA9ICh2YWx1ZSkgPT4gXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuIWlzTmlsKHZhbHVlKSA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkO1xuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE9iamVjdGAgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqL1xuY29uc3QgaXNPYmplY3QgPSAodmFsdWUpID0+IGdldENvbnN0cnVjdG9yKHZhbHVlKSA9PT0gT2JqZWN0O1xuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE51bWJlcmAgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqL1xuY29uc3QgaXNOdW1iZXIgPSAodmFsdWUpID0+IGdldENvbnN0cnVjdG9yKHZhbHVlKSA9PT0gTnVtYmVyICYmICFOdW1iZXIuaXNOYU4odmFsdWUpO1xuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN0cmluZ2Agb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqL1xuY29uc3QgaXNTdHJpbmcgPSAodmFsdWUpID0+IGdldENvbnN0cnVjdG9yKHZhbHVlKSA9PT0gU3RyaW5nO1xuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEJvb2xlYW5gIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKi9cbmNvbnN0IGlzQm9vbGVhbiA9ICh2YWx1ZSkgPT4gZ2V0Q29uc3RydWN0b3IodmFsdWUpID09PSBCb29sZWFuO1xuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xuY29uc3QgaXNGdW5jdGlvbiA9ICh2YWx1ZSkgPT4gZ2V0Q29uc3RydWN0b3IodmFsdWUpID09PSBGdW5jdGlvbjtcbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKi9cbmNvbnN0IGlzQXJyYXkgPSAodmFsdWUpID0+IEFycmF5LmlzQXJyYXkodmFsdWUpO1xuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBpbnN0YW5jZW9mIHRoZSBnaXZlbiBgY29uc3RydWN0b3JgLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSBjb25zdHJ1Y3RvciAtIFRoZSBjb25zdHJ1Y3RvciB0byBjaGVjayBhZ2FpbnN0LlxuICovXG5jb25zdCBpc0luc3RhbmNlT2YgPSAodmFsdWUsIGNvbnN0cnVjdG9yKSA9PiBCb29sZWFuKHZhbHVlICYmIGNvbnN0cnVjdG9yICYmIHZhbHVlIGluc3RhbmNlb2YgY29uc3RydWN0b3IpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gZW1wdHkgUHJvbWlzZSBhbmQgZGVmZXJzIHJlc29sdmluZy9yZWplY3RpbmcgaXQuXG4gKi9cbmNvbnN0IGRlZmVycmVkUHJvbWlzZSA9ICgpID0+IHtcbiAgbGV0IHJlc29sdmUgPSBub29wO1xuICBsZXQgcmVqZWN0ID0gbm9vcDtcbiAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgIHJlc29sdmUgPSByZXM7XG4gICAgcmVqZWN0ID0gcmVqO1xuICB9KTtcbiAgcmV0dXJuIHsgcHJvbWlzZSwgcmVzb2x2ZSwgcmVqZWN0IH07XG59O1xuXG5mdW5jdGlvbiB3cmFwU3RlbmNpbEhvb2soY29tcG9uZW50LCBsaWZlY3ljbGUsIGhvb2spIHtcbiAgY29uc3QgcHJldkhvb2sgPSBjb21wb25lbnRbbGlmZWN5Y2xlXTtcbiAgY29tcG9uZW50W2xpZmVjeWNsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgaG9vaygpO1xuICAgIHJldHVybiBwcmV2SG9vayA/IHByZXZIb29rLmNhbGwoY29tcG9uZW50KSA6IHVuZGVmaW5lZDtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0ZW5jaWxIb29rKGNvbXBvbmVudCwgb25Db25uZWN0LCBvbkRpc2Nvbm5lY3QpIHtcbiAgbGV0IGhhc0xvYWRlZCA9IGZhbHNlO1xuICBpZiAoIWlzVW5kZWZpbmVkKG9uQ29ubmVjdCkpIHtcbiAgICB3cmFwU3RlbmNpbEhvb2soY29tcG9uZW50LCAnY29tcG9uZW50V2lsbExvYWQnLCAoKSA9PiB7XG4gICAgICBvbkNvbm5lY3QoKTtcbiAgICAgIGhhc0xvYWRlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgd3JhcFN0ZW5jaWxIb29rKGNvbXBvbmVudCwgJ2Nvbm5lY3RlZENhbGxiYWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGhhc0xvYWRlZClcbiAgICAgICAgb25Db25uZWN0KCk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFpc1VuZGVmaW5lZChvbkRpc2Nvbm5lY3QpKSB7XG4gICAgd3JhcFN0ZW5jaWxIb29rKGNvbXBvbmVudCwgJ2Rpc2Nvbm5lY3RlZENhbGxiYWNrJywgKCkgPT4ge1xuICAgICAgb25EaXNjb25uZWN0KCk7XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgRklORF9QTEFZRVJfRVZFTlQgPSAndm1GaW5kUGxheWVyJztcbmZ1bmN0aW9uIHdpdGhGaW5kUGxheWVyKHBsYXllcikge1xuICBjb25zdCBlbCA9IGdldEVsZW1lbnQocGxheWVyKTtcbiAgbGV0IG9mZjtcbiAgY3JlYXRlU3RlbmNpbEhvb2socGxheWVyLCAoKSA9PiB7XG4gICAgb2ZmID0gbGlzdGVuKGVsLCBGSU5EX1BMQVlFUl9FVkVOVCwgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGV2ZW50LmRldGFpbChlbCk7XG4gICAgfSk7XG4gIH0sICgpID0+IHtcbiAgICBvZmYgPT09IG51bGwgfHwgb2ZmID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvZmYoKTtcbiAgfSk7XG59XG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IGFuY2VzdG9yIHBsYXllciBlbGVtZW50IGJ5IGZpcmluZyB0aGUgYHZtRmluZFBsYXllcmAgZXZlbnQsIGFuZCB3YWl0aW5nXG4gKiBmb3IgdGhlIHBsYXllciB0byBjYXRjaCBpdC4gVGhpcyBmdW5jdGlvbiByZXRyaWVzIGZpbmRpbmcgdGhlIHBsYXllciAoYG1heFJldHJpZXNgKSB1bnRpbCBpdFxuICogZ2l2ZXMgdXAgYW5kIGZhaWxzLlxuICpcbiAqIEBwYXJhbSByZWYgLSBBIEhUTUxFbGVtZW50IHRoYXQgaXMgd2l0aGluIHRoZSBwbGF5ZXIncyBzdWJ0cmVlLlxuICogQHBhcmFtIGludGVydmFsIC0gVGhlIGxlbmd0aCBvZiB0aGUgdGltZW91dCBiZWZvcmUgdHJ5aW5nIGFnYWluIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwYXJhbSBtYXhSZXRyaWVzIC0gVGhlIG51bWJlciBvZiB0aW1lcyB0byByZXRyeSBmaXJpbmcgdGhlIGV2ZW50LlxuICovXG5jb25zdCBmaW5kUGxheWVyID0gKHJlZiwgaW50ZXJ2YWwgPSAzMDAsIG1heFJldHJpZXMgPSAxMCkgPT4ge1xuICBjb25zdCBlbCA9IChpc0luc3RhbmNlT2YocmVmLCBIVE1MRWxlbWVudClcbiAgICA/IHJlZlxuICAgIDogZ2V0RWxlbWVudChyZWYpKTtcbiAgY29uc3Qgc2VhcmNoID0gZGVmZXJyZWRQcm9taXNlKCk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcbiAgbGV0IHN0b3BGaXJpbmc7XG4gIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KEZJTkRfUExBWUVSX0VWRU5ULCB7XG4gICAgYnViYmxlczogdHJ1ZSxcbiAgICBjb21wb3NlZDogdHJ1ZSxcbiAgICBkZXRhaWw6IHBsYXllciA9PiB7XG4gICAgICBzZWFyY2gucmVzb2x2ZShwbGF5ZXIpO1xuICAgICAgc3RvcEZpcmluZygpO1xuICAgIH0sXG4gIH0pO1xuICBzdG9wRmlyaW5nID0gZmlyZUV2ZW50QW5kUmV0cnkoZWwsIGV2ZW50LCAoKSA9PiB7XG4gICAgc2VhcmNoLnJlamVjdChgQ291bGQgbm90IGZpbmQgcGxheWVyIGZvciAke2VsLm5vZGVOYW1lfWApO1xuICB9LCBpbnRlcnZhbCwgbWF4UmV0cmllcyk7XG4gIHJldHVybiBzZWFyY2gucHJvbWlzZTtcbn07XG5cbnZhciBNZWRpYVR5cGU7XG4oZnVuY3Rpb24gKE1lZGlhVHlwZSkge1xuICBNZWRpYVR5cGVbXCJBdWRpb1wiXSA9IFwiYXVkaW9cIjtcbiAgTWVkaWFUeXBlW1wiVmlkZW9cIl0gPSBcInZpZGVvXCI7XG59KShNZWRpYVR5cGUgfHwgKE1lZGlhVHlwZSA9IHt9KSk7XG5cbmNvbnN0IFNUQVRFX0NIQU5HRV9FVkVOVCA9ICd2bVN0YXRlQ2hhbmdlJztcbi8qKlxuICogQ3JlYXRlcyBhIGRpc3BhdGNoZXIgb24gdGhlIGdpdmVuIGByZWZgLCB0byBzZW5kIHVwZGF0ZXMgdG8gdGhlIGNsb3Nlc3QgYW5jZXN0b3IgcGxheWVyIHZpYVxuICogdGhlIGN1c3RvbSBgdm1TdGF0ZUNoYW5nZWAgZXZlbnQuXG4gKlxuICogQHBhcmFtIHJlZiBBbiBlbGVtZW50IHRvIGRpc3BhdGNoIHRoZSBzdGF0ZSBjaGFuZ2UgZXZlbnRzIGZyb20uXG4gKi9cbmNvbnN0IGNyZWF0ZURpc3BhdGNoZXIgPSAocmVmKSA9PiAocHJvcCwgdmFsdWUpID0+IHtcbiAgY29uc3QgZWwgPSBpc0luc3RhbmNlT2YocmVmLCBIVE1MRWxlbWVudCkgPyByZWYgOiBnZXRFbGVtZW50KHJlZik7XG4gIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFNUQVRFX0NIQU5HRV9FVkVOVCwge1xuICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgY29tcG9zZWQ6IHRydWUsXG4gICAgZGV0YWlsOiB7IGJ5OiBlbCwgcHJvcCwgdmFsdWUgfSxcbiAgfSk7XG4gIGVsLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xufTtcblxuY29uc3QgZW4gPSB7XG4gIHBsYXk6ICdQbGF5JyxcbiAgcGF1c2U6ICdQYXVzZScsXG4gIHBsYXliYWNrOiAnUGxheWJhY2snLFxuICBzY3J1YmJlcjogJ1NjcnViYmVyJyxcbiAgc2NydWJiZXJMYWJlbDogJ3tjdXJyZW50VGltZX0gb2Yge2R1cmF0aW9ufScsXG4gIHBsYXllZDogJ1BsYXllZCcsXG4gIGR1cmF0aW9uOiAnRHVyYXRpb24nLFxuICBidWZmZXJlZDogJ0J1ZmZlcmVkJyxcbiAgY2xvc2U6ICdDbG9zZScsXG4gIGN1cnJlbnRUaW1lOiAnQ3VycmVudCB0aW1lJyxcbiAgbGl2ZTogJ0xJVkUnLFxuICB2b2x1bWU6ICdWb2x1bWUnLFxuICBtdXRlOiAnTXV0ZScsXG4gIHVubXV0ZTogJ1VubXV0ZScsXG4gIGF1ZGlvOiAnQXVkaW8nLFxuICBkZWZhdWx0OiAnRGVmYXVsdCcsXG4gIGNhcHRpb25zOiAnQ2FwdGlvbnMnLFxuICBzdWJ0aXRsZXNPckNjOiAnU3VidGl0bGVzL0NDJyxcbiAgZW5hYmxlQ2FwdGlvbnM6ICdFbmFibGUgc3VidGl0bGVzL2NhcHRpb25zJyxcbiAgZGlzYWJsZUNhcHRpb25zOiAnRGlzYWJsZSBzdWJ0aXRsZXMvY2FwdGlvbnMnLFxuICBhdXRvOiAnQXV0bycsXG4gIGZ1bGxzY3JlZW46ICdGdWxsc2NyZWVuJyxcbiAgZW50ZXJGdWxsc2NyZWVuOiAnRW50ZXIgZnVsbHNjcmVlbicsXG4gIGV4aXRGdWxsc2NyZWVuOiAnRXhpdCBmdWxsc2NyZWVuJyxcbiAgc2V0dGluZ3M6ICdTZXR0aW5ncycsXG4gIHNlZWtGb3J3YXJkOiAnU2VlayBmb3J3YXJkJyxcbiAgc2Vla0JhY2t3YXJkOiAnU2VlayBiYWNrd2FyZCcsXG4gIHNlZWtUb3RhbDogJ1NlZWsgdG90YWwnLFxuICBub3JtYWw6ICdOb3JtYWwnLFxuICBub25lOiAnTm9uZScsXG4gIHBsYXliYWNrUmF0ZTogJ1BsYXliYWNrIFJhdGUnLFxuICBwbGF5YmFja1F1YWxpdHk6ICdQbGF5YmFjayBRdWFsaXR5JyxcbiAgbG9vcDogJ0xvb3AnLFxuICBkaXNhYmxlZDogJ0Rpc2FibGVkJyxcbiAgb2ZmOiAnT2ZmJyxcbiAgZW5hYmxlZDogJ0VuYWJsZWQnLFxuICBwaXA6ICdQaWN0dXJlLWluLVBpY3R1cmUnLFxuICBlbnRlclBpUDogJ01pbmlwbGF5ZXInLFxuICBleGl0UGlQOiAnRXhwYW5kJyxcbn07XG5cbmNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgdGhlbWU6IHVuZGVmaW5lZCxcbiAgcGF1c2VkOiB0cnVlLFxuICBwbGF5aW5nOiBmYWxzZSxcbiAgZHVyYXRpb246IC0xLFxuICBjdXJyZW50UHJvdmlkZXI6IHVuZGVmaW5lZCxcbiAgbWVkaWFUaXRsZTogdW5kZWZpbmVkLFxuICBjdXJyZW50U3JjOiB1bmRlZmluZWQsXG4gIGN1cnJlbnRQb3N0ZXI6IHVuZGVmaW5lZCxcbiAgdGV4dFRyYWNrczogW10sXG4gIGN1cnJlbnRUZXh0VHJhY2s6IC0xLFxuICBhdWRpb1RyYWNrczogW10sXG4gIGN1cnJlbnRBdWRpb1RyYWNrOiAtMSxcbiAgaXNUZXh0VHJhY2tWaXNpYmxlOiB0cnVlLFxuICBzaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzOiB0cnVlLFxuICBpY29uczogJ3ZpbWUnLFxuICBjdXJyZW50VGltZTogMCxcbiAgYXV0b3BsYXk6IGZhbHNlLFxuICByZWFkeTogZmFsc2UsXG4gIHBsYXliYWNrUmVhZHk6IGZhbHNlLFxuICBsb29wOiBmYWxzZSxcbiAgbXV0ZWQ6IGZhbHNlLFxuICBidWZmZXJlZDogMCxcbiAgcGxheWJhY2tSYXRlOiAxLFxuICBwbGF5YmFja1JhdGVzOiBbMV0sXG4gIHBsYXliYWNrUXVhbGl0eTogdW5kZWZpbmVkLFxuICBwbGF5YmFja1F1YWxpdGllczogW10sXG4gIHNlZWtpbmc6IGZhbHNlLFxuICBkZWJ1ZzogZmFsc2UsXG4gIHBsYXliYWNrU3RhcnRlZDogZmFsc2UsXG4gIHBsYXliYWNrRW5kZWQ6IGZhbHNlLFxuICBidWZmZXJpbmc6IGZhbHNlLFxuICBjb250cm9sczogZmFsc2UsXG4gIGlzQ29udHJvbHNBY3RpdmU6IGZhbHNlLFxuICB2b2x1bWU6IDUwLFxuICBpc0Z1bGxzY3JlZW5BY3RpdmU6IGZhbHNlLFxuICBhc3BlY3RSYXRpbzogJzE2OjknLFxuICB2aWV3VHlwZTogdW5kZWZpbmVkLFxuICBpc0F1ZGlvVmlldzogZmFsc2UsXG4gIGlzVmlkZW9WaWV3OiBmYWxzZSxcbiAgbWVkaWFUeXBlOiB1bmRlZmluZWQsXG4gIGlzQXVkaW86IGZhbHNlLFxuICBpc1ZpZGVvOiBmYWxzZSxcbiAgaXNNb2JpbGU6IGZhbHNlLFxuICBpc1RvdWNoOiBmYWxzZSxcbiAgaXNTZXR0aW5nc0FjdGl2ZTogZmFsc2UsXG4gIGlzTGl2ZTogZmFsc2UsXG4gIGlzUGlQQWN0aXZlOiBmYWxzZSxcbiAgYXV0b3BhdXNlOiB0cnVlLFxuICBwbGF5c2lubGluZTogZmFsc2UsXG4gIGxhbmd1YWdlOiAnZW4nLFxuICBsYW5ndWFnZXM6IFsnZW4nXSxcbiAgdHJhbnNsYXRpb25zOiB7IGVuIH0sXG4gIGkxOG46IGVuLFxufTtcbmNvbnN0IHdyaXRhYmxlUHJvcHMgPSBuZXcgU2V0KFtcbiAgJ2F1dG9wbGF5JyxcbiAgJ2F1dG9wYXVzZScsXG4gICdhc3BlY3RSYXRpbycsXG4gICdjb250cm9scycsXG4gICd0aGVtZScsXG4gICdkZWJ1ZycsXG4gICdwYXVzZWQnLFxuICAnY3VycmVudFRpbWUnLFxuICAnbGFuZ3VhZ2UnLFxuICAnbG9vcCcsXG4gICd0cmFuc2xhdGlvbnMnLFxuICAncGxheWJhY2tRdWFsaXR5JyxcbiAgJ211dGVkJyxcbiAgJ3BsYXliYWNrUmF0ZScsXG4gICdwbGF5c2lubGluZScsXG4gICd2b2x1bWUnLFxuICAnaXNTZXR0aW5nc0FjdGl2ZScsXG4gICdpc0NvbnRyb2xzQWN0aXZlJyxcbiAgJ3Nob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MnLFxuXSk7XG5jb25zdCBpc1dyaXRhYmxlUHJvcCA9IChwcm9wKSA9PiB3cml0YWJsZVByb3BzLmhhcyhwcm9wKTtcbi8qKlxuICogUGxheWVyIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgcmVzZXQgd2hlbiB0aGUgbWVkaWEgaXMgY2hhbmdlZC5cbiAqL1xuY29uc3QgcmVzZXRhYmxlUHJvcHMgPSBuZXcgU2V0KFtcbiAgJ3BhdXNlZCcsXG4gICdjdXJyZW50VGltZScsXG4gICdkdXJhdGlvbicsXG4gICdidWZmZXJlZCcsXG4gICdzZWVraW5nJyxcbiAgJ3BsYXlpbmcnLFxuICAnYnVmZmVyaW5nJyxcbiAgJ3BsYXliYWNrUmVhZHknLFxuICAndGV4dFRyYWNrcycsXG4gICdjdXJyZW50VGV4dFRyYWNrJyxcbiAgJ2F1ZGlvVHJhY2tzJyxcbiAgJ2N1cnJlbnRBdWRpb1RyYWNrJyxcbiAgJ21lZGlhVGl0bGUnLFxuICAnY3VycmVudFNyYycsXG4gICdjdXJyZW50UG9zdGVyJyxcbiAgJ3BsYXliYWNrUmF0ZScsXG4gICdwbGF5YmFja1JhdGVzJyxcbiAgJ3BsYXliYWNrU3RhcnRlZCcsXG4gICdwbGF5YmFja0VuZGVkJyxcbiAgJ3BsYXliYWNrUXVhbGl0eScsXG4gICdwbGF5YmFja1F1YWxpdGllcycsXG4gICdtZWRpYVR5cGUnLFxuXSk7XG5jb25zdCBzaG91bGRQcm9wUmVzZXRPbk1lZGlhQ2hhbmdlID0gKHByb3ApID0+IHJlc2V0YWJsZVByb3BzLmhhcyhwcm9wKTtcblxudmFyIFZpZXdUeXBlO1xuKGZ1bmN0aW9uIChWaWV3VHlwZSkge1xuICBWaWV3VHlwZVtcIkF1ZGlvXCJdID0gXCJhdWRpb1wiO1xuICBWaWV3VHlwZVtcIlZpZGVvXCJdID0gXCJ2aWRlb1wiO1xufSkoVmlld1R5cGUgfHwgKFZpZXdUeXBlID0ge30pKTtcblxuY2xhc3MgRGlzcG9zYWwge1xuICBjb25zdHJ1Y3RvcihkaXNwb3NlID0gW10pIHtcbiAgICB0aGlzLmRpc3Bvc2UgPSBkaXNwb3NlO1xuICB9XG4gIGFkZChjYWxsYmFjaykge1xuICAgIHRoaXMuZGlzcG9zZS5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuICBlbXB0eSgpIHtcbiAgICB0aGlzLmRpc3Bvc2UuZm9yRWFjaChmbiA9PiBmbigpKTtcbiAgICB0aGlzLmRpc3Bvc2UgPSBbXTtcbiAgfVxufVxuXG52YXIgX19hd2FpdGVyJHkgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuY29uc3QgUExBWUVSX0tFWSA9IFN5bWJvbCgndm1QbGF5ZXJLZXknKTtcbmNvbnN0IENPTVBPTkVOVF9OQU1FX0tFWSA9IFN5bWJvbCgndm1OYW1lS2V5Jyk7XG5jb25zdCBSRUdJU1RSWV9LRVkgPSBTeW1ib2woJ3ZtUmVnaXN0cnlLZXknKTtcbmNvbnN0IFJFR0lTVFJBVElPTl9LRVkgPSBTeW1ib2woJ3ZtUmVnaXN0cmF0aW9uS2V5Jyk7XG5jb25zdCBSRUdJU1RFUl9DT01QT05FTlRfRVZFTlQgPSAndm1Db21wb25lbnRSZWdpc3Rlcic7XG5jb25zdCBDT01QT05FTlRfUkVHSVNURVJFRF9FVkVOVCA9ICd2bUNvbXBvbmVudFJlZ2lzdGVyZWQnO1xuY29uc3QgQ09NUE9ORU5UX0RFUkVHSVNURVJFRF9FVkVOVCA9ICd2bUNvbXBvbmVudERlcmVnaXN0ZXJlZCc7XG5jb25zdCBnZXRSZWdpc3RyYW50ID0gKHJlZikgPT4gaXNJbnN0YW5jZU9mKHJlZiwgSFRNTEVsZW1lbnQpXG4gID8gcmVmXG4gIDogZ2V0RWxlbWVudChyZWYpO1xuLyoqXG4gKiBIYW5kbGVzIHJlZ2lzdGVyaW5nL2RlcmVnaXN0ZXJpbmcgdGhlIGdpdmVuIGBjb21wb25lbnRgIGluIHRoZSBwbGF5ZXIgcmVnaXN0cnkuIEFsbCByZWdpc3RyaWVzXG4gKiBhcmUgYm91bmQgcGVyIHBsYXllciBzdWJ0cmVlLlxuICpcbiAqIEBwYXJhbSByZWYgLSBBIFN0ZW5jaWwgY29tcG9uZW50IGluc3RhbmNlIG9yIEhUTUxFbGVtZW50LlxuICovXG5mdW5jdGlvbiB3aXRoQ29tcG9uZW50UmVnaXN0cnkocmVmLCBuYW1lKSB7XG4gIGNvbnN0IHJlZ2lzdHJ5SWQgPSBTeW1ib2woJ3ZtUmVnaXN0cnlJZCcpO1xuICBjb25zdCByZWdpc3RyYW50ID0gZ2V0UmVnaXN0cmFudChyZWYpO1xuICByZWdpc3RyYW50W0NPTVBPTkVOVF9OQU1FX0tFWV0gPSBuYW1lICE9PSBudWxsICYmIG5hbWUgIT09IHZvaWQgMCA/IG5hbWUgOiByZWdpc3RyYW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gIHJlZ2lzdHJhbnRbUkVHSVNUUkFUSU9OX0tFWV0gPSByZWdpc3RyeUlkO1xuICBjb25zdCBidWlsZEV2ZW50ID0gKGV2ZW50TmFtZSkgPT4gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwge1xuICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgY29tcG9zZWQ6IHRydWUsXG4gICAgZGV0YWlsOiByZWdpc3RyYW50LFxuICB9KTtcbiAgY29uc3QgcmVnaXN0ZXJFdmVudCA9IGJ1aWxkRXZlbnQoUkVHSVNURVJfQ09NUE9ORU5UX0VWRU5UKTtcbiAgY3JlYXRlU3RlbmNpbEhvb2socmVmLCAoKSA9PiB7XG4gICAgcmVnaXN0cmFudC5kaXNwYXRjaEV2ZW50KHJlZ2lzdGVyRXZlbnQpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHdpdGhDb21wb25lbnRSZWdpc3RyYXIocGxheWVyKSB7XG4gIGNvbnN0IGVsID0gZ2V0RWxlbWVudChwbGF5ZXIpO1xuICBjb25zdCByZWdpc3RyeSA9IG5ldyBNYXAoKTtcbiAgY29uc3QgZGlzcG9zYWwgPSBuZXcgRGlzcG9zYWwoKTtcbiAgLy8gVE9ETyBwcm9wZXJseSB0eXBlIHRoaXMgbGF0ZXIuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIGVsW1JFR0lTVFJZX0tFWV0gPSByZWdpc3RyeTtcbiAgZnVuY3Rpb24gb25EZXJlZ2lzdGVyKHJlZ2lzdHJhbnQpIHtcbiAgICBkZWxldGUgcmVnaXN0cmFudFtQTEFZRVJfS0VZXTtcbiAgICBkZWxldGUgcmVnaXN0cmFudFtSRUdJU1RSWV9LRVldO1xuICAgIHJlZ2lzdHJ5LmRlbGV0ZShyZWdpc3RyYW50W1JFR0lTVFJBVElPTl9LRVldKTtcbiAgICBlbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChDT01QT05FTlRfREVSRUdJU1RFUkVEX0VWRU5ULCB7IGRldGFpbDogcmVnaXN0cmFudCB9KSk7XG4gIH1cbiAgZnVuY3Rpb24gb25SZWdpc3RlcihlKSB7XG4gICAgY29uc3QgcmVmID0gZS5kZXRhaWw7XG4gICAgY29uc3QgcmVnaXN0cmFudCA9IGdldFJlZ2lzdHJhbnQocmVmKTtcbiAgICByZWdpc3RyYW50W1BMQVlFUl9LRVldID0gZWw7XG4gICAgcmVnaXN0cmFudFtSRUdJU1RSWV9LRVldID0gcmVnaXN0cnk7XG4gICAgcmVnaXN0cnkuc2V0KHJlZ2lzdHJhbnRbUkVHSVNUUkFUSU9OX0tFWV0sIHJlZ2lzdHJhbnQpO1xuICAgIGVsLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KENPTVBPTkVOVF9SRUdJU1RFUkVEX0VWRU5ULCB7IGRldGFpbDogcmVnaXN0cmFudCB9KSk7XG4gICAgY3JlYXRlU3RlbmNpbEhvb2socmVmLCB1bmRlZmluZWQsICgpID0+IG9uRGVyZWdpc3RlcihyZWdpc3RyYW50KSk7XG4gIH1cbiAgY3JlYXRlU3RlbmNpbEhvb2socGxheWVyLCAoKSA9PiB7XG4gICAgZGlzcG9zYWwuYWRkKGxpc3RlbihlbCwgUkVHSVNURVJfQ09NUE9ORU5UX0VWRU5ULCBvblJlZ2lzdGVyKSk7XG4gIH0sICgpID0+IHtcbiAgICByZWdpc3RyeS5jbGVhcigpO1xuICAgIGRpc3Bvc2FsLmVtcHR5KCk7XG4gICAgZGVsZXRlIHBsYXllcltSRUdJU1RSWV9LRVldO1xuICB9KTtcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYW55IGNvbXBvbmVudCB3aXRoIHRoZSBnaXZlbiBgbmFtZWAgZXhpc3RzIGluIHRoZSByZWdpc3RyeS4gQWxsIHJlZ2lzdHJpZXNcbiAqIGFyZSBib3VuZCBwZXIgcGxheWVyIHN1YnRyZWUuXG4gKlxuICogQHBhcmFtIHJlZiAtIEEgU3RlbmNpbCBjb21wb25lbnQgaW5zdGFuY2Ugb3IgSFRNTEVsZW1lbnQuXG4gKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQgdG8gc2VhcmNoIGZvci5cbiAqL1xuZnVuY3Rpb24gaXNDb21wb25lbnRSZWdpc3RlcmVkKHJlZiwgbmFtZSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IHJlZ2lzdHJhbnQgPSBnZXRSZWdpc3RyYW50KHJlZik7XG4gIGNvbnN0IHJlZ2lzdHJ5ID0gcmVnaXN0cmFudFtSRUdJU1RSWV9LRVldO1xuICByZXR1cm4gQXJyYXkuZnJvbSgoX2EgPSByZWdpc3RyeSA9PT0gbnVsbCB8fCByZWdpc3RyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVnaXN0cnkudmFsdWVzKCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKS5zb21lKHIgPT4gcltDT01QT05FTlRfTkFNRV9LRVldID09PSBuYW1lKTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgcGxheWVyIGZvciB0aGUgZ2l2ZW4gYHJlZmAuIFRoaXMgd2lsbCBvbmx5IHdvcmsgYWZ0ZXIgdGhlIGNvbXBvbmVudCBoYXMgYmVlblxuICogcmVnaXN0ZXJlZCwgcHJlZmVyIHVzaW5nIGBmaW5kUGxheWVyYC5cbiAqXG4gKiBAcGFyYW0gcmVmIC0gQSBTdGVuY2lsIGNvbXBvbmVudCBpbnN0YW5jZSBvciBIVE1MRWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gZ2V0UGxheWVyRnJvbVJlZ2lzdHJ5KHJlZikge1xuICBjb25zdCByZWdpc3RyYW50ID0gZ2V0UmVnaXN0cmFudChyZWYpO1xuICByZXR1cm4gcmVnaXN0cmFudFtQTEFZRVJfS0VZXTtcbn1cbi8qKlxuICogUmV0dXJucyBhIGNvbGxlY3Rpb24gb2YgY29tcG9uZW50cyBmcm9tIHRoZSByZWdpc3RyeSBmb3IgdGhlIGdpdmVuIGByZWZgLiBBbGwgcmVnaXN0cmllc1xuICogYXJlIGJvdW5kIHBlciBwbGF5ZXIgc3VidHJlZS5cbiAqXG4gKiBAcGFyYW0gcmVmIC0gQSBTdGVuY2lsIGNvbXBvbmVudCBpbnN0YW5jZSBvciBIVE1MRWxlbWVudC5cbiAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudHMgdG8gc2VhcmNoIGZvciBpbiB0aGUgcmVnaXN0cnkuXG4gKi9cbmZ1bmN0aW9uIGdldENvbXBvbmVudEZyb21SZWdpc3RyeShyZWYsIG5hbWUpIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgcmVnaXN0cmFudCA9IGdldFJlZ2lzdHJhbnQocmVmKTtcbiAgcmV0dXJuIEFycmF5LmZyb20oKF9iID0gKF9hID0gcmVnaXN0cmFudFtSRUdJU1RSWV9LRVldKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudmFsdWVzKCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdKS5maWx0ZXIociA9PiByW0NPTVBPTkVOVF9OQU1FX0tFWV0gPT09IG5hbWUpO1xufVxuLyoqXG4gKiBXYXRjaGVzIHRoZSBjdXJyZW50IHJlZ2lzdHJ5IG9uIHRoZSBnaXZlbiBgcmVmYCBmb3IgY2hhbmdlcy4gQWxsIHJlZ2lzdHJpZXMgYXJlIGJvdW5kIHBlclxuICogcGxheWVyIHN1YnRyZWUuXG4gKlxuICogQHBhcmFtIHJlZiAtIEEgU3RlbmNpbCBjb21wb25lbnQgaW5zdGFuY2Ugb3IgSFRNTEVsZW1lbnQuXG4gKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQgdG8gd2F0Y2ggZm9yLlxuICogQHBhcmFtIG9uQ2hhbmdlIC0gQSBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGEgY29tcG9uZW50IGlzIHJlZ2lzdGVyZWQvZGVyZWdpc3RlcmVkLlxuICovXG5mdW5jdGlvbiB3YXRjaENvbXBvbmVudFJlZ2lzdHJ5KHJlZiwgbmFtZSwgb25DaGFuZ2UpIHtcbiAgdmFyIF9hO1xuICByZXR1cm4gX19hd2FpdGVyJHkodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgcGxheWVyID0geWllbGQgZmluZFBsYXllcihyZWYpO1xuICAgIGNvbnN0IGRpc3Bvc2FsID0gbmV3IERpc3Bvc2FsKCk7XG4gICAgY29uc3QgcmVnaXN0cnkgPSBnZXRSZWdpc3RyYW50KHJlZilbUkVHSVNUUllfS0VZXTtcbiAgICBmdW5jdGlvbiBsaXN0ZW5lcihlKSB7XG4gICAgICBpZiAoZS5kZXRhaWxbQ09NUE9ORU5UX05BTUVfS0VZXSA9PT0gbmFtZSlcbiAgICAgICAgb25DaGFuZ2UgPT09IG51bGwgfHwgb25DaGFuZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQ2hhbmdlKGdldENvbXBvbmVudEZyb21SZWdpc3RyeShwbGF5ZXIsIG5hbWUpKTtcbiAgICB9XG4gICAgLy8gSHlkcmF0ZS5cbiAgICBBcnJheS5mcm9tKChfYSA9IHJlZ2lzdHJ5ID09PSBudWxsIHx8IHJlZ2lzdHJ5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWdpc3RyeS52YWx1ZXMoKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10pLmZvckVhY2gocmVnID0+IGxpc3RlbmVyKG5ldyBDdXN0b21FdmVudCgnJywgeyBkZXRhaWw6IHJlZyB9KSkpO1xuICAgIGlmICghaXNVbmRlZmluZWQocGxheWVyKSkge1xuICAgICAgZGlzcG9zYWwuYWRkKGxpc3RlbihwbGF5ZXIsIENPTVBPTkVOVF9SRUdJU1RFUkVEX0VWRU5ULCBsaXN0ZW5lcikpO1xuICAgICAgZGlzcG9zYWwuYWRkKGxpc3RlbihwbGF5ZXIsIENPTVBPTkVOVF9ERVJFR0lTVEVSRURfRVZFTlQsIGxpc3RlbmVyKSk7XG4gICAgfVxuICAgIGNyZWF0ZVN0ZW5jaWxIb29rKHJlZiwgKCkgPT4ge1xuICAgICAgLy8gbm8tb3BcbiAgICB9LCAoKSA9PiB7XG4gICAgICBkaXNwb3NhbC5lbXB0eSgpO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkaXNwb3NhbC5lbXB0eSgpO1xuICAgIH07XG4gIH0pO1xufVxuXG52YXIgY3JlYXRlRGVmZXJyZWRQcm9taXNlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXNvbHZlO1xuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlcykgeyByZXNvbHZlID0gcmVzOyB9KTtcbiAgICByZXR1cm4geyBwcm9taXNlOiBwcm9taXNlLCByZXNvbHZlOiByZXNvbHZlIH07XG59O1xuXG52YXIgb3Blbldvcm1ob2xlID0gZnVuY3Rpb24gKENvbXBvbmVudCwgcHJvcHMsIGlzQmxvY2tpbmcpIHtcbiAgICBpZiAoaXNCbG9ja2luZyA9PT0gdm9pZCAwKSB7IGlzQmxvY2tpbmcgPSB0cnVlOyB9XG4gICAgdmFyIGlzQ29uc3RydWN0b3IgPSAoQ29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWUgPT09ICdGdW5jdGlvbicpO1xuICAgIHZhciBQcm90byA9IGlzQ29uc3RydWN0b3IgPyBDb21wb25lbnQucHJvdG90eXBlIDogQ29tcG9uZW50O1xuICAgIHZhciBjb21wb25lbnRXaWxsTG9hZCA9IFByb3RvLmNvbXBvbmVudFdpbGxMb2FkO1xuICAgIFByb3RvLmNvbXBvbmVudFdpbGxMb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZWwgPSBnZXRFbGVtZW50KHRoaXMpO1xuICAgICAgICB2YXIgb25PcGVuID0gY3JlYXRlRGVmZXJyZWRQcm9taXNlKCk7XG4gICAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnb3Blbldvcm1ob2xlJywge1xuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGNvbXBvc2VkOiB0cnVlLFxuICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgY29uc3VtZXI6IHRoaXMsXG4gICAgICAgICAgICAgICAgZmllbGRzOiBwcm9wcyxcbiAgICAgICAgICAgICAgICB1cGRhdGVyOiBmdW5jdGlvbiAocHJvcCwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IChwcm9wIGluIGVsKSA/IGVsIDogX3RoaXM7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25PcGVuOiBvbk9wZW4sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgZWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgIHZhciB3aWxsTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnRXaWxsTG9hZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnRXaWxsTG9hZC5jYWxsKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGlzQmxvY2tpbmcgPyBvbk9wZW4ucHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdpbGxMb2FkKCk7IH0pIDogKHdpbGxMb2FkKCkpO1xuICAgIH07XG59O1xuXG52YXIgbXVsdGl2ZXJzZSA9IG5ldyBNYXAoKTtcbnZhciB1cGRhdGVDb25zdW1lciA9IGZ1bmN0aW9uIChfYSwgc3RhdGUpIHtcbiAgICB2YXIgZmllbGRzID0gX2EuZmllbGRzLCB1cGRhdGVyID0gX2EudXBkYXRlcjtcbiAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHsgdXBkYXRlcihmaWVsZCwgc3RhdGVbZmllbGRdKTsgfSk7XG59O1xudmFyIFVuaXZlcnNlID0ge1xuICAgIGNyZWF0ZTogZnVuY3Rpb24gKGNyZWF0b3IsIGluaXRpYWxTdGF0ZSkge1xuICAgICAgICB2YXIgZWwgPSBnZXRFbGVtZW50KGNyZWF0b3IpO1xuICAgICAgICB2YXIgd29ybWhvbGVzID0gbmV3IE1hcCgpO1xuICAgICAgICB2YXIgdW5pdmVyc2UgPSB7IHdvcm1ob2xlczogd29ybWhvbGVzLCBzdGF0ZTogaW5pdGlhbFN0YXRlIH07XG4gICAgICAgIG11bHRpdmVyc2Uuc2V0KGNyZWF0b3IsIHVuaXZlcnNlKTtcbiAgICAgICAgdmFyIGNvbm5lY3RlZENhbGxiYWNrID0gY3JlYXRvci5jb25uZWN0ZWRDYWxsYmFjaztcbiAgICAgICAgY3JlYXRvci5jb25uZWN0ZWRDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG11bHRpdmVyc2Uuc2V0KGNyZWF0b3IsIHVuaXZlcnNlKTtcbiAgICAgICAgICAgIGlmIChjb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNvbm5lY3RlZENhbGxiYWNrLmNhbGwoY3JlYXRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBkaXNjb25uZWN0ZWRDYWxsYmFjayA9IGNyZWF0b3IuZGlzY29ubmVjdGVkQ2FsbGJhY2s7XG4gICAgICAgIGNyZWF0b3IuZGlzY29ubmVjdGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBtdWx0aXZlcnNlLmRlbGV0ZShjcmVhdG9yKTtcbiAgICAgICAgICAgIGlmIChkaXNjb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrLmNhbGwoY3JlYXRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW5Xb3JtaG9sZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB2YXIgX2EgPSBldmVudC5kZXRhaWwsIGNvbnN1bWVyID0gX2EuY29uc3VtZXIsIG9uT3BlbiA9IF9hLm9uT3BlbjtcbiAgICAgICAgICAgIGlmICh3b3JtaG9sZXMuaGFzKGNvbnN1bWVyKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnN1bWVyICE9PSAnc3ltYm9sJykge1xuICAgICAgICAgICAgICAgIHZhciBjb25uZWN0ZWRDYWxsYmFja18xID0gY29uc3VtZXIuY29ubmVjdGVkQ2FsbGJhY2ssIGRpc2Nvbm5lY3RlZENhbGxiYWNrXzEgPSBjb25zdW1lci5kaXNjb25uZWN0ZWRDYWxsYmFjaztcbiAgICAgICAgICAgICAgICBjb25zdW1lci5jb25uZWN0ZWRDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgd29ybWhvbGVzLnNldChjb25zdW1lciwgZXZlbnQuZGV0YWlsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbm5lY3RlZENhbGxiYWNrXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3RlZENhbGxiYWNrXzEuY2FsbChjb25zdW1lcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN1bWVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB3b3JtaG9sZXMuZGVsZXRlKGNvbnN1bWVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc2Nvbm5lY3RlZENhbGxiYWNrXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrXzEuY2FsbChjb25zdW1lcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd29ybWhvbGVzLnNldChjb25zdW1lciwgZXZlbnQuZGV0YWlsKTtcbiAgICAgICAgICAgIHVwZGF0ZUNvbnN1bWVyKGV2ZW50LmRldGFpbCwgdW5pdmVyc2Uuc3RhdGUpO1xuICAgICAgICAgICAgb25PcGVuID09PSBudWxsIHx8IG9uT3BlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25PcGVuLnJlc29sdmUoZnVuY3Rpb24gKCkgeyB3b3JtaG9sZXMuZGVsZXRlKGNvbnN1bWVyKTsgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbG9zZVdvcm1ob2xlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgY29uc3VtZXIgPSBldmVudC5kZXRhaWw7XG4gICAgICAgICAgICB3b3JtaG9sZXMuZGVsZXRlKGNvbnN1bWVyKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBQcm92aWRlcjogZnVuY3Rpb24gKF9hLCBjaGlsZHJlbikge1xuICAgICAgICB2YXIgc3RhdGUgPSBfYS5zdGF0ZTtcbiAgICAgICAgdmFyIGNyZWF0b3IgPSBnZXRSZW5kZXJpbmdSZWYoKTtcbiAgICAgICAgaWYgKG11bHRpdmVyc2UuaGFzKGNyZWF0b3IpKSB7XG4gICAgICAgICAgICB2YXIgdW5pdmVyc2UgPSBtdWx0aXZlcnNlLmdldChjcmVhdG9yKTtcbiAgICAgICAgICAgIHVuaXZlcnNlLnN0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICB1bml2ZXJzZS53b3JtaG9sZXMuZm9yRWFjaChmdW5jdGlvbiAob3BlbmluZykgeyB1cGRhdGVDb25zdW1lcihvcGVuaW5nLCBzdGF0ZSk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG59O1xuXG5jb25zdCBMT0FEX1NUQVJUX0VWRU5UID0gJ3ZtTG9hZFN0YXJ0Jztcbi8vIEV2ZW50cyB0aGF0IHRvZ2dsZSBzdGF0ZSBhbmQgdGhlIHByb3AgaXMgbmFtZWQgYGlze1Byb3BOYW1lfS4uLmAuXG5jb25zdCBpc1RvZ2dsZVN0YXRlRXZlbnQgPSBuZXcgU2V0KFtcbiAgJ2lzRnVsbHNjcmVlbkFjdGl2ZScsXG4gICdpc0NvbnRyb2xzQWN0aXZlJyxcbiAgJ2lzVGV4dFRyYWNrVmlzaWJsZScsXG4gICdpc1BpUEFjdGl2ZScsXG4gICdpc0xpdmUnLFxuICAnaXNUb3VjaCcsXG4gICdpc0F1ZGlvJyxcbiAgJ2lzVmlkZW8nLFxuICAnaXNBdWRpb1ZpZXcnLFxuICAnaXNWaWRlb1ZpZXcnLFxuXSk7XG4vLyBFdmVudHMgdGhhdCBhcmUgZW1pdHRlZCB3aXRob3V0IHRoZSAnQ2hhbmdlJyBwb3N0Zml4LlxuY29uc3QgaGFzU2hvcnRlbmVkRXZlbnROYW1lID0gbmV3IFNldChbXG4gICdyZWFkeScsXG4gICdwbGF5YmFja1N0YXJ0ZWQnLFxuICAncGxheWJhY2tFbmRlZCcsXG4gICdwbGF5YmFja1JlYWR5Jyxcbl0pO1xuY29uc3QgZ2V0RXZlbnROYW1lID0gKHByb3ApID0+IHtcbiAgLy8gRXhhbXBsZTogaXNGdWxsc2NyZWVuQWN0aXZlIC0+IHZtRnVsbHNjcmVlbkNoYW5nZVxuICBpZiAoaXNUb2dnbGVTdGF0ZUV2ZW50Lmhhcyhwcm9wKSkge1xuICAgIHJldHVybiBgdm0ke3Byb3AucmVwbGFjZSgnaXMnLCAnJykucmVwbGFjZSgnQWN0aXZlJywgJycpfUNoYW5nZWA7XG4gIH1cbiAgLy8gRXhhbXBsZTogcGxheWJhY2tTdGFydGVkIC0+IHZtUGxheWJhY2tTdGFydGVkXG4gIGlmIChoYXNTaG9ydGVuZWRFdmVudE5hbWUuaGFzKHByb3ApKSB7XG4gICAgcmV0dXJuIGB2bSR7cHJvcC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKX0ke3Byb3Auc2xpY2UoMSl9YDtcbiAgfVxuICAvLyBFeGFtcGxlOiBjdXJyZW50VGltZSAtPiB2bUN1cnJlbnRUaW1lQ2hhbmdlXG4gIHJldHVybiBgdm0ke3Byb3AuY2hhckF0KDApLnRvVXBwZXJDYXNlKCl9JHtwcm9wLnNsaWNlKDEpfUNoYW5nZWA7XG59O1xuZnVuY3Rpb24gZmlyZVBsYXllckV2ZW50KGVsLCBwcm9wLCBuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgY29uc3QgZXZlbnRzID0gW107XG4gIGV2ZW50cy5wdXNoKG5ldyBDdXN0b21FdmVudChnZXRFdmVudE5hbWUocHJvcCksIHsgZGV0YWlsOiBuZXdWYWx1ZSB9KSk7XG4gIGlmIChwcm9wID09PSAncGF1c2VkJyAmJiAhbmV3VmFsdWUpXG4gICAgZXZlbnRzLnB1c2gobmV3IEN1c3RvbUV2ZW50KCd2bVBsYXknKSk7XG4gIGlmIChwcm9wID09PSAnc2Vla2luZycgJiYgb2xkVmFsdWUgJiYgIW5ld1ZhbHVlKVxuICAgIGV2ZW50cy5wdXNoKG5ldyBDdXN0b21FdmVudCgndm1TZWVrZWQnKSk7XG4gIGV2ZW50cy5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICBlbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfSk7XG59XG5cbnZhciBfX2F3YWl0ZXIkeCA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG4vKipcbiAqIEJpbmRzIHByb3BzIGJldHdlZW4gYW4gaW5zdGFuY2Ugb2YgYSBnaXZlbiBjb21wb25lbnQgY2xhc3MgYW5kIGl0J3MgY2xvc2VzdCBhbmNlc3RvciBwbGF5ZXIuXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudCBBIFN0ZW5jaWwgY29tcG9uZW50IGluc3RhbmNlLlxuICogQHBhcmFtIHByb3BzIEEgc2V0IG9mIHByb3BzIHRvIHdhdGNoIGFuZCB1cGRhdGUgb24gdGhlIGdpdmVuIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqL1xuY29uc3Qgd2l0aFBsYXllckNvbnRleHQgPSAoY29tcG9uZW50LCBwcm9wcykgPT4gb3Blbldvcm1ob2xlKGNvbXBvbmVudCwgcHJvcHMpO1xuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBhbmNlc3RvciBwbGF5ZXIgdG8gdGhlIGdpdmVuIGByZWZgIGFuZCB3YXRjaGVzIHRoZSBnaXZlbiBwcm9wcyBmb3IgY2hhbmdlcy4gT25cbiAqIGEgcHJvcCBjaGFuZ2UgdGhlIGdpdmVuIGB1cGRhdGVyYCBmbiBpcyBjYWxsZWQuXG4gKlxuICogQHBhcmFtIHJlZiBBIGVsZW1lbnQgd2l0aGluIGFueSBwbGF5ZXIncyBzdWJ0cmVlLlxuICogQHBhcmFtIHByb3BzIEEgc2V0IG9mIHByb3BzIHRvIHdhdGNoIGFuZCBjYWxsIHRoZSBgdXBkYXRlcmAgZm4gd2l0aC5cbiAqIEBwYXJhbSB1cGRhdGVyIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggdGhlIHByb3AvdmFsdWUgb2YgYW55IHdhdGNoZWQgcHJvcGVydGllcy5cbiAqL1xuY29uc3QgdXNlUGxheWVyQ29udGV4dCA9IChyZWYsIHByb3BzLCB1cGRhdGVyLCBwbGF5ZXJSZWYpID0+IF9fYXdhaXRlciR4KHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gIGNvbnN0IHBsYXllciA9IHBsYXllclJlZiAhPT0gbnVsbCAmJiBwbGF5ZXJSZWYgIT09IHZvaWQgMCA/IHBsYXllclJlZiA6ICh5aWVsZCBmaW5kUGxheWVyKHJlZikpO1xuICBjb25zdCBsaXN0ZW5lcnMgPSAhaXNVbmRlZmluZWQocGxheWVyKVxuICAgID8gcHJvcHMubWFwKHByb3AgPT4ge1xuICAgICAgY29uc3QgZXZlbnQgPSBnZXRFdmVudE5hbWUocHJvcCk7XG4gICAgICByZXR1cm4gbGlzdGVuKHBsYXllciwgZXZlbnQsICgpID0+IHtcbiAgICAgICAgdXBkYXRlcihwcm9wLCBwbGF5ZXJbcHJvcF0pO1xuICAgICAgfSk7XG4gICAgfSlcbiAgICA6IFtdO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGxpc3RlbmVycy5mb3JFYWNoKG9mZiA9PiBvZmYoKSk7XG4gIH07XG59KTtcblxudmFyIFByb3ZpZGVyO1xuKGZ1bmN0aW9uIChQcm92aWRlcikge1xuICBQcm92aWRlcltcIkF1ZGlvXCJdID0gXCJhdWRpb1wiO1xuICBQcm92aWRlcltcIlZpZGVvXCJdID0gXCJ2aWRlb1wiO1xuICBQcm92aWRlcltcIkhMU1wiXSA9IFwiaGxzXCI7XG4gIFByb3ZpZGVyW1wiRGFzaFwiXSA9IFwiZGFzaFwiO1xuICBQcm92aWRlcltcIllvdVR1YmVcIl0gPSBcInlvdXR1YmVcIjtcbiAgUHJvdmlkZXJbXCJWaW1lb1wiXSA9IFwidmltZW9cIjtcbiAgUHJvdmlkZXJbXCJEYWlseW1vdGlvblwiXSA9IFwiZGFpbHltb3Rpb25cIjtcbn0pKFByb3ZpZGVyIHx8IChQcm92aWRlciA9IHt9KSk7XG5cbmNvbnN0IGF1ZGlvUmVnZXggPSAvXFwuKG00YXxtcDRhfG1wZ2F8bXAyfG1wMmF8bXAzfG0yYXxtM2F8d2F2fHdlYmF8YWFjfG9nYXxzcHgpKCR8XFw/KS9pO1xuY29uc3QgdmlkZW9SZWdleCA9IC9cXC4obXA0fG9nW2d2XXx3ZWJtfG1vdnxtNHYpKCR8XFw/KS9pO1xuY29uc3QgaGxzUmVnZXggPSAvXFwuKG0zdTgpKCR8XFw/KS9pO1xuY29uc3QgaGxzVHlwZVJlZ2V4ID0gL15hcHBsaWNhdGlvblxcLyh4LW1wZWdVUkx8dm5kXFwuYXBwbGVcXC5tcGVnVVJMKSQvaTtcbmNvbnN0IGRhc2hSZWdleCA9IC9cXC4obXBkKSgkfFxcPykvaTtcblxuY29uc3QgUFJPVklERVJfQ0hBTkdFX0VWRU5UID0gJ3ZtUHJvdmlkZXJDaGFuZ2UnO1xuLyoqXG4gKiBDcmVhdGVzIGEgZGlzcGF0Y2hlciBvbiB0aGUgZ2l2ZW4gYHJlZmAsIHRvIHNlbmQgdXBkYXRlcyB0byB0aGUgY2xvc2VzdCBhbmNlc3RvciBwbGF5ZXIgdmlhXG4gKiB0aGUgY3VzdG9tIGB2bVByb3ZpZGVyQ2hhbmdlYCBldmVudC5cbiAqXG4gKiBAcGFyYW0gcmVmIEEgY29tcG9uZW50IHJlZmVyZW5jZSB0byBkaXNwYXRjaCB0aGUgc3RhdGUgY2hhbmdlIGV2ZW50cyBmcm9tLlxuICovXG5jb25zdCBjcmVhdGVQcm92aWRlckRpc3BhdGNoZXIgPSAocmVmKSA9PiAocHJvcCwgdmFsdWUpID0+IHtcbiAgY29uc3QgZWwgPSBpc0luc3RhbmNlT2YocmVmLCBIVE1MRWxlbWVudCkgPyByZWYgOiBnZXRFbGVtZW50KHJlZik7XG4gIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFBST1ZJREVSX0NIQU5HRV9FVkVOVCwge1xuICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgY29tcG9zZWQ6IHRydWUsXG4gICAgZGV0YWlsOiB7IGJ5OiBlbCwgcHJvcCwgdmFsdWUgfSxcbiAgfSk7XG4gIGVsLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xufTtcblxuY29uc3QgcHJvdmlkZXJXcml0YWJsZVByb3BzID0gbmV3IFNldChbXG4gICdyZWFkeScsXG4gICdwbGF5aW5nJyxcbiAgJ3BsYXliYWNrUmVhZHknLFxuICAncGxheWJhY2tTdGFydGVkJyxcbiAgJ3BsYXliYWNrRW5kZWQnLFxuICAnc2Vla2luZycsXG4gICdidWZmZXJlZCcsXG4gICdidWZmZXJpbmcnLFxuICAnZHVyYXRpb24nLFxuICAndmlld1R5cGUnLFxuICAnbWVkaWFUaXRsZScsXG4gICdtZWRpYVR5cGUnLFxuICAnY3VycmVudFNyYycsXG4gICdjdXJyZW50UG9zdGVyJyxcbiAgJ3BsYXliYWNrUmF0ZXMnLFxuICAncGxheWJhY2tRdWFsaXRpZXMnLFxuICAndGV4dFRyYWNrcycsXG4gICdjdXJyZW50VGV4dFRyYWNrJyxcbiAgJ2lzVGV4dFRyYWNrVmlzaWJsZScsXG4gICdhdWRpb1RyYWNrcycsXG4gICdjdXJyZW50QXVkaW9UcmFjaycsXG4gICdpc1BpUEFjdGl2ZScsXG4gICdpc0Z1bGxzY3JlZW5BY3RpdmUnLFxuXSk7XG5jb25zdCBpc1Byb3ZpZGVyV3JpdGFibGVQcm9wID0gKHByb3ApID0+IGlzV3JpdGFibGVQcm9wKHByb3ApIHx8IHByb3ZpZGVyV3JpdGFibGVQcm9wcy5oYXMocHJvcCk7XG5cbnZhciBfX2F3YWl0ZXIkdyA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCBQUk9WSURFUl9DQUNIRV9LRVkgPSBTeW1ib2woJ3ZtUHJvdmlkZXJDYWNoZScpO1xuY29uc3QgUFJPVklERVJfQ09OTkVDVF9FVkVOVCA9ICd2bU1lZGlhUHJvdmlkZXJDb25uZWN0JztcbmNvbnN0IFBST1ZJREVSX0RJU0NPTk5FQ1RfRVZFTlQgPSAndm1NZWRpYVByb3ZpZGVyRGlzY29ubmVjdCc7XG5mdW5jdGlvbiBidWlsZFByb3ZpZGVyQ29ubmVjdEV2ZW50KG5hbWUsIGhvc3QpIHtcbiAgcmV0dXJuIG5ldyBDdXN0b21FdmVudChuYW1lLCB7XG4gICAgYnViYmxlczogdHJ1ZSxcbiAgICBjb21wb3NlZDogdHJ1ZSxcbiAgICBkZXRhaWw6IGhvc3QsXG4gIH0pO1xufVxuZnVuY3Rpb24gd2l0aFByb3ZpZGVySG9zdChjb25uZWN0b3IpIHtcbiAgY29uc3QgZWwgPSBnZXRFbGVtZW50KGNvbm5lY3Rvcik7XG4gIGNvbnN0IGRpc3Bvc2FsID0gbmV3IERpc3Bvc2FsKCk7XG4gIGNvbnN0IGNhY2hlID0gbmV3IE1hcCgpO1xuICBjb25uZWN0b3JbUFJPVklERVJfQ0FDSEVfS0VZXSA9IGNhY2hlO1xuICBmdW5jdGlvbiBpbml0Q2FjaGUoKSB7XG4gICAgT2JqZWN0LmtleXMoY29ubmVjdG9yKS5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgY2FjaGUuc2V0KHByb3AsIGNvbm5lY3Rvcltwcm9wXSk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gb25EaXNjb25uZWN0KCkge1xuICAgIHdyaXRlVGFzaygoKSA9PiBfX2F3YWl0ZXIkdyh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGNvbm5lY3Rvci5yZWFkeSA9IGZhbHNlO1xuICAgICAgY29ubmVjdG9yLnByb3ZpZGVyID0gdW5kZWZpbmVkO1xuICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICAgIChfYSA9IGNvbm5lY3Rvci5vblByb3ZpZGVyRGlzY29ubmVjdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoY29ubmVjdG9yKTtcbiAgICAgIGVsLmRpc3BhdGNoRXZlbnQoYnVpbGRQcm92aWRlckNvbm5lY3RFdmVudChQUk9WSURFUl9ESVNDT05ORUNUX0VWRU5UKSk7XG4gICAgfSkpO1xuICB9XG4gIGZ1bmN0aW9uIG9uQ29ubmVjdChldmVudCkge1xuICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIGluaXRDYWNoZSgpO1xuICAgIGNvbnN0IGhvc3RSZWYgPSBldmVudC5kZXRhaWw7XG4gICAgY29uc3QgaG9zdCA9IGdldEVsZW1lbnQoZXZlbnQuZGV0YWlsKTtcbiAgICBpZiAoY29ubmVjdG9yLnByb3ZpZGVyID09PSBob3N0KVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IG5hbWUgPSBob3N0ID09PSBudWxsIHx8IGhvc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhvc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCd2bS0nLCAnJyk7XG4gICAgd3JpdGVUYXNrKCgpID0+IF9fYXdhaXRlciR3KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgY29ubmVjdG9yLnByb3ZpZGVyID0gaG9zdDtcbiAgICAgIGNvbm5lY3Rvci5jdXJyZW50UHJvdmlkZXIgPSBPYmplY3QudmFsdWVzKFByb3ZpZGVyKS5maW5kKHByb3ZpZGVyID0+IG5hbWUgPT09IHByb3ZpZGVyKTtcbiAgICAgIGNyZWF0ZVN0ZW5jaWxIb29rKGhvc3RSZWYsIHVuZGVmaW5lZCwgKCkgPT4gb25EaXNjb25uZWN0KCkpO1xuICAgIH0pKTtcbiAgfVxuICBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkge1xuICAgIHZhciBfYTtcbiAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICBjb25zdCB7IGJ5LCBwcm9wLCB2YWx1ZSB9ID0gZXZlbnQuZGV0YWlsO1xuICAgIGlmICghaXNQcm92aWRlcldyaXRhYmxlUHJvcChwcm9wKSkge1xuICAgICAgKF9hID0gY29ubmVjdG9yLmxvZ2dlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLndhcm4oYCR7Ynkubm9kZU5hbWV9IHRyaWVkIHRvIGNoYW5nZSBcXGAke3Byb3B9XFxgIGJ1dCBpdCBpcyByZWFkb25seS5gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd3JpdGVUYXNrKCgpID0+IHtcbiAgICAgIGNhY2hlLnNldChwcm9wLCB2YWx1ZSk7XG4gICAgICBjb25uZWN0b3JbcHJvcF0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgfVxuICBjcmVhdGVTdGVuY2lsSG9vayhjb25uZWN0b3IsICgpID0+IHtcbiAgICBkaXNwb3NhbC5hZGQobGlzdGVuKGVsLCBQUk9WSURFUl9DT05ORUNUX0VWRU5ULCBvbkNvbm5lY3QpKTtcbiAgICBkaXNwb3NhbC5hZGQobGlzdGVuKGVsLCBQUk9WSURFUl9DSEFOR0VfRVZFTlQsIG9uQ2hhbmdlKSk7XG4gIH0sICgpID0+IHtcbiAgICBkaXNwb3NhbC5lbXB0eSgpO1xuICAgIGNhY2hlLmNsZWFyKCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gd2l0aFByb3ZpZGVyQ29ubmVjdChyZWYpIHtcbiAgY29uc3QgY29ubmVjdEV2ZW50ID0gYnVpbGRQcm92aWRlckNvbm5lY3RFdmVudChQUk9WSURFUl9DT05ORUNUX0VWRU5ULCByZWYpO1xuICBjcmVhdGVTdGVuY2lsSG9vayhyZWYsICgpID0+IHtcbiAgICBnZXRFbGVtZW50KHJlZikuZGlzcGF0Y2hFdmVudChjb25uZWN0RXZlbnQpO1xuICB9KTtcbn1cblxudmFyIF9fYXdhaXRlciR2ID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCBBdWRpbyA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWwgV2hldGhlciBhbiBleHRlcm5hbCBTREsgd2lsbCBhdHRhY2ggaXRzZWxmIHRvIHRoZSBtZWRpYSBwbGF5ZXIgYW5kIGNvbnRyb2wgaXQuXG4gICAgICovXG4gICAgdGhpcy53aWxsQXR0YWNoID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgdGhpcy5wcmVsb2FkID0gJ21ldGFkYXRhJztcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgaWYgKCF0aGlzLndpbGxBdHRhY2gpXG4gICAgICB3aXRoUHJvdmlkZXJDb25uZWN0KHRoaXMpO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0QWRhcHRlcigpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkdih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGNvbnN0IGFkYXB0ZXIgPSAoX2IgPSAoeWllbGQgKChfYSA9IHRoaXMuZmlsZVByb3ZpZGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0QWRhcHRlcigpKSkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHt9O1xuICAgICAgYWRhcHRlci5jYW5QbGF5ID0gKHR5cGUpID0+IF9fYXdhaXRlciR2KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyByZXR1cm4gaXNTdHJpbmcodHlwZSkgJiYgYXVkaW9SZWdleC50ZXN0KHR5cGUpOyB9KTtcbiAgICAgIHJldHVybiBhZGFwdGVyO1xuICAgIH0pO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaChcInZtLWZpbGVcIiwgeyBub0Nvbm5lY3Q6IHRydWUsIHdpbGxBdHRhY2g6IHRoaXMud2lsbEF0dGFjaCwgY3Jvc3NPcmlnaW46IHRoaXMuY3Jvc3NPcmlnaW4sIHByZWxvYWQ6IHRoaXMucHJlbG9hZCwgZGlzYWJsZVJlbW90ZVBsYXliYWNrOiB0aGlzLmRpc2FibGVSZW1vdGVQbGF5YmFjaywgbWVkaWFUaXRsZTogdGhpcy5tZWRpYVRpdGxlLCB2aWV3VHlwZTogVmlld1R5cGUuQXVkaW8sIHJlZjogKGVsKSA9PiB7XG4gICAgICAgIHRoaXMuZmlsZVByb3ZpZGVyID0gZWw7XG4gICAgICB9IH0sIGgoXCJzbG90XCIsIG51bGwpKSk7XG4gIH1cbn07XG5cbmNvbnN0IGNhcHRpb25Db250cm9sQ3NzID0gXCI6aG9zdChbaGlkZGVuXSl7ZGlzcGxheTpub25lfVwiO1xuXG52YXIgX19hd2FpdGVyJHUgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbmNvbnN0IENhcHRpb25Db250cm9sID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLmNhblRvZ2dsZUNhcHRpb25WaXNpYmlsaXR5ID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogVGhlIFVSTCB0byBhbiBTVkcgZWxlbWVudCBvciBmcmFnbWVudCB0byBsb2FkLlxuICAgICAqL1xuICAgIHRoaXMuc2hvd0ljb24gPSAnY2FwdGlvbnMtb24nO1xuICAgIC8qKlxuICAgICAqIFRoZSBVUkwgdG8gYW4gU1ZHIGVsZW1lbnQgb3IgZnJhZ21lbnQgdG8gbG9hZC5cbiAgICAgKi9cbiAgICB0aGlzLmhpZGVJY29uID0gJ2NhcHRpb25zLW9mZic7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdG9vbHRpcCBpcyBwb3NpdGlvbmVkIGFib3ZlL2JlbG93IHRoZSBjb250cm9sLlxuICAgICAqL1xuICAgIHRoaXMudG9vbHRpcFBvc2l0aW9uID0gJ3RvcCc7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdG9vbHRpcCBzaG91bGQgbm90IGJlIGRpc3BsYXllZC5cbiAgICAgKi9cbiAgICB0aGlzLmhpZGVUb29sdGlwID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgdGhpcy5rZXlzID0gJ2MnO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmkxOG4gPSB7fTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wbGF5YmFja1JlYWR5ID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMudGV4dFRyYWNrcyA9IFtdO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzVGV4dFRyYWNrVmlzaWJsZSA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbXG4gICAgICAnaTE4bicsXG4gICAgICAndGV4dFRyYWNrcycsXG4gICAgICAnaXNUZXh0VHJhY2tWaXNpYmxlJyxcbiAgICAgICdwbGF5YmFja1JlYWR5JyxcbiAgICBdKTtcbiAgfVxuICBvblRleHRUcmFja3NDaGFuZ2UoKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkdSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGNvbnN0IHBsYXllciA9IGdldFBsYXllckZyb21SZWdpc3RyeSh0aGlzKTtcbiAgICAgIHRoaXMuY2FuVG9nZ2xlQ2FwdGlvblZpc2liaWxpdHkgPVxuICAgICAgICB0aGlzLnRleHRUcmFja3MubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICgoX2EgPSAoeWllbGQgKHBsYXllciA9PT0gbnVsbCB8fCBwbGF5ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsYXllci5jYW5TZXRUZXh0VHJhY2tWaXNpYmlsaXR5KCkpKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UpO1xuICAgIH0pO1xuICB9XG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgdGhpcy5vblRleHRUcmFja3NDaGFuZ2UoKTtcbiAgfVxuICBvbkNsaWNrKCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBwbGF5ZXIgPSBnZXRQbGF5ZXJGcm9tUmVnaXN0cnkodGhpcyk7XG4gICAgKF9hID0gcGxheWVyID09PSBudWxsIHx8IHBsYXllciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxheWVyLnNldFRleHRUcmFja1Zpc2liaWxpdHkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHBsYXllciwgIXRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgdG9vbHRpcCA9IHRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlXG4gICAgICA/IHRoaXMuaTE4bi5kaXNhYmxlQ2FwdGlvbnNcbiAgICAgIDogdGhpcy5pMThuLmVuYWJsZUNhcHRpb25zO1xuICAgIGNvbnN0IHRvb2x0aXBXaXRoSGludCA9ICFpc1VuZGVmaW5lZCh0aGlzLmtleXMpXG4gICAgICA/IGAke3Rvb2x0aXB9ICgke3RoaXMua2V5c30pYFxuICAgICAgOiB0b29sdGlwO1xuICAgIHJldHVybiAoaChIb3N0LCB7IGhpZGRlbjogIXRoaXMuY2FuVG9nZ2xlQ2FwdGlvblZpc2liaWxpdHkgfSwgaChcInZtLWNvbnRyb2xcIiwgeyBsYWJlbDogdGhpcy5pMThuLmNhcHRpb25zLCBrZXlzOiB0aGlzLmtleXMsIGhpZGRlbjogIXRoaXMuY2FuVG9nZ2xlQ2FwdGlvblZpc2liaWxpdHksIHByZXNzZWQ6IHRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlLCBvbkNsaWNrOiB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKSB9LCBoKFwidm0taWNvblwiLCB7IG5hbWU6IHRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlID8gdGhpcy5zaG93SWNvbiA6IHRoaXMuaGlkZUljb24sIGxpYnJhcnk6IHRoaXMuaWNvbnMgfSksIGgoXCJ2bS10b29sdGlwXCIsIHsgaGlkZGVuOiB0aGlzLmhpZGVUb29sdGlwLCBwb3NpdGlvbjogdGhpcy50b29sdGlwUG9zaXRpb24sIGRpcmVjdGlvbjogdGhpcy50b29sdGlwRGlyZWN0aW9uIH0sIHRvb2x0aXBXaXRoSGludCkpKSk7XG4gIH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcInRleHRUcmFja3NcIjogW1wib25UZXh0VHJhY2tzQ2hhbmdlXCJdLFxuICAgIFwicGxheWJhY2tSZWFkeVwiOiBbXCJvblRleHRUcmFja3NDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gY2FwdGlvbkNvbnRyb2xDc3M7IH1cbn07XG5cbi8qIGVzbGludC1kaXNhYmxlIGZ1bmMtbmFtZXMgKi9cbmNvbnN0IHdhdGNoJDEgPSBuZXcgU2V0KCk7XG5jb25zdCBjb250cm9scyA9IG5ldyBTZXQoKTtcbi8vIHdhdGNoZWRFbCAtPiAoY29udHJvbHNFbCAtPiBjb250cm9sc0hlaWdodCkgc2F2ZWQgb24gY29sbGlzaW9uLiBCYXNpY2FsbHkga2VlcHMgdHJhY2sgb2Zcbi8vIGV2ZXJ5IGNvbGxpc2lvbiB3aXRoIGFsbCBjb250cm9scyBmb3IgZWFjaCB3YXRjaGVkIGVsZW1lbnQuXG5jb25zdCBjb2xsaXNpb25zID0gbmV3IE1hcCgpO1xuZnVuY3Rpb24gdXBkYXRlKCkge1xuICB3cml0ZVRhc2soKCkgPT4ge1xuICAgIGNvbnRyb2xzLmZvckVhY2goY29udHJvbHNFbCA9PiB7XG4gICAgICBjb25zdCBjb250cm9sc0hlaWdodCA9IHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUoY29udHJvbHNFbCkuaGVpZ2h0KTtcbiAgICAgIHdhdGNoJDEuZm9yRWFjaCh3YXRjaGVkRWwgPT4ge1xuICAgICAgICBjb25zdCB3YXRjaGVkRWxDb2xsaXNpb25zID0gY29sbGlzaW9ucy5nZXQod2F0Y2hlZEVsKTtcbiAgICAgICAgY29uc3QgaGFzQ29sbGlkZWQgPSBpc0NvbGxpZGluZyh3YXRjaGVkRWwsIGNvbnRyb2xzRWwpO1xuICAgICAgICBjb25zdCB3aWxsQ29sbGlkZSA9IGlzQ29sbGlkaW5nKHdhdGNoZWRFbCwgY29udHJvbHNFbCwgMCwgY29udHJvbHNIZWlnaHQpIHx8XG4gICAgICAgICAgaXNDb2xsaWRpbmcod2F0Y2hlZEVsLCBjb250cm9sc0VsLCAwLCAtY29udHJvbHNIZWlnaHQpO1xuICAgICAgICB3YXRjaGVkRWxDb2xsaXNpb25zLnNldChjb250cm9sc0VsLCBoYXNDb2xsaWRlZCB8fCB3aWxsQ29sbGlkZSA/IGNvbnRyb2xzSGVpZ2h0IDogMCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICAvLyBVcGRhdGUgYWZ0ZXIgYXNzZXNzaW5nIGFsbCBjb2xsaXNpb25zIHNvIHRoZXJlIGFyZSBubyBnbGl0Y2h5IG1vdmVtZW50cy5cbiAgICB3YXRjaCQxLmZvckVhY2god2F0Y2hlZEVsID0+IHtcbiAgICAgIGNvbnN0IHdhdGNoZWRFbENvbGxpc2lvbnMgPSBjb2xsaXNpb25zLmdldCh3YXRjaGVkRWwpO1xuICAgICAgd2F0Y2hlZEVsLnN0eWxlLnNldFByb3BlcnR5KCctLXZtLWNvbnRyb2xzLWhlaWdodCcsIGAke01hdGgubWF4KDAsIE1hdGgubWF4KC4uLndhdGNoZWRFbENvbGxpc2lvbnMudmFsdWVzKCkpKX1weGApO1xuICAgIH0pO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHJlZ2lzdGVyQ29udHJvbHNGb3JDb2xsaXNpb25EZXRlY3Rpb24oY29tcG9uZW50KSB7XG4gIGNvbnN0IGVsID0gZ2V0RWxlbWVudChjb21wb25lbnQpO1xuICBmdW5jdGlvbiBnZXRJbm5lckVsKCkge1xuICAgIHJldHVybiBlbC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5jb250cm9scycpO1xuICB9XG4gIGNyZWF0ZVN0ZW5jaWxIb29rKGNvbXBvbmVudCwgKCkgPT4ge1xuICAgIGNvbnN0IGlubmVyRWwgPSBnZXRJbm5lckVsKCk7XG4gICAgaWYgKCFpc051bGwoaW5uZXJFbCkpIHtcbiAgICAgIGNvbnRyb2xzLmFkZChpbm5lckVsKTtcbiAgICAgIHVwZGF0ZSgpO1xuICAgIH1cbiAgfSwgKCkgPT4ge1xuICAgIGNvbnRyb2xzLmRlbGV0ZShnZXRJbm5lckVsKCkpO1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbiAgd3JhcFN0ZW5jaWxIb29rKGNvbXBvbmVudCwgJ2NvbXBvbmVudERpZExvYWQnLCAoKSA9PiB7XG4gICAgY29udHJvbHMuYWRkKGdldElubmVyRWwoKSk7XG4gICAgdXBkYXRlKCk7XG4gIH0pO1xuICB3cmFwU3RlbmNpbEhvb2soY29tcG9uZW50LCAnY29tcG9uZW50RGlkUmVuZGVyJywgdXBkYXRlKTtcbn1cbmZ1bmN0aW9uIHdpdGhDb250cm9sc0NvbGxpc2lvbkRldGVjdGlvbihjb21wb25lbnQpIHtcbiAgY29uc3QgZWwgPSBnZXRFbGVtZW50KGNvbXBvbmVudCk7XG4gIGNyZWF0ZVN0ZW5jaWxIb29rKGNvbXBvbmVudCwgKCkgPT4ge1xuICAgIHdhdGNoJDEuYWRkKGVsKTtcbiAgICBjb2xsaXNpb25zLnNldChlbCwgbmV3IE1hcCgpKTtcbiAgICB1cGRhdGUoKTtcbiAgfSwgKCkgPT4ge1xuICAgIHdhdGNoJDEuZGVsZXRlKGVsKTtcbiAgICBjb2xsaXNpb25zLmRlbGV0ZShlbCk7XG4gIH0pO1xufVxuXG5jb25zdCBjYXB0aW9uc0NzcyA9IFwiOmhvc3R7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO2JvdHRvbTowO3dpZHRoOjEwMCU7cG9pbnRlci1ldmVudHM6bm9uZTt6LWluZGV4OnZhcigtLXZtLWNhcHRpb25zLXotaW5kZXgpfS5jYXB0aW9uc3t3aWR0aDoxMDAlO3RleHQtYWxpZ246Y2VudGVyO2NvbG9yOnZhcigtLXZtLWNhcHRpb25zLXRleHQtY29sb3IpO2ZvbnQtc2l6ZTp2YXIoLS12bS1jYXB0aW9ucy1mb250LXNpemUpO3BhZGRpbmc6JGNvbnRyb2wtc3BhY2luZztkaXNwbGF5Om5vbmU7cG9pbnRlci1ldmVudHM6bm9uZTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjRzIGVhc2UtaW4tb3V0LCBvcGFjaXR5IDAuM3MgZWFzZS1pbi1vdXR9LmNhcHRpb25zLmVuYWJsZWR7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNhcHRpb25zLmhpZGRlbntkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0uY2FwdGlvbnMuaW5hY3RpdmV7b3BhY2l0eTowO3Zpc2liaWxpdHk6aGlkZGVufS5jYXB0aW9ucy5mb250TWR7Zm9udC1zaXplOnZhcigtLXZtLWNhcHRpb25zLWZvbnQtc2l6ZS1tZWRpdW0pfS5jYXB0aW9ucy5mb250TGd7Zm9udC1zaXplOnZhcigtLXZtLWNhcHRpb25zLWZvbnQtc2l6ZS1sYXJnZSl9LmNhcHRpb25zLmZvbnRYbHtmb250LXNpemU6dmFyKC0tdm0tY2FwdGlvbnMtZm9udC1zaXplLXhsYXJnZSl9LmN1ZXtkaXNwbGF5OmlubGluZS1ibG9jaztiYWNrZ3JvdW5kOnZhcigtLXZtLWNhcHRpb25zLWN1ZS1iZy1jb2xvcik7Ym9yZGVyLXJhZGl1czp2YXIoLS12bS1jYXB0aW9ucy1jdWUtYm9yZGVyLXJhZGl1cyk7Ym94LWRlY29yYXRpb24tYnJlYWs6Y2xvbmU7bGluZS1oZWlnaHQ6MTg1JTtwYWRkaW5nOnZhcigtLXZtLWNhcHRpb25zLWN1ZS1wYWRkaW5nKTt3aGl0ZS1zcGFjZTpwcmUtd3JhcDtwb2ludGVyLWV2ZW50czpub25lfS5jdWU+ZGl2e2Rpc3BsYXk6aW5saW5lfS5jdWU6ZW1wdHl7ZGlzcGxheTpub25lfVwiO1xuXG52YXIgX19hd2FpdGVyJHQgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbmNvbnN0IENhcHRpb25zID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLnNpemVEaXNwb3NhbCA9IG5ldyBEaXNwb3NhbCgpO1xuICAgIHRoaXMudGV4dERpc3Bvc2FsID0gbmV3IERpc3Bvc2FsKCk7XG4gICAgdGhpcy5pc0VuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmZvbnRTaXplID0gJ3NtJztcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBjYXB0aW9ucyBzaG91bGQgYmUgdmlzaWJsZSBvciBub3QuXG4gICAgICovXG4gICAgdGhpcy5oaWRkZW4gPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc0NvbnRyb2xzQWN0aXZlID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNWaWRlb1ZpZXcgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wbGF5YmFja1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy50ZXh0VHJhY2tzID0gW107XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuY3VycmVudFRleHRUcmFjayA9IC0xO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzVGV4dFRyYWNrVmlzaWJsZSA9IHRydWU7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhDb250cm9sc0NvbGxpc2lvbkRldGVjdGlvbih0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbXG4gICAgICAnaXNWaWRlb1ZpZXcnLFxuICAgICAgJ3BsYXliYWNrU3RhcnRlZCcsXG4gICAgICAnaXNDb250cm9sc0FjdGl2ZScsXG4gICAgICAndGV4dFRyYWNrcycsXG4gICAgICAnY3VycmVudFRleHRUcmFjaycsXG4gICAgICAnaXNUZXh0VHJhY2tWaXNpYmxlJyxcbiAgICBdKTtcbiAgfVxuICBvbkVuYWJsZWRDaGFuZ2UoKSB7XG4gICAgdGhpcy5pc0VuYWJsZWQgPSB0aGlzLnBsYXliYWNrU3RhcnRlZCAmJiB0aGlzLmlzVmlkZW9WaWV3O1xuICB9XG4gIG9uVGV4dFRyYWNrc0NoYW5nZSgpIHtcbiAgICBjb25zdCB0ZXh0VHJhY2sgPSB0aGlzLnRleHRUcmFja3NbdGhpcy5jdXJyZW50VGV4dFRyYWNrXTtcbiAgICBjb25zdCByZW5kZXJDdWVzID0gKCkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc3QgYWN0aXZlQ3VlcyA9IEFycmF5LmZyb20oKF9hID0gdGV4dFRyYWNrLmFjdGl2ZUN1ZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKTtcbiAgICAgIHRoaXMucmVuZGVyQ3VycmVudEN1ZShhY3RpdmVDdWVzWzBdKTtcbiAgICB9O1xuICAgIHRoaXMudGV4dERpc3Bvc2FsLmVtcHR5KCk7XG4gICAgaWYgKCFpc05pbCh0ZXh0VHJhY2spKSB7XG4gICAgICByZW5kZXJDdWVzKCk7XG4gICAgICB0aGlzLnRleHREaXNwb3NhbC5hZGQobGlzdGVuKHRleHRUcmFjaywgJ2N1ZWNoYW5nZScsIHJlbmRlckN1ZXMpKTtcbiAgICB9XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5kaXNwYXRjaCA9IGNyZWF0ZURpc3BhdGNoZXIodGhpcyk7XG4gICAgdGhpcy5kaXNwYXRjaCgnc2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrcycsIGZhbHNlKTtcbiAgICB0aGlzLm9uVGV4dFRyYWNrc0NoYW5nZSgpO1xuICAgIHRoaXMub25QbGF5ZXJSZXNpemUoKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLnRleHREaXNwb3NhbC5lbXB0eSgpO1xuICAgIHRoaXMuc2l6ZURpc3Bvc2FsLmVtcHR5KCk7XG4gICAgdGhpcy5kaXNwYXRjaCgnc2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrcycsIHRydWUpO1xuICB9XG4gIG9uUGxheWVyUmVzaXplKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkdCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGNvbnN0IHBsYXllciA9IHlpZWxkIGZpbmRQbGF5ZXIodGhpcyk7XG4gICAgICBpZiAoaXNVbmRlZmluZWQocGxheWVyKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgY29udGFpbmVyID0gKHlpZWxkIHBsYXllci5nZXRDb250YWluZXIoKSk7XG4gICAgICBjb25zdCByZXNpemVPYnMgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllc1swXTtcbiAgICAgICAgY29uc3QgeyB3aWR0aCB9ID0gZW50cnkuY29udGVudFJlY3Q7XG4gICAgICAgIGlmICh3aWR0aCA+PSAxMzYwKSB7XG4gICAgICAgICAgdGhpcy5mb250U2l6ZSA9ICd4bCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAod2lkdGggPj0gMTAyNCkge1xuICAgICAgICAgIHRoaXMuZm9udFNpemUgPSAnbGcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHdpZHRoID49IDc2OCkge1xuICAgICAgICAgIHRoaXMuZm9udFNpemUgPSAnbWQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMuZm9udFNpemUgPSAnc20nO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJlc2l6ZU9icy5vYnNlcnZlKGNvbnRhaW5lcik7XG4gICAgfSk7XG4gIH1cbiAgcmVuZGVyQ3VycmVudEN1ZShjdWUpIHtcbiAgICBpZiAoaXNOaWwoY3VlKSkge1xuICAgICAgdGhpcy5jdWUgPSAnJztcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LmFwcGVuZChjdWUuZ2V0Q3VlQXNIVE1MKCkpO1xuICAgIHRoaXMuY3VlID0gZGl2LmlubmVySFRNTC50cmltKCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IHN0eWxlOiB7XG4gICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoY2FsYygke3RoaXMuaXNDb250cm9sc0FjdGl2ZSA/ICd2YXIoLS12bS1jb250cm9scy1oZWlnaHQpJyA6ICcyNHB4J30gKiAtMSkpYCxcbiAgICAgIH0sIGNsYXNzOiB7XG4gICAgICAgIGNhcHRpb25zOiB0cnVlLFxuICAgICAgICBlbmFibGVkOiB0aGlzLmlzRW5hYmxlZCxcbiAgICAgICAgaGlkZGVuOiB0aGlzLmhpZGRlbixcbiAgICAgICAgZm9udE1kOiB0aGlzLmZvbnRTaXplID09PSAnbWQnLFxuICAgICAgICBmb250TGc6IHRoaXMuZm9udFNpemUgPT09ICdsZycsXG4gICAgICAgIGZvbnRYbDogdGhpcy5mb250U2l6ZSA9PT0gJ3hsJyxcbiAgICAgICAgaW5hY3RpdmU6ICF0aGlzLmlzVGV4dFRyYWNrVmlzaWJsZSxcbiAgICAgIH0gfSwgaChcInNwYW5cIiwgeyBjbGFzczogXCJjdWVcIiB9LCB0aGlzLmN1ZSkpKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwiaXNWaWRlb1ZpZXdcIjogW1wib25FbmFibGVkQ2hhbmdlXCJdLFxuICAgIFwicGxheWJhY2tTdGFydGVkXCI6IFtcIm9uRW5hYmxlZENoYW5nZVwiXSxcbiAgICBcInRleHRUcmFja3NcIjogW1wib25UZXh0VHJhY2tzQ2hhbmdlXCJdLFxuICAgIFwiY3VycmVudFRleHRUcmFja1wiOiBbXCJvblRleHRUcmFja3NDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gY2FwdGlvbnNDc3M7IH1cbn07XG5cbmNvbnN0IGNsaWNrVG9QbGF5Q3NzID0gXCI6aG9zdHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6dmFyKC0tdm0tY2xpY2stdG8tcGxheS16LWluZGV4KX0uY2xpY2tUb1BsYXl7ZGlzcGxheTpub25lO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7cG9pbnRlci1ldmVudHM6bm9uZX0uY2xpY2tUb1BsYXkuZW5hYmxlZHtkaXNwbGF5OmlubGluZS1ibG9jaztwb2ludGVyLWV2ZW50czphdXRvfVwiO1xuXG52YXIgX19hd2FpdGVyJHMgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbmNvbnN0IENsaWNrVG9QbGF5ID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0IHRoaXMgaXMgZGlzYWJsZWQgb24gbW9iaWxlIHRvIG5vdCBpbnRlcmZlcmUgd2l0aCBwbGF5YmFjaywgc2V0IHRoaXMgdG8gYHRydWVgIHRvXG4gICAgICogZW5hYmxlIGl0LlxuICAgICAqL1xuICAgIHRoaXMudXNlT25Nb2JpbGUgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wYXVzZWQgPSB0cnVlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzVmlkZW9WaWV3ID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNNb2JpbGUgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgWydwYXVzZWQnLCAnaXNWaWRlb1ZpZXcnLCAnaXNNb2JpbGUnXSk7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5kaXNwYXRjaCA9IGNyZWF0ZURpc3BhdGNoZXIodGhpcyk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBmb3JjZUNsaWNrKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkcyh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHRoaXMub25DbGljaygpO1xuICAgIH0pO1xuICB9XG4gIG9uQ2xpY2soKSB7XG4gICAgdGhpcy5kaXNwYXRjaCgncGF1c2VkJywgIXRoaXMucGF1c2VkKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IHtcbiAgICAgICAgY2xpY2tUb1BsYXk6IHRydWUsXG4gICAgICAgIGVuYWJsZWQ6IHRoaXMuaXNWaWRlb1ZpZXcgJiYgKCF0aGlzLmlzTW9iaWxlIHx8IHRoaXMudXNlT25Nb2JpbGUpLFxuICAgICAgfSwgb25DbGljazogdGhpcy5vbkNsaWNrLmJpbmQodGhpcykgfSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBjbGlja1RvUGxheUNzczsgfVxufTtcblxuY29uc3QgY29udHJvbENzcyA9IFwiYnV0dG9ue2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7ZmxleC1kaXJlY3Rpb246cm93O2JvcmRlcjp2YXIoLS12bS1jb250cm9sLWJvcmRlcik7Y3Vyc29yOnBvaW50ZXI7ZmxleC1zaHJpbms6MDtmb250LXNpemU6dmFyKC0tdm0tY29udHJvbC1pY29uLXNpemUpO2NvbG9yOnZhcigtLXZtLWNvbnRyb2wtY29sb3IpO2JhY2tncm91bmQ6dmFyKC0tdm0tY29udHJvbC1iZywgdHJhbnNwYXJlbnQpO2JvcmRlci1yYWRpdXM6dmFyKC0tdm0tY29udHJvbC1ib3JkZXItcmFkaXVzKTtwYWRkaW5nOnZhcigtLXZtLWNvbnRyb2wtcGFkZGluZyk7cG9zaXRpb246cmVsYXRpdmU7cG9pbnRlci1ldmVudHM6YXV0bzt0cmFuc2l0aW9uOmFsbCAwLjNzIGVhc2U7dHJhbnNmb3JtOnNjYWxlKHZhcigtLXZtLWNvbnRyb2wtc2NhbGUsIDEpKTt0b3VjaC1hY3Rpb246bWFuaXB1bGF0aW9uO2JveC1zaXppbmc6Ym9yZGVyLWJveH1idXR0b24uaGlkZGVue2Rpc3BsYXk6bm9uZX1idXR0b246Zm9jdXN7b3V0bGluZTowfWJ1dHRvbi50YXBIaWdobGlnaHR7YmFja2dyb3VuZDp2YXIoLS12bS1jb250cm9sLXRhcC1oaWdobGlnaHQpfWJ1dHRvbi5ub3RUb3VjaDpmb2N1cyxidXR0b24ubm90VG91Y2g6aG92ZXIsYnV0dG9uLm5vdFRvdWNoW2FyaWEtZXhwYW5kZWQ9J3RydWUnXXtiYWNrZ3JvdW5kOnZhcigtLXZtLWNvbnRyb2wtZm9jdXMtYmcpO2NvbG9yOnZhcigtLXZtLWNvbnRyb2wtZm9jdXMtY29sb3IpO3RyYW5zZm9ybTpzY2FsZShjYWxjKHZhcigtLXZtLWNvbnRyb2wtc2NhbGUsIDEpICsgMC4wNikpfVwiO1xuXG52YXIgX19hd2FpdGVyJHIgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbmNvbnN0IENvbnRyb2wgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMudm1JbnRlcmFjdGlvbkNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1JbnRlcmFjdGlvbkNoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtRm9jdXMgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtRm9jdXNcIiwgNyk7XG4gICAgdGhpcy52bUJsdXIgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtQmx1clwiLCA3KTtcbiAgICB0aGlzLmtleWJvYXJkRGlzcG9zYWwgPSBuZXcgRGlzcG9zYWwoKTtcbiAgICB0aGlzLnNob3dUYXBIaWdobGlnaHQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBjb250cm9sIHNob3VsZCBiZSBkaXNwbGF5ZWQgb3Igbm90LlxuICAgICAqL1xuICAgIHRoaXMuaGlkZGVuID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNUb3VjaCA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbJ2lzVG91Y2gnXSk7XG4gIH1cbiAgb25LZXlzQ2hhbmdlKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHRoaXMua2V5Ym9hcmREaXNwb3NhbC5lbXB0eSgpO1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHRoaXMua2V5cykpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IHBsYXllciA9IHlpZWxkIGZpbmRQbGF5ZXIodGhpcyk7XG4gICAgICBjb25zdCBjb2RlcyA9IHRoaXMua2V5cy5zcGxpdCgnLycpO1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHBsYXllcikpXG4gICAgICAgIHJldHVybjtcbiAgICAgIHRoaXMua2V5Ym9hcmREaXNwb3NhbC5hZGQobGlzdGVuKHBsYXllciwgJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGNvZGVzLmluY2x1ZGVzKGV2ZW50LmtleSkpIHtcbiAgICAgICAgICB0aGlzLmJ1dHRvbi5jbGljaygpO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5maW5kVG9vbHRpcCgpO1xuICAgIHRoaXMub25LZXlzQ2hhbmdlKCk7XG4gIH1cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgdGhpcy5maW5kVG9vbHRpcCgpO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMua2V5Ym9hcmREaXNwb3NhbC5lbXB0eSgpO1xuICB9XG4gIC8qKlxuICAgKiBGb2N1c2VzIHRoZSBjb250cm9sLlxuICAgKi9cbiAgZm9jdXNDb250cm9sKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyJHIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAoX2EgPSB0aGlzLmJ1dHRvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgZm9jdXMgZnJvbSB0aGUgY29udHJvbC5cbiAgICovXG4gIGJsdXJDb250cm9sKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyJHIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAoX2EgPSB0aGlzLmJ1dHRvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJsdXIoKTtcbiAgICB9KTtcbiAgfVxuICBvblRvdWNoU3RhcnQoKSB7XG4gICAgdGhpcy5zaG93VGFwSGlnaGxpZ2h0ID0gdHJ1ZTtcbiAgfVxuICBvblRvdWNoRW5kKCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5zaG93VGFwSGlnaGxpZ2h0ID0gZmFsc2U7XG4gICAgfSwgMTAwKTtcbiAgfVxuICBmaW5kVG9vbHRpcCgpIHtcbiAgICBjb25zdCB0b29sdGlwID0gdGhpcy5ob3N0LnF1ZXJ5U2VsZWN0b3IoJ3ZtLXRvb2x0aXAnKTtcbiAgICBpZiAoIWlzTnVsbCh0b29sdGlwKSlcbiAgICAgIHRoaXMuZGVzY3JpYmVkQnkgPSB0b29sdGlwLmlkO1xuICAgIHJldHVybiB0b29sdGlwO1xuICB9XG4gIG9uU2hvd1Rvb2x0aXAoKSB7XG4gICAgY29uc3QgdG9vbHRpcCA9IHRoaXMuZmluZFRvb2x0aXAoKTtcbiAgICBpZiAoIWlzTnVsbCh0b29sdGlwKSlcbiAgICAgIHRvb2x0aXAuYWN0aXZlID0gdHJ1ZTtcbiAgICB0aGlzLnZtSW50ZXJhY3Rpb25DaGFuZ2UuZW1pdCh0cnVlKTtcbiAgfVxuICBvbkhpZGVUb29sdGlwKCkge1xuICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLmZpbmRUb29sdGlwKCk7XG4gICAgaWYgKCFpc051bGwodG9vbHRpcCkpXG4gICAgICB0b29sdGlwLmFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuYnV0dG9uLmJsdXIoKTtcbiAgICB0aGlzLnZtSW50ZXJhY3Rpb25DaGFuZ2UuZW1pdChmYWxzZSk7XG4gIH1cbiAgb25Gb2N1cygpIHtcbiAgICB0aGlzLnZtRm9jdXMuZW1pdCgpO1xuICAgIHRoaXMub25TaG93VG9vbHRpcCgpO1xuICB9XG4gIG9uQmx1cigpIHtcbiAgICB0aGlzLnZtQmx1ci5lbWl0KCk7XG4gICAgdGhpcy5vbkhpZGVUb29sdGlwKCk7XG4gIH1cbiAgb25Nb3VzZUVudGVyKCkge1xuICAgIHRoaXMub25TaG93VG9vbHRpcCgpO1xuICB9XG4gIG9uTW91c2VMZWF2ZSgpIHtcbiAgICB0aGlzLm9uSGlkZVRvb2x0aXAoKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNNZW51RXhwYW5kZWQgPSB0aGlzLmV4cGFuZGVkID8gJ3RydWUnIDogJ2ZhbHNlJztcbiAgICBjb25zdCBpc1ByZXNzZWQgPSB0aGlzLnByZXNzZWQgPyAndHJ1ZScgOiAnZmFsc2UnO1xuICAgIHJldHVybiAoaChcImJ1dHRvblwiLCB7IGNsYXNzOiB7XG4gICAgICAgIGhpZGRlbjogdGhpcy5oaWRkZW4sXG4gICAgICAgIG5vdFRvdWNoOiAhdGhpcy5pc1RvdWNoLFxuICAgICAgICB0YXBIaWdobGlnaHQ6IHRoaXMuc2hvd1RhcEhpZ2hsaWdodCxcbiAgICAgIH0sIGlkOiB0aGlzLmlkZW50aWZpZXIsIHR5cGU6IFwiYnV0dG9uXCIsIFwiYXJpYS1sYWJlbFwiOiB0aGlzLmxhYmVsLCBcImFyaWEtaGFzcG9wdXBcIjogIWlzVW5kZWZpbmVkKHRoaXMubWVudSkgPyAndHJ1ZScgOiB1bmRlZmluZWQsIFwiYXJpYS1jb250cm9sc1wiOiB0aGlzLm1lbnUsIFwiYXJpYS1leHBhbmRlZFwiOiAhaXNVbmRlZmluZWQodGhpcy5tZW51KSA/IGlzTWVudUV4cGFuZGVkIDogdW5kZWZpbmVkLCBcImFyaWEtcHJlc3NlZFwiOiAhaXNVbmRlZmluZWQodGhpcy5wcmVzc2VkKSA/IGlzUHJlc3NlZCA6IHVuZGVmaW5lZCwgXCJhcmlhLWhpZGRlblwiOiB0aGlzLmhpZGRlbiA/ICd0cnVlJyA6ICdmYWxzZScsIFwiYXJpYS1kZXNjcmliZWRieVwiOiB0aGlzLmRlc2NyaWJlZEJ5LCBvblRvdWNoU3RhcnQ6IHRoaXMub25Ub3VjaFN0YXJ0LmJpbmQodGhpcyksIG9uVG91Y2hFbmQ6IHRoaXMub25Ub3VjaEVuZC5iaW5kKHRoaXMpLCBvbkZvY3VzOiB0aGlzLm9uRm9jdXMuYmluZCh0aGlzKSwgb25CbHVyOiB0aGlzLm9uQmx1ci5iaW5kKHRoaXMpLCBvbk1vdXNlRW50ZXI6IHRoaXMub25Nb3VzZUVudGVyLmJpbmQodGhpcyksIG9uTW91c2VMZWF2ZTogdGhpcy5vbk1vdXNlTGVhdmUuYmluZCh0aGlzKSwgcmVmOiAoZWwpID0+IHtcbiAgICAgICAgdGhpcy5idXR0b24gPSBlbDtcbiAgICAgIH0gfSwgaChcInNsb3RcIiwgbnVsbCkpKTtcbiAgfVxuICBnZXQgaG9zdCgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcImtleXNcIjogW1wib25LZXlzQ2hhbmdlXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIGNvbnRyb2xDc3M7IH1cbn07XG5cbmNvbnN0IGNvbnRyb2xHcm91cENzcyA9IFwiOmhvc3R7d2lkdGg6MTAwJX0uY29udHJvbEdyb3Vwe3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7ZGlzcGxheTpmbGV4O2ZsZXgtd3JhcDp3cmFwO2ZsZXgtZGlyZWN0aW9uOmluaGVyaXQ7YWxpZ24taXRlbXM6aW5oZXJpdDtqdXN0aWZ5LWNvbnRlbnQ6aW5oZXJpdDtib3gtc2l6aW5nOmJvcmRlci1ib3h9LmNvbnRyb2xHcm91cC5zcGFjZVRvcHttYXJnaW4tdG9wOnZhcigtLXZtLWNvbnRyb2wtZ3JvdXAtc3BhY2luZyl9LmNvbnRyb2xHcm91cC5zcGFjZUJvdHRvbXttYXJnaW4tYm90dG9tOnZhcigtLXZtLWNvbnRyb2wtZ3JvdXAtc3BhY2luZyl9OjpzbG90dGVkKCope21hcmdpbi1sZWZ0OnZhcigtLXZtLWNvbnRyb2xzLXNwYWNpbmcpfTo6c2xvdHRlZCgqOmZpcnN0LWNoaWxkKXttYXJnaW4tbGVmdDowfVwiO1xuXG5jb25zdCBDb250cm9sTmV3TGluZSA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGVyZSB0byBhZGQgc3BhY2luZy9tYXJnaW4uIFRoZSBhbW91bnQgb2Ygc3BhY2luZyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBDU1MgdmFyaWFibGVcbiAgICAgKiBgLS1jb250cm9sLWdyb3VwLXNwYWNpbmdgLlxuICAgICAqL1xuICAgIHRoaXMuc3BhY2UgPSAnbm9uZSc7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczoge1xuICAgICAgICBjb250cm9sR3JvdXA6IHRydWUsXG4gICAgICAgIHNwYWNlVG9wOiB0aGlzLnNwYWNlICE9PSAnbm9uZScgJiYgdGhpcy5zcGFjZSAhPT0gJ2JvdHRvbScsXG4gICAgICAgIHNwYWNlQm90dG9tOiB0aGlzLnNwYWNlICE9PSAnbm9uZScgJiYgdGhpcy5zcGFjZSAhPT0gJ3RvcCcsXG4gICAgICB9IH0sIGgoXCJzbG90XCIsIG51bGwpKSk7XG4gIH1cbiAgZ2V0IGhvc3QoKSB7IHJldHVybiB0aGlzOyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBjb250cm9sR3JvdXBDc3M7IH1cbn07XG5cbmNvbnN0IGNvbnRyb2xTcGFjZXJDc3MgPSBcIjpob3N0e2ZsZXg6MX1cIjtcblxuY29uc3QgQ29udHJvbFNwYWNlciA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBjb250cm9sU3BhY2VyQ3NzOyB9XG59O1xuXG5jb25zdCBkZWJvdW5jZSA9IChmdW5jLCB3YWl0ID0gMTAwMCwgaW1tZWRpYXRlID0gZmFsc2UpID0+IHtcbiAgbGV0IHRpbWVvdXQ7XG4gIHJldHVybiBmdW5jdGlvbiBleGVjdXRlZEZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICBjb25zdCBsYXRlciA9IGZ1bmN0aW9uIGRlbGF5ZWRGdW5jdGlvbkNhbGwoKSB7XG4gICAgICB0aW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKCFpbW1lZGlhdGUpXG4gICAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfTtcbiAgICBjb25zdCBjYWxsTm93ID0gaW1tZWRpYXRlICYmIGlzVW5kZWZpbmVkKHRpbWVvdXQpO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgaWYgKGNhbGxOb3cpXG4gICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICB9O1xufTtcblxuY29uc3QgY29udHJvbHNDc3MgPSBcIjpob3N0e3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7ei1pbmRleDp2YXIoLS12bS1jb250cm9scy16LWluZGV4KX06aG9zdChbdmlkZW9dKXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtwb2ludGVyLWV2ZW50czpub25lfS5jb250cm9sc3tkaXNwbGF5OmZsZXg7d2lkdGg6MTAwJTtwb3NpdGlvbjphYnNvbHV0ZTtmbGV4LXdyYXA6d3JhcDtwb2ludGVyLWV2ZW50czphdXRvO2JveC1zaXppbmc6Ym9yZGVyLWJveDtiYWNrZ3JvdW5kOnZhcigtLXZtLWNvbnRyb2xzLWJnKTtwYWRkaW5nOnZhcigtLXZtLWNvbnRyb2xzLXBhZGRpbmcpO2JvcmRlci1yYWRpdXM6dmFyKC0tdm0tY29udHJvbHMtYm9yZGVyLXJhZGl1cyk7b3BhY2l0eTowO3Zpc2liaWxpdHk6aGlkZGVuO3RyYW5zaXRpb246dmFyKC0tdm0tZmFkZS10cmFuc2l0aW9uKX0uY29udHJvbHMuYXVkaW97cG9zaXRpb246cmVsYXRpdmV9LmNvbnRyb2xzLmhpZGRlbntkaXNwbGF5Om5vbmV9LmNvbnRyb2xzLmFjdGl2ZXtvcGFjaXR5OjE7dmlzaWJpbGl0eTp2aXNpYmxlfS5jb250cm9scy5mdWxsV2lkdGh7d2lkdGg6MTAwJX0uY29udHJvbHMuZnVsbEhlaWdodHtoZWlnaHQ6MTAwJX06OnNsb3R0ZWQoKjpub3Qodm0tY29udHJvbC1ncm91cCkpe21hcmdpbi1sZWZ0OnZhcigtLXZtLWNvbnRyb2xzLXNwYWNpbmcpfTo6c2xvdHRlZCgqOm5vdCh2bS1jb250cm9sLWdyb3VwKTpmaXJzdC1jaGlsZCl7bWFyZ2luLWxlZnQ6MH1cIjtcblxudmFyIF9fYXdhaXRlciRxID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG4vKipcbiAqIFdlIHdhbnQgdG8ga2VlcCB0aGUgY29udHJvbHMgYWN0aXZlIHN0YXRlIGluLXN5bmMgcGVyIHBsYXllci5cbiAqL1xuY29uc3QgcGxheWVyUmVmID0ge307XG5jb25zdCBoaWRlQ29udHJvbHNUaW1lb3V0ID0ge307XG5jb25zdCBDb250cm9scyA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgdGhpcy5kaXNwb3NhbCA9IG5ldyBEaXNwb3NhbCgpO1xuICAgIHRoaXMuaXNJbnRlcmFjdGluZyA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGNvbnRyb2xzIGFyZSB2aXNpYmxlIG9yIG5vdC5cbiAgICAgKi9cbiAgICB0aGlzLmhpZGRlbiA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGNvbnRyb2xzIGNvbnRhaW5lciBzaG91bGQgYmUgMTAwJSB3aWR0aC4gVGhpcyBoYXMgbm8gZWZmZWN0IGlmIHRoZSB2aWV3IGlzIG9mXG4gICAgICogdHlwZSBgYXVkaW9gLlxuICAgICAqL1xuICAgIHRoaXMuZnVsbFdpZHRoID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgY29udHJvbHMgY29udGFpbmVyIHNob3VsZCBiZSAxMDAlIGhlaWdodC4gVGhpcyBoYXMgbm8gZWZmZWN0IGlmIHRoZSB2aWV3IGlzIG9mXG4gICAgICogdHlwZSBgYXVkaW9gLlxuICAgICAqL1xuICAgIHRoaXMuZnVsbEhlaWdodCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGBmbGV4LWRpcmVjdGlvbmAgcHJvcGVydHkgdGhhdCBtYW5hZ2VzIHRoZSBkaXJlY3Rpb24gaW4gd2hpY2ggdGhlIGNvbnRyb2xzIGFyZSBsYXllZFxuICAgICAqIG91dC5cbiAgICAgKi9cbiAgICB0aGlzLmRpcmVjdGlvbiA9ICdyb3cnO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGBhbGlnbi1pdGVtc2AgZmxleCBwcm9wZXJ0eSB0aGF0IGFsaWducyB0aGUgaW5kaXZpZHVhbCBjb250cm9scyBvbiB0aGUgY3Jvc3MtYXhpcy5cbiAgICAgKi9cbiAgICB0aGlzLmFsaWduID0gJ2NlbnRlcic7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYGp1c3RpZnktY29udGVudGAgZmxleCBwcm9wZXJ0eSB0aGF0IGFsaWducyB0aGUgaW5kaXZpZHVhbCBjb250cm9scyBvbiB0aGUgbWFpbi1heGlzLlxuICAgICAqL1xuICAgIHRoaXMuanVzdGlmeSA9ICdzdGFydCc7XG4gICAgLyoqXG4gICAgICogUGlucyB0aGUgY29udHJvbHMgdG8gdGhlIGRlZmluZWQgcG9zaXRpb24gaW5zaWRlIHRoZSB2aWRlbyBwbGF5ZXIuIFRoaXMgaGFzIG5vIGVmZmVjdCB3aGVuXG4gICAgICogdGhlIHZpZXcgaXMgb2YgdHlwZSBgYXVkaW9gLlxuICAgICAqL1xuICAgIHRoaXMucGluID0gJ2JvdHRvbUxlZnQnO1xuICAgIC8qKlxuICAgICAqIFRoZSBsZW5ndGggaW4gbWlsbGlzZWNvbmRzIHRoYXQgdGhlIGNvbnRyb2xzIGFyZSBhY3RpdmUgZm9yIGJlZm9yZSBmYWRpbmcgb3V0LiBBdWRpbyBwbGF5ZXJzXG4gICAgICogYXJlIG5vdCBlZmZlY3RlZCBieSB0aGlzIHByb3AuXG4gICAgICovXG4gICAgdGhpcy5hY3RpdmVEdXJhdGlvbiA9IDI3NTA7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgY29udHJvbHMgc2hvdWxkIHdhaXQgZm9yIHBsYXliYWNrIHRvIHN0YXJ0IGJlZm9yZSBiZWluZyBzaG93bi4gQXVkaW8gcGxheWVyc1xuICAgICAqIGFyZSBub3QgZWZmZWN0ZWQgYnkgdGhpcyBwcm9wLlxuICAgICAqL1xuICAgIHRoaXMud2FpdEZvclBsYXliYWNrU3RhcnQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBjb250cm9scyBzaG91bGQgc2hvdy9oaWRlIHdoZW4gcGF1c2VkLiBBdWRpbyBwbGF5ZXJzIGFyZSBub3QgZWZmZWN0ZWQgYnkgdGhpcyBwcm9wLlxuICAgICAqL1xuICAgIHRoaXMuaGlkZVdoZW5QYXVzZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBjb250cm9scyBzaG91bGQgaGlkZSB3aGVuIHRoZSBtb3VzZSBsZWF2ZXMgdGhlIHBsYXllci4gQXVkaW8gcGxheWVycyBhcmUgbm90XG4gICAgICogZWZmZWN0ZWQgYnkgdGhpcyBwcm9wLlxuICAgICAqL1xuICAgIHRoaXMuaGlkZU9uTW91c2VMZWF2ZSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzQXVkaW9WaWV3ID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNTZXR0aW5nc0FjdGl2ZSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBsYXliYWNrUmVhZHkgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc0NvbnRyb2xzQWN0aXZlID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wbGF5YmFja1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgcmVnaXN0ZXJDb250cm9sc0ZvckNvbGxpc2lvbkRldGVjdGlvbih0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbXG4gICAgICAncGxheWJhY2tSZWFkeScsXG4gICAgICAnaXNBdWRpb1ZpZXcnLFxuICAgICAgJ2lzQ29udHJvbHNBY3RpdmUnLFxuICAgICAgJ2lzU2V0dGluZ3NBY3RpdmUnLFxuICAgICAgJ3BhdXNlZCcsXG4gICAgICAncGxheWJhY2tTdGFydGVkJyxcbiAgICBdKTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmRpc3BhdGNoID0gY3JlYXRlRGlzcGF0Y2hlcih0aGlzKTtcbiAgICB0aGlzLm9uQ29udHJvbHNDaGFuZ2UoKTtcbiAgICB0aGlzLnNldHVwUGxheWVyTGlzdGVuZXJzKCk7XG4gIH1cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgdGhpcy5vbkNvbnRyb2xzQ2hhbmdlKCk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5kaXNwb3NhbC5lbXB0eSgpO1xuICAgIGRlbGV0ZSBoaWRlQ29udHJvbHNUaW1lb3V0W3BsYXllclJlZlt0aGlzXV07XG4gICAgZGVsZXRlIHBsYXllclJlZlt0aGlzXTtcbiAgfVxuICBzZXR1cFBsYXllckxpc3RlbmVycygpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJHEodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCBwbGF5ZXIgPSB5aWVsZCBmaW5kUGxheWVyKHRoaXMpO1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHBsYXllcikpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IGV2ZW50cyA9IFsnZm9jdXMnLCAna2V5ZG93bicsICdjbGljaycsICd0b3VjaHN0YXJ0JywgJ21vdXNlbGVhdmUnXTtcbiAgICAgIGV2ZW50cy5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy5kaXNwb3NhbC5hZGQobGlzdGVuKHBsYXllciwgZXZlbnQsIHRoaXMub25Db250cm9sc0NoYW5nZS5iaW5kKHRoaXMpKSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGlzcG9zYWwuYWRkKGxpc3RlbihwbGF5ZXIsICdtb3VzZW1vdmUnLCBkZWJvdW5jZSh0aGlzLm9uQ29udHJvbHNDaGFuZ2UsIDUwLCB0cnVlKS5iaW5kKHRoaXMpKSk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBwbGF5ZXJSZWZbdGhpc10gPSBwbGF5ZXI7XG4gICAgfSk7XG4gIH1cbiAgc2hvdygpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCdpc0NvbnRyb2xzQWN0aXZlJywgdHJ1ZSk7XG4gIH1cbiAgaGlkZSgpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCdpc0NvbnRyb2xzQWN0aXZlJywgZmFsc2UpO1xuICB9XG4gIGhpZGVXaXRoRGVsYXkoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjbGVhclRpbWVvdXQoaGlkZUNvbnRyb2xzVGltZW91dFtwbGF5ZXJSZWZbdGhpc11dKTtcbiAgICBoaWRlQ29udHJvbHNUaW1lb3V0W3BsYXllclJlZlt0aGlzXV0gPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH0sIHRoaXMuYWN0aXZlRHVyYXRpb24pO1xuICB9XG4gIG9uQ29udHJvbHNDaGFuZ2UoZXZlbnQpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNsZWFyVGltZW91dChoaWRlQ29udHJvbHNUaW1lb3V0W3BsYXllclJlZlt0aGlzXV0pO1xuICAgIGlmICh0aGlzLmhpZGRlbiB8fCAhdGhpcy5wbGF5YmFja1JlYWR5KSB7XG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNBdWRpb1ZpZXcpIHtcbiAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy53YWl0Rm9yUGxheWJhY2tTdGFydCAmJiAhdGhpcy5wbGF5YmFja1N0YXJ0ZWQpIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0ludGVyYWN0aW5nIHx8IHRoaXMuaXNTZXR0aW5nc0FjdGl2ZSkge1xuICAgICAgdGhpcy5zaG93KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmhpZGVXaGVuUGF1c2VkICYmIHRoaXMucGF1c2VkKSB7XG4gICAgICB0aGlzLmhpZGVXaXRoRGVsYXkoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuaGlkZU9uTW91c2VMZWF2ZSAmJiAhdGhpcy5wYXVzZWQgJiYgKGV2ZW50ID09PSBudWxsIHx8IGV2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBldmVudC50eXBlKSA9PT0gJ21vdXNlbGVhdmUnKSB7XG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnBhdXNlZCkge1xuICAgICAgdGhpcy5zaG93KCk7XG4gICAgICB0aGlzLmhpZGVXaXRoRGVsYXkoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zaG93KCk7XG4gIH1cbiAgZ2V0UG9zaXRpb24oKSB7XG4gICAgaWYgKHRoaXMuaXNBdWRpb1ZpZXcpXG4gICAgICByZXR1cm4ge307XG4gICAgaWYgKHRoaXMucGluID09PSAnY2VudGVyJykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiAnNTAlJyxcbiAgICAgICAgbGVmdDogJzUwJScsXG4gICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsXG4gICAgICB9O1xuICAgIH1cbiAgICAvLyB0b3BMZWZ0ID0+IHsgdG9wOiAwLCBsZWZ0OiAwIH1cbiAgICBjb25zdCBwb3MgPSB0aGlzLnBpbi5zcGxpdCgvKD89W0x8Ul0pLykubWFwKHMgPT4gcy50b0xvd2VyQ2FzZSgpKTtcbiAgICByZXR1cm4geyBbcG9zWzBdXTogMCwgW3Bvc1sxXV06IDAgfTtcbiAgfVxuICBvblN0YXJ0SW50ZXJhY3Rpb24oKSB7XG4gICAgdGhpcy5pc0ludGVyYWN0aW5nID0gdHJ1ZTtcbiAgfVxuICBvbkVuZEludGVyYWN0aW9uKCkge1xuICAgIHRoaXMuaXNJbnRlcmFjdGluZyA9IGZhbHNlO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoSG9zdCwgeyB2aWRlbzogIXRoaXMuaXNBdWRpb1ZpZXcgfSwgaChcImRpdlwiLCB7IHN0eWxlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0UG9zaXRpb24oKSksIHsgZmxleERpcmVjdGlvbjogdGhpcy5kaXJlY3Rpb24sIGFsaWduSXRlbXM6IHRoaXMuYWxpZ24gPT09ICdjZW50ZXInID8gJ2NlbnRlcicgOiBgZmxleC0ke3RoaXMuYWxpZ259YCwganVzdGlmeUNvbnRlbnQ6IHRoaXMuanVzdGlmeSB9KSwgY2xhc3M6IHtcbiAgICAgICAgY29udHJvbHM6IHRydWUsXG4gICAgICAgIGF1ZGlvOiB0aGlzLmlzQXVkaW9WaWV3LFxuICAgICAgICBoaWRkZW46IHRoaXMuaGlkZGVuLFxuICAgICAgICBhY3RpdmU6IHRoaXMucGxheWJhY2tSZWFkeSAmJiB0aGlzLmlzQ29udHJvbHNBY3RpdmUsXG4gICAgICAgIGZ1bGxXaWR0aDogdGhpcy5pc0F1ZGlvVmlldyB8fCB0aGlzLmZ1bGxXaWR0aCxcbiAgICAgICAgZnVsbEhlaWdodDogIXRoaXMuaXNBdWRpb1ZpZXcgJiYgdGhpcy5mdWxsSGVpZ2h0LFxuICAgICAgfSwgb25Nb3VzZUVudGVyOiB0aGlzLm9uU3RhcnRJbnRlcmFjdGlvbi5iaW5kKHRoaXMpLCBvbk1vdXNlTGVhdmU6IHRoaXMub25FbmRJbnRlcmFjdGlvbi5iaW5kKHRoaXMpLCBvblRvdWNoU3RhcnQ6IHRoaXMub25TdGFydEludGVyYWN0aW9uLmJpbmQodGhpcyksIG9uVG91Y2hFbmQ6IHRoaXMub25FbmRJbnRlcmFjdGlvbi5iaW5kKHRoaXMpIH0sIGgoXCJzbG90XCIsIG51bGwpKSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJwYXVzZWRcIjogW1wib25Db250cm9sc0NoYW5nZVwiXSxcbiAgICBcImhpZGRlblwiOiBbXCJvbkNvbnRyb2xzQ2hhbmdlXCJdLFxuICAgIFwiaXNBdWRpb1ZpZXdcIjogW1wib25Db250cm9sc0NoYW5nZVwiXSxcbiAgICBcImlzSW50ZXJhY3RpbmdcIjogW1wib25Db250cm9sc0NoYW5nZVwiXSxcbiAgICBcImlzU2V0dGluZ3NBY3RpdmVcIjogW1wib25Db250cm9sc0NoYW5nZVwiXSxcbiAgICBcImhpZGVXaGVuUGF1c2VkXCI6IFtcIm9uQ29udHJvbHNDaGFuZ2VcIl0sXG4gICAgXCJoaWRlT25Nb3VzZUxlYXZlXCI6IFtcIm9uQ29udHJvbHNDaGFuZ2VcIl0sXG4gICAgXCJwbGF5YmFja1N0YXJ0ZWRcIjogW1wib25Db250cm9sc0NoYW5nZVwiXSxcbiAgICBcIndhaXRGb3JQbGF5YmFja1N0YXJ0XCI6IFtcIm9uQ29udHJvbHNDaGFuZ2VcIl0sXG4gICAgXCJwbGF5YmFja1JlYWR5XCI6IFtcIm9uQ29udHJvbHNDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gY29udHJvbHNDc3M7IH1cbn07XG5cbmNvbnN0IGN1cnJlbnRUaW1lQ3NzID0gXCI6aG9zdHtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9XCI7XG5cbmNvbnN0IEN1cnJlbnRUaW1lID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5jdXJyZW50VGltZSA9IDA7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaTE4biA9IHt9O1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHRpbWUgc2hvdWxkIGFsd2F5cyBzaG93IHRoZSBob3VycyB1bml0LCBldmVuIGlmIHRoZSB0aW1lIGlzIGxlc3MgdGhhblxuICAgICAqIDEgaG91ciAoZWc6IGAyMDozNWAgLT4gYDAwOjIwOjM1YCkuXG4gICAgICovXG4gICAgdGhpcy5hbHdheXNTaG93SG91cnMgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgWydjdXJyZW50VGltZScsICdpMThuJ10pO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJ2bS10aW1lXCIsIHsgbGFiZWw6IHRoaXMuaTE4bi5jdXJyZW50VGltZSwgc2Vjb25kczogdGhpcy5jdXJyZW50VGltZSwgYWx3YXlzU2hvd0hvdXJzOiB0aGlzLmFsd2F5c1Nob3dIb3VycyB9KSk7XG4gIH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIGN1cnJlbnRUaW1lQ3NzOyB9XG59O1xuXG52YXIgX2EsIF9iO1xuY29uc3QgSVNfQ0xJRU5UID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5jb25zdCBVQSA9IElTX0NMSUVOVCA/IChfYSA9IHdpbmRvdy5uYXZpZ2F0b3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSA6ICcnO1xuY29uc3QgSVNfSU9TID0gL2lwaG9uZXxpcGFkfGlwb2R8aW9zfENyaU9TfEZ4aU9TLy50ZXN0KFVBKTtcbmNvbnN0IElTX0FORFJPSUQgPSAvYW5kcm9pZC8udGVzdChVQSk7XG5jb25zdCBJU19NT0JJTEUgPSBJU19DTElFTlQgJiYgKElTX0lPUyB8fCBJU19BTkRST0lEKTtcbmNvbnN0IElTX0lQSE9ORSA9IElTX0NMSUVOVCAmJiAvKGlQaG9uZXxpUG9kKS9naS50ZXN0KChfYiA9IHdpbmRvdy5uYXZpZ2F0b3IpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5wbGF0Zm9ybSk7XG4vZmlyZWZveC8udGVzdChVQSk7XG5jb25zdCBJU19DSFJPTUUgPSBJU19DTElFTlQgJiYgd2luZG93LmNocm9tZTtcbklTX0NMSUVOVCAmJlxuICAhSVNfQ0hST01FICYmXG4gICh3aW5kb3cuc2FmYXJpIHx8IElTX0lPUyB8fCAvKGFwcGxlfHNhZmFyaSkvLnRlc3QoVUEpKTtcbmNvbnN0IG9uTW9iaWxlQ2hhbmdlID0gKGNhbGxiYWNrKSA9PiB7XG4gIGlmICghSVNfQ0xJRU5UIHx8IGlzVW5kZWZpbmVkKHdpbmRvdy5SZXNpemVPYnNlcnZlcikpIHtcbiAgICBjYWxsYmFjayhJU19NT0JJTEUpO1xuICAgIHJldHVybiBub29wO1xuICB9XG4gIGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgIGNhbGxiYWNrKHdpbmRvdy5pbm5lcldpZHRoIDw9IDQ4MCB8fCBJU19NT0JJTEUpO1xuICB9XG4gIGNhbGxiYWNrKHdpbmRvdy5pbm5lcldpZHRoIDw9IDQ4MCB8fCBJU19NT0JJTEUpO1xuICByZXR1cm4gbGlzdGVuKHdpbmRvdywgJ3Jlc2l6ZScsIG9uUmVzaXplKTtcbn07XG5jb25zdCBvblRvdWNoSW5wdXRDaGFuZ2UgPSAoY2FsbGJhY2spID0+IHtcbiAgaWYgKCFJU19DTElFTlQpXG4gICAgcmV0dXJuIG5vb3A7XG4gIGxldCBsYXN0VG91Y2hUaW1lID0gMDtcbiAgY29uc3Qgb2ZmVG91Y2hMaXN0ZW5lciA9IGxpc3Rlbihkb2N1bWVudCwgJ3RvdWNoc3RhcnQnLCAoKSA9PiB7XG4gICAgbGFzdFRvdWNoVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGNhbGxiYWNrKHRydWUpO1xuICB9LCB0cnVlKTtcbiAgY29uc3Qgb2ZmTW91c2VMaXN0ZW5lciA9IGxpc3Rlbihkb2N1bWVudCwgJ21vdXNlbW92ZScsICgpID0+IHtcbiAgICAvLyBGaWx0ZXIgZW11bGF0ZWQgZXZlbnRzIGNvbWluZyBmcm9tIHRvdWNoIGV2ZW50c1xuICAgIGlmIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGxhc3RUb3VjaFRpbWUgPCA1MDApXG4gICAgICByZXR1cm47XG4gICAgY2FsbGJhY2soZmFsc2UpO1xuICB9LCB0cnVlKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBvZmZUb3VjaExpc3RlbmVyKCk7XG4gICAgb2ZmTW91c2VMaXN0ZW5lcigpO1xuICB9O1xufTtcbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBzY3JlZW4gb3JpZW50YXRpb24gY2FuIGJlIGNoYW5nZWQuXG4gKlxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU2NyZWVuL29yaWVudGF0aW9uXG4gKi9cbmNvbnN0IGNhblJvdGF0ZVNjcmVlbiA9ICgpID0+IElTX0NMSUVOVCAmJiB3aW5kb3cuc2NyZWVuLm9yaWVudGF0aW9uICYmICEhd2luZG93LnNjcmVlbi5vcmllbnRhdGlvbi5sb2NrO1xuLyoqXG4gKiBDaGVja3MgaWYgdGhlIG5hdGl2ZSBIVE1MNSB2aWRlbyBwbGF5ZXIgY2FuIGVudGVyIHBpY3R1cmUtaW4tcGljdHVyZSAoUElQKSBtb2RlIHdoZW4gdXNpbmdcbiAqIHRoZSBDaHJvbWUgYnJvd3Nlci5cbiAqXG4gKiBAc2VlICBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS93ZWIvdXBkYXRlcy8yMDE4LzEwL3dhdGNoLXZpZGVvLXVzaW5nLXBpY3R1cmUtaW4tcGljdHVyZVxuICovXG5jb25zdCBjYW5Vc2VQaVBJbkNocm9tZSA9ICgpID0+IHtcbiAgaWYgKCFJU19DTElFTlQpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBjb25zdCB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gIHJldHVybiAhIWRvY3VtZW50LnBpY3R1cmVJblBpY3R1cmVFbmFibGVkICYmICF2aWRlby5kaXNhYmxlUGljdHVyZUluUGljdHVyZTtcbn07XG4vKipcbiAqIENoZWNrcyBpZiB0aGUgbmF0aXZlIEhUTUw1IHZpZGVvIHBsYXllciBjYW4gZW50ZXIgcGljdHVyZS1pbi1waWN0dXJlIChQSVApIG1vZGUgd2hlbiB1c2luZ1xuICogdGhlIGRlc2t0b3AgU2FmYXJpIGJyb3dzZXIsIGlPUyBTYWZhcmkgYXBwZWFycyB0byBcInN1cHBvcnRcIiBQaVAgdGhyb3VnaCB0aGUgY2hlY2ssIGhvd2V2ZXIgUGlQXG4gKiBkb2VzIG5vdCBmdW5jdGlvbi5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL3dlYmtpdGpzL2FkZGluZ19waWN0dXJlX2luX3BpY3R1cmVfdG9feW91cl9zYWZhcmlfbWVkaWFfY29udHJvbHNcbiAqL1xuY29uc3QgY2FuVXNlUGlQSW5TYWZhcmkgPSAoKSA9PiB7XG4gIGlmICghSVNfQ0xJRU5UKVxuICAgIHJldHVybiBmYWxzZTtcbiAgY29uc3QgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICByZXR1cm4gKGlzRnVuY3Rpb24odmlkZW8ud2Via2l0U3VwcG9ydHNQcmVzZW50YXRpb25Nb2RlKSAmJlxuICAgIGlzRnVuY3Rpb24odmlkZW8ud2Via2l0U2V0UHJlc2VudGF0aW9uTW9kZSkgJiZcbiAgICAhSVNfSVBIT05FKTtcbn07XG4vLyBDaGVja3MgaWYgdGhlIG5hdGl2ZSBIVE1MNSB2aWRlbyBwbGF5ZXIgY2FuIGVudGVyIFBJUC5cbmNvbnN0IGNhblVzZVBpUCA9ICgpID0+IGNhblVzZVBpUEluQ2hyb21lKCkgfHwgY2FuVXNlUGlQSW5TYWZhcmkoKTtcbi8qKlxuICogVG8gZGV0ZWN0IGF1dG9wbGF5LCB3ZSBjcmVhdGUgYSB2aWRlbyBlbGVtZW50IGFuZCBjYWxsIHBsYXkgb24gaXQsIGlmIGl0IGlzIGBwYXVzZWRgIGFmdGVyXG4gKiBhIGBwbGF5KClgIGNhbGwsIGF1dG9wbGF5IGlzIHN1cHBvcnRlZC4gQWx0aG91Z2ggdGhpcyB1bmludHVpdGl2ZSwgaXQgd29ya3MgYWNyb3NzIGJyb3dzZXJzXG4gKiBhbmQgaXMgY3VycmVudGx5IHRoZSBsaWdodGVzdCB3YXkgdG8gZGV0ZWN0IGF1dG9wbGF5IHdpdGhvdXQgdXNpbmcgYSBkYXRhIHNvdXJjZS5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbXBwcm9qZWN0L2FtcGh0bWwvYmxvYi85YmM4NzU2NTM2OTU2NzgwZTI0OWQ4OTVmM2UxMDAxYWNkZWUwYmMwL3NyYy91dGlscy92aWRlby5qcyNMMjVcbiAqL1xuY29uc3QgY2FuQXV0b3BsYXkgPSAobXV0ZWQgPSB0cnVlLCBwbGF5c2lubGluZSA9IHRydWUpID0+IHtcbiAgaWYgKCFJU19DTElFTlQpXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmYWxzZSk7XG4gIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgaWYgKG11dGVkKSB7XG4gICAgdmlkZW8uc2V0QXR0cmlidXRlKCdtdXRlZCcsICcnKTtcbiAgICB2aWRlby5tdXRlZCA9IHRydWU7XG4gIH1cbiAgaWYgKHBsYXlzaW5saW5lKSB7XG4gICAgdmlkZW8uc2V0QXR0cmlidXRlKCdwbGF5c2lubGluZScsICcnKTtcbiAgICB2aWRlby5zZXRBdHRyaWJ1dGUoJ3dlYmtpdC1wbGF5c2lubGluZScsICcnKTtcbiAgfVxuICB2aWRlby5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsICcwJyk7XG4gIHZpZGVvLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAnMCcpO1xuICB2aWRlby5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gIHZpZGVvLnN0eWxlLnRvcCA9ICcwJztcbiAgdmlkZW8uc3R5bGUud2lkdGggPSAnMCc7XG4gIHZpZGVvLnN0eWxlLmhlaWdodCA9ICcwJztcbiAgdmlkZW8uc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgLy8gUHJvbWlzZSB3cmFwcGVkIHRoaXMgd2F5IHRvIGNhdGNoIGJvdGggc3luYyB0aHJvd3MgYW5kIGFzeW5jIHJlamVjdGlvbnMuXG4gIC8vIE1vcmUgaW5mbzogaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS10cnlcbiAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiByZXNvbHZlKHZpZGVvLnBsYXkoKSkpLmNhdGNoKG5vb3ApO1xuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCF2aWRlby5wYXVzZWQpO1xufTtcblxuLyoqXG4gKiBBdHRlbXB0IHRvIHBhcnNlIGpzb24gaW50byBhIFBPSk8uXG4gKi9cbmZ1bmN0aW9uIHRyeVBhcnNlSlNPTihqc29uKSB7XG4gIGlmICghaXNTdHJpbmcoanNvbikpXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uKTtcbiAgfVxuICBjYXRjaCAoZSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGdpdmVuIGlucHV0IGlzIGpzb24gb3IgYSBwbGFpbiBvYmplY3QuXG4gKi9cbmNvbnN0IGlzT2JqT3JKU09OID0gKGlucHV0KSA9PiAhaXNOaWwoaW5wdXQpICYmXG4gIChpc09iamVjdChpbnB1dCkgfHwgKGlzU3RyaW5nKGlucHV0KSAmJiBpbnB1dC5zdGFydHNXaXRoKCd7JykpKTtcbi8qKlxuICogSWYgYW4gb2JqZWN0IHJldHVybiBvdGhlcndpc2UgdHJ5IHRvIHBhcnNlIGl0IGFzIGpzb24uXG4gKi9cbmNvbnN0IG9iak9yUGFyc2VKU09OID0gKGlucHV0KSA9PiBpc09iamVjdChpbnB1dCkgPyBpbnB1dCA6IHRyeVBhcnNlSlNPTihpbnB1dCk7XG4vKipcbiAqIExvYWQgaW1hZ2UgYXZvaWRpbmcgeGhyL2ZldGNoIENPUlMgaXNzdWVzLiBTZXJ2ZXIgc3RhdHVzIGNhbid0IGJlIG9idGFpbmVkIHRoaXMgd2F5XG4gKiB1bmZvcnR1bmF0ZWx5LCBzbyB0aGlzIHVzZXMgXCJuYXR1cmFsV2lkdGhcIiB0byBkZXRlcm1pbmUgaWYgdGhlIGltYWdlIGhhcyBiZWVuIGxvYWRlZC4gQnlcbiAqIGRlZmF1bHQgaXQgY2hlY2tzIGlmIGl0IGlzIGF0IGxlYXN0IDFweC5cbiAqL1xuY29uc3QgbG9hZEltYWdlID0gKHNyYywgbWluV2lkdGggPSAxKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gIGNvbnN0IGhhbmRsZXIgPSAoKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBkZWxldGUgaW1hZ2Uub25sb2FkO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZGVsZXRlIGltYWdlLm9uZXJyb3I7XG4gICAgaW1hZ2UubmF0dXJhbFdpZHRoID49IG1pbldpZHRoID8gcmVzb2x2ZShpbWFnZSkgOiByZWplY3QoaW1hZ2UpO1xuICB9O1xuICBPYmplY3QuYXNzaWduKGltYWdlLCB7IG9ubG9hZDogaGFuZGxlciwgb25lcnJvcjogaGFuZGxlciwgc3JjIH0pO1xufSk7XG5jb25zdCBsb2FkU2NyaXB0ID0gKHNyYywgb25Mb2FkLCBvbkVycm9yID0gbm9vcCkgPT4ge1xuICB2YXIgX2E7XG4gIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHQuc3JjID0gc3JjO1xuICBzY3JpcHQub25sb2FkID0gb25Mb2FkO1xuICBzY3JpcHQub25lcnJvciA9IG9uRXJyb3I7XG4gIGNvbnN0IGZpcnN0U2NyaXB0VGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdO1xuICAoX2EgPSBmaXJzdFNjcmlwdFRhZy5wYXJlbnROb2RlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW5zZXJ0QmVmb3JlKHNjcmlwdCwgZmlyc3RTY3JpcHRUYWcpO1xufTtcbi8qKlxuICogVHJpZXMgdG8gcGFyc2UganNvbiBhbmQgcmV0dXJuIGEgb2JqZWN0LlxuICovXG5jb25zdCBkZWNvZGVKU09OID0gKGRhdGEpID0+IHtcbiAgaWYgKCFpc09iak9ySlNPTihkYXRhKSlcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICByZXR1cm4gb2JqT3JQYXJzZUpTT04oZGF0YSk7XG59O1xuLyoqXG4gKiBBdHRlbXB0cyB0byBzYWZlbHkgZGVjb2RlIGEgVVJJIGNvbXBvbmVudCwgb24gZmFpbHVyZSBpdCByZXR1cm5zIHRoZSBnaXZlbiBmYWxsYmFjay5cbiAqL1xuY29uc3QgdHJ5RGVjb2RlVVJJQ29tcG9uZW50ID0gKGNvbXBvbmVudCwgZmFsbGJhY2sgPSAnJykgPT4ge1xuICBpZiAoIUlTX0NMSUVOVClcbiAgICByZXR1cm4gZmFsbGJhY2s7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoY29tcG9uZW50KTtcbiAgfVxuICBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxsYmFjaztcbiAgfVxufTtcbi8qKlxuICogUmV0dXJucyBhIHNpbXBsZSBrZXkvdmFsdWUgbWFwIGFuZCBkdXBsaWNhdGUga2V5cyBhcmUgbWVyZ2VkIGludG8gYW4gYXJyYXkuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vYW1wcHJvamVjdC9hbXBodG1sL2Jsb2IvYzdjNDZjZWM3MWJhYzkyZjVjNWRhMzFkY2M2MzY2YzE4NTc3ZjU2Ni9zcmMvdXJsLXBhcnNlLXF1ZXJ5LXN0cmluZy5qcyNMMzFcbiAqL1xuY29uc3QgUVVFUllfU1RSSU5HX1JFR0VYID0gLyg/Ol5bIz9dP3wmKShbXj0mXSspKD86PShbXiZdKikpPy9nO1xuY29uc3QgcGFyc2VRdWVyeVN0cmluZyA9IChxcykgPT4ge1xuICBjb25zdCBwYXJhbXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBpZiAoaXNVbmRlZmluZWQocXMpKVxuICAgIHJldHVybiBwYXJhbXM7XG4gIGxldCBtYXRjaDtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbmQtYXNzaWduXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gIHdoaWxlICgobWF0Y2ggPSBRVUVSWV9TVFJJTkdfUkVHRVguZXhlYyhxcykpKSB7XG4gICAgY29uc3QgbmFtZSA9IHRyeURlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSwgbWF0Y2hbMV0pLnJlcGxhY2UoJ1tdJywgJycpO1xuICAgIGNvbnN0IHZhbHVlID0gaXNTdHJpbmcobWF0Y2hbMl0pXG4gICAgICA/IHRyeURlY29kZVVSSUNvbXBvbmVudChtYXRjaFsyXS5yZXBsYWNlKC9cXCsvZywgJyAnKSwgbWF0Y2hbMl0pXG4gICAgICA6ICcnO1xuICAgIGNvbnN0IGN1cnJWYWx1ZSA9IHBhcmFtc1tuYW1lXTtcbiAgICBpZiAoY3VyclZhbHVlICYmICFpc0FycmF5KGN1cnJWYWx1ZSkpXG4gICAgICBwYXJhbXNbbmFtZV0gPSBbY3VyclZhbHVlXTtcbiAgICBjdXJyVmFsdWUgPyBwYXJhbXNbbmFtZV0ucHVzaCh2YWx1ZSkgOiAocGFyYW1zW25hbWVdID0gdmFsdWUpO1xuICB9XG4gIHJldHVybiBwYXJhbXM7XG59O1xuLyoqXG4gKiBTZXJpYWxpemVzIHRoZSBnaXZlbiBwYXJhbXMgaW50byBhIHF1ZXJ5IHN0cmluZy5cbiAqL1xuY29uc3Qgc2VyaWFsaXplUXVlcnlTdHJpbmcgPSAocGFyYW1zKSA9PiB7XG4gIGNvbnN0IHFzID0gW107XG4gIGNvbnN0IGFwcGVuZFF1ZXJ5UGFyYW0gPSAocGFyYW0sIHYpID0+IHtcbiAgICBxcy5wdXNoKGAke2VuY29kZVVSSUNvbXBvbmVudChwYXJhbSl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHYpfWApO1xuICB9O1xuICBPYmplY3Qua2V5cyhwYXJhbXMpLmZvckVhY2gocGFyYW0gPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gcGFyYW1zW3BhcmFtXTtcbiAgICBpZiAoaXNOaWwodmFsdWUpKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgdmFsdWUuZm9yRWFjaCgodikgPT4gYXBwZW5kUXVlcnlQYXJhbShwYXJhbSwgdikpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGFwcGVuZFF1ZXJ5UGFyYW0ocGFyYW0sIHZhbHVlKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcXMuam9pbignJicpO1xufTtcbi8qKlxuICogTm90aWZpZXMgdGhlIGJyb3dzZXIgdG8gc3RhcnQgZXN0YWJsaXNoaW5nIGEgY29ubmVjdGlvbiB3aXRoIHRoZSBnaXZlbiBVUkwuXG4gKi9cbmNvbnN0IHByZWNvbm5lY3QgPSAodXJsLCByZWwgPSAncHJlY29ubmVjdCcsIGFzKSA9PiB7XG4gIGlmICghSVNfQ0xJRU5UKVxuICAgIHJldHVybiBmYWxzZTtcbiAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgbGluay5yZWwgPSByZWw7XG4gIGxpbmsuaHJlZiA9IHVybDtcbiAgaWYgKCFpc1VuZGVmaW5lZChhcykpXG4gICAgbGluay5hcyA9IGFzO1xuICBsaW5rLmNyb3NzT3JpZ2luID0gJ3RydWUnO1xuICBkb2N1bWVudC5oZWFkLmFwcGVuZChsaW5rKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG4gKiBTYWZlbHkgYXBwZW5kcyB0aGUgZ2l2ZW4gcXVlcnkgc3RyaW5nIHRvIHRoZSBnaXZlbiBVUkwuXG4gKi9cbmNvbnN0IGFwcGVuZFF1ZXJ5U3RyaW5nVG9VUkwgPSAodXJsLCBxcykgPT4ge1xuICBpZiAoaXNVbmRlZmluZWQocXMpIHx8IHFzLmxlbmd0aCA9PT0gMClcbiAgICByZXR1cm4gdXJsO1xuICBjb25zdCBtYWluQW5kUXVlcnkgPSB1cmwuc3BsaXQoJz8nLCAyKTtcbiAgcmV0dXJuIChtYWluQW5kUXVlcnlbMF0gK1xuICAgICghaXNVbmRlZmluZWQobWFpbkFuZFF1ZXJ5WzFdKSA/IGA/JHttYWluQW5kUXVlcnlbMV19JiR7cXN9YCA6IGA/JHtxc31gKSk7XG59O1xuLyoqXG4gKiBTZXJpYWxpemVzIHRoZSBnaXZlbiBwYXJhbXMgaW50byBhIHF1ZXJ5IHN0cmluZyBhbmQgYXBwZW5kcyB0aGVtIHRvIHRoZSBnaXZlbiBVUkwuXG4gKi9cbmNvbnN0IGFwcGVuZFBhcmFtc1RvVVJMID0gKHVybCwgcGFyYW1zKSA9PiBhcHBlbmRRdWVyeVN0cmluZ1RvVVJMKHVybCwgaXNPYmplY3QocGFyYW1zKVxuICA/IHNlcmlhbGl6ZVF1ZXJ5U3RyaW5nKHBhcmFtcylcbiAgOiBwYXJhbXMpO1xuLyoqXG4gKiBUcmllcyB0byBjb252ZXJ0IGEgcXVlcnkgc3RyaW5nIGludG8gYSBvYmplY3QuXG4gKi9cbmNvbnN0IGRlY29kZVF1ZXJ5U3RyaW5nID0gKHFzKSA9PiB7XG4gIGlmICghaXNTdHJpbmcocXMpKVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIHJldHVybiBwYXJzZVF1ZXJ5U3RyaW5nKHFzKTtcbn07XG5jb25zdCBwZW5kaW5nU0RLUmVxdWVzdHMgPSB7fTtcbi8qKlxuICogTG9hZHMgYW4gU0RLIGludG8gdGhlIGdsb2JhbCB3aW5kb3cgbmFtZXNwYWNlLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL0Nvb2tQZXRlL3JlYWN0LXBsYXllci9ibG9iL21hc3Rlci9zcmMvdXRpbHMuanMjTDc3XG4gKi9cbmNvbnN0IGxvYWRTREsgPSAodXJsLCBzZGtHbG9iYWxWYXIsIHNka1JlYWR5VmFyLCBpc0xvYWRlZCA9ICgpID0+IHRydWUsIGxvYWRTY3JpcHRGbiA9IGxvYWRTY3JpcHQpID0+IHtcbiAgY29uc3QgZ2V0R2xvYmFsID0gKGtleSkgPT4ge1xuICAgIGlmICghaXNVbmRlZmluZWQod2luZG93W2tleV0pKVxuICAgICAgcmV0dXJuIHdpbmRvd1trZXldO1xuICAgIGlmICh3aW5kb3cuZXhwb3J0cyAmJiB3aW5kb3cuZXhwb3J0c1trZXldKVxuICAgICAgcmV0dXJuIHdpbmRvdy5leHBvcnRzW2tleV07XG4gICAgaWYgKHdpbmRvdy5tb2R1bGUgJiYgd2luZG93Lm1vZHVsZS5leHBvcnRzICYmIHdpbmRvdy5tb2R1bGUuZXhwb3J0c1trZXldKSB7XG4gICAgICByZXR1cm4gd2luZG93Lm1vZHVsZS5leHBvcnRzW2tleV07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH07XG4gIGNvbnN0IGV4aXN0aW5nR2xvYmFsID0gZ2V0R2xvYmFsKHNka0dsb2JhbFZhcik7XG4gIGlmIChleGlzdGluZ0dsb2JhbCAmJiBpc0xvYWRlZChleGlzdGluZ0dsb2JhbCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGV4aXN0aW5nR2xvYmFsKTtcbiAgfVxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGlmICghaXNVbmRlZmluZWQocGVuZGluZ1NES1JlcXVlc3RzW3VybF0pKSB7XG4gICAgICBwZW5kaW5nU0RLUmVxdWVzdHNbdXJsXS5wdXNoKHsgcmVzb2x2ZSwgcmVqZWN0IH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwZW5kaW5nU0RLUmVxdWVzdHNbdXJsXSA9IFt7IHJlc29sdmUsIHJlamVjdCB9XTtcbiAgICBjb25zdCBvbkxvYWRlZCA9IChzZGspID0+IHtcbiAgICAgIHBlbmRpbmdTREtSZXF1ZXN0c1t1cmxdLmZvckVhY2gocmVxdWVzdCA9PiByZXF1ZXN0LnJlc29sdmUoc2RrKSk7XG4gICAgfTtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHNka1JlYWR5VmFyKSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgIGNvbnN0IHByZXZpb3VzT25SZWFkeSA9IHdpbmRvd1tzZGtSZWFkeVZhcl07XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgd2luZG93W3Nka1JlYWR5VmFyXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChwcmV2aW91c09uUmVhZHkpKVxuICAgICAgICAgIHByZXZpb3VzT25SZWFkeSgpO1xuICAgICAgICBvbkxvYWRlZChnZXRHbG9iYWwoc2RrR2xvYmFsVmFyKSk7XG4gICAgICB9O1xuICAgIH1cbiAgICBsb2FkU2NyaXB0Rm4odXJsLCAoKSA9PiB7XG4gICAgICBpZiAoaXNVbmRlZmluZWQoc2RrUmVhZHlWYXIpKVxuICAgICAgICBvbkxvYWRlZChnZXRHbG9iYWwoc2RrR2xvYmFsVmFyKSk7XG4gICAgfSwgZSA9PiB7XG4gICAgICBwZW5kaW5nU0RLUmVxdWVzdHNbdXJsXS5mb3JFYWNoKHJlcXVlc3QgPT4ge1xuICAgICAgICByZXF1ZXN0LnJlamVjdChlKTtcbiAgICAgIH0pO1xuICAgICAgZGVsZXRlIHBlbmRpbmdTREtSZXF1ZXN0c1t1cmxdO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmNvbnN0IHdpdGhQcm92aWRlckNvbnRleHQgPSAocHJvdmlkZXIsIGFkZGl0aW9uYWxQcm9wcyA9IFtdKSA9PiB3aXRoUGxheWVyQ29udGV4dChwcm92aWRlciwgW1xuICAnYXV0b3BsYXknLFxuICAnY29udHJvbHMnLFxuICAnbGFuZ3VhZ2UnLFxuICAnbXV0ZWQnLFxuICAnbG9nZ2VyJyxcbiAgJ2xvb3AnLFxuICAnYXNwZWN0UmF0aW8nLFxuICAncGxheXNpbmxpbmUnLFxuICAuLi5hZGRpdGlvbmFsUHJvcHMsXG5dKTtcblxuY29uc3QgZGFpbHltb3Rpb25Dc3MgPSBcIjpob3N0e3otaW5kZXg6dmFyKC0tdm0tbWVkaWEtei1pbmRleCl9XCI7XG5cbnZhciBfX2F3YWl0ZXIkcCA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuY29uc3QgdmlkZW9JbmZvQ2FjaGUkMSA9IG5ldyBNYXAoKTtcbmNvbnN0IERhaWx5bW90aW9uID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLnZtTG9hZFN0YXJ0ID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUxvYWRTdGFydFwiLCA3KTtcbiAgICB0aGlzLnZtRXJyb3IgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtRXJyb3JcIiwgNyk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICB0aGlzLmRlZmF1bHRJbnRlcm5hbFN0YXRlID0ge307XG4gICAgdGhpcy5pbnRlcm5hbFN0YXRlID0ge1xuICAgICAgY3VycmVudFRpbWU6IDAsXG4gICAgICB2b2x1bWU6IDAsXG4gICAgICBtdXRlZDogZmFsc2UsXG4gICAgICBpc0Fkc1BsYXlpbmc6IGZhbHNlLFxuICAgICAgcGxheWJhY2tSZWFkeTogZmFsc2UsXG4gICAgfTtcbiAgICB0aGlzLmVtYmVkU3JjID0gJyc7XG4gICAgdGhpcy5tZWRpYVRpdGxlID0gJyc7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0byBhdXRvbWF0aWNhbGx5IHBsYXkgdGhlIG5leHQgdmlkZW8gaW4gdGhlIHF1ZXVlLlxuICAgICAqL1xuICAgIHRoaXMuc2hvdWxkQXV0b3BsYXlRdWV1ZSA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gc2hvdyB0aGUgJ1VwIE5leHQnIHF1ZXVlLlxuICAgICAqL1xuICAgIHRoaXMuc2hvd1VwTmV4dFF1ZXVlID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0byBzaG93IGJ1dHRvbnMgZm9yIHNoYXJpbmcgdGhlIHZpZGVvLlxuICAgICAqL1xuICAgIHRoaXMuc2hvd1NoYXJlQnV0dG9ucyA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gZGlzcGxheSB0aGUgRGFpbHltb3Rpb24gbG9nby5cbiAgICAgKi9cbiAgICB0aGlzLnNob3dEYWlseW1vdGlvbkxvZ28gPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIHNob3cgdmlkZW8gaW5mb3JtYXRpb24gKHRpdGxlIGFuZCBvd25lcikgb24gdGhlIHN0YXJ0IHNjcmVlbi5cbiAgICAgKi9cbiAgICB0aGlzLnNob3dWaWRlb0luZm8gPSB0cnVlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmxhbmd1YWdlID0gJ2VuJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5hdXRvcGxheSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmNvbnRyb2xzID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMubG9vcCA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLm11dGVkID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMucGxheXNpbmxpbmUgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFByb3ZpZGVyQ29ubmVjdCh0aGlzKTtcbiAgICB3aXRoUHJvdmlkZXJDb250ZXh0KHRoaXMpO1xuICB9XG4gIG9uVmlkZW9JZENoYW5nZSgpIHtcbiAgICB0aGlzLmludGVybmFsU3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRJbnRlcm5hbFN0YXRlKTtcbiAgICBpZiAoIXRoaXMudmlkZW9JZCkge1xuICAgICAgdGhpcy5lbWJlZFNyYyA9ICcnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmVtYmVkU3JjID0gYCR7dGhpcy5nZXRPcmlnaW4oKX0vZW1iZWQvdmlkZW8vJHt0aGlzLnZpZGVvSWR9P2FwaT0xYDtcbiAgICB0aGlzLmZldGNoVmlkZW9JbmZvID0gdGhpcy5nZXRWaWRlb0luZm8oKTtcbiAgICB0aGlzLnBlbmRpbmdNZWRpYVRpdGxlQ2FsbCA9IGRlZmVycmVkUHJvbWlzZSgpO1xuICB9XG4gIG9uQ29udHJvbHNDaGFuZ2UoKSB7XG4gICAgaWYgKHRoaXMuaW50ZXJuYWxTdGF0ZS5wbGF5YmFja1JlYWR5KSB7XG4gICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJjb250cm9sc1wiIC8qIENvbnRyb2xzICovLCB0aGlzLmNvbnRyb2xzKTtcbiAgICB9XG4gIH1cbiAgb25DdXN0b21Qb3N0ZXJDaGFuZ2UoKSB7XG4gICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFBvc3RlcicsIHRoaXMucG9zdGVyKTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmRpc3BhdGNoID0gY3JlYXRlUHJvdmlkZXJEaXNwYXRjaGVyKHRoaXMpO1xuICAgIHRoaXMuZGlzcGF0Y2goJ3ZpZXdUeXBlJywgVmlld1R5cGUuVmlkZW8pO1xuICAgIHRoaXMub25WaWRlb0lkQ2hhbmdlKCk7XG4gICAgdGhpcy5pbnRlcm5hbFN0YXRlLm11dGVkID0gdGhpcy5tdXRlZDtcbiAgICB0aGlzLmRlZmF1bHRJbnRlcm5hbFN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5pbnRlcm5hbFN0YXRlKTtcbiAgfVxuICBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICB0aGlzLmluaXRpYWxNdXRlZCA9IHRoaXMubXV0ZWQ7XG4gIH1cbiAgZ2V0T3JpZ2luKCkge1xuICAgIHJldHVybiAnaHR0cHM6Ly93d3cuZGFpbHltb3Rpb24uY29tJztcbiAgfVxuICBnZXRQcmVjb25uZWN0aW9ucygpIHtcbiAgICByZXR1cm4gW3RoaXMuZ2V0T3JpZ2luKCksICdodHRwczovL3N0YXRpYzEuZG1jZG4ubmV0J107XG4gIH1cbiAgcmVtb3RlQ29udHJvbChjb21tYW5kLCBhcmcpIHtcbiAgICByZXR1cm4gdGhpcy5lbWJlZC5wb3N0TWVzc2FnZSh7XG4gICAgICBjb21tYW5kLFxuICAgICAgcGFyYW1ldGVyczogYXJnID8gW2FyZ10gOiBbXSxcbiAgICB9KTtcbiAgfVxuICBidWlsZFBhcmFtcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXV0b3BsYXk6IHRoaXMuYXV0b3BsYXksXG4gICAgICBtdXRlOiB0aGlzLmluaXRpYWxNdXRlZCxcbiAgICAgIGNvbnRyb2xzOiB0aGlzLmNvbnRyb2xzLFxuICAgICAgJ3F1ZXVlLWF1dG9wbGF5LW5leHQnOiB0aGlzLnNob3VsZEF1dG9wbGF5UXVldWUsXG4gICAgICAncXVldWUtZW5hYmxlJzogdGhpcy5zaG93VXBOZXh0UXVldWUsXG4gICAgICAnc2hhcmluZy1lbmFibGUnOiB0aGlzLnNob3dTaGFyZUJ1dHRvbnMsXG4gICAgICBzeW5kaWNhdGlvbjogdGhpcy5zeW5kaWNhdGlvbixcbiAgICAgICd1aS1oaWdobGlnaHQnOiB0aGlzLmNvbG9yLFxuICAgICAgJ3VpLWxvZ28nOiB0aGlzLnNob3dEYWlseW1vdGlvbkxvZ28sXG4gICAgICAndWktc3RhcnQtc2NyZWVuLWluZm8nOiB0aGlzLnNob3dWaWRlb0luZm8sXG4gICAgfTtcbiAgfVxuICBnZXRWaWRlb0luZm8oKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRwKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgaWYgKHZpZGVvSW5mb0NhY2hlJDEuaGFzKHRoaXMudmlkZW9JZCkpXG4gICAgICAgIHJldHVybiB2aWRlb0luZm9DYWNoZSQxLmdldCh0aGlzLnZpZGVvSWQpO1xuICAgICAgY29uc3QgYXBpRW5kcG9pbnQgPSAnaHR0cHM6Ly9hcGkuZGFpbHltb3Rpb24uY29tJztcbiAgICAgIHJldHVybiB3aW5kb3dcbiAgICAgICAgLmZldGNoKGAke2FwaUVuZHBvaW50fS92aWRlby8ke3RoaXMudmlkZW9JZH0/ZmllbGRzPWR1cmF0aW9uLHRodW1ibmFpbF8xMDgwX3VybGApXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIGNvbnN0IHBvc3RlciA9IGRhdGEudGh1bWJuYWlsXzEwODBfdXJsO1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHBhcnNlRmxvYXQoZGF0YS5kdXJhdGlvbik7XG4gICAgICAgIHZpZGVvSW5mb0NhY2hlJDEuc2V0KHRoaXMudmlkZW9JZCwgeyBwb3N0ZXIsIGR1cmF0aW9uIH0pO1xuICAgICAgICByZXR1cm4geyBwb3N0ZXIsIGR1cmF0aW9uIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBvbkVtYmVkU3JjQ2hhbmdlKCkge1xuICAgIHRoaXMudm1Mb2FkU3RhcnQuZW1pdCgpO1xuICAgIHRoaXMuZGlzcGF0Y2goJ3ZpZXdUeXBlJywgVmlld1R5cGUuVmlkZW8pO1xuICB9XG4gIG9uRW1iZWRNZXNzYWdlKGV2ZW50KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBtc2cgPSBldmVudC5kZXRhaWw7XG4gICAgc3dpdGNoIChtc2cuZXZlbnQpIHtcbiAgICAgIGNhc2UgXCJwbGF5YmFja19yZWFkeVwiIC8qIFBsYXliYWNrUmVhZHkgKi86XG4gICAgICAgIHRoaXMub25Db250cm9sc0NoYW5nZSgpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50U3JjJywgdGhpcy5lbWJlZFNyYyk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ21lZGlhVHlwZScsIE1lZGlhVHlwZS5WaWRlbyk7XG4gICAgICAgIFByb21pc2UuYWxsKFtcbiAgICAgICAgICB0aGlzLmZldGNoVmlkZW9JbmZvLFxuICAgICAgICAgIChfYSA9IHRoaXMucGVuZGluZ01lZGlhVGl0bGVDYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHJvbWlzZSxcbiAgICAgICAgXSkudGhlbigoW2luZm8sIG1lZGlhVGl0bGVdKSA9PiB7XG4gICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdkdXJhdGlvbicsIChfYSA9IGluZm8gPT09IG51bGwgfHwgaW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5mby5kdXJhdGlvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogLTEpO1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ2N1cnJlbnRQb3N0ZXInLCAoX2IgPSB0aGlzLnBvc3RlcikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogaW5mbyA9PT0gbnVsbCB8fCBpbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvLnBvc3Rlcik7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaCgnbWVkaWFUaXRsZScsIG1lZGlhVGl0bGUpO1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXliYWNrUmVhZHknLCB0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInZpZGVvY2hhbmdlXCIgLyogVmlkZW9DaGFuZ2UgKi86XG4gICAgICAgIChfYiA9IHRoaXMucGVuZGluZ01lZGlhVGl0bGVDYWxsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVzb2x2ZShtc2cudGl0bGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzdGFydFwiIC8qIFN0YXJ0ICovOlxuICAgICAgICB0aGlzLmRpc3BhdGNoKCdwYXVzZWQnLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXliYWNrU3RhcnRlZCcsIHRydWUpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCdidWZmZXJpbmcnLCB0cnVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidmlkZW9fc3RhcnRcIiAvKiBWaWRlb1N0YXJ0ICovOlxuICAgICAgICAvLyBDb21tYW5kcyBkb24ndCBnbyB0aHJvdWdoIHVudGlsIGFkcyBoYXZlIGZpbmlzaGVkLCBzbyB3ZSBzdG9yZSB0aGVtIGFuZCB0aGVuIHJlcGxheSB0aGVtXG4gICAgICAgIC8vIG9uY2UgdGhlIHZpZGVvIHN0YXJ0cy5cbiAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwibXV0ZWRcIiAvKiBNdXRlZCAqLywgdGhpcy5pbnRlcm5hbFN0YXRlLm11dGVkKTtcbiAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwidm9sdW1lXCIgLyogVm9sdW1lICovLCB0aGlzLmludGVybmFsU3RhdGUudm9sdW1lKTtcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJuYWxTdGF0ZS5jdXJyZW50VGltZSA+IDApIHtcbiAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJzZWVrXCIgLyogU2VlayAqLywgdGhpcy5pbnRlcm5hbFN0YXRlLmN1cnJlbnRUaW1lKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwbGF5XCIgLyogUGxheSAqLzpcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgncGF1c2VkJywgZmFsc2UpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwYXVzZVwiIC8qIFBhdXNlICovOlxuICAgICAgICB0aGlzLmRpc3BhdGNoKCdwYXVzZWQnLCB0cnVlKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgncGxheWluZycsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgnYnVmZmVyaW5nJywgZmFsc2UpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwbGF5aW5nXCIgLyogUGxheWluZyAqLzpcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgncGxheWluZycsIHRydWUpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCdidWZmZXJpbmcnLCBmYWxzZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInZpZGVvX2VuZFwiIC8qIFZpZGVvRW5kICovOlxuICAgICAgICBpZiAodGhpcy5sb29wKSB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJwbGF5XCIgLyogUGxheSAqLyk7XG4gICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja0VuZGVkJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidGltZXVwZGF0ZVwiIC8qIFRpbWVVcGRhdGUgKi86XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ2N1cnJlbnRUaW1lJywgcGFyc2VGbG9hdChtc2cudGltZSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ2b2x1bWVjaGFuZ2VcIiAvKiBWb2x1bWVDaGFuZ2UgKi86XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ211dGVkJywgbXNnLm11dGVkID09PSAndHJ1ZScpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCd2b2x1bWUnLCBNYXRoLmZsb29yKHBhcnNlRmxvYXQobXNnLnZvbHVtZSkgKiAxMDApKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic2Vla2luZ1wiIC8qIFNlZWtpbmcgKi86XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ2N1cnJlbnRUaW1lJywgcGFyc2VGbG9hdChtc2cudGltZSkpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCdzZWVraW5nJywgdHJ1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInNlZWtlZFwiIC8qIFNlZWtlZCAqLzpcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFRpbWUnLCBwYXJzZUZsb2F0KG1zZy50aW1lKSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ3NlZWtpbmcnLCBmYWxzZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIndhaXRpbmdcIiAvKiBXYWl0aW5nICovOlxuICAgICAgICB0aGlzLmRpc3BhdGNoKCdidWZmZXJpbmcnLCB0cnVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicHJvZ3Jlc3NcIiAvKiBQcm9ncmVzcyAqLzpcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgnYnVmZmVyZWQnLCBwYXJzZUZsb2F0KG1zZy50aW1lKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImR1cmF0aW9uY2hhbmdlXCIgLyogRHVyYXRpb25DaGFuZ2UgKi86XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ2R1cmF0aW9uJywgcGFyc2VGbG9hdChtc2cuZHVyYXRpb24pKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicXVhbGl0aWVzYXZhaWxhYmxlXCIgLyogUXVhbGl0aWVzQXZhaWxhYmxlICovOlxuICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1F1YWxpdGllcycsIG1zZy5xdWFsaXRpZXMubWFwKChxKSA9PiBgJHtxfXBgKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInF1YWxpdHljaGFuZ2VcIiAvKiBRdWFsaXR5Q2hhbmdlICovOlxuICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1F1YWxpdHknLCBgJHttc2cucXVhbGl0eX1wYCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZ1bGxzY3JlZW5jaGFuZ2VcIiAvKiBGdWxsc2NyZWVuQ2hhbmdlICovOlxuICAgICAgICB0aGlzLmRpc3BhdGNoKCdpc0Z1bGxzY3JlZW5BY3RpdmUnLCBtc2cuZnVsbHNjcmVlbiA9PT0gJ3RydWUnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZXJyb3JcIiAvKiBFcnJvciAqLzpcbiAgICAgICAgdGhpcy52bUVycm9yLmVtaXQobXNnLmVycm9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0QWRhcHRlcigpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJHAodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCBjYW5QbGF5UmVnZXggPSAvKD86ZGFpXFwubHl8ZGFpbHltb3Rpb258ZGFpbHltb3Rpb25cXC5jb20pXFwvKD86dmlkZW9cXC98ZW1iZWRcXC98KSg/OnZpZGVvXFwvfCkoKD86XFx3KSspLztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdldEludGVybmFsUGxheWVyOiAoKSA9PiBfX2F3YWl0ZXIkcCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgcmV0dXJuIHRoaXMuZW1iZWQ7IH0pLFxuICAgICAgICBwbGF5OiAoKSA9PiBfX2F3YWl0ZXIkcCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJwbGF5XCIgLyogUGxheSAqLyk7XG4gICAgICAgIH0pLFxuICAgICAgICBwYXVzZTogKCkgPT4gX19hd2FpdGVyJHAodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwicGF1c2VcIiAvKiBQYXVzZSAqLyk7XG4gICAgICAgIH0pLFxuICAgICAgICBjYW5QbGF5OiAodHlwZSkgPT4gX19hd2FpdGVyJHAodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiBpc1N0cmluZyh0eXBlKSAmJiBjYW5QbGF5UmVnZXgudGVzdCh0eXBlKTsgfSksXG4gICAgICAgIHNldEN1cnJlbnRUaW1lOiAodGltZSkgPT4gX19hd2FpdGVyJHAodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgaWYgKHRpbWUgIT09IHRoaXMuaW50ZXJuYWxTdGF0ZS5jdXJyZW50VGltZSkge1xuICAgICAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLmN1cnJlbnRUaW1lID0gdGltZTtcbiAgICAgICAgICAgIHRoaXMucmVtb3RlQ29udHJvbChcInNlZWtcIiAvKiBTZWVrICovLCB0aW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBzZXRNdXRlZDogKG11dGVkKSA9PiBfX2F3YWl0ZXIkcCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB0aGlzLmludGVybmFsU3RhdGUubXV0ZWQgPSBtdXRlZDtcbiAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJtdXRlZFwiIC8qIE11dGVkICovLCBtdXRlZCk7XG4gICAgICAgIH0pLFxuICAgICAgICBzZXRWb2x1bWU6ICh2b2x1bWUpID0+IF9fYXdhaXRlciRwKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS52b2x1bWUgPSB2b2x1bWUgLyAxMDA7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaCgndm9sdW1lJywgdm9sdW1lKTtcbiAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJ2b2x1bWVcIiAvKiBWb2x1bWUgKi8sIHZvbHVtZSAvIDEwMCk7XG4gICAgICAgIH0pLFxuICAgICAgICBjYW5TZXRQbGF5YmFja1F1YWxpdHk6ICgpID0+IF9fYXdhaXRlciRwKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyByZXR1cm4gdHJ1ZTsgfSksXG4gICAgICAgIHNldFBsYXliYWNrUXVhbGl0eTogKHF1YWxpdHkpID0+IF9fYXdhaXRlciRwKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIHRoaXMucmVtb3RlQ29udHJvbChcInF1YWxpdHlcIiAvKiBRdWFsaXR5ICovLCBxdWFsaXR5LnNsaWNlKDAsIC0xKSk7XG4gICAgICAgIH0pLFxuICAgICAgICBjYW5TZXRGdWxsc2NyZWVuOiAoKSA9PiBfX2F3YWl0ZXIkcCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgcmV0dXJuIHRydWU7IH0pLFxuICAgICAgICBlbnRlckZ1bGxzY3JlZW46ICgpID0+IF9fYXdhaXRlciRwKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIHRoaXMucmVtb3RlQ29udHJvbChcImZ1bGxzY3JlZW5cIiAvKiBGdWxsc2NyZWVuICovLCB0cnVlKTtcbiAgICAgICAgfSksXG4gICAgICAgIGV4aXRGdWxsc2NyZWVuOiAoKSA9PiBfX2F3YWl0ZXIkcCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJmdWxsc2NyZWVuXCIgLyogRnVsbHNjcmVlbiAqLywgZmFsc2UpO1xuICAgICAgICB9KSxcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcInZtLWVtYmVkXCIsIHsgZW1iZWRTcmM6IHRoaXMuZW1iZWRTcmMsIG1lZGlhVGl0bGU6IHRoaXMubWVkaWFUaXRsZSwgb3JpZ2luOiB0aGlzLmdldE9yaWdpbigpLCBwYXJhbXM6IHRoaXMuYnVpbGRQYXJhbXMoKSwgZGVjb2RlcjogZGVjb2RlUXVlcnlTdHJpbmcsIHByZWNvbm5lY3Rpb25zOiB0aGlzLmdldFByZWNvbm5lY3Rpb25zKCksIG9uVm1FbWJlZE1lc3NhZ2U6IHRoaXMub25FbWJlZE1lc3NhZ2UuYmluZCh0aGlzKSwgb25WbUVtYmVkU3JjQ2hhbmdlOiB0aGlzLm9uRW1iZWRTcmNDaGFuZ2UuYmluZCh0aGlzKSwgcmVmOiAoZWwpID0+IHtcbiAgICAgICAgdGhpcy5lbWJlZCA9IGVsO1xuICAgICAgfSB9KSk7XG4gIH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcInZpZGVvSWRcIjogW1wib25WaWRlb0lkQ2hhbmdlXCJdLFxuICAgIFwiY29udHJvbHNcIjogW1wib25Db250cm9sc0NoYW5nZVwiXSxcbiAgICBcInBvc3RlclwiOiBbXCJvbkN1c3RvbVBvc3RlckNoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBkYWlseW1vdGlvbkNzczsgfVxufTtcblxuY29uc3QgZGFzaENzcyA9IFwiOmhvc3R7ei1pbmRleDp2YXIoLS12bS1tZWRpYS16LWluZGV4KX1cIjtcblxudmFyIF9fYXdhaXRlciRvID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCBEYXNoID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLnZtTG9hZFN0YXJ0ID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUxvYWRTdGFydFwiLCA3KTtcbiAgICB0aGlzLnZtRXJyb3IgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtRXJyb3JcIiwgNyk7XG4gICAgdGhpcy50ZXh0VHJhY2tzRGlzcG9zYWwgPSBuZXcgRGlzcG9zYWwoKTtcbiAgICB0aGlzLmhhc0F0dGFjaGVkID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogVGhlIE5QTSBwYWNrYWdlIHZlcnNpb24gb2YgdGhlIGBkYXNoanNgIGxpYnJhcnkgdG8gZG93bmxvYWQgYW5kIHVzZS5cbiAgICAgKi9cbiAgICB0aGlzLnZlcnNpb24gPSAnbGF0ZXN0JztcbiAgICAvKipcbiAgICAgKiBUaGUgYGRhc2hqc2AgY29uZmlndXJhdGlvbi5cbiAgICAgKi9cbiAgICB0aGlzLmNvbmZpZyA9IHt9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmF1dG9wbGF5ID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgdGhpcy5wcmVsb2FkID0gJ21ldGFkYXRhJztcbiAgICAvKipcbiAgICAgKiBBcmUgdGV4dCB0cmFja3MgZW5hYmxlZCBieSBkZWZhdWx0LlxuICAgICAqL1xuICAgIHRoaXMuZW5hYmxlVGV4dFRyYWNrc0J5RGVmYXVsdCA9IHRydWU7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuc2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrcyA9IHRydWU7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlID0gdHJ1ZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5jdXJyZW50VGV4dFRyYWNrID0gLTE7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQcm92aWRlckNvbm5lY3QodGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgW1xuICAgICAgJ2F1dG9wbGF5JyxcbiAgICAgICdzaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzJyxcbiAgICAgICdpc1RleHRUcmFja1Zpc2libGUnLFxuICAgICAgJ2N1cnJlbnRUZXh0VHJhY2snLFxuICAgIF0pO1xuICB9XG4gIG9uU3JjQ2hhbmdlKCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoIXRoaXMuaGFzQXR0YWNoZWQpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy52bUxvYWRTdGFydC5lbWl0KCk7XG4gICAgKF9hID0gdGhpcy5kYXNoKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYXR0YWNoU291cmNlKHRoaXMuc3JjKTtcbiAgfVxuICBvblNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MoKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICh0aGlzLnNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MpIHtcbiAgICAgIHRoaXMudGV4dFRyYWNrc0Rpc3Bvc2FsLmVtcHR5KCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5oaWRlQ3VycmVudFRleHRUcmFjaygpO1xuICAgIH1cbiAgICAoX2EgPSB0aGlzLmRhc2gpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbmFibGVGb3JjZWRUZXh0U3RyZWFtaW5nKCF0aGlzLnNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MpO1xuICB9XG4gIG9uVGV4dFRyYWNrQ2hhbmdlKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKCF0aGlzLnNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MgfHwgaXNVbmRlZmluZWQodGhpcy5kYXNoKSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLmRhc2guc2V0VGV4dFRyYWNrKCF0aGlzLmlzVGV4dFRyYWNrVmlzaWJsZSA/IC0xIDogdGhpcy5jdXJyZW50VGV4dFRyYWNrKTtcbiAgICBpZiAoIXRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlKSB7XG4gICAgICBjb25zdCB0cmFjayA9IEFycmF5LmZyb20oKF9iID0gKF9hID0gdGhpcy5tZWRpYUVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGV4dFRyYWNrcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10pW3RoaXMuY3VycmVudFRleHRUcmFja107XG4gICAgICBpZiAoKHRyYWNrID09PSBudWxsIHx8IHRyYWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0cmFjay5tb2RlKSA9PT0gJ2hpZGRlbicpXG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ2N1cnJlbnRUZXh0VHJhY2snLCAtMSk7XG4gICAgfVxuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuZGlzcGF0Y2ggPSBjcmVhdGVQcm92aWRlckRpc3BhdGNoZXIodGhpcyk7XG4gICAgaWYgKHRoaXMubWVkaWFFbClcbiAgICAgIHRoaXMuc2V0dXBEYXNoKCk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy50ZXh0VHJhY2tzRGlzcG9zYWwuZW1wdHkoKTtcbiAgICB0aGlzLmRlc3Ryb3lEYXNoKCk7XG4gIH1cbiAgc2V0dXBEYXNoKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkbyh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMubGliU3JjIHx8XG4gICAgICAgICAgYGh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vZGFzaGpzQCR7dGhpcy52ZXJzaW9ufS9kaXN0L2Rhc2guYWxsLm1pbi5qc2A7XG4gICAgICAgIGNvbnN0IERhc2hTREsgPSAoeWllbGQgbG9hZFNESyh1cmwsICdkYXNoanMnKSk7XG4gICAgICAgIHRoaXMuZGFzaCA9IERhc2hTREsuTWVkaWFQbGF5ZXIodGhpcy5jb25maWcpLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLmRhc2guaW5pdGlhbGl6ZSh0aGlzLm1lZGlhRWwsIG51bGwsIHRoaXMuYXV0b3BsYXkpO1xuICAgICAgICB0aGlzLmRhc2guc2V0VGV4dERlZmF1bHRFbmFibGVkKHRoaXMuZW5hYmxlVGV4dFRyYWNrc0J5RGVmYXVsdCk7XG4gICAgICAgIHRoaXMuZGFzaC5lbmFibGVGb3JjZWRUZXh0U3RyZWFtaW5nKCF0aGlzLnNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MpO1xuICAgICAgICB0aGlzLmRhc2gub24oRGFzaFNESy5NZWRpYVBsYXllci5ldmVudHMuUExBWUJBQ0tfTUVUQURBVEFfTE9BREVELCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaCgnbWVkaWFUeXBlJywgTWVkaWFUeXBlLlZpZGVvKTtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50U3JjJywgdGhpcy5zcmMpO1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hMZXZlbHMoKTtcbiAgICAgICAgICB0aGlzLmxpc3RlblRvVGV4dFRyYWNrc0ZvckNoYW5nZXMoKTtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1JlYWR5JywgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRhc2gub24oRGFzaFNESy5NZWRpYVBsYXllci5ldmVudHMuVFJBQ0tfQ0hBTkdFX1JFTkRFUkVELCAoKSA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLnNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MpXG4gICAgICAgICAgICB0aGlzLmhpZGVDdXJyZW50VGV4dFRyYWNrKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRhc2gub24oRGFzaFNESy5NZWRpYVBsYXllci5ldmVudHMuRVJST1IsIChlKSA9PiB7XG4gICAgICAgICAgdGhpcy52bUVycm9yLmVtaXQoZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhhc0F0dGFjaGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHRoaXMudm1FcnJvci5lbWl0KGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGRlc3Ryb3lEYXNoKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyJG8odGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAoX2EgPSB0aGlzLmRhc2gpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXNldCgpO1xuICAgICAgdGhpcy5oYXNBdHRhY2hlZCA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG4gIG9uTWVkaWFFbENoYW5nZShldmVudCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkbyh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHRoaXMuZGVzdHJveURhc2goKTtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChldmVudC5kZXRhaWwpKVxuICAgICAgICByZXR1cm47XG4gICAgICB0aGlzLm1lZGlhRWwgPSBldmVudC5kZXRhaWw7XG4gICAgICB5aWVsZCB0aGlzLnNldHVwRGFzaCgpO1xuICAgIH0pO1xuICB9XG4gIGxldmVsVG9QbGF5YmFja1F1YWxpdHkobGV2ZWwpIHtcbiAgICByZXR1cm4gbGV2ZWwgPT09IC0xID8gJ0F1dG8nIDogYCR7bGV2ZWwuaGVpZ2h0fXBgO1xuICB9XG4gIGZpbmRMZXZlbEluZGV4RnJvbVF1YWxpdHkocXVhbGl0eSkge1xuICAgIHJldHVybiB0aGlzLmRhc2hcbiAgICAgIC5nZXRCaXRyYXRlSW5mb0xpc3RGb3IoJ3ZpZGVvJylcbiAgICAgIC5maW5kSW5kZXgoKGxldmVsKSA9PiB0aGlzLmxldmVsVG9QbGF5YmFja1F1YWxpdHkobGV2ZWwpID09PSBxdWFsaXR5KTtcbiAgfVxuICBkaXNwYXRjaExldmVscygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbGV2ZWxzID0gdGhpcy5kYXNoLmdldEJpdHJhdGVJbmZvTGlzdEZvcigndmlkZW8nKTtcbiAgICAgIGlmICgobGV2ZWxzID09PSBudWxsIHx8IGxldmVscyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGV2ZWxzLmxlbmd0aCkgPiAwKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXliYWNrUXVhbGl0aWVzJywgW1xuICAgICAgICAgICdBdXRvJyxcbiAgICAgICAgICAuLi5sZXZlbHMubWFwKHRoaXMubGV2ZWxUb1BsYXliYWNrUXVhbGl0eSksXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1F1YWxpdHknLCAnQXV0bycpO1xuICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgdGhpcy52bUVycm9yLmVtaXQoZSk7XG4gICAgfVxuICB9XG4gIGxpc3RlblRvVGV4dFRyYWNrc0ZvckNoYW5nZXMoKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgdGhpcy50ZXh0VHJhY2tzRGlzcG9zYWwuZW1wdHkoKTtcbiAgICBpZiAoaXNVbmRlZmluZWQodGhpcy5tZWRpYUVsKSB8fCB0aGlzLnNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MpXG4gICAgICByZXR1cm47XG4gICAgLy8gSW5pdCBjdXJyZW50IHRyYWNrLlxuICAgIGNvbnN0IGN1cnJlbnRUcmFjayA9IChfYyA9ICgoX2IgPSAoX2EgPSB0aGlzLmRhc2gpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRDdXJyZW50VHJhY2tGb3IoJ3RleHQnKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmluZGV4KSAtIDEpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IC0xO1xuICAgIHRoaXMuY3VycmVudFRleHRUcmFjayA9IGN1cnJlbnRUcmFjaztcbiAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50VGV4dFRyYWNrJywgY3VycmVudFRyYWNrKTtcbiAgICB0aGlzLnRleHRUcmFja3NEaXNwb3NhbC5hZGQobGlzdGVuKHRoaXMubWVkaWFFbC50ZXh0VHJhY2tzLCAnY2hhbmdlJywgdGhpcy5vblRleHRUcmFja3NDaGFuZ2UuYmluZCh0aGlzKSkpO1xuICB9XG4gIGdldFRleHRUcmFja3MoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSgoX2IgPSAoX2EgPSB0aGlzLm1lZGlhRWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50ZXh0VHJhY2tzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXSk7XG4gIH1cbiAgaGlkZUN1cnJlbnRUZXh0VHJhY2soKSB7XG4gICAgY29uc3QgdGV4dFRyYWNrcyA9IHRoaXMuZ2V0VGV4dFRyYWNrcygpO1xuICAgIGlmICh0ZXh0VHJhY2tzW3RoaXMuY3VycmVudFRleHRUcmFja10gJiYgdGhpcy5pc1RleHRUcmFja1Zpc2libGUpIHtcbiAgICAgIHRleHRUcmFja3NbdGhpcy5jdXJyZW50VGV4dFRyYWNrXS5tb2RlID0gJ2hpZGRlbic7XG4gICAgfVxuICB9XG4gIG9uVGV4dFRyYWNrc0NoYW5nZSgpIHtcbiAgICB0aGlzLmhpZGVDdXJyZW50VGV4dFRyYWNrKCk7XG4gICAgdGhpcy5kaXNwYXRjaCgndGV4dFRyYWNrcycsIHRoaXMuZ2V0VGV4dFRyYWNrcygpKTtcbiAgICB0aGlzLmRpc3BhdGNoKCdpc1RleHRUcmFja1Zpc2libGUnLCB0aGlzLmlzVGV4dFRyYWNrVmlzaWJsZSk7XG4gICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFRleHRUcmFjaycsIHRoaXMuY3VycmVudFRleHRUcmFjayk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXRBZGFwdGVyKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRvKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgY29uc3QgYWRhcHRlciA9IChfYiA9ICh5aWVsZCAoKF9hID0gdGhpcy52aWRlb1Byb3ZpZGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0QWRhcHRlcigpKSkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHt9O1xuICAgICAgY29uc3QgY2FuVmlkZW9Qcm92aWRlclBsYXkgPSBhZGFwdGVyLmNhblBsYXk7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhZGFwdGVyKSwgeyBnZXRJbnRlcm5hbFBsYXllcjogKCkgPT4gX19hd2FpdGVyJG8odGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiB0aGlzLmRhc2g7IH0pLCBjYW5QbGF5OiAodHlwZSkgPT4gX19hd2FpdGVyJG8odGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgdmFyIF9jO1xuICAgICAgICAgIHJldHVybiAoaXNTdHJpbmcodHlwZSkgJiYgZGFzaFJlZ2V4LnRlc3QodHlwZSkpIHx8XG4gICAgICAgICAgICAoKF9jID0gY2FuVmlkZW9Qcm92aWRlclBsYXkgPT09IG51bGwgfHwgY2FuVmlkZW9Qcm92aWRlclBsYXkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhblZpZGVvUHJvdmlkZXJQbGF5KHR5cGUpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBmYWxzZSk7XG4gICAgICAgIH0pLCBjYW5TZXRQbGF5YmFja1F1YWxpdHk6ICgpID0+IF9fYXdhaXRlciRvKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIHZhciBfZCwgX2U7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiAoKF9lID0gKF9kID0gdGhpcy5kYXNoKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuZ2V0Qml0cmF0ZUluZm9MaXN0Rm9yKCd2aWRlbycpKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UubGVuZ3RoKSA+IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLnZtRXJyb3IuZW1pdChlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLCBzZXRQbGF5YmFja1F1YWxpdHk6IChxdWFsaXR5KSA9PiBfX2F3YWl0ZXIkbyh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuZGFzaCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5maW5kTGV2ZWxJbmRleEZyb21RdWFsaXR5KHF1YWxpdHkpO1xuICAgICAgICAgICAgdGhpcy5kYXNoLnVwZGF0ZVNldHRpbmdzKHtcbiAgICAgICAgICAgICAgc3RyZWFtaW5nOiB7XG4gICAgICAgICAgICAgICAgYWJyOiB7XG4gICAgICAgICAgICAgICAgICBhdXRvU3dpdGNoQml0cmF0ZToge1xuICAgICAgICAgICAgICAgICAgICB2aWRlbzogaW5kZXggPT09IC0xLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gMClcbiAgICAgICAgICAgICAgdGhpcy5kYXNoLnNldFF1YWxpdHlGb3IoJ3ZpZGVvJywgaW5kZXgpO1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBwcm92aWRlciBjYWNoZS5cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXliYWNrUXVhbGl0eScsIHF1YWxpdHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksIHNldEN1cnJlbnRUZXh0VHJhY2s6ICh0cmFja0lkKSA9PiBfX2F3YWl0ZXIkbyh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB2YXIgX2Y7XG4gICAgICAgICAgaWYgKHRoaXMuc2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrcykge1xuICAgICAgICAgICAgYWRhcHRlci5zZXRDdXJyZW50VGV4dFRyYWNrKHRyYWNrSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFRleHRUcmFjayA9IHRyYWNrSWQ7XG4gICAgICAgICAgICAoX2YgPSB0aGlzLmRhc2gpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5zZXRUZXh0VHJhY2sodHJhY2tJZCk7XG4gICAgICAgICAgICB0aGlzLm9uVGV4dFRyYWNrc0NoYW5nZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksIHNldFRleHRUcmFja1Zpc2liaWxpdHk6IChpc1Zpc2libGUpID0+IF9fYXdhaXRlciRvKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIHZhciBfZztcbiAgICAgICAgICBpZiAodGhpcy5zaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzKSB7XG4gICAgICAgICAgICBhZGFwdGVyLnNldFRleHRUcmFja1Zpc2liaWxpdHkoaXNWaXNpYmxlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzVGV4dFRyYWNrVmlzaWJsZSA9IGlzVmlzaWJsZTtcbiAgICAgICAgICAgIChfZyA9IHRoaXMuZGFzaCkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLmVuYWJsZVRleHQoaXNWaXNpYmxlKTtcbiAgICAgICAgICAgIHRoaXMub25UZXh0VHJhY2tzQ2hhbmdlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSB9KTtcbiAgICB9KTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwidm0tdmlkZW9cIiwgeyB3aWxsQXR0YWNoOiB0cnVlLCBjcm9zc09yaWdpbjogdGhpcy5jcm9zc09yaWdpbiwgcHJlbG9hZDogdGhpcy5wcmVsb2FkLCBwb3N0ZXI6IHRoaXMucG9zdGVyLCBjb250cm9sc0xpc3Q6IHRoaXMuY29udHJvbHNMaXN0LCBhdXRvUGlQOiB0aGlzLmF1dG9QaVAsIGRpc2FibGVQaVA6IHRoaXMuZGlzYWJsZVBpUCwgaGFzQ3VzdG9tVGV4dE1hbmFnZXI6ICF0aGlzLnNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MsIGRpc2FibGVSZW1vdGVQbGF5YmFjazogdGhpcy5kaXNhYmxlUmVtb3RlUGxheWJhY2ssIG1lZGlhVGl0bGU6IHRoaXMubWVkaWFUaXRsZSwgcmVmOiAoZWwpID0+IHtcbiAgICAgICAgdGhpcy52aWRlb1Byb3ZpZGVyID0gZWw7XG4gICAgICB9IH0pKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwic3JjXCI6IFtcIm9uU3JjQ2hhbmdlXCJdLFxuICAgIFwiaGFzQXR0YWNoZWRcIjogW1wib25TcmNDaGFuZ2VcIl0sXG4gICAgXCJzaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzXCI6IFtcIm9uU2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrc1wiXSxcbiAgICBcImlzVGV4dFRyYWNrVmlzaWJsZVwiOiBbXCJvblRleHRUcmFja0NoYW5nZVwiXSxcbiAgICBcImN1cnJlbnRUZXh0VHJhY2tcIjogW1wib25UZXh0VHJhY2tDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gZGFzaENzczsgfVxufTtcblxuY29uc3QgZGJsQ2xpY2tGdWxsc2NyZWVuQ3NzID0gXCI6aG9zdHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6dmFyKC0tdm0tZGJsLWNsaWNrLWZ1bGxzY3JlZW4tei1pbmRleCl9LmRibENsaWNrRnVsbHNjcmVlbntkaXNwbGF5Om5vbmU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtwb2ludGVyLWV2ZW50czpub25lfS5kYmxDbGlja0Z1bGxzY3JlZW4uZW5hYmxlZHtkaXNwbGF5OmlubGluZS1ibG9jaztwb2ludGVyLWV2ZW50czphdXRvfVwiO1xuXG52YXIgX19hd2FpdGVyJG4gPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbmNvbnN0IERibENsaWNrRnVsbHNjcmVlbiA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgdGhpcy5jYW5TZXRGdWxsc2NyZWVuID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCB0aGlzIGlzIGRpc2FibGVkIG9uIG1vYmlsZSB0byBub3QgaW50ZXJmZXJlIHdpdGggcGxheWJhY2ssIHNldCB0aGlzIHRvIGB0cnVlYCB0b1xuICAgICAqIGVuYWJsZSBpdC5cbiAgICAgKi9cbiAgICB0aGlzLnVzZU9uTW9iaWxlID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNGdWxsc2NyZWVuQWN0aXZlID0gdHJ1ZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc1ZpZGVvVmlldyA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBsYXliYWNrUmVhZHkgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc01vYmlsZSA9IGZhbHNlO1xuICAgIHRoaXMuY2xpY2tzID0gMDtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgW1xuICAgICAgJ3BsYXliYWNrUmVhZHknLFxuICAgICAgJ2lzRnVsbHNjcmVlbkFjdGl2ZScsXG4gICAgICAnaXNWaWRlb1ZpZXcnLFxuICAgICAgJ2lzTW9iaWxlJyxcbiAgICBdKTtcbiAgfVxuICBvblBsYXliYWNrUmVhZHlDaGFuZ2UoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRuKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgY29uc3QgcGxheWVyID0geWllbGQgZmluZFBsYXllcih0aGlzKTtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChwbGF5ZXIpKVxuICAgICAgICByZXR1cm47XG4gICAgICB0aGlzLmNhblNldEZ1bGxzY3JlZW4gPSB5aWVsZCBwbGF5ZXIuY2FuU2V0RnVsbHNjcmVlbigpO1xuICAgIH0pO1xuICB9XG4gIG9uVHJpZ2dlckNsaWNrVG9QbGF5KCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkbih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGNvbnN0IFtjbGlja1RvUGxheV0gPSBnZXRDb21wb25lbnRGcm9tUmVnaXN0cnkodGhpcywgJ3ZtLWNsaWNrLXRvLXBsYXknKTtcbiAgICAgIHlpZWxkIChjbGlja1RvUGxheSA9PT0gbnVsbCB8fCBjbGlja1RvUGxheSA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2xpY2tUb1BsYXkuZm9yY2VDbGljaygpKTtcbiAgICB9KTtcbiAgfVxuICBvblRvZ2dsZUZ1bGxzY3JlZW4oKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRuKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgY29uc3QgcGxheWVyID0geWllbGQgZmluZFBsYXllcih0aGlzKTtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChwbGF5ZXIpKVxuICAgICAgICByZXR1cm47XG4gICAgICB0aGlzLmlzRnVsbHNjcmVlbkFjdGl2ZVxuICAgICAgICA/IHBsYXllci5leGl0RnVsbHNjcmVlbigpXG4gICAgICAgIDogcGxheWVyLmVudGVyRnVsbHNjcmVlbigpO1xuICAgIH0pO1xuICB9XG4gIG9uQ2xpY2soKSB7XG4gICAgdGhpcy5jbGlja3MgKz0gMTtcbiAgICBpZiAodGhpcy5jbGlja3MgPT09IDEpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5jbGlja3MgPT09IDEpIHtcbiAgICAgICAgICB0aGlzLm9uVHJpZ2dlckNsaWNrVG9QbGF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGhpcy5vblRvZ2dsZUZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsaWNrcyA9IDA7XG4gICAgICB9LCAzMDApO1xuICAgIH1cbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IHtcbiAgICAgICAgZGJsQ2xpY2tGdWxsc2NyZWVuOiB0cnVlLFxuICAgICAgICBlbmFibGVkOiB0aGlzLnBsYXliYWNrUmVhZHkgJiZcbiAgICAgICAgICB0aGlzLmNhblNldEZ1bGxzY3JlZW4gJiZcbiAgICAgICAgICB0aGlzLmlzVmlkZW9WaWV3ICYmXG4gICAgICAgICAgKCF0aGlzLmlzTW9iaWxlIHx8IHRoaXMudXNlT25Nb2JpbGUpLFxuICAgICAgfSwgb25DbGljazogdGhpcy5vbkNsaWNrLmJpbmQodGhpcykgfSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJwbGF5YmFja1JlYWR5XCI6IFtcIm9uUGxheWJhY2tSZWFkeUNoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBkYmxDbGlja0Z1bGxzY3JlZW5Dc3M7IH1cbn07XG5cbmNvbnN0IGRlZmF1bHRDb250cm9sc0NzcyA9IFwiOmhvc3R7ZGlzcGxheTpjb250ZW50cztwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6dmFyKC0tdm0tY29udHJvbHMtei1pbmRleCl9XCI7XG5cbmNvbnN0IERlZmF1bHRDb250cm9scyA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgLyoqXG4gICAgICogVGhlIGxlbmd0aCBpbiBtaWxsaXNlY29uZHMgdGhhdCB0aGUgY29udHJvbHMgYXJlIGFjdGl2ZSBmb3IgYmVmb3JlIGZhZGluZyBvdXQuIEF1ZGlvIHBsYXllcnNcbiAgICAgKiBhcmUgbm90IGVmZmVjdGVkIGJ5IHRoaXMgcHJvcC5cbiAgICAgKi9cbiAgICB0aGlzLmFjdGl2ZUR1cmF0aW9uID0gMjc1MDtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBjb250cm9scyBzaG91bGQgd2FpdCBmb3IgcGxheWJhY2sgdG8gc3RhcnQgYmVmb3JlIGJlaW5nIHNob3duLiBBdWRpbyBwbGF5ZXJzXG4gICAgICogYXJlIG5vdCBlZmZlY3RlZCBieSB0aGlzIHByb3AuXG4gICAgICovXG4gICAgdGhpcy53YWl0Rm9yUGxheWJhY2tTdGFydCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGNvbnRyb2xzIHNob3VsZCBzaG93L2hpZGUgd2hlbiBwYXVzZWQuIEF1ZGlvIHBsYXllcnMgYXJlIG5vdCBlZmZlY3RlZCBieSB0aGlzIHByb3AuXG4gICAgICovXG4gICAgdGhpcy5oaWRlV2hlblBhdXNlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGNvbnRyb2xzIHNob3VsZCBoaWRlIHdoZW4gdGhlIG1vdXNlIGxlYXZlcyB0aGUgcGxheWVyLiBBdWRpbyBwbGF5ZXJzIGFyZSBub3RcbiAgICAgKiBlZmZlY3RlZCBieSB0aGlzIHByb3AuXG4gICAgICovXG4gICAgdGhpcy5oaWRlT25Nb3VzZUxlYXZlID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNNb2JpbGUgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc0xpdmUgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc0F1ZGlvVmlldyA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzVmlkZW9WaWV3ID0gZmFsc2U7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFtcbiAgICAgICd0aGVtZScsXG4gICAgICAnaXNNb2JpbGUnLFxuICAgICAgJ2lzQXVkaW9WaWV3JyxcbiAgICAgICdpc1ZpZGVvVmlldycsXG4gICAgICAnaXNMaXZlJyxcbiAgICBdKTtcbiAgfVxuICBidWlsZEF1ZGlvQ29udHJvbHMoKSB7XG4gICAgcmV0dXJuIChoKFwidm0tY29udHJvbHNcIiwgeyBmdWxsV2lkdGg6IHRydWUgfSwgaChcInZtLXBsYXliYWNrLWNvbnRyb2xcIiwgeyB0b29sdGlwRGlyZWN0aW9uOiBcInJpZ2h0XCIgfSksIGgoXCJ2bS12b2x1bWUtY29udHJvbFwiLCBudWxsKSwgIXRoaXMuaXNMaXZlICYmIGgoXCJ2bS1jdXJyZW50LXRpbWVcIiwgbnVsbCksIHRoaXMuaXNMaXZlICYmIGgoXCJ2bS1jb250cm9sLXNwYWNlclwiLCBudWxsKSwgIXRoaXMuaXNMaXZlICYmIGgoXCJ2bS1zY3J1YmJlci1jb250cm9sXCIsIG51bGwpLCB0aGlzLmlzTGl2ZSAmJiBoKFwidm0tbGl2ZS1pbmRpY2F0b3JcIiwgbnVsbCksICF0aGlzLmlzTGl2ZSAmJiBoKFwidm0tZW5kLXRpbWVcIiwgbnVsbCksICF0aGlzLmlzTGl2ZSAmJiBoKFwidm0tc2V0dGluZ3MtY29udHJvbFwiLCB7IHRvb2x0aXBEaXJlY3Rpb246IFwibGVmdFwiIH0pLCBoKFwiZGl2XCIsIHsgc3R5bGU6IHsgbWFyZ2luTGVmdDogJzAnLCBwYWRkaW5nUmlnaHQ6ICcycHgnIH0gfSkpKTtcbiAgfVxuICBidWlsZE1vYmlsZVZpZGVvQ29udHJvbHMoKSB7XG4gICAgcmV0dXJuIChoKEZyYWdtZW50LCBudWxsLCBoKFwidm0tc2NyaW1cIiwgeyBncmFkaWVudDogXCJ1cFwiIH0pLCBoKFwidm0tY29udHJvbHNcIiwgeyBwaW46IFwidG9wTGVmdFwiLCBmdWxsV2lkdGg6IHRydWUsIGFjdGl2ZUR1cmF0aW9uOiB0aGlzLmFjdGl2ZUR1cmF0aW9uLCB3YWl0Rm9yUGxheWJhY2tTdGFydDogdGhpcy53YWl0Rm9yUGxheWJhY2tTdGFydCwgaGlkZVdoZW5QYXVzZWQ6IHRoaXMuaGlkZVdoZW5QYXVzZWQgfSwgaChcInZtLWNvbnRyb2wtc3BhY2VyXCIsIG51bGwpLCBoKFwidm0tdm9sdW1lLWNvbnRyb2xcIiwgbnVsbCksICF0aGlzLmlzTGl2ZSAmJiBoKFwidm0tY2FwdGlvbi1jb250cm9sXCIsIG51bGwpLCAhdGhpcy5pc0xpdmUgJiYgaChcInZtLXNldHRpbmdzLWNvbnRyb2xcIiwgbnVsbCksIHRoaXMuaXNMaXZlICYmIGgoXCJ2bS1mdWxsc2NyZWVuLWNvbnRyb2xcIiwgbnVsbCkpLCBoKFwidm0tY29udHJvbHNcIiwgeyBwaW46IFwiY2VudGVyXCIsIGp1c3RpZnk6IFwiY2VudGVyXCIsIGFjdGl2ZUR1cmF0aW9uOiB0aGlzLmFjdGl2ZUR1cmF0aW9uLCB3YWl0Rm9yUGxheWJhY2tTdGFydDogdGhpcy53YWl0Rm9yUGxheWJhY2tTdGFydCwgaGlkZVdoZW5QYXVzZWQ6IHRoaXMuaGlkZVdoZW5QYXVzZWQgfSwgaChcInZtLXBsYXliYWNrLWNvbnRyb2xcIiwgeyBzdHlsZTogeyAnLS12bS1jb250cm9sLXNjYWxlJzogJzEuMycgfSB9KSksICF0aGlzLmlzTGl2ZSAmJiAoaChcInZtLWNvbnRyb2xzXCIsIHsgcGluOiBcImJvdHRvbUxlZnRcIiwgZnVsbFdpZHRoOiB0cnVlLCBhY3RpdmVEdXJhdGlvbjogdGhpcy5hY3RpdmVEdXJhdGlvbiwgd2FpdEZvclBsYXliYWNrU3RhcnQ6IHRoaXMud2FpdEZvclBsYXliYWNrU3RhcnQsIGhpZGVXaGVuUGF1c2VkOiB0aGlzLmhpZGVXaGVuUGF1c2VkIH0sIGgoXCJ2bS1jb250cm9sLWdyb3VwXCIsIG51bGwsIGgoXCJ2bS1jdXJyZW50LXRpbWVcIiwgbnVsbCksIGgoXCJ2bS1jb250cm9sLXNwYWNlclwiLCBudWxsKSwgaChcInZtLWVuZC10aW1lXCIsIG51bGwpLCBoKFwidm0tZnVsbHNjcmVlbi1jb250cm9sXCIsIG51bGwpKSwgaChcInZtLWNvbnRyb2wtZ3JvdXBcIiwgeyBzcGFjZTogXCJ0b3BcIiB9LCBoKFwidm0tc2NydWJiZXItY29udHJvbFwiLCBudWxsKSkpKSkpO1xuICB9XG4gIGJ1aWxkRGVza3RvcFZpZGVvQ29udHJvbHMoKSB7XG4gICAgcmV0dXJuIChoKEZyYWdtZW50LCBudWxsLCB0aGlzLnRoZW1lICE9PSAnbGlnaHQnICYmIGgoXCJ2bS1zY3JpbVwiLCB7IGdyYWRpZW50OiBcInVwXCIgfSksIGgoXCJ2bS1jb250cm9sc1wiLCB7IGZ1bGxXaWR0aDogdHJ1ZSwgcGluOiBcImJvdHRvbVJpZ2h0XCIsIGFjdGl2ZUR1cmF0aW9uOiB0aGlzLmFjdGl2ZUR1cmF0aW9uLCB3YWl0Rm9yUGxheWJhY2tTdGFydDogdGhpcy53YWl0Rm9yUGxheWJhY2tTdGFydCwgaGlkZVdoZW5QYXVzZWQ6IHRoaXMuaGlkZVdoZW5QYXVzZWQsIGhpZGVPbk1vdXNlTGVhdmU6IHRoaXMuaGlkZU9uTW91c2VMZWF2ZSB9LCAhdGhpcy5pc0xpdmUgJiYgKGgoXCJ2bS1jb250cm9sLWdyb3VwXCIsIG51bGwsIGgoXCJ2bS1zY3J1YmJlci1jb250cm9sXCIsIG51bGwpKSksIGgoXCJ2bS1jb250cm9sLWdyb3VwXCIsIHsgc3BhY2U6IHRoaXMuaXNMaXZlID8gJ25vbmUnIDogJ3RvcCcgfSwgaChcInZtLXBsYXliYWNrLWNvbnRyb2xcIiwgeyB0b29sdGlwRGlyZWN0aW9uOiBcInJpZ2h0XCIgfSksIGgoXCJ2bS12b2x1bWUtY29udHJvbFwiLCBudWxsKSwgIXRoaXMuaXNMaXZlICYmIGgoXCJ2bS10aW1lLXByb2dyZXNzXCIsIG51bGwpLCBoKFwidm0tY29udHJvbC1zcGFjZXJcIiwgbnVsbCksICF0aGlzLmlzTGl2ZSAmJiBoKFwidm0tY2FwdGlvbi1jb250cm9sXCIsIG51bGwpLCB0aGlzLmlzTGl2ZSAmJiBoKFwidm0tbGl2ZS1pbmRpY2F0b3JcIiwgbnVsbCksIGgoXCJ2bS1waXAtY29udHJvbFwiLCBudWxsKSwgIXRoaXMuaXNMaXZlICYmIGgoXCJ2bS1zZXR0aW5ncy1jb250cm9sXCIsIG51bGwpLCBoKFwidm0tZnVsbHNjcmVlbi1jb250cm9sXCIsIHsgdG9vbHRpcERpcmVjdGlvbjogXCJsZWZ0XCIgfSkpKSkpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5pc0F1ZGlvVmlldylcbiAgICAgIHJldHVybiB0aGlzLmJ1aWxkQXVkaW9Db250cm9scygpO1xuICAgIGlmICh0aGlzLmlzVmlkZW9WaWV3ICYmIHRoaXMuaXNNb2JpbGUpXG4gICAgICByZXR1cm4gdGhpcy5idWlsZE1vYmlsZVZpZGVvQ29udHJvbHMoKTtcbiAgICBpZiAodGhpcy5pc1ZpZGVvVmlldylcbiAgICAgIHJldHVybiB0aGlzLmJ1aWxkRGVza3RvcFZpZGVvQ29udHJvbHMoKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gZGVmYXVsdENvbnRyb2xzQ3NzOyB9XG59O1xuXG5jb25zdCBkZWZhdWx0U2V0dGluZ3NDc3MgPSBcIjpob3N0e3otaW5kZXg6dmFyKC0tdm0tbWVudS16LWluZGV4KX1cIjtcblxudmFyIF9fYXdhaXRlciRtID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCBEZWZhdWx0U2V0dGluZ3MgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMudGV4dFRyYWNrc0Rpc3Bvc2FsID0gbmV3IERpc3Bvc2FsKCk7XG4gICAgdGhpcy5jYW5TZXRQbGF5YmFja1JhdGUgPSBmYWxzZTtcbiAgICB0aGlzLmNhblNldFBsYXliYWNrUXVhbGl0eSA9IGZhbHNlO1xuICAgIHRoaXMuY2FuU2V0VGV4dFRyYWNrID0gZmFsc2U7XG4gICAgdGhpcy5jYW5TZXRBdWRpb1RyYWNrID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogUGlucyB0aGUgc2V0dGluZ3MgdG8gdGhlIGRlZmluZWQgcG9zaXRpb24gaW5zaWRlIHRoZSB2aWRlbyBwbGF5ZXIuIFRoaXMgaGFzIG5vIGVmZmVjdCB3aGVuXG4gICAgICogdGhlIHZpZXcgaXMgb2YgdHlwZSBgYXVkaW9gLCBpdCB3aWxsIGFsd2F5cyBiZSBgYm90dG9tUmlnaHRgLlxuICAgICAqL1xuICAgIHRoaXMucGluID0gJ2JvdHRvbVJpZ2h0JztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pMThuID0ge307XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMucGxheWJhY2tSZWFkeSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBsYXliYWNrUmF0ZSA9IDE7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMucGxheWJhY2tSYXRlcyA9IFsxXTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc1ZpZGVvVmlldyA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBsYXliYWNrUXVhbGl0aWVzID0gW107XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMudGV4dFRyYWNrcyA9IFtdO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmN1cnJlbnRUZXh0VHJhY2sgPSAtMTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5hdWRpb1RyYWNrcyA9IFtdO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmN1cnJlbnRBdWRpb1RyYWNrID0gLTE7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlID0gdHJ1ZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgW1xuICAgICAgJ2kxOG4nLFxuICAgICAgJ3BsYXliYWNrUmVhZHknLFxuICAgICAgJ3BsYXliYWNrUmF0ZScsXG4gICAgICAncGxheWJhY2tSYXRlcycsXG4gICAgICAncGxheWJhY2tRdWFsaXR5JyxcbiAgICAgICdwbGF5YmFja1F1YWxpdGllcycsXG4gICAgICAnaXNWaWRlb1ZpZXcnLFxuICAgICAgJ3RleHRUcmFja3MnLFxuICAgICAgJ2N1cnJlbnRUZXh0VHJhY2snLFxuICAgICAgJ2lzVGV4dFRyYWNrVmlzaWJsZScsXG4gICAgICAnYXVkaW9UcmFja3MnLFxuICAgICAgJ2N1cnJlbnRBdWRpb1RyYWNrJyxcbiAgICBdKTtcbiAgfVxuICBvblBsYXliYWNrUmVhZHkoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRtKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgY29uc3QgcGxheWVyID0geWllbGQgZmluZFBsYXllcih0aGlzKTtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChwbGF5ZXIpKVxuICAgICAgICByZXR1cm47XG4gICAgICB0aGlzLmNhblNldFBsYXliYWNrUXVhbGl0eSA9IHlpZWxkIHBsYXllci5jYW5TZXRQbGF5YmFja1F1YWxpdHkoKTtcbiAgICAgIHRoaXMuY2FuU2V0UGxheWJhY2tSYXRlID0geWllbGQgcGxheWVyLmNhblNldFBsYXliYWNrUmF0ZSgpO1xuICAgIH0pO1xuICB9XG4gIG9uQXVkaW9UcmFja3NDaGFuZ2UoKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkbSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGNvbnN0IHBsYXllciA9IGdldFBsYXllckZyb21SZWdpc3RyeSh0aGlzKTtcbiAgICAgIHRoaXMuY2FuU2V0QXVkaW9UcmFjayA9IChfYSA9ICh5aWVsZCAocGxheWVyID09PSBudWxsIHx8IHBsYXllciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxheWVyLmNhblNldEF1ZGlvVHJhY2soKSkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZTtcbiAgICB9KTtcbiAgfVxuICBvblRleHRUcmFja3NDaGFuZ2UoKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkbSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGNvbnN0IHBsYXllciA9IGdldFBsYXllckZyb21SZWdpc3RyeSh0aGlzKTtcbiAgICAgIHRoaXMuY2FuU2V0VGV4dFRyYWNrID0gKF9hID0gKHlpZWxkIChwbGF5ZXIgPT09IG51bGwgfHwgcGxheWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbGF5ZXIuY2FuU2V0VGV4dFRyYWNrKCkpKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2U7XG4gICAgfSk7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5kaXNwYXRjaCA9IGNyZWF0ZURpc3BhdGNoZXIodGhpcyk7XG4gIH1cbiAgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICB0aGlzLm9uVGV4dFRyYWNrc0NoYW5nZSgpO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMudGV4dFRyYWNrc0Rpc3Bvc2FsLmVtcHR5KCk7XG4gIH1cbiAgb25QbGF5YmFja1JhdGVTZWxlY3QoZXZlbnQpIHtcbiAgICBjb25zdCByYWRpbyA9IGV2ZW50LnRhcmdldDtcbiAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1JhdGUnLCBwYXJzZUZsb2F0KHJhZGlvLnZhbHVlKSk7XG4gIH1cbiAgYnVpbGRQbGF5YmFja1JhdGVTdWJtZW51KCkge1xuICAgIGlmICh0aGlzLnBsYXliYWNrUmF0ZXMubGVuZ3RoIDw9IDEgfHwgIXRoaXMuY2FuU2V0UGxheWJhY2tSYXRlKSB7XG4gICAgICByZXR1cm4gKGgoXCJ2bS1tZW51LWl0ZW1cIiwgeyBsYWJlbDogdGhpcy5pMThuLnBsYXliYWNrUmF0ZSwgaGludDogdGhpcy5pMThuLm5vcm1hbCB9KSk7XG4gICAgfVxuICAgIGNvbnN0IGZvcm1hdFJhdGUgPSAocmF0ZSkgPT4gcmF0ZSA9PT0gMSA/IHRoaXMuaTE4bi5ub3JtYWwgOiBgJHtyYXRlfWA7XG4gICAgcmV0dXJuIChoKFwidm0tc3VibWVudVwiLCB7IGxhYmVsOiB0aGlzLmkxOG4ucGxheWJhY2tSYXRlLCBoaW50OiBmb3JtYXRSYXRlKHRoaXMucGxheWJhY2tSYXRlKSB9LCBoKFwidm0tbWVudS1yYWRpby1ncm91cFwiLCB7IHZhbHVlOiBgJHt0aGlzLnBsYXliYWNrUmF0ZX1gLCBvblZtQ2hlY2s6IHRoaXMub25QbGF5YmFja1JhdGVTZWxlY3QuYmluZCh0aGlzKSB9LCB0aGlzLnBsYXliYWNrUmF0ZXMubWFwKHJhdGUgPT4gKGgoXCJ2bS1tZW51LXJhZGlvXCIsIHsgbGFiZWw6IGZvcm1hdFJhdGUocmF0ZSksIHZhbHVlOiBgJHtyYXRlfWAgfSkpKSkpKTtcbiAgfVxuICBvblBsYXliYWNrUXVhbGl0eVNlbGVjdChldmVudCkge1xuICAgIGNvbnN0IHJhZGlvID0gZXZlbnQudGFyZ2V0O1xuICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXliYWNrUXVhbGl0eScsIHJhZGlvLnZhbHVlKTtcbiAgfVxuICBidWlsZFBsYXliYWNrUXVhbGl0eVN1Ym1lbnUoKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICh0aGlzLnBsYXliYWNrUXVhbGl0aWVzLmxlbmd0aCA8PSAxIHx8ICF0aGlzLmNhblNldFBsYXliYWNrUXVhbGl0eSkge1xuICAgICAgcmV0dXJuIChoKFwidm0tbWVudS1pdGVtXCIsIHsgbGFiZWw6IHRoaXMuaTE4bi5wbGF5YmFja1F1YWxpdHksIGhpbnQ6IChfYSA9IHRoaXMucGxheWJhY2tRdWFsaXR5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmkxOG4uYXV0byB9KSk7XG4gICAgfVxuICAgIC8vIEBUT0RPIHRoaXMgZG9lc24ndCBhY2NvdW50IGZvciBhdWRpbyBxdWFsaXRpZXMgeWV0LlxuICAgIGNvbnN0IGdldEJhZGdlID0gKHF1YWxpdHkpID0+IHtcbiAgICAgIGNvbnN0IHZlcnRpY2FsUGl4ZWxzID0gcGFyc2VJbnQocXVhbGl0eS5zbGljZSgwLCAtMSksIDEwKTtcbiAgICAgIGlmICh2ZXJ0aWNhbFBpeGVscyA+PSAyMTYwKVxuICAgICAgICByZXR1cm4gJ1VIRCc7XG4gICAgICBpZiAodmVydGljYWxQaXhlbHMgPj0gMTA4MClcbiAgICAgICAgcmV0dXJuICdIRCc7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgcmV0dXJuIChoKFwidm0tc3VibWVudVwiLCB7IGxhYmVsOiB0aGlzLmkxOG4ucGxheWJhY2tRdWFsaXR5LCBoaW50OiB0aGlzLnBsYXliYWNrUXVhbGl0eSB9LCBoKFwidm0tbWVudS1yYWRpby1ncm91cFwiLCB7IHZhbHVlOiB0aGlzLnBsYXliYWNrUXVhbGl0eSwgb25WbUNoZWNrOiB0aGlzLm9uUGxheWJhY2tRdWFsaXR5U2VsZWN0LmJpbmQodGhpcykgfSwgdGhpcy5wbGF5YmFja1F1YWxpdGllcy5tYXAocXVhbGl0eSA9PiAoaChcInZtLW1lbnUtcmFkaW9cIiwgeyBsYWJlbDogcXVhbGl0eSwgdmFsdWU6IHF1YWxpdHksIGJhZGdlOiBnZXRCYWRnZShxdWFsaXR5KSB9KSkpKSkpO1xuICB9XG4gIG9uVGV4dFRyYWNrU2VsZWN0KGV2ZW50KSB7XG4gICAgY29uc3QgcmFkaW8gPSBldmVudC50YXJnZXQ7XG4gICAgY29uc3QgdHJhY2tJZCA9IHBhcnNlSW50KHJhZGlvLnZhbHVlLCAxMCk7XG4gICAgY29uc3QgcGxheWVyID0gZ2V0UGxheWVyRnJvbVJlZ2lzdHJ5KHRoaXMpO1xuICAgIGlmICh0cmFja0lkID09PSAtMSkge1xuICAgICAgcGxheWVyID09PSBudWxsIHx8IHBsYXllciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxheWVyLnNldFRleHRUcmFja1Zpc2liaWxpdHkoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwbGF5ZXIgPT09IG51bGwgfHwgcGxheWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbGF5ZXIuc2V0VGV4dFRyYWNrVmlzaWJpbGl0eSh0cnVlKTtcbiAgICBwbGF5ZXIgPT09IG51bGwgfHwgcGxheWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbGF5ZXIuc2V0Q3VycmVudFRleHRUcmFjayh0cmFja0lkKTtcbiAgfVxuICBidWlsZFRleHRUcmFja3NTdWJtZW51KCkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGlmICh0aGlzLnRleHRUcmFja3MubGVuZ3RoIDw9IDEgfHwgIXRoaXMuY2FuU2V0VGV4dFRyYWNrKSB7XG4gICAgICByZXR1cm4gKGgoXCJ2bS1tZW51LWl0ZW1cIiwgeyBsYWJlbDogdGhpcy5pMThuLnN1YnRpdGxlc09yQ2MsIGhpbnQ6IChfYiA9IChfYSA9IHRoaXMudGV4dFRyYWNrc1t0aGlzLmN1cnJlbnRUZXh0VHJhY2tdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGFiZWwpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMuaTE4bi5ub25lIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChoKFwidm0tc3VibWVudVwiLCB7IGxhYmVsOiB0aGlzLmkxOG4uc3VidGl0bGVzT3JDYywgaGludDogdGhpcy5pc1RleHRUcmFja1Zpc2libGVcbiAgICAgICAgPyAoX2MgPSB0aGlzLnRleHRUcmFja3NbdGhpcy5jdXJyZW50VGV4dFRyYWNrXSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmxhYmVsXG4gICAgICAgIDogdGhpcy5pMThuLm9mZiB9LCBoKFwidm0tbWVudS1yYWRpby1ncm91cFwiLCB7IHZhbHVlOiBgJHshdGhpcy5pc1RleHRUcmFja1Zpc2libGUgPyAtMSA6IHRoaXMuY3VycmVudFRleHRUcmFja31gLCBvblZtQ2hlY2s6IHRoaXMub25UZXh0VHJhY2tTZWxlY3QuYmluZCh0aGlzKSB9LCBbaChcInZtLW1lbnUtcmFkaW9cIiwgeyBsYWJlbDogdGhpcy5pMThuLm9mZiwgdmFsdWU6IFwiLTFcIiB9KV0uY29uY2F0KHRoaXMudGV4dFRyYWNrcy5tYXAoKHRyYWNrLCBpKSA9PiAoaChcInZtLW1lbnUtcmFkaW9cIiwgeyBsYWJlbDogdHJhY2subGFiZWwsIHZhbHVlOiBgJHtpfWAgfSkpKSkpKSk7XG4gIH1cbiAgb25BdWRpb1RyYWNrU2VsZWN0KGV2ZW50KSB7XG4gICAgY29uc3QgcmFkaW8gPSBldmVudC50YXJnZXQ7XG4gICAgY29uc3QgdHJhY2tJZCA9IHBhcnNlSW50KHJhZGlvLnZhbHVlLCAxMCk7XG4gICAgY29uc3QgcGxheWVyID0gZ2V0UGxheWVyRnJvbVJlZ2lzdHJ5KHRoaXMpO1xuICAgIHBsYXllciA9PT0gbnVsbCB8fCBwbGF5ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsYXllci5zZXRDdXJyZW50QXVkaW9UcmFjayh0cmFja0lkKTtcbiAgfVxuICBidWlsZEF1ZGlvVHJhY2tzTWVudSgpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBpZiAodGhpcy5hdWRpb1RyYWNrcy5sZW5ndGggPD0gMSB8fCAhdGhpcy5jYW5TZXRBdWRpb1RyYWNrKSB7XG4gICAgICByZXR1cm4gKGgoXCJ2bS1tZW51LWl0ZW1cIiwgeyBsYWJlbDogdGhpcy5pMThuLmF1ZGlvLCBoaW50OiAoX2IgPSAoX2EgPSB0aGlzLmF1ZGlvVHJhY2tzW3RoaXMuY3VycmVudEF1ZGlvVHJhY2tdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGFiZWwpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMuaTE4bi5kZWZhdWx0IH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChoKFwidm0tc3VibWVudVwiLCB7IGxhYmVsOiB0aGlzLmkxOG4uYXVkaW8sIGhpbnQ6IChfYyA9IHRoaXMuYXVkaW9UcmFja3NbdGhpcy5jdXJyZW50QXVkaW9UcmFja10pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5sYWJlbCB9LCBoKFwidm0tbWVudS1yYWRpby1ncm91cFwiLCB7IHZhbHVlOiBgJHt0aGlzLmN1cnJlbnRBdWRpb1RyYWNrfWAsIG9uVm1DaGVjazogdGhpcy5vbkF1ZGlvVHJhY2tTZWxlY3QuYmluZCh0aGlzKSB9LCB0aGlzLmF1ZGlvVHJhY2tzLm1hcCgodHJhY2ssIGkpID0+IChoKFwidm0tbWVudS1yYWRpb1wiLCB7IGxhYmVsOiB0cmFjay5sYWJlbCwgdmFsdWU6IGAke2l9YCB9KSkpKSkpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJ2bS1zZXR0aW5nc1wiLCB7IHBpbjogdGhpcy5waW4gfSwgdGhpcy5idWlsZEF1ZGlvVHJhY2tzTWVudSgpLCB0aGlzLmJ1aWxkUGxheWJhY2tSYXRlU3VibWVudSgpLCB0aGlzLmJ1aWxkUGxheWJhY2tRdWFsaXR5U3VibWVudSgpLCB0aGlzLmlzVmlkZW9WaWV3ICYmIHRoaXMuYnVpbGRUZXh0VHJhY2tzU3VibWVudSgpLCBoKFwic2xvdFwiLCBudWxsKSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJwbGF5YmFja1JlYWR5XCI6IFtcIm9uUGxheWJhY2tSZWFkeVwiLCBcIm9uQXVkaW9UcmFja3NDaGFuZ2VcIiwgXCJvblRleHRUcmFja3NDaGFuZ2VcIl0sXG4gICAgXCJhdWRpb1RyYWNrc1wiOiBbXCJvbkF1ZGlvVHJhY2tzQ2hhbmdlXCJdLFxuICAgIFwidGV4dFRyYWNrc1wiOiBbXCJvblRleHRUcmFja3NDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gZGVmYXVsdFNldHRpbmdzQ3NzOyB9XG59O1xuXG5jb25zdCBkZWZhdWx0VWlDc3MgPSBcIjpob3N0e2Rpc3BsYXk6Y29udGVudHM7cG9pbnRlci1ldmVudHM6bm9uZX1cIjtcblxuY29uc3QgRGVmYXVsdFVJID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGNsaWNraW5nIHRoZSBwbGF5ZXIgc2hvdWxkIG5vdCB0b2dnbGUgcGxheWJhY2suXG4gICAgICovXG4gICAgdGhpcy5ub0NsaWNrVG9QbGF5ID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciBkb3VibGUgY2xpY2tpbmcgdGhlIHBsYXllciBzaG91bGQgbm90IHRvZ2dsZSBmdWxsc2NyZWVuIG1vZGUuXG4gICAgICovXG4gICAgdGhpcy5ub0RibENsaWNrRnVsbHNjcmVlbiA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGN1c3RvbSBjYXB0aW9ucyBVSSBzaG91bGQgbm90IGJlIGxvYWRlZC5cbiAgICAgKi9cbiAgICB0aGlzLm5vQ2FwdGlvbnMgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBjdXN0b20gcG9zdGVyIFVJIHNob3VsZCBub3QgYmUgbG9hZGVkLlxuICAgICAqL1xuICAgIHRoaXMubm9Qb3N0ZXIgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBjdXN0b20gc3Bpbm5lciBVSSBzaG91bGQgbm90IGJlIGxvYWRlZC5cbiAgICAgKi9cbiAgICB0aGlzLm5vU3Bpbm5lciA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGN1c3RvbSBkZWZhdWx0IGNvbnRyb2xzIHNob3VsZCBub3QgYmUgbG9hZGVkLlxuICAgICAqL1xuICAgIHRoaXMubm9Db250cm9scyA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGN1c3RvbSBkZWZhdWx0IHNldHRpbmdzIG1lbnUgc2hvdWxkIG5vdCBiZSBsb2FkZWQuXG4gICAgICovXG4gICAgdGhpcy5ub1NldHRpbmdzID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgZGVmYXVsdCBsb2FkaW5nIHNjcmVlbiBzaG91bGQgbm90IGJlIGxvYWRlZC5cbiAgICAgKi9cbiAgICB0aGlzLm5vTG9hZGluZ1NjcmVlbiA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwidm0tdWlcIiwgbnVsbCwgIXRoaXMubm9DbGlja1RvUGxheSAmJiBoKFwidm0tY2xpY2stdG8tcGxheVwiLCBudWxsKSwgIXRoaXMubm9EYmxDbGlja0Z1bGxzY3JlZW4gJiYgaChcInZtLWRibC1jbGljay1mdWxsc2NyZWVuXCIsIG51bGwpLCAhdGhpcy5ub0NhcHRpb25zICYmIGgoXCJ2bS1jYXB0aW9uc1wiLCBudWxsKSwgIXRoaXMubm9Qb3N0ZXIgJiYgaChcInZtLXBvc3RlclwiLCBudWxsKSwgIXRoaXMubm9TcGlubmVyICYmIGgoXCJ2bS1zcGlubmVyXCIsIG51bGwpLCAhdGhpcy5ub0xvYWRpbmdTY3JlZW4gJiYgaChcInZtLWxvYWRpbmctc2NyZWVuXCIsIG51bGwpLCAhdGhpcy5ub0NvbnRyb2xzICYmIGgoXCJ2bS1kZWZhdWx0LWNvbnRyb2xzXCIsIG51bGwpLCAhdGhpcy5ub1NldHRpbmdzICYmIGgoXCJ2bS1kZWZhdWx0LXNldHRpbmdzXCIsIG51bGwpLCBoKFwic2xvdFwiLCBudWxsKSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBkZWZhdWx0VWlDc3M7IH1cbn07XG5cbmNsYXNzIExhenlMb2FkZXIge1xuICBjb25zdHJ1Y3RvcihlbCwgYXR0cmlidXRlcywgb25Mb2FkKSB7XG4gICAgdmFyIF9hO1xuICAgIHRoaXMuZWwgPSBlbDtcbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuICAgIHRoaXMub25Mb2FkID0gb25Mb2FkO1xuICAgIHRoaXMuaGFzTG9hZGVkID0gZmFsc2U7XG4gICAgaWYgKGlzTmlsKHRoaXMuZWwpKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzID0gdGhpcy5jYW5PYnNlcnZlSW50ZXJzZWN0aW9uKClcbiAgICAgID8gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKHRoaXMub25JbnRlcnNlY3Rpb24uYmluZCh0aGlzKSlcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIHRoaXMubXV0YXRpb25PYnMgPSB0aGlzLmNhbk9ic2VydmVNdXRhdGlvbnMoKVxuICAgICAgPyBuZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLm9uTXV0YXRpb24uYmluZCh0aGlzKSlcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIChfYSA9IHRoaXMubXV0YXRpb25PYnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vYnNlcnZlKHRoaXMuZWwsIHtcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICBhdHRyaWJ1dGVGaWx0ZXI6IHRoaXMuYXR0cmlidXRlcyxcbiAgICB9KTtcbiAgICB0aGlzLmxhenlMb2FkKCk7XG4gIH1cbiAgZGlkTG9hZCgpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNMb2FkZWQ7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIChfYSA9IHRoaXMuaW50ZXJzZWN0aW9uT2JzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGlzY29ubmVjdCgpO1xuICAgIChfYiA9IHRoaXMubXV0YXRpb25PYnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kaXNjb25uZWN0KCk7XG4gIH1cbiAgY2FuT2JzZXJ2ZUludGVyc2VjdGlvbigpIHtcbiAgICByZXR1cm4gSVNfQ0xJRU5UICYmIHdpbmRvdy5JbnRlcnNlY3Rpb25PYnNlcnZlcjtcbiAgfVxuICBjYW5PYnNlcnZlTXV0YXRpb25zKCkge1xuICAgIHJldHVybiBJU19DTElFTlQgJiYgd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI7XG4gIH1cbiAgbGF6eUxvYWQoKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICh0aGlzLmNhbk9ic2VydmVJbnRlcnNlY3Rpb24oKSkge1xuICAgICAgKF9hID0gdGhpcy5pbnRlcnNlY3Rpb25PYnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vYnNlcnZlKHRoaXMuZWwpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cbiAgfVxuICBvbkludGVyc2VjdGlvbihlbnRyaWVzKSB7XG4gICAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgIGlmIChlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+IDAgfHwgZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzLnVub2JzZXJ2ZShlbnRyeS50YXJnZXQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIG9uTXV0YXRpb24oKSB7XG4gICAgaWYgKHRoaXMuaGFzTG9hZGVkKVxuICAgICAgdGhpcy5sb2FkKCk7XG4gIH1cbiAgZ2V0TGF6eUVsZW1lbnRzKCkge1xuICAgIGNvbnN0IHJvb3QgPSAhaXNOaWwodGhpcy5lbC5zaGFkb3dSb290KSA/IHRoaXMuZWwuc2hhZG93Um9vdCA6IHRoaXMuZWw7XG4gICAgcmV0dXJuIHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmxhenknKTtcbiAgfVxuICBsb2FkKCkge1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgdGhpcy5nZXRMYXp5RWxlbWVudHMoKS5mb3JFYWNoKHRoaXMubG9hZEVsLmJpbmQodGhpcykpO1xuICAgIH0pO1xuICB9XG4gIGxvYWRFbChlbCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgKF9hID0gdGhpcy5pbnRlcnNlY3Rpb25PYnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51bm9ic2VydmUoZWwpO1xuICAgIHRoaXMuaGFzTG9hZGVkID0gdHJ1ZTtcbiAgICAoX2IgPSB0aGlzLm9uTG9hZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwodGhpcywgZWwpO1xuICB9XG59XG5cbmNvbnN0IGVtYmVkQ3NzID0gXCI6aG9zdHt6LWluZGV4OnZhcigtLXZtLW1lZGlhLXotaW5kZXgpfWlmcmFtZXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7Ym9yZGVyOjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt1c2VyLXNlbGVjdDpub25lfVwiO1xuXG52YXIgX19hd2FpdGVyJGwgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbmxldCBpZENvdW50JDQgPSAwO1xuY29uc3QgY29ubmVjdGVkID0gbmV3IFNldCgpO1xuY29uc3QgRW1iZWQgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMudm1FbWJlZFNyY0NoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1FbWJlZFNyY0NoYW5nZVwiLCAzKTtcbiAgICB0aGlzLnZtRW1iZWRNZXNzYWdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUVtYmVkTWVzc2FnZVwiLCAzKTtcbiAgICB0aGlzLnZtRW1iZWRMb2FkZWQgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtRW1iZWRMb2FkZWRcIiwgMyk7XG4gICAgdGhpcy5zcmNXaXRoUGFyYW1zID0gJyc7XG4gICAgdGhpcy5oYXNFbnRlcmVkVmlld3BvcnQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBBIFVSTCB0aGF0IHdpbGwgbG9hZCB0aGUgZXh0ZXJuYWwgcGxheWVyIGFuZCBtZWRpYSAoRWc6IGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkL0R5VENPd0IwRFZ3KS5cbiAgICAgKi9cbiAgICB0aGlzLmVtYmVkU3JjID0gJyc7XG4gICAgLyoqXG4gICAgICogVGhlIHRpdGxlIG9mIHRoZSBjdXJyZW50IG1lZGlhIHNvIGl0IGNhbiBiZSBzZXQgb24gdGhlIGlubmVyIGBpZnJhbWVgIGZvciBzY3JlZW4gcmVhZGVycy5cbiAgICAgKi9cbiAgICB0aGlzLm1lZGlhVGl0bGUgPSAnJztcbiAgICAvKipcbiAgICAgKiBUaGUgcGFyYW1ldGVycyB0byBwYXNzIHRvIHRoZSBlbWJlZGRlZCBwbGF5ZXIgd2hpY2ggYXJlIGFwcGVuZGVkIHRvIHRoZSBgZW1iZWRTcmNgIHByb3AuIFRoZXNlXG4gICAgICogY2FuIGJlIHBhc3NlZCBpbiBhcyBhIHF1ZXJ5IHN0cmluZyBvciBvYmplY3QuXG4gICAgICovXG4gICAgdGhpcy5wYXJhbXMgPSAnJztcbiAgICAvKipcbiAgICAgKiBBIGNvbGxlY3Rpb24gb2YgVVJMcyB0byB0aGF0IHRoZSBicm93c2VyIHNob3VsZCBpbW1lZGlhdGVseSBzdGFydCBlc3RhYmxpc2hpbmcgYSBjb25uZWN0aW9uXG4gICAgICogd2l0aC5cbiAgICAgKi9cbiAgICB0aGlzLnByZWNvbm5lY3Rpb25zID0gW107XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICB9XG4gIG9uRW1iZWRTcmNDaGFuZ2UoKSB7XG4gICAgdGhpcy5zcmNXaXRoUGFyYW1zID1cbiAgICAgIGlzU3RyaW5nKHRoaXMuZW1iZWRTcmMpICYmIHRoaXMuZW1iZWRTcmMubGVuZ3RoID4gMFxuICAgICAgICA/IGFwcGVuZFBhcmFtc1RvVVJMKHRoaXMuZW1iZWRTcmMsIHRoaXMucGFyYW1zKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgfVxuICBzcmNXaXRoUGFyYW1zQ2hhbmdlKCkge1xuICAgIGlmIChpc1VuZGVmaW5lZCh0aGlzLnNyY1dpdGhQYXJhbXMpKSB7XG4gICAgICB0aGlzLnZtRW1iZWRTcmNDaGFuZ2UuZW1pdCh0aGlzLnNyY1dpdGhQYXJhbXMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuaGFzRW50ZXJlZFZpZXdwb3J0ICYmICFjb25uZWN0ZWQuaGFzKHRoaXMuZW1iZWRTcmMpKSB7XG4gICAgICBpZiAocHJlY29ubmVjdCh0aGlzLnNyY1dpdGhQYXJhbXMpKVxuICAgICAgICBjb25uZWN0ZWQuYWRkKHRoaXMuZW1iZWRTcmMpO1xuICAgIH1cbiAgICB0aGlzLnZtRW1iZWRTcmNDaGFuZ2UuZW1pdCh0aGlzLnNyY1dpdGhQYXJhbXMpO1xuICB9XG4gIHByZWNvbm5lY3Rpb25zQ2hhbmdlKCkge1xuICAgIGlmICh0aGlzLmhhc0VudGVyZWRWaWV3cG9ydCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnByZWNvbm5lY3Rpb25zXG4gICAgICAuZmlsdGVyKGNvbm5lY3Rpb24gPT4gIWNvbm5lY3RlZC5oYXMoY29ubmVjdGlvbikpXG4gICAgICAuZm9yRWFjaChjb25uZWN0aW9uID0+IHtcbiAgICAgIGlmIChwcmVjb25uZWN0KGNvbm5lY3Rpb24pKVxuICAgICAgICBjb25uZWN0ZWQuYWRkKGNvbm5lY3Rpb24pO1xuICAgIH0pO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMubGF6eUxvYWRlciA9IG5ldyBMYXp5TG9hZGVyKHRoaXMuaG9zdCwgWydkYXRhLXNyYyddLCBlbCA9PiB7XG4gICAgICBjb25zdCBzcmMgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJyk7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpO1xuICAgICAgaWYgKCFpc051bGwoc3JjKSlcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdzcmMnLCBzcmMpO1xuICAgIH0pO1xuICAgIHRoaXMub25FbWJlZFNyY0NoYW5nZSgpO1xuICAgIHRoaXMuZ2VuSWZyYW1lSWQoKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmxhenlMb2FkZXIuZGVzdHJveSgpO1xuICB9XG4gIG9uV2luZG93TWVzc2FnZShlKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgY29uc3Qgb3JpZ2luTWF0Y2hlcyA9IGUuc291cmNlID09PSAoKF9hID0gdGhpcy5pZnJhbWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb250ZW50V2luZG93KSAmJlxuICAgICAgKCFpc1N0cmluZyh0aGlzLm9yaWdpbikgfHwgdGhpcy5vcmlnaW4gPT09IGUub3JpZ2luKTtcbiAgICBpZiAoIW9yaWdpbk1hdGNoZXMpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbWVzc2FnZSA9IChfYyA9IChfYiA9IHRoaXMuZGVjb2RlcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwodGhpcywgZS5kYXRhKSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZS5kYXRhO1xuICAgIGlmIChtZXNzYWdlKVxuICAgICAgdGhpcy52bUVtYmVkTWVzc2FnZS5lbWl0KG1lc3NhZ2UpO1xuICB9XG4gIC8qKlxuICAgKiBQb3N0cyBhIG1lc3NhZ2UgdG8gdGhlIGVtYmVkZGVkIG1lZGlhIHBsYXllci5cbiAgICovXG4gIHBvc3RNZXNzYWdlKG1lc3NhZ2UsIHRhcmdldCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRsKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgKF9iID0gKF9hID0gdGhpcy5pZnJhbWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb250ZW50V2luZG93KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSksIHRhcmdldCAhPT0gbnVsbCAmJiB0YXJnZXQgIT09IHZvaWQgMCA/IHRhcmdldCA6ICcqJyk7XG4gICAgfSk7XG4gIH1cbiAgb25Mb2FkKCkge1xuICAgIHRoaXMudm1FbWJlZExvYWRlZC5lbWl0KCk7XG4gIH1cbiAgZ2VuSWZyYW1lSWQoKSB7XG4gICAgaWRDb3VudCQ0ICs9IDE7XG4gICAgdGhpcy5pZCA9IGB2bS1pZnJhbWUtJHtpZENvdW50JDR9YDtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwiaWZyYW1lXCIsIHsgaWQ6IHRoaXMuaWQsIGNsYXNzOiBcImxhenlcIiwgdGl0bGU6IHRoaXMubWVkaWFUaXRsZSwgXCJkYXRhLXNyY1wiOiB0aGlzLnNyY1dpdGhQYXJhbXMsIGFsbG93RnVsbFNjcmVlbjogdHJ1ZSwgYWxsb3c6IFwiYXV0b3BsYXk7IGVuY3J5cHRlZC1tZWRpYTsgcGljdHVyZS1pbi1waWN0dXJlO1wiLCBvbkxvYWQ6IHRoaXMub25Mb2FkLmJpbmQodGhpcyksIHJlZjogKGVsKSA9PiB7XG4gICAgICAgIHRoaXMuaWZyYW1lID0gZWw7XG4gICAgICB9IH0pKTtcbiAgfVxuICBnZXQgaG9zdCgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcImVtYmVkU3JjXCI6IFtcIm9uRW1iZWRTcmNDaGFuZ2VcIl0sXG4gICAgXCJwYXJhbXNcIjogW1wib25FbWJlZFNyY0NoYW5nZVwiXSxcbiAgICBcInNyY1dpdGhQYXJhbXNcIjogW1wic3JjV2l0aFBhcmFtc0NoYW5nZVwiXSxcbiAgICBcInByZWNvbm5lY3Rpb25zXCI6IFtcInByZWNvbm5lY3Rpb25zQ2hhbmdlXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIGVtYmVkQ3NzOyB9XG59O1xuXG5jb25zdCBlbmRUaW1lQ3NzID0gXCI6aG9zdHtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9XCI7XG5cbmNvbnN0IEVuZFRpbWUgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmR1cmF0aW9uID0gLTE7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaTE4biA9IHt9O1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHRpbWUgc2hvdWxkIGFsd2F5cyBzaG93IHRoZSBob3VycyB1bml0LCBldmVuIGlmIHRoZSB0aW1lIGlzIGxlc3MgdGhhblxuICAgICAqIDEgaG91ciAoZWc6IGAyMDozNWAgLT4gYDAwOjIwOjM1YCkuXG4gICAgICovXG4gICAgdGhpcy5hbHdheXNTaG93SG91cnMgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgWydkdXJhdGlvbicsICdpMThuJ10pO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJ2bS10aW1lXCIsIHsgbGFiZWw6IHRoaXMuaTE4bi5kdXJhdGlvbiwgc2Vjb25kczogTWF0aC5tYXgoMCwgdGhpcy5kdXJhdGlvbiksIGFsd2F5c1Nob3dIb3VyczogdGhpcy5hbHdheXNTaG93SG91cnMgfSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBlbmRUaW1lQ3NzOyB9XG59O1xuXG52YXIga2V5ID0ge1xyXG4gICAgZnVsbHNjcmVlbkVuYWJsZWQ6IDAsXHJcbiAgICBmdWxsc2NyZWVuRWxlbWVudDogMSxcclxuICAgIHJlcXVlc3RGdWxsc2NyZWVuOiAyLFxyXG4gICAgZXhpdEZ1bGxzY3JlZW46IDMsXHJcbiAgICBmdWxsc2NyZWVuY2hhbmdlOiA0LFxyXG4gICAgZnVsbHNjcmVlbmVycm9yOiA1LFxyXG4gICAgZnVsbHNjcmVlbjogNlxyXG59O1xyXG52YXIgd2Via2l0ID0gW1xyXG4gICAgJ3dlYmtpdEZ1bGxzY3JlZW5FbmFibGVkJyxcclxuICAgICd3ZWJraXRGdWxsc2NyZWVuRWxlbWVudCcsXHJcbiAgICAnd2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4nLFxyXG4gICAgJ3dlYmtpdEV4aXRGdWxsc2NyZWVuJyxcclxuICAgICd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJyxcclxuICAgICd3ZWJraXRmdWxsc2NyZWVuZXJyb3InLFxyXG4gICAgJy13ZWJraXQtZnVsbC1zY3JlZW4nLFxyXG5dO1xyXG52YXIgbW96ID0gW1xyXG4gICAgJ21vekZ1bGxTY3JlZW5FbmFibGVkJyxcclxuICAgICdtb3pGdWxsU2NyZWVuRWxlbWVudCcsXHJcbiAgICAnbW96UmVxdWVzdEZ1bGxTY3JlZW4nLFxyXG4gICAgJ21vekNhbmNlbEZ1bGxTY3JlZW4nLFxyXG4gICAgJ21vemZ1bGxzY3JlZW5jaGFuZ2UnLFxyXG4gICAgJ21vemZ1bGxzY3JlZW5lcnJvcicsXHJcbiAgICAnLW1vei1mdWxsLXNjcmVlbicsXHJcbl07XHJcbnZhciBtcyA9IFtcclxuICAgICdtc0Z1bGxzY3JlZW5FbmFibGVkJyxcclxuICAgICdtc0Z1bGxzY3JlZW5FbGVtZW50JyxcclxuICAgICdtc1JlcXVlc3RGdWxsc2NyZWVuJyxcclxuICAgICdtc0V4aXRGdWxsc2NyZWVuJyxcclxuICAgICdNU0Z1bGxzY3JlZW5DaGFuZ2UnLFxyXG4gICAgJ01TRnVsbHNjcmVlbkVycm9yJyxcclxuICAgICctbXMtZnVsbHNjcmVlbicsXHJcbl07XHJcbi8vIHNvIGl0IGRvZXNuJ3QgdGhyb3cgaWYgbm8gd2luZG93IG9yIGRvY3VtZW50XHJcbnZhciBkb2N1bWVudCQxID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cuZG9jdW1lbnQgOiB7fTtcclxudmFyIHZlbmRvciA9ICgoJ2Z1bGxzY3JlZW5FbmFibGVkJyBpbiBkb2N1bWVudCQxICYmIE9iamVjdC5rZXlzKGtleSkpIHx8XHJcbiAgICAod2Via2l0WzBdIGluIGRvY3VtZW50JDEgJiYgd2Via2l0KSB8fFxyXG4gICAgKG1velswXSBpbiBkb2N1bWVudCQxICYmIG1veikgfHxcclxuICAgIChtc1swXSBpbiBkb2N1bWVudCQxICYmIG1zKSB8fFxyXG4gICAgW10pO1xyXG52YXIgZnNjcmVlbiA9IHtcclxuICAgIHJlcXVlc3RGdWxsc2NyZWVuOiBmdW5jdGlvbiAoZWxlbWVudCkgeyByZXR1cm4gZWxlbWVudFt2ZW5kb3Jba2V5LnJlcXVlc3RGdWxsc2NyZWVuXV0oKTsgfSxcclxuICAgIHJlcXVlc3RGdWxsc2NyZWVuRnVuY3Rpb246IGZ1bmN0aW9uIChlbGVtZW50KSB7IHJldHVybiBlbGVtZW50W3ZlbmRvcltrZXkucmVxdWVzdEZ1bGxzY3JlZW5dXTsgfSxcclxuICAgIGdldCBleGl0RnVsbHNjcmVlbigpIHsgcmV0dXJuIGRvY3VtZW50JDFbdmVuZG9yW2tleS5leGl0RnVsbHNjcmVlbl1dLmJpbmQoZG9jdW1lbnQkMSk7IH0sXHJcbiAgICBnZXQgZnVsbHNjcmVlblBzZXVkb0NsYXNzKCkgeyByZXR1cm4gXCI6XCIgKyB2ZW5kb3Jba2V5LmZ1bGxzY3JlZW5dOyB9LFxyXG4gICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKHR5cGUsIGhhbmRsZXIsIG9wdGlvbnMpIHsgcmV0dXJuIGRvY3VtZW50JDEuYWRkRXZlbnRMaXN0ZW5lcih2ZW5kb3Jba2V5W3R5cGVdXSwgaGFuZGxlciwgb3B0aW9ucyk7IH0sXHJcbiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAodHlwZSwgaGFuZGxlciwgb3B0aW9ucykgeyByZXR1cm4gZG9jdW1lbnQkMS5yZW1vdmVFdmVudExpc3RlbmVyKHZlbmRvcltrZXlbdHlwZV1dLCBoYW5kbGVyLCBvcHRpb25zKTsgfSxcclxuICAgIGdldCBmdWxsc2NyZWVuRW5hYmxlZCgpIHsgcmV0dXJuIEJvb2xlYW4oZG9jdW1lbnQkMVt2ZW5kb3Jba2V5LmZ1bGxzY3JlZW5FbmFibGVkXV0pOyB9LFxyXG4gICAgc2V0IGZ1bGxzY3JlZW5FbmFibGVkKHZhbCkgeyB9LFxyXG4gICAgZ2V0IGZ1bGxzY3JlZW5FbGVtZW50KCkgeyByZXR1cm4gZG9jdW1lbnQkMVt2ZW5kb3Jba2V5LmZ1bGxzY3JlZW5FbGVtZW50XV07IH0sXHJcbiAgICBzZXQgZnVsbHNjcmVlbkVsZW1lbnQodmFsKSB7IH0sXHJcbiAgICBnZXQgb25mdWxsc2NyZWVuY2hhbmdlKCkgeyByZXR1cm4gZG9jdW1lbnQkMVsoXCJvblwiICsgdmVuZG9yW2tleS5mdWxsc2NyZWVuY2hhbmdlXSkudG9Mb3dlckNhc2UoKV07IH0sXHJcbiAgICBzZXQgb25mdWxsc2NyZWVuY2hhbmdlKGhhbmRsZXIpIHsgcmV0dXJuIGRvY3VtZW50JDFbKFwib25cIiArIHZlbmRvcltrZXkuZnVsbHNjcmVlbmNoYW5nZV0pLnRvTG93ZXJDYXNlKCldID0gaGFuZGxlcjsgfSxcclxuICAgIGdldCBvbmZ1bGxzY3JlZW5lcnJvcigpIHsgcmV0dXJuIGRvY3VtZW50JDFbKFwib25cIiArIHZlbmRvcltrZXkuZnVsbHNjcmVlbmVycm9yXSkudG9Mb3dlckNhc2UoKV07IH0sXHJcbiAgICBzZXQgb25mdWxsc2NyZWVuZXJyb3IoaGFuZGxlcikgeyByZXR1cm4gZG9jdW1lbnQkMVsoXCJvblwiICsgdmVuZG9yW2tleS5mdWxsc2NyZWVuZXJyb3JdKS50b0xvd2VyQ2FzZSgpXSA9IGhhbmRsZXI7IH0sXHJcbn07XG5cbmZ1bmN0aW9uIG1pdHQobil7cmV0dXJuIHthbGw6bj1ufHxuZXcgTWFwLG9uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bi5nZXQodCk7aT9pLnB1c2goZSk6bi5zZXQodCxbZV0pO30sb2ZmOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bi5nZXQodCk7aSYmKGU/aS5zcGxpY2UoaS5pbmRleE9mKGUpPj4+MCwxKTpuLnNldCh0LFtdKSk7fSxlbWl0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9bi5nZXQodCk7aSYmaS5zbGljZSgpLm1hcChmdW5jdGlvbihuKXtuKGUpO30pLChpPW4uZ2V0KFwiKlwiKSkmJmkuc2xpY2UoKS5tYXAoZnVuY3Rpb24obil7bih0LGUpO30pO319fVxuXG52YXIgX19hd2FpdGVyJGsgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuLyoqXG4gKiBVbmZvcnR1bmF0ZWx5IGZ1bGxzY3JlZW4gaXNuJ3Qgc3RyYWlnaHQgZm9yd2FyZCBkdWUgdG8gY3Jvc3MtYnJvd3NlciBpbmNvbnNpc3RlbmNpZXMuIFRoaXNcbiAqIGNsYXNzIGFic3RyYWN0IHRoZSBsb2dpYyBmb3IgaGFuZGxpbmcgZnVsbHNjcmVlbiBhY3Jvc3MgYnJvd3NlcnMuXG4gKi9cbmNsYXNzIEZ1bGxzY3JlZW5Db250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoaG9zdCkge1xuICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgdGhpcy5kaXNwb3NhbCA9IG5ldyBEaXNwb3NhbCgpO1xuICAgIHRoaXMuZW1pdHRlciA9IG1pdHQoKTtcbiAgfVxuICAvKipcbiAgICogV2hldGhlciBmdWxsc2NyZWVuIG1vZGUgY2FuIGJlIHJlcXVlc3RlZCwgZ2VuZXJhbGx5IGlzIGFuIEFQSSBhdmFpbGFibGUgdG8gZG8gc28uXG4gICAqL1xuICBnZXQgaXNTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNTdXBwb3J0ZWROYXRpdmVseTtcbiAgfVxuICAvKipcbiAgICogV2hldGhlciB0aGUgbmF0aXZlIEZ1bGxzY3JlZW4gQVBJIGlzIGVuYWJsZWQvYXZhaWxhYmxlLlxuICAgKi9cbiAgZ2V0IGlzU3VwcG9ydGVkTmF0aXZlbHkoKSB7XG4gICAgcmV0dXJuIGZzY3JlZW4uZnVsbHNjcmVlbkVuYWJsZWQ7XG4gIH1cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIGhvc3QgZWxlbWVudCBpcyBpbiBmdWxsc2NyZWVuIG1vZGUuXG4gICAqL1xuICBnZXQgaXNGdWxsc2NyZWVuKCkge1xuICAgIHJldHVybiB0aGlzLmlzTmF0aXZlRnVsbHNjcmVlbjtcbiAgfVxuICAvKipcbiAgICogV2hldGhlciB0aGUgaG9zdCBlbGVtZW50IGlzIGluIGZ1bGxzY3JlZW4gbW9kZSB2aWEgdGhlIG5hdGl2ZSBGdWxsc2NyZWVuIEFQSS5cbiAgICovXG4gIGdldCBpc05hdGl2ZUZ1bGxzY3JlZW4oKSB7XG4gICAgaWYgKGZzY3JlZW4uZnVsbHNjcmVlbkVsZW1lbnQgPT09IHRoaXMuaG9zdClcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIHRyeSB7XG4gICAgICAvLyBUaHJvd3MgaW4gaU9TIFNhZmFyaS4uLlxuICAgICAgcmV0dXJuIHRoaXMuaG9zdC5tYXRjaGVzKFxuICAgICAgLy8gUHJvcGVydHkgYGZ1bGxzY3JlZW5Qc2V1ZG9DbGFzc2AgaXMgbWlzc2luZyBmcm9tIGBAdHlwZXMvZnNjcmVlbmAuXG4gICAgICBmc2NyZWVuXG4gICAgICAgIC5mdWxsc2NyZWVuUHNldWRvQ2xhc3MpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgb24odHlwZSwgaGFuZGxlcikge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBub3QgdHlwZWQgeWV0LlxuICAgIHRoaXMuZW1pdHRlci5vbih0eXBlLCBoYW5kbGVyKTtcbiAgfVxuICBvZmYodHlwZSwgaGFuZGxlcikge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBub3QgdHlwZWQgeWV0LlxuICAgIHRoaXMuZW1pdHRlci5vZmYodHlwZSwgaGFuZGxlcik7XG4gIH1cbiAgLyoqXG4gICAqIERpc3Bvc2Ugb2YgYW55IGV2ZW50IGxpc3RlbmVycyBhbmQgZXhpdCBmdWxsc2NyZWVuIChpZiBhY3RpdmUpLlxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJGsodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBpZiAodGhpcy5pc0Z1bGxzY3JlZW4pXG4gICAgICAgIHlpZWxkIHRoaXMuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgIHRoaXMuZGlzcG9zYWwuZW1wdHkoKTtcbiAgICAgIHRoaXMuZW1pdHRlci5hbGwuY2xlYXIoKTtcbiAgICB9KTtcbiAgfVxuICBhZGRGdWxsc2NyZWVuQ2hhbmdlRXZlbnRMaXN0ZW5lcihoYW5kbGVyKSB7XG4gICAgaWYgKCF0aGlzLmlzU3VwcG9ydGVkKVxuICAgICAgcmV0dXJuIG5vb3A7XG4gICAgcmV0dXJuIGxpc3Rlbihmc2NyZWVuLCAnZnVsbHNjcmVlbmNoYW5nZScsIGhhbmRsZXIpO1xuICB9XG4gIGFkZEZ1bGxzY3JlZW5FcnJvckV2ZW50TGlzdGVuZXIoaGFuZGxlcikge1xuICAgIGlmICghdGhpcy5pc1N1cHBvcnRlZClcbiAgICAgIHJldHVybiBub29wO1xuICAgIHJldHVybiBsaXN0ZW4oZnNjcmVlbiwgJ2Z1bGxzY3JlZW5lcnJvcicsIGhhbmRsZXIpO1xuICB9XG4gIHJlcXVlc3RGdWxsc2NyZWVuKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkayh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGlmICh0aGlzLmlzRnVsbHNjcmVlbilcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdGhpcy50aHJvd0lmTm9GdWxsc2NyZWVuU3VwcG9ydCgpO1xuICAgICAgLy8gVE9ETzogQ2hlY2sgaWYgUGlQIGlzIGFjdGl2ZSwgaWYgc28gbWFrZSBzdXJlIHRvIGV4aXQgLSBuZWVkIFBpcENvbnRyb2xsZXIuXG4gICAgICB0aGlzLmRpc3Bvc2FsLmFkZCh0aGlzLmFkZEZ1bGxzY3JlZW5DaGFuZ2VFdmVudExpc3RlbmVyKHRoaXMuaGFuZGxlRnVsbHNjcmVlbkNoYW5nZS5iaW5kKHRoaXMpKSk7XG4gICAgICB0aGlzLmRpc3Bvc2FsLmFkZCh0aGlzLmFkZEZ1bGxzY3JlZW5FcnJvckV2ZW50TGlzdGVuZXIodGhpcy5oYW5kbGVGdWxsc2NyZWVuRXJyb3IuYmluZCh0aGlzKSkpO1xuICAgICAgcmV0dXJuIHRoaXMubWFrZUVudGVyRnVsbHNjcmVlblJlcXVlc3QoKTtcbiAgICB9KTtcbiAgfVxuICBtYWtlRW50ZXJGdWxsc2NyZWVuUmVxdWVzdCgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJGsodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4gZnNjcmVlbi5yZXF1ZXN0RnVsbHNjcmVlbih0aGlzLmhvc3QpO1xuICAgIH0pO1xuICB9XG4gIGhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UoKSB7XG4gICAgaWYgKCF0aGlzLmlzRnVsbHNjcmVlbilcbiAgICAgIHRoaXMuZGlzcG9zYWwuZW1wdHkoKTtcbiAgICB0aGlzLmVtaXR0ZXIuZW1pdCgnY2hhbmdlJywgdGhpcy5pc0Z1bGxzY3JlZW4pO1xuICB9XG4gIGhhbmRsZUZ1bGxzY3JlZW5FcnJvcihldmVudCkge1xuICAgIHRoaXMuZW1pdHRlci5lbWl0KCdlcnJvcicsIGV2ZW50KTtcbiAgfVxuICBleGl0RnVsbHNjcmVlbigpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJGsodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBpZiAoIXRoaXMuaXNGdWxsc2NyZWVuKVxuICAgICAgICByZXR1cm47XG4gICAgICB0aGlzLnRocm93SWZOb0Z1bGxzY3JlZW5TdXBwb3J0KCk7XG4gICAgICByZXR1cm4gdGhpcy5tYWtlRXhpdEZ1bGxzY3JlZW5SZXF1ZXN0KCk7XG4gICAgfSk7XG4gIH1cbiAgbWFrZUV4aXRGdWxsc2NyZWVuUmVxdWVzdCgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJGsodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4gZnNjcmVlbi5leGl0RnVsbHNjcmVlbigpO1xuICAgIH0pO1xuICB9XG4gIHRocm93SWZOb0Z1bGxzY3JlZW5TdXBwb3J0KCkge1xuICAgIGlmICh0aGlzLmlzU3VwcG9ydGVkKVxuICAgICAgcmV0dXJuO1xuICAgIHRocm93IEVycm9yKCdGdWxsc2NyZWVuIEFQSSBpcyBub3QgZW5hYmxlZCBvciBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudC4nKTtcbiAgfVxufVxuXG52YXIgX19hd2FpdGVyJGogPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuLyoqXG4gKiBFeHRlbmRzIHRoZSBiYXNlIGBGdWxsc2NyZWVuQ29udHJvbGxlcmAgd2l0aCBhZGRpdGlvbmFsIGxvZ2ljIGZvciBoYW5kbGluZyBmdWxsc2NyZWVuXG4gKiBvbiBpT1MgU2FmYXJpIHdoZXJlIHRoZSBuYXRpdmUgRnVsbHNjcmVlbiBBUEkgaXMgbm90IGF2YWlsYWJsZSAoaW4gdGhpcyBjYXNlIGl0IGZhbGxzYmFjayB0b1xuICogdXNpbmcgdGhlIGBWaWRlb1ByZXNlbnRhdGlvbkNvbnRyb2xsZXJgKS5cbiAqL1xuY2xhc3MgVmlkZW9GdWxsc2NyZWVuQ29udHJvbGxlciBleHRlbmRzIEZ1bGxzY3JlZW5Db250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoaG9zdCwgcHJlc2VudGF0aW9uQ29udHJvbGxlcikge1xuICAgIHN1cGVyKGhvc3QpO1xuICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgdGhpcy5wcmVzZW50YXRpb25Db250cm9sbGVyID0gcHJlc2VudGF0aW9uQ29udHJvbGxlcjtcbiAgfVxuICBnZXQgaXNGdWxsc2NyZWVuKCkge1xuICAgIHJldHVybiB0aGlzLnByZXNlbnRhdGlvbkNvbnRyb2xsZXIuaXNGdWxsc2NyZWVuTW9kZTtcbiAgfVxuICAvKipcbiAgICogV2hldGhlciBhIGZhbGxiYWNrIGZ1bGxzY3JlZW4gQVBJIGlzIGF2YWlsYWJsZSBvbiBTYWZhcmkgdXNpbmcgcHJlc2VudGF0aW9uIG1vZGVzLiBUaGlzXG4gICAqIGlzIG9ubHkgdXNlZCBvbiBpT1Mgd2hlcmUgdGhlIG5hdGl2ZSBmdWxsc2NyZWVuIEFQSSBpcyBub3QgYXZhaWxhYmxlLlxuICAgKlxuICAgKiBAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi93ZWJraXRqcy9odG1sdmlkZW9lbGVtZW50LzE2MzE5MTMtd2Via2l0cHJlc2VudGF0aW9ubW9kZVxuICAgKi9cbiAgZ2V0IGlzU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiB0aGlzLnByZXNlbnRhdGlvbkNvbnRyb2xsZXIuaXNTdXBwb3J0ZWQ7XG4gIH1cbiAgbWFrZUVudGVyRnVsbHNjcmVlblJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRqKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJlc2VudGF0aW9uQ29udHJvbGxlci5zZXRQcmVzZW50YXRpb25Nb2RlKCdmdWxsc2NyZWVuJyk7XG4gICAgfSk7XG4gIH1cbiAgbWFrZUV4aXRGdWxsc2NyZWVuUmVxdWVzdCgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJGoodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcmVzZW50YXRpb25Db250cm9sbGVyLnNldFByZXNlbnRhdGlvbk1vZGUoJ2lubGluZScpO1xuICAgIH0pO1xuICB9XG4gIGFkZEZ1bGxzY3JlZW5DaGFuZ2VFdmVudExpc3RlbmVyKCkge1xuICAgIGlmICghdGhpcy5pc1N1cHBvcnRlZClcbiAgICAgIHJldHVybiBub29wO1xuICAgIHRoaXMucHJlc2VudGF0aW9uQ29udHJvbGxlci5vbignY2hhbmdlJywgdGhpcy5oYW5kbGVQcmVzZW50YXRpb25Nb2RlQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLnByZXNlbnRhdGlvbkNvbnRyb2xsZXIub2ZmKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZVByZXNlbnRhdGlvbk1vZGVDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgfTtcbiAgfVxuICBoYW5kbGVQcmVzZW50YXRpb25Nb2RlQ2hhbmdlKCkge1xuICAgIHRoaXMuaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSgpO1xuICB9XG4gIGFkZEZ1bGxzY3JlZW5FcnJvckV2ZW50TGlzdGVuZXIoKSB7XG4gICAgcmV0dXJuIG5vb3A7XG4gIH1cbn1cblxudmFyIF9fYXdhaXRlciRpID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbi8qKlxuICogQ29udGFpbnMgdGhlIGxvZ2ljIGZvciBoYW5kbGluZyBwcmVzZW50YXRpb24gbW9kZXMgb24gU2FmYXJpLiBUaGlzIGNsYXNzIGlzIHVzZWQgYnlcbiAqIHRoZSBgVmlkZW9GdWxsc2NyZWVuQ29udHJvbGxlcmAgYXMgYSBmYWxsYmFjayB3aGVuIHRoZSBuYXRpdmUgRnVsbHNjcmVlbiBBUEkgaXMgbm90XG4gKiBhdmFpbGFibGUgKGllOiBpT1MgU2FmYXJpKS5cbiAqL1xuY2xhc3MgVmlkZW9QcmVzZW50YXRpb25Db250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoaG9zdCkge1xuICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgdGhpcy5kaXNwb3NhbCA9IG5ldyBEaXNwb3NhbCgpO1xuICAgIHRoaXMuZW1pdHRlciA9IG1pdHQoKTtcbiAgICBjb25zdCBkaXNjb25uZWN0ZWRDYWxsYmFjayA9IGhvc3QuZGlzY29ubmVjdGVkQ2FsbGJhY2s7XG4gICAgaG9zdC5kaXNjb25uZWN0ZWRDYWxsYmFjayA9ICgpID0+IF9fYXdhaXRlciRpKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgeWllbGQgdGhpcy5kZXN0cm95KCk7XG4gICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjayA9PT0gbnVsbCB8fCBkaXNjb25uZWN0ZWRDYWxsYmFjayA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGlzY29ubmVjdGVkQ2FsbGJhY2suY2FsbChob3N0KTtcbiAgICB9KTtcbiAgfVxuICBnZXQgdmlkZW9FbGVtZW50KCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoKChfYSA9IHRoaXMuaG9zdC5tZWRpYUVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSA9PT0gJ3ZpZGVvJykge1xuICAgICAgcmV0dXJuIHRoaXMuaG9zdC5tZWRpYUVsO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBwcmVzZW50YXRpb24gbW9kZSwgcG9zc2libGUgdmFsdWVzIGluY2x1ZGUgYGlubGluZWAsIGBwaWN0dXJlLWluLXBpY3R1cmVgIGFuZFxuICAgKiBgZnVsbHNjcmVlbmAuIE9ubHkgYXZhaWxhYmxlIGluIFNhZmFyaS5cbiAgICpcbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqIEBsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL3dlYmtpdGpzL2h0bWx2aWRlb2VsZW1lbnQvMTYzMTkxMy13ZWJraXRwcmVzZW50YXRpb25tb2RlXG4gICAqL1xuICBnZXQgcHJlc2VudGF0aW9uTW9kZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHRoaXMudmlkZW9FbGVtZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eud2Via2l0UHJlc2VudGF0aW9uTW9kZTtcbiAgfVxuICAvKipcbiAgICogV2hldGhlciB0aGUgY3VycmVudCBgcHJlc2VudGF0aW9uTW9kZWAgaXMgYGlubGluZWAuXG4gICAqL1xuICBnZXQgaXNJbmxpbmVNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLnByZXNlbnRhdGlvbk1vZGUgPT09ICdpbmxpbmUnO1xuICB9XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBjdXJyZW50IGBwcmVzZW50YXRpb25Nb2RlYCBpcyBgcGljdHVyZS1pbi1waWN0dXJlYC5cbiAgICovXG4gIGdldCBpc1BpY3R1cmVJblBpY3R1cmVNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLnByZXNlbnRhdGlvbk1vZGUgPT09ICdpbmxpbmUnO1xuICB9XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBjdXJyZW50IGBwcmVzZW50YXRpb25Nb2RlYCBpcyBgZnVsbHNjcmVlbmAuXG4gICAqL1xuICBnZXQgaXNGdWxsc2NyZWVuTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wcmVzZW50YXRpb25Nb2RlID09PSAnZnVsbHNjcmVlbic7XG4gIH1cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIHByZXNlbnRhdGlvbiBtb2RlIEFQSSBpcyBhdmFpbGFibGUuXG4gICAqXG4gICAqIEBsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL3dlYmtpdGpzL2h0bWx2aWRlb2VsZW1lbnQvMTYyODgwNS13ZWJraXRzdXBwb3J0c2Z1bGxzY3JlZW5cbiAgICovXG4gIGdldCBpc1N1cHBvcnRlZCgpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICByZXR1cm4gKElTX0lPUyAmJlxuICAgICAgaXNGdW5jdGlvbigoX2EgPSB0aGlzLnZpZGVvRWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLndlYmtpdFNldFByZXNlbnRhdGlvbk1vZGUpICYmXG4gICAgICAoKF9jID0gKF9iID0gdGhpcy52aWRlb0VsZW1lbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi53ZWJraXRTdXBwb3J0c0Z1bGxzY3JlZW4pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGZhbHNlKSk7XG4gIH1cbiAgc2V0UHJlc2VudGF0aW9uTW9kZShtb2RlKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICAoX2IgPSAoX2EgPSB0aGlzLnZpZGVvRWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLndlYmtpdFNldFByZXNlbnRhdGlvbk1vZGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCBtb2RlKTtcbiAgfVxuICBvbih0eXBlLCBoYW5kbGVyKSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIG5vdCB0eXBlZCB5ZXQuXG4gICAgdGhpcy5lbWl0dGVyLm9uKHR5cGUsIGhhbmRsZXIpO1xuICB9XG4gIG9mZih0eXBlLCBoYW5kbGVyKSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIG5vdCB0eXBlZCB5ZXQuXG4gICAgdGhpcy5lbWl0dGVyLm9mZih0eXBlLCBoYW5kbGVyKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuc2V0UHJlc2VudGF0aW9uTW9kZSgnaW5saW5lJyk7XG4gICAgdGhpcy5kaXNwb3NhbC5lbXB0eSgpO1xuICB9XG4gIGFkZFByZXNlbnRhdGlvbk1vZGVDaGFuZ2VFdmVudExpc3RlbmVyKCkge1xuICAgIGlmICghdGhpcy5pc1N1cHBvcnRlZCB8fCBpc05pbCh0aGlzLnZpZGVvRWxlbWVudCkpXG4gICAgICByZXR1cm4gbm9vcDtcbiAgICByZXR1cm4gbGlzdGVuKHRoaXMudmlkZW9FbGVtZW50LCAnd2Via2l0cHJlc2VudGF0aW9ubW9kZWNoYW5nZWQnLCB0aGlzLmhhbmRsZVByZXNlbnRhdGlvbk1vZGVDaGFuZ2UuYmluZCh0aGlzKSk7XG4gIH1cbiAgaGFuZGxlUHJlc2VudGF0aW9uTW9kZUNoYW5nZSgpIHtcbiAgICB0aGlzLmVtaXR0ZXIuZW1pdCgnY2hhbmdlJywgdGhpcy5wcmVzZW50YXRpb25Nb2RlKTtcbiAgfVxufVxuXG5jb25zdCBmaWxlQ3NzID0gXCJhdWRpby5zYy12bS1maWxlLHZpZGVvLnNjLXZtLWZpbGV7Ym9yZGVyLXJhZGl1czppbmhlcml0O3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aWR0aDoxMDAlO291dGxpbmU6MH12aWRlby5zYy12bS1maWxle3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtib3JkZXI6MDtoZWlnaHQ6MTAwJTt1c2VyLXNlbGVjdDpub25lfVwiO1xuXG52YXIgX19hd2FpdGVyJGggPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbmNvbnN0IEZpbGUgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgdGhpcy52bUxvYWRTdGFydCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1Mb2FkU3RhcnRcIiwgNyk7XG4gICAgdGhpcy52bUVycm9yID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUVycm9yXCIsIDcpO1xuICAgIHRoaXMudm1NZWRpYUVsQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bU1lZGlhRWxDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bVNyY1NldENoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1TcmNTZXRDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy50ZXh0VHJhY2tzRGlzcG9zYWwgPSBuZXcgRGlzcG9zYWwoKTtcbiAgICB0aGlzLndhc1BhdXNlZEJlZm9yZVNlZWtpbmcgPSB0cnVlO1xuICAgIHRoaXMuY3VycmVudFNyY1NldCA9IFtdO1xuICAgIHRoaXMubWVkaWFRdWVyeURpc3Bvc2FsID0gbmV3IERpc3Bvc2FsKCk7XG4gICAgLyoqIEBpbnRlcm5hbCBXaGV0aGVyIGFuIGV4dGVybmFsIFNESyB3aWxsIGF0dGFjaCBpdHNlbGYgdG8gdGhlIG1lZGlhIHBsYXllciBhbmQgY29udHJvbCBpdC4gKi9cbiAgICB0aGlzLndpbGxBdHRhY2ggPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICB0aGlzLnByZWxvYWQgPSAnbWV0YWRhdGEnO1xuICAgIC8qKlxuICAgICAqIFRoZSBwbGF5YmFjayByYXRlcyB0aGF0IGFyZSBhdmFpbGFibGUgZm9yIHRoaXMgbWVkaWEuXG4gICAgICovXG4gICAgdGhpcy5wbGF5YmFja1JhdGVzID0gWzAuMjUsIDAuNSwgMC43NSwgMSwgMS4yNSwgMS41LCAyXTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5sYW5ndWFnZSA9ICdlbic7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuYXV0b3BsYXkgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5jb250cm9scyA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmxvb3AgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5tdXRlZCA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBsYXlzaW5saW5lID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMubm9Db25uZWN0ID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5jdXJyZW50VGltZSA9IDA7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMudm9sdW1lID0gMDtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wbGF5YmFja1JlYWR5ID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMucGxheWJhY2tTdGFydGVkID0gZmFsc2U7XG4gICAgdGhpcy5wcmVzZW50YXRpb25Db250cm9sbGVyID0gbmV3IFZpZGVvUHJlc2VudGF0aW9uQ29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLmZ1bGxzY3JlZW5Db250cm9sbGVyID0gbmV3IFZpZGVvRnVsbHNjcmVlbkNvbnRyb2xsZXIodGhpcywgdGhpcy5wcmVzZW50YXRpb25Db250cm9sbGVyKTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5jdXJyZW50VGV4dFRyYWNrID0gLTE7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaGFzQ3VzdG9tVGV4dE1hbmFnZXIgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc1RleHRUcmFja1Zpc2libGUgPSB0cnVlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MgPSB0cnVlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUHJvdmlkZXJDb25uZWN0KHRoaXMpO1xuICAgIHdpdGhQcm92aWRlckNvbnRleHQodGhpcywgW1xuICAgICAgJ3BsYXliYWNrUmVhZHknLFxuICAgICAgJ3BsYXliYWNrU3RhcnRlZCcsXG4gICAgICAnY3VycmVudFRpbWUnLFxuICAgICAgJ3ZvbHVtZScsXG4gICAgICAncGF1c2VkJyxcbiAgICAgICdjdXJyZW50VGV4dFRyYWNrJyxcbiAgICAgICdpc1RleHRUcmFja1Zpc2libGUnLFxuICAgICAgJ3Nob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MnLFxuICAgIF0pO1xuICAgIHdhdGNoQ29tcG9uZW50UmVnaXN0cnkodGhpcywgJ3ZtLXBvc3RlcicsIHJlZ3MgPT4ge1xuICAgICAgW3RoaXMudm1Qb3N0ZXJdID0gcmVncztcbiAgICB9KTtcbiAgfVxuICBvbk1lZGlhVGl0bGVDaGFuZ2UoKSB7XG4gICAgdGhpcy5kaXNwYXRjaCgnbWVkaWFUaXRsZScsIHRoaXMubWVkaWFUaXRsZSk7XG4gIH1cbiAgb25Qb3N0ZXJDaGFuZ2UoKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICghdGhpcy5wbGF5YmFja1N0YXJ0ZWQpXG4gICAgICAoX2EgPSB0aGlzLm1lZGlhRWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sb2FkKCk7XG4gIH1cbiAgb25WaWV3VHlwZUNoYW5nZSgpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCd2aWV3VHlwZScsIHRoaXMudmlld1R5cGUpO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuaW5pdExhenlMb2FkZXIoKTtcbiAgICB0aGlzLmRpc3BhdGNoID0gY3JlYXRlUHJvdmlkZXJEaXNwYXRjaGVyKHRoaXMpO1xuICAgIHRoaXMub25WaWV3VHlwZUNoYW5nZSgpO1xuICAgIHRoaXMub25Qb3N0ZXJDaGFuZ2UoKTtcbiAgICB0aGlzLm9uTWVkaWFUaXRsZUNoYW5nZSgpO1xuICAgIHRoaXMuYWRkUHJlc2VudGF0aW9uQ29udHJvbGxlckxpc3RlbmVycygpO1xuICB9XG4gIGNvbXBvbmVudERpZFJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcmV2TWVkaWFFbCAhPT0gdGhpcy5tZWRpYUVsKSB7XG4gICAgICB0aGlzLnByZXZNZWRpYUVsID0gdGhpcy5tZWRpYUVsO1xuICAgICAgdGhpcy52bU1lZGlhRWxDaGFuZ2UuZW1pdCh0aGlzLm1lZGlhRWwpO1xuICAgICAgdGhpcy5wcmVzZW50YXRpb25Db250cm9sbGVyLmFkZFByZXNlbnRhdGlvbk1vZGVDaGFuZ2VFdmVudExpc3RlbmVyKCk7XG4gICAgfVxuICB9XG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgdGhpcy5vblZpZXdUeXBlQ2hhbmdlKCk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdmFyIF9hO1xuICAgIHRoaXMubWVkaWFRdWVyeURpc3Bvc2FsLmVtcHR5KCk7XG4gICAgdGhpcy50ZXh0VHJhY2tzRGlzcG9zYWwuZW1wdHkoKTtcbiAgICB0aGlzLmNhbmNlbFRpbWVVcGRhdGVzKCk7XG4gICAgKF9hID0gdGhpcy5sYXp5TG9hZGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVzdHJveSgpO1xuICAgIHRoaXMud2FzUGF1c2VkQmVmb3JlU2Vla2luZyA9IHRydWU7XG4gIH1cbiAgaW5pdExhenlMb2FkZXIoKSB7XG4gICAgdGhpcy5sYXp5TG9hZGVyID0gbmV3IExhenlMb2FkZXIodGhpcy5ob3N0LCBbJ2RhdGEtc3JjJywgJ2RhdGEtcG9zdGVyJ10sICgpID0+IHtcbiAgICAgIGlmIChpc05pbCh0aGlzLm1lZGlhRWwpKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBwb3N0ZXIgPSB0aGlzLm1lZGlhRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXBvc3RlcicpO1xuICAgICAgaWYgKCFpc051bGwocG9zdGVyKSlcbiAgICAgICAgdGhpcy5tZWRpYUVsLnNldEF0dHJpYnV0ZSgncG9zdGVyJywgcG9zdGVyKTtcbiAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgdGhpcy5kaWRTcmNTZXRDaGFuZ2UoKTtcbiAgICB9KTtcbiAgfVxuICByZWZyZXNoKCkge1xuICAgIGlmIChpc05pbCh0aGlzLm1lZGlhRWwpKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHsgY2hpbGRyZW4gfSA9IHRoaXMubWVkaWFFbDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICBjb25zdCBzcmMgPSBjaGlsZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJykgfHxcbiAgICAgICAgY2hpbGQuZ2V0QXR0cmlidXRlKCdzcmMnKSB8fFxuICAgICAgICBjaGlsZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdnMnKTtcbiAgICAgIGNoaWxkLnJlbW92ZUF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgICBpZiAoaXNOdWxsKHNyYykpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdkYXRhLXZzJywgc3JjKTtcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnc3JjJywgc3JjKTtcbiAgICB9XG4gIH1cbiAgZGlkU3JjU2V0Q2hhbmdlKCkge1xuICAgIGlmIChpc05pbCh0aGlzLm1lZGlhRWwpKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHNvdXJjZXMgPSBBcnJheS5mcm9tKHRoaXMubWVkaWFFbC5xdWVyeVNlbGVjdG9yQWxsKCdzb3VyY2UnKSk7XG4gICAgY29uc3Qgc3JjU2V0ID0gc291cmNlcy5tYXAoc291cmNlID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIHJldHVybiAoe1xuICAgICAgICBzcmM6IHNvdXJjZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdnMnKSxcbiAgICAgICAgbWVkaWE6IChfYSA9IHNvdXJjZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbWVkaWEnKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdW5kZWZpbmVkLFxuICAgICAgICByZWY6IHNvdXJjZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnN0IGRpZENoYW5nZSA9IHRoaXMuY3VycmVudFNyY1NldC5sZW5ndGggIT09IHNyY1NldC5sZW5ndGggfHxcbiAgICAgIHNyY1NldC5zb21lKChyZXNvdXJjZSwgaSkgPT4gdGhpcy5jdXJyZW50U3JjU2V0W2ldLnNyYyAhPT0gcmVzb3VyY2Uuc3JjKTtcbiAgICBpZiAoZGlkQ2hhbmdlKSB7XG4gICAgICB0aGlzLmN1cnJlbnRTcmNTZXQgPSBzcmNTZXQ7XG4gICAgICB0aGlzLm9uU3JjU2V0Q2hhbmdlKCk7XG4gICAgfVxuICB9XG4gIG9uU3JjU2V0Q2hhbmdlKCkge1xuICAgIHZhciBfYTtcbiAgICB0aGlzLnRleHRUcmFja3NEaXNwb3NhbC5lbXB0eSgpO1xuICAgIHRoaXMubWVkaWFRdWVyeURpc3Bvc2FsLmVtcHR5KCk7XG4gICAgdGhpcy52bUxvYWRTdGFydC5lbWl0KCk7XG4gICAgdGhpcy52bVNyY1NldENoYW5nZS5lbWl0KHRoaXMuY3VycmVudFNyY1NldCk7XG4gICAgaWYgKCF0aGlzLndpbGxBdHRhY2gpXG4gICAgICAoX2EgPSB0aGlzLm1lZGlhRWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sb2FkKCk7XG4gIH1cbiAgaGFzQ3VzdG9tUG9zdGVyKCkge1xuICAgIHJldHVybiAhSVNfSU9TICYmICFpc1VuZGVmaW5lZCh0aGlzLnZtUG9zdGVyKTtcbiAgfVxuICBjYW5jZWxUaW1lVXBkYXRlcygpIHtcbiAgICBpZiAoaXNOdW1iZXIodGhpcy50aW1lUkFGKSlcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnRpbWVSQUYpO1xuICAgIHRoaXMudGltZVJBRiA9IHVuZGVmaW5lZDtcbiAgfVxuICByZXF1ZXN0VGltZVVwZGF0ZXMoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50VGltZScsIChfYiA9IChfYSA9IHRoaXMubWVkaWFFbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmN1cnJlbnRUaW1lKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwKTtcbiAgICB0aGlzLnRpbWVSQUYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHRoaXMucmVxdWVzdFRpbWVVcGRhdGVzKCk7XG4gICAgfSk7XG4gIH1cbiAgZ2V0TWVkaWFUeXBlKCkge1xuICAgIGNvbnN0IHsgY3VycmVudFNyYyB9ID0gdGhpcy5tZWRpYUVsO1xuICAgIGlmIChhdWRpb1JlZ2V4LnRlc3QoY3VycmVudFNyYykpXG4gICAgICByZXR1cm4gTWVkaWFUeXBlLkF1ZGlvO1xuICAgIGlmICh2aWRlb1JlZ2V4LnRlc3QoY3VycmVudFNyYykgfHwgaGxzUmVnZXgudGVzdChjdXJyZW50U3JjKSlcbiAgICAgIHJldHVybiBNZWRpYVR5cGUuVmlkZW87XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBvbkxvYWRlZE1ldGFkYXRhKCkge1xuICAgIHRoaXMubWVkaWFFbC52b2x1bWUgPSB0aGlzLnZvbHVtZSAvIDEwMDtcbiAgICB0aGlzLmxpc3RlblRvVGV4dFRyYWNrc0ZvckNoYW5nZXMoKTtcbiAgICB0aGlzLm9uVGV4dFRyYWNrc0NoYW5nZSgpO1xuICAgIHRoaXMub25Qcm9ncmVzcygpO1xuICAgIHRoaXMuZGlzcGF0Y2goJ2N1cnJlbnRQb3N0ZXInLCB0aGlzLnBvc3Rlcik7XG4gICAgdGhpcy5kaXNwYXRjaCgnZHVyYXRpb24nLCB0aGlzLm1lZGlhRWwuZHVyYXRpb24pO1xuICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXliYWNrUmF0ZXMnLCB0aGlzLnBsYXliYWNrUmF0ZXMpO1xuICAgIGlmICghdGhpcy53aWxsQXR0YWNoKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50U3JjJywgdGhpcy5tZWRpYUVsLmN1cnJlbnRTcmMpO1xuICAgICAgdGhpcy5kaXNwYXRjaCgnbWVkaWFUeXBlJywgdGhpcy5nZXRNZWRpYVR5cGUoKSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1JlYWR5JywgdHJ1ZSk7XG4gICAgfVxuICB9XG4gIG9uUHJvZ3Jlc3MoKSB7XG4gICAgY29uc3QgeyBidWZmZXJlZCwgZHVyYXRpb24gfSA9IHRoaXMubWVkaWFFbDtcbiAgICBjb25zdCBlbmQgPSBidWZmZXJlZC5sZW5ndGggPT09IDAgPyAwIDogYnVmZmVyZWQuZW5kKGJ1ZmZlcmVkLmxlbmd0aCAtIDEpO1xuICAgIHRoaXMuZGlzcGF0Y2goJ2J1ZmZlcmVkJywgZW5kID4gZHVyYXRpb24gPyBkdXJhdGlvbiA6IGVuZCk7XG4gIH1cbiAgb25QbGF5KCkge1xuICAgIHRoaXMucmVxdWVzdFRpbWVVcGRhdGVzKCk7XG4gICAgdGhpcy5kaXNwYXRjaCgncGF1c2VkJywgZmFsc2UpO1xuICAgIGlmICghdGhpcy5wbGF5YmFja1N0YXJ0ZWQpXG4gICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1N0YXJ0ZWQnLCB0cnVlKTtcbiAgfVxuICBvblBhdXNlKCkge1xuICAgIHRoaXMuY2FuY2VsVGltZVVwZGF0ZXMoKTtcbiAgICB0aGlzLmRpc3BhdGNoKCdwYXVzZWQnLCB0cnVlKTtcbiAgICB0aGlzLmRpc3BhdGNoKCdidWZmZXJpbmcnLCBmYWxzZSk7XG4gIH1cbiAgb25QbGF5aW5nKCkge1xuICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXlpbmcnLCB0cnVlKTtcbiAgICB0aGlzLmRpc3BhdGNoKCdidWZmZXJpbmcnLCBmYWxzZSk7XG4gIH1cbiAgb25TZWVraW5nKCkge1xuICAgIGlmICghdGhpcy53YXNQYXVzZWRCZWZvcmVTZWVraW5nKVxuICAgICAgdGhpcy53YXNQYXVzZWRCZWZvcmVTZWVraW5nID0gdGhpcy5tZWRpYUVsLnBhdXNlZDtcbiAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50VGltZScsIHRoaXMubWVkaWFFbC5jdXJyZW50VGltZSk7XG4gICAgdGhpcy5kaXNwYXRjaCgnc2Vla2luZycsIHRydWUpO1xuICB9XG4gIG9uU2Vla2VkKCkge1xuICAgIC8vIEF2b2lkIGNhbGxpbmcgYGF0dGVtcHRUb1BsYXlgIGlmIHNlZWtpbmcgdG8gMCBvbiAwLlxuICAgIGlmICh0aGlzLmN1cnJlbnRUaW1lID09PSAwICYmICF0aGlzLnBsYXliYWNrU3RhcnRlZClcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLmRpc3BhdGNoKCdzZWVraW5nJywgZmFsc2UpO1xuICAgIGlmICghdGhpcy5wbGF5YmFja1N0YXJ0ZWQgfHwgIXRoaXMud2FzUGF1c2VkQmVmb3JlU2Vla2luZylcbiAgICAgIHRoaXMuYXR0ZW1wdFRvUGxheSgpO1xuICAgIHRoaXMud2FzUGF1c2VkQmVmb3JlU2Vla2luZyA9IHRydWU7XG4gIH1cbiAgb25SYXRlQ2hhbmdlKCkge1xuICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXliYWNrUmF0ZScsIHRoaXMubWVkaWFFbC5wbGF5YmFja1JhdGUpO1xuICB9XG4gIG9uVm9sdW1lQ2hhbmdlKCkge1xuICAgIHRoaXMuZGlzcGF0Y2goJ211dGVkJywgdGhpcy5tZWRpYUVsLm11dGVkKTtcbiAgICB0aGlzLmRpc3BhdGNoKCd2b2x1bWUnLCB0aGlzLm1lZGlhRWwudm9sdW1lICogMTAwKTtcbiAgfVxuICBvbkR1cmF0aW9uQ2hhbmdlKCkge1xuICAgIHRoaXMuZGlzcGF0Y2goJ2R1cmF0aW9uJywgdGhpcy5tZWRpYUVsLmR1cmF0aW9uKTtcbiAgfVxuICBvbldhaXRpbmcoKSB7XG4gICAgdGhpcy5kaXNwYXRjaCgnYnVmZmVyaW5nJywgdHJ1ZSk7XG4gIH1cbiAgb25TdXNwZW5kKCkge1xuICAgIHRoaXMuZGlzcGF0Y2goJ2J1ZmZlcmluZycsIGZhbHNlKTtcbiAgfVxuICBvbkVuZGVkKCkge1xuICAgIGlmICghdGhpcy5sb29wKVxuICAgICAgdGhpcy5kaXNwYXRjaCgncGxheWJhY2tFbmRlZCcsIHRydWUpO1xuICB9XG4gIG9uRXJyb3IoKSB7XG4gICAgdGhpcy52bUVycm9yLmVtaXQodGhpcy5tZWRpYUVsLmVycm9yKTtcbiAgfVxuICBhdHRlbXB0VG9QbGF5KCkge1xuICAgIHZhciBfYTtcbiAgICB0cnkge1xuICAgICAgKF9hID0gdGhpcy5tZWRpYUVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGxheSgpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgdGhpcy52bUVycm9yLmVtaXQoZSk7XG4gICAgfVxuICB9XG4gIHRvZ2dsZVBpUEluQ2hyb21lKHRvZ2dsZSkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gdG9nZ2xlXG4gICAgICA/IChfYSA9IHRoaXMubWVkaWFFbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlcXVlc3RQaWN0dXJlSW5QaWN0dXJlKClcbiAgICAgIDogZG9jdW1lbnQuZXhpdFBpY3R1cmVJblBpY3R1cmUoKTtcbiAgfVxuICB0b2dnbGVQaVBJblNhZmFyaSh0b2dnbGUpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IG1vZGUgPSB0b2dnbGVcbiAgICAgID8gXCJwaWN0dXJlLWluLXBpY3R1cmVcIiAvKiBQaVAgKi9cbiAgICAgIDogXCJpbmxpbmVcIiAvKiBJbmxpbmUgKi87XG4gICAgaWYgKCEoKF9hID0gdGhpcy5tZWRpYUVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eud2Via2l0U3VwcG9ydHNQcmVzZW50YXRpb25Nb2RlKG1vZGUpKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQaVAgQVBJIGlzIG5vdCBhdmFpbGFibGUuJyk7XG4gICAgfVxuICAgIHJldHVybiAoX2IgPSB0aGlzLm1lZGlhRWwpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi53ZWJraXRTZXRQcmVzZW50YXRpb25Nb2RlKG1vZGUpO1xuICB9XG4gIHRvZ2dsZVBpUCh0b2dnbGUpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJGgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBpZiAoY2FuVXNlUGlQSW5DaHJvbWUoKSlcbiAgICAgICAgcmV0dXJuIHRoaXMudG9nZ2xlUGlQSW5DaHJvbWUodG9nZ2xlKTtcbiAgICAgIGlmIChjYW5Vc2VQaVBJblNhZmFyaSgpKVxuICAgICAgICByZXR1cm4gdGhpcy50b2dnbGVQaVBJblNhZmFyaSh0b2dnbGUpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQaVAgQVBJIGlzIG5vdCBhdmFpbGFibGUuJyk7XG4gICAgfSk7XG4gIH1cbiAgb25FbnRlclBpUCgpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCdpc1BpUEFjdGl2ZScsIHRydWUpO1xuICB9XG4gIG9uTGVhdmVQaVAoKSB7XG4gICAgdGhpcy5kaXNwYXRjaCgnaXNQaVBBY3RpdmUnLCBmYWxzZSk7XG4gIH1cbiAgYWRkUHJlc2VudGF0aW9uQ29udHJvbGxlckxpc3RlbmVycygpIHtcbiAgICB0aGlzLnByZXNlbnRhdGlvbkNvbnRyb2xsZXIub24oJ2NoYW5nZScsIG1vZGUgPT4ge1xuICAgICAgdGhpcy5kaXNwYXRjaCgnaXNQaVBBY3RpdmUnLCBtb2RlID09PSBcInBpY3R1cmUtaW4tcGljdHVyZVwiIC8qIFBpUCAqLyk7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdpc0Z1bGxzY3JlZW5BY3RpdmUnLCBtb2RlID09PSBcImZ1bGxzY3JlZW5cIiAvKiBGdWxsc2NyZWVuICovKTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGdldEFkYXB0ZXIoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRoKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0SW50ZXJuYWxQbGF5ZXI6ICgpID0+IF9fYXdhaXRlciRoKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyByZXR1cm4gdGhpcy5tZWRpYUVsOyB9KSxcbiAgICAgICAgcGxheTogKCkgPT4gX19hd2FpdGVyJGgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHZhciBfYTsgcmV0dXJuIChfYSA9IHRoaXMubWVkaWFFbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBsYXkoKTsgfSksXG4gICAgICAgIHBhdXNlOiAoKSA9PiBfX2F3YWl0ZXIkaCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgdmFyIF9iOyByZXR1cm4gKF9iID0gdGhpcy5tZWRpYUVsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucGF1c2UoKTsgfSksXG4gICAgICAgIGNhblBsYXk6ICh0eXBlKSA9PiBfX2F3YWl0ZXIkaCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgcmV0dXJuIGlzU3RyaW5nKHR5cGUpICYmIChhdWRpb1JlZ2V4LnRlc3QodHlwZSkgfHwgdmlkZW9SZWdleC50ZXN0KHR5cGUpKTsgfSksXG4gICAgICAgIHNldEN1cnJlbnRUaW1lOiAodGltZSkgPT4gX19hd2FpdGVyJGgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgaWYgKHRoaXMubWVkaWFFbClcbiAgICAgICAgICAgIHRoaXMubWVkaWFFbC5jdXJyZW50VGltZSA9IHRpbWU7XG4gICAgICAgIH0pLFxuICAgICAgICBzZXRNdXRlZDogKG11dGVkKSA9PiBfX2F3YWl0ZXIkaCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICBpZiAodGhpcy5tZWRpYUVsKVxuICAgICAgICAgICAgdGhpcy5tZWRpYUVsLm11dGVkID0gbXV0ZWQ7XG4gICAgICAgIH0pLFxuICAgICAgICBzZXRWb2x1bWU6ICh2b2x1bWUpID0+IF9fYXdhaXRlciRoKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIGlmICh0aGlzLm1lZGlhRWwpXG4gICAgICAgICAgICB0aGlzLm1lZGlhRWwudm9sdW1lID0gdm9sdW1lIC8gMTAwO1xuICAgICAgICB9KSxcbiAgICAgICAgY2FuU2V0UGxheWJhY2tSYXRlOiAoKSA9PiBfX2F3YWl0ZXIkaCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgcmV0dXJuIHRydWU7IH0pLFxuICAgICAgICBzZXRQbGF5YmFja1JhdGU6IChyYXRlKSA9PiBfX2F3YWl0ZXIkaCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICBpZiAodGhpcy5tZWRpYUVsKVxuICAgICAgICAgICAgdGhpcy5tZWRpYUVsLnBsYXliYWNrUmF0ZSA9IHJhdGU7XG4gICAgICAgIH0pLFxuICAgICAgICBjYW5TZXRQaVA6ICgpID0+IF9fYXdhaXRlciRoKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyByZXR1cm4gY2FuVXNlUGlQKCk7IH0pLFxuICAgICAgICBlbnRlclBpUDogKCkgPT4gdGhpcy50b2dnbGVQaVAodHJ1ZSksXG4gICAgICAgIGV4aXRQaVA6ICgpID0+IHRoaXMudG9nZ2xlUGlQKGZhbHNlKSxcbiAgICAgICAgY2FuU2V0RnVsbHNjcmVlbjogKCkgPT4gX19hd2FpdGVyJGgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiB0aGlzLmZ1bGxzY3JlZW5Db250cm9sbGVyLmlzU3VwcG9ydGVkOyB9KSxcbiAgICAgICAgZW50ZXJGdWxsc2NyZWVuOiAoKSA9PiB0aGlzLmZ1bGxzY3JlZW5Db250cm9sbGVyLnJlcXVlc3RGdWxsc2NyZWVuKCksXG4gICAgICAgIGV4aXRGdWxsc2NyZWVuOiAoKSA9PiB0aGlzLmZ1bGxzY3JlZW5Db250cm9sbGVyLmV4aXRGdWxsc2NyZWVuKCksXG4gICAgICAgIHNldEN1cnJlbnRUZXh0VHJhY2s6ICh0cmFja0lkKSA9PiBfX2F3YWl0ZXIkaCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICBpZiAodHJhY2tJZCAhPT0gdGhpcy5jdXJyZW50VGV4dFRyYWNrKVxuICAgICAgICAgICAgdGhpcy50b2dnbGVUZXh0VHJhY2tNb2Rlcyh0cmFja0lkKTtcbiAgICAgICAgfSksXG4gICAgICAgIHNldFRleHRUcmFja1Zpc2liaWxpdHk6IChpc1Zpc2libGUpID0+IF9fYXdhaXRlciRoKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIHRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlID0gaXNWaXNpYmxlO1xuICAgICAgICAgIHRoaXMudG9nZ2xlVGV4dFRyYWNrTW9kZXModGhpcy5jdXJyZW50VGV4dFRyYWNrKTtcbiAgICAgICAgfSksXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG4gIG9uSGFzQ3VzdG9tVGV4dE1hbmFnZXJDaGFuZ2UoKSB7XG4gICAgaWYgKHRoaXMuaGFzQ3VzdG9tVGV4dE1hbmFnZXIpIHtcbiAgICAgIHRoaXMudGV4dFRyYWNrc0Rpc3Bvc2FsLmVtcHR5KCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMucGxheWJhY2tSZWFkeSkge1xuICAgICAgdGhpcy5saXN0ZW5Ub1RleHRUcmFja3NGb3JDaGFuZ2VzKCk7XG4gICAgfVxuICB9XG4gIG9uU2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrc0NoYW5nZSgpIHtcbiAgICBpZiAodGhpcy5oYXNDdXN0b21UZXh0TWFuYWdlcilcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLnRvZ2dsZVRleHRUcmFja01vZGVzKHRoaXMuY3VycmVudFRleHRUcmFjayk7XG4gIH1cbiAgb25Qcm92aWRlckNvbm5lY3QoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5ub0Nvbm5lY3QpXG4gICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgfVxuICBvblByb3ZpZGVyRGlzY29ubmVjdChldmVudCkge1xuICAgIGlmICh0aGlzLm5vQ29ubmVjdClcbiAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICB9XG4gIGdldEZpbHRlcmVkVGV4dFRyYWNrcygpIHtcbiAgICBjb25zdCB0cmFja3MgPSBbXTtcbiAgICBjb25zdCB0ZXh0VHJhY2tMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLm1lZGlhRWwudGV4dFRyYWNrcyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0VHJhY2tMaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCB0cmFjayA9IHRleHRUcmFja0xpc3RbaV07XG4gICAgICAvLyBFZGdlIGFkZHMgYSB0cmFjayB3aXRob3V0IGEgbGFiZWw7IHdlIGRvbid0IHdhbnQgdG8gdXNlIGl0LlxuICAgICAgaWYgKCh0cmFjay5raW5kID09PSAnc3VidGl0bGVzJyB8fCB0cmFjay5raW5kID09PSAnY2FwdGlvbnMnKSAmJlxuICAgICAgICB0cmFjay5sYWJlbCkge1xuICAgICAgICB0cmFja3MucHVzaCh0ZXh0VHJhY2tMaXN0W2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRyYWNrcztcbiAgfVxuICBsaXN0ZW5Ub1RleHRUcmFja3NGb3JDaGFuZ2VzKCkge1xuICAgIGlmICh0aGlzLmhhc0N1c3RvbVRleHRNYW5hZ2VyKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMudGV4dFRyYWNrc0Rpc3Bvc2FsLmVtcHR5KCk7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHRoaXMubWVkaWFFbCkpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy50ZXh0VHJhY2tzRGlzcG9zYWwuYWRkKGxpc3Rlbih0aGlzLm1lZGlhRWwudGV4dFRyYWNrcywgJ2NoYW5nZScsIHRoaXMub25UZXh0VHJhY2tzQ2hhbmdlLmJpbmQodGhpcykpKTtcbiAgfVxuICBvblRleHRUcmFja3NDaGFuZ2UoKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHRyYWNrcyA9IHRoaXMuZ2V0RmlsdGVyZWRUZXh0VHJhY2tzKCk7XG4gICAgbGV0IHRyYWNrSWQgPSAtMTtcbiAgICBmb3IgKGxldCBpZCA9IDA7IGlkIDwgdHJhY2tzLmxlbmd0aDsgaWQgKz0gMSkge1xuICAgICAgaWYgKHRyYWNrc1tpZF0ubW9kZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgLy8gRG8gbm90IGJyZWFrIGluIGNhc2UgdGhlcmUgaXMgYSBmb2xsb3dpbmcgdHJhY2sgd2l0aCBzaG93aW5nLlxuICAgICAgICB0cmFja0lkID0gaWQ7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0cmFja3NbaWRdLm1vZGUgPT09ICdzaG93aW5nJykge1xuICAgICAgICB0cmFja0lkID0gaWQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMuc2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrcyAmJlxuICAgICAgKChfYSA9IHRyYWNrc1t0cmFja0lkXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1vZGUpID09PSAnc2hvd2luZycpIHtcbiAgICAgIHRyYWNrc1t0cmFja0lkXS5tb2RlID0gJ2hpZGRlbic7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MpIHtcbiAgICAgIHRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlID1cbiAgICAgICAgdHJhY2tJZCAhPT0gLTEgJiYgdHJhY2tzW3RyYWNrSWRdLm1vZGUgPT09ICdzaG93aW5nJztcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ2lzVGV4dFRyYWNrVmlzaWJsZScsIHRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlKTtcbiAgICB9XG4gICAgdGhpcy5kaXNwYXRjaCgndGV4dFRyYWNrcycsIHRyYWNrcyk7XG4gICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFRleHRUcmFjaycsIHRoaXMuc2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrcyAmJiAhdGhpcy5pc1RleHRUcmFja1Zpc2libGVcbiAgICAgID8gLTFcbiAgICAgIDogdHJhY2tJZCk7XG4gIH1cbiAgdG9nZ2xlVGV4dFRyYWNrTW9kZXMobmV3VHJhY2tJZCkge1xuICAgIGlmIChpc05pbCh0aGlzLm1lZGlhRWwpKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHsgdGV4dFRyYWNrcyB9ID0gdGhpcy5tZWRpYUVsO1xuICAgIGlmIChuZXdUcmFja0lkID09PSAtMSkge1xuICAgICAgQXJyYXkuZnJvbSh0ZXh0VHJhY2tzKS5mb3JFYWNoKHRyYWNrID0+IHtcbiAgICAgICAgdHJhY2subW9kZSA9ICdkaXNhYmxlZCc7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCBvbGRUcmFjayA9IHRleHRUcmFja3NbdGhpcy5jdXJyZW50VGV4dFRyYWNrXTtcbiAgICAgIGlmIChvbGRUcmFjaylcbiAgICAgICAgb2xkVHJhY2subW9kZSA9ICdkaXNhYmxlZCc7XG4gICAgfVxuICAgIGNvbnN0IG5leHRUcmFjayA9IHRleHRUcmFja3NbbmV3VHJhY2tJZF07XG4gICAgaWYgKG5leHRUcmFjaykge1xuICAgICAgbmV4dFRyYWNrLm1vZGUgPVxuICAgICAgICB0aGlzLmlzVGV4dFRyYWNrVmlzaWJsZSAmJiB0aGlzLnNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3NcbiAgICAgICAgICA/ICdzaG93aW5nJ1xuICAgICAgICAgIDogJ2hpZGRlbic7XG4gICAgfVxuICAgIHRoaXMuZGlzcGF0Y2goJ2N1cnJlbnRUZXh0VHJhY2snLCB0aGlzLnNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MgJiYgIXRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlXG4gICAgICA/IC0xXG4gICAgICA6IG5ld1RyYWNrSWQpO1xuICAgIHRoaXMuZGlzcGF0Y2goJ2lzVGV4dFRyYWNrVmlzaWJsZScsIHRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgbWVkaWFQcm9wcyA9IHtcbiAgICAgIGF1dG9wbGF5OiB0aGlzLmF1dG9wbGF5LFxuICAgICAgbXV0ZWQ6IHRoaXMubXV0ZWQsXG4gICAgICBwbGF5c2lubGluZTogdGhpcy5wbGF5c2lubGluZSxcbiAgICAgIHBsYXlzSW5saW5lOiB0aGlzLnBsYXlzaW5saW5lLFxuICAgICAgJ3g1LXBsYXlzaW5saW5lJzogdGhpcy5wbGF5c2lubGluZSxcbiAgICAgICd3ZWJraXQtcGxheXNpbmxpbmUnOiB0aGlzLnBsYXlzaW5saW5lLFxuICAgICAgY29udHJvbHM6IHRoaXMuY29udHJvbHMsXG4gICAgICBjcm9zc29yaWdpbjogdGhpcy5jcm9zc09yaWdpbiA9PT0gJycgPyAnYW5vbnltb3VzJyA6IHRoaXMuY3Jvc3NPcmlnaW4sXG4gICAgICBjb250cm9sc2xpc3Q6IHRoaXMuY29udHJvbHNMaXN0LFxuICAgICAgJ2RhdGEtcG9zdGVyJzogIXRoaXMuaGFzQ3VzdG9tUG9zdGVyKCkgPyB0aGlzLnBvc3RlciA6IHVuZGVmaW5lZCxcbiAgICAgIGxvb3A6IHRoaXMubG9vcCxcbiAgICAgIHByZWxvYWQ6IHRoaXMucHJlbG9hZCxcbiAgICAgIGRpc2FibGVQaWN0dXJlSW5QaWN0dXJlOiB0aGlzLmRpc2FibGVQaVAsXG4gICAgICBhdXRvUGljdHVyZUluUGljdHVyZTogdGhpcy5hdXRvUGlQLFxuICAgICAgZGlzYWJsZVJlbW90ZVBsYXliYWNrOiB0aGlzLmRpc2FibGVSZW1vdGVQbGF5YmFjayxcbiAgICAgICd4LXdlYmtpdC1haXJwbGF5JzogdGhpcy5kaXNhYmxlUmVtb3RlUGxheWJhY2sgPyAnZGVueScgOiAnYWxsb3cnLFxuICAgICAgcmVmOiAoZWwpID0+IHtcbiAgICAgICAgdGhpcy5tZWRpYUVsID0gZWw7XG4gICAgICB9LFxuICAgICAgb25Mb2FkZWRNZXRhZGF0YTogdGhpcy5vbkxvYWRlZE1ldGFkYXRhLmJpbmQodGhpcyksXG4gICAgICBvblByb2dyZXNzOiB0aGlzLm9uUHJvZ3Jlc3MuYmluZCh0aGlzKSxcbiAgICAgIG9uUGxheTogdGhpcy5vblBsYXkuYmluZCh0aGlzKSxcbiAgICAgIG9uUGF1c2U6IHRoaXMub25QYXVzZS5iaW5kKHRoaXMpLFxuICAgICAgb25QbGF5aW5nOiB0aGlzLm9uUGxheWluZy5iaW5kKHRoaXMpLFxuICAgICAgb25TZWVraW5nOiB0aGlzLm9uU2Vla2luZy5iaW5kKHRoaXMpLFxuICAgICAgb25TZWVrZWQ6IHRoaXMub25TZWVrZWQuYmluZCh0aGlzKSxcbiAgICAgIG9uUmF0ZUNoYW5nZTogdGhpcy5vblJhdGVDaGFuZ2UuYmluZCh0aGlzKSxcbiAgICAgIG9uVm9sdW1lQ2hhbmdlOiB0aGlzLm9uVm9sdW1lQ2hhbmdlLmJpbmQodGhpcyksXG4gICAgICBvbkR1cmF0aW9uQ2hhbmdlOiB0aGlzLm9uRHVyYXRpb25DaGFuZ2UuYmluZCh0aGlzKSxcbiAgICAgIG9uV2FpdGluZzogdGhpcy5vbldhaXRpbmcuYmluZCh0aGlzKSxcbiAgICAgIG9uU3VzcGVuZDogdGhpcy5vblN1c3BlbmQuYmluZCh0aGlzKSxcbiAgICAgIG9uRW5kZWQ6IHRoaXMub25FbmRlZC5iaW5kKHRoaXMpLFxuICAgICAgb25FcnJvcjogdGhpcy5vbkVycm9yLmJpbmQodGhpcyksXG4gICAgfTtcbiAgICBjb25zdCBhdWRpbyA9IChoKFwiYXVkaW9cIiwgT2JqZWN0LmFzc2lnbih7IGNsYXNzOiBcImxhenlcIiB9LCBtZWRpYVByb3BzKSwgaChcInNsb3RcIiwgbnVsbCksIFwiWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlXCIsIGgoXCJjb2RlXCIsIG51bGwsIFwiYXVkaW9cIiksIFwiZWxlbWVudC5cIikpO1xuICAgIGNvbnN0IHZpZGVvID0gKGgoXCJ2aWRlb1wiLCBPYmplY3QuYXNzaWduKHsgY2xhc3M6IFwibGF6eVwiIH0sIG1lZGlhUHJvcHMsIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIG9uZW50ZXJwaWN0dXJlaW5waWN0dXJlOiB0aGlzLm9uRW50ZXJQaVAuYmluZCh0aGlzKSwgb25sZWF2ZXBpY3R1cmVpbnBpY3R1cmU6IHRoaXMub25MZWF2ZVBpUC5iaW5kKHRoaXMpXG4gICAgfSksIGgoXCJzbG90XCIsIG51bGwpLCBcIllvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoZVwiLCBoKFwiY29kZVwiLCBudWxsLCBcInZpZGVvXCIpLCBcImVsZW1lbnQuXCIpKTtcbiAgICByZXR1cm4gdGhpcy52aWV3VHlwZSA9PT0gVmlld1R5cGUuQXVkaW8gPyBhdWRpbyA6IHZpZGVvO1xuICB9XG4gIGdldCBob3N0KCkgeyByZXR1cm4gdGhpczsgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwibWVkaWFUaXRsZVwiOiBbXCJvbk1lZGlhVGl0bGVDaGFuZ2VcIl0sXG4gICAgXCJwb3N0ZXJcIjogW1wib25Qb3N0ZXJDaGFuZ2VcIl0sXG4gICAgXCJ2aWV3VHlwZVwiOiBbXCJvblZpZXdUeXBlQ2hhbmdlXCJdLFxuICAgIFwiaGFzQ3VzdG9tVGV4dE1hbmFnZXJcIjogW1wib25IYXNDdXN0b21UZXh0TWFuYWdlckNoYW5nZVwiXSxcbiAgICBcInNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3NcIjogW1wib25TaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzQ2hhbmdlXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIGZpbGVDc3M7IH1cbn07XG5cbmNvbnN0IGZ1bGxzY3JlZW5Db250cm9sQ3NzID0gXCI6aG9zdChbaGlkZGVuXSl7ZGlzcGxheTpub25lfVwiO1xuXG52YXIgX19hd2FpdGVyJGcgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbmNvbnN0IEZ1bGxzY3JlZW5Db250cm9sID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLmNhblNldEZ1bGxzY3JlZW4gPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZW50ZXIgZnVsbHNjcmVlbiBpY29uIHRvIHJlc29sdmUgZnJvbSB0aGUgaWNvbiBsaWJyYXJ5LlxuICAgICAqL1xuICAgIHRoaXMuZW50ZXJJY29uID0gJ2Z1bGxzY3JlZW4tZW50ZXInO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBleGl0IGZ1bGxzY3JlZW4gaWNvbiB0byByZXNvbHZlIGZyb20gdGhlIGljb24gbGlicmFyeS5cbiAgICAgKi9cbiAgICB0aGlzLmV4aXRJY29uID0gJ2Z1bGxzY3JlZW4tZXhpdCc7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdG9vbHRpcCBpcyBwb3NpdGlvbmVkIGFib3ZlL2JlbG93IHRoZSBjb250cm9sLlxuICAgICAqL1xuICAgIHRoaXMudG9vbHRpcFBvc2l0aW9uID0gJ3RvcCc7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdG9vbHRpcCBzaG91bGQgbm90IGJlIGRpc3BsYXllZC5cbiAgICAgKi9cbiAgICB0aGlzLmhpZGVUb29sdGlwID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgdGhpcy5rZXlzID0gJ2YnO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzRnVsbHNjcmVlbkFjdGl2ZSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmkxOG4gPSB7fTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wbGF5YmFja1JlYWR5ID0gZmFsc2U7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFsnaXNGdWxsc2NyZWVuQWN0aXZlJywgJ3BsYXliYWNrUmVhZHknLCAnaTE4biddKTtcbiAgfVxuICBvblBsYXliYWNrUmVhZHlDaGFuZ2UoKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkZyh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGNvbnN0IHBsYXllciA9IGdldFBsYXllckZyb21SZWdpc3RyeSh0aGlzKTtcbiAgICAgIHRoaXMuY2FuU2V0RnVsbHNjcmVlbiA9IChfYSA9ICh5aWVsZCAocGxheWVyID09PSBudWxsIHx8IHBsYXllciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxheWVyLmNhblNldEZ1bGxzY3JlZW4oKSkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZTtcbiAgICB9KTtcbiAgfVxuICBjb21wb25lbnREaWRMb2FkKCkge1xuICAgIHRoaXMub25QbGF5YmFja1JlYWR5Q2hhbmdlKCk7XG4gIH1cbiAgb25DbGljaygpIHtcbiAgICBjb25zdCBwbGF5ZXIgPSBnZXRQbGF5ZXJGcm9tUmVnaXN0cnkodGhpcyk7XG4gICAgIXRoaXMuaXNGdWxsc2NyZWVuQWN0aXZlXG4gICAgICA/IHBsYXllciA9PT0gbnVsbCB8fCBwbGF5ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsYXllci5lbnRlckZ1bGxzY3JlZW4oKVxuICAgICAgOiBwbGF5ZXIgPT09IG51bGwgfHwgcGxheWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbGF5ZXIuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgdG9vbHRpcCA9IHRoaXMuaXNGdWxsc2NyZWVuQWN0aXZlXG4gICAgICA/IHRoaXMuaTE4bi5leGl0RnVsbHNjcmVlblxuICAgICAgOiB0aGlzLmkxOG4uZW50ZXJGdWxsc2NyZWVuO1xuICAgIGNvbnN0IHRvb2x0aXBXaXRoSGludCA9ICFpc1VuZGVmaW5lZCh0aGlzLmtleXMpXG4gICAgICA/IGAke3Rvb2x0aXB9ICgke3RoaXMua2V5c30pYFxuICAgICAgOiB0b29sdGlwO1xuICAgIHJldHVybiAoaChIb3N0LCB7IGhpZGRlbjogIXRoaXMuY2FuU2V0RnVsbHNjcmVlbiB9LCBoKFwidm0tY29udHJvbFwiLCB7IGxhYmVsOiB0aGlzLmkxOG4uZnVsbHNjcmVlbiwga2V5czogdGhpcy5rZXlzLCBwcmVzc2VkOiB0aGlzLmlzRnVsbHNjcmVlbkFjdGl2ZSwgaGlkZGVuOiAhdGhpcy5jYW5TZXRGdWxsc2NyZWVuLCBvbkNsaWNrOiB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKSB9LCBoKFwidm0taWNvblwiLCB7IG5hbWU6IHRoaXMuaXNGdWxsc2NyZWVuQWN0aXZlID8gdGhpcy5leGl0SWNvbiA6IHRoaXMuZW50ZXJJY29uLCBsaWJyYXJ5OiB0aGlzLmljb25zIH0pLCBoKFwidm0tdG9vbHRpcFwiLCB7IGhpZGRlbjogdGhpcy5oaWRlVG9vbHRpcCwgcG9zaXRpb246IHRoaXMudG9vbHRpcFBvc2l0aW9uLCBkaXJlY3Rpb246IHRoaXMudG9vbHRpcERpcmVjdGlvbiB9LCB0b29sdGlwV2l0aEhpbnQpKSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJwbGF5YmFja1JlYWR5XCI6IFtcIm9uUGxheWJhY2tSZWFkeUNoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBmdWxsc2NyZWVuQ29udHJvbENzczsgfVxufTtcblxudmFyIF9fYXdhaXRlciRmID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCBITFMgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgdGhpcy52bUxvYWRTdGFydCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1Mb2FkU3RhcnRcIiwgNyk7XG4gICAgdGhpcy52bUVycm9yID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUVycm9yXCIsIDcpO1xuICAgIHRoaXMuaGFzQXR0YWNoZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBUaGUgTlBNIHBhY2thZ2UgdmVyc2lvbiBvZiB0aGUgYGhscy5qc2AgbGlicmFyeSB0byBkb3dubG9hZCBhbmQgdXNlIGlmIEhMUyBpcyBub3QgbmF0aXZlbHlcbiAgICAgKiBzdXBwb3J0ZWQuXG4gICAgICovXG4gICAgdGhpcy52ZXJzaW9uID0gJ2xhdGVzdCc7XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgdGhpcy5wcmVsb2FkID0gJ21ldGFkYXRhJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wbGF5YmFja1JlYWR5ID0gZmFsc2U7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQcm92aWRlckNvbm5lY3QodGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgWydwbGF5YmFja1JlYWR5J10pO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuZGlzcGF0Y2ggPSBjcmVhdGVQcm92aWRlckRpc3BhdGNoZXIodGhpcyk7XG4gICAgaWYgKHRoaXMubWVkaWFFbClcbiAgICAgIHRoaXMuc2V0dXBIbHMoKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmRlc3Ryb3lIbHMoKTtcbiAgfVxuICBnZXQgc3JjKCkge1xuICAgIGlmIChpc05pbCh0aGlzLnZpZGVvUHJvdmlkZXIpKVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBjb25zdCBzb3VyY2VzID0gdGhpcy52aWRlb1Byb3ZpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NvdXJjZScpO1xuICAgIGNvbnN0IGN1cnJTb3VyY2UgPSBBcnJheS5mcm9tKHNvdXJjZXMpLmZpbmQoc291cmNlID0+IGhsc1JlZ2V4LnRlc3Qoc291cmNlLnNyYykgfHwgaGxzVHlwZVJlZ2V4LnRlc3Qoc291cmNlLnR5cGUpKTtcbiAgICByZXR1cm4gY3VyclNvdXJjZSA9PT0gbnVsbCB8fCBjdXJyU291cmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyU291cmNlLnNyYztcbiAgfVxuICBzZXR1cEhscygpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJGYodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuaGxzKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5saWJTcmMgfHxcbiAgICAgICAgICBgaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9obHMuanNAJHt0aGlzLnZlcnNpb259L2Rpc3QvaGxzLm1pbi5qc2A7XG4gICAgICAgIGNvbnN0IEhscyA9ICh5aWVsZCBsb2FkU0RLKHVybCwgJ0hscycpKTtcbiAgICAgICAgaWYgKCFIbHMuaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgIHRoaXMudm1FcnJvci5lbWl0KCdobHMuanMgaXMgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhscyA9IG5ldyBIbHModGhpcy5jb25maWcpO1xuICAgICAgICB0aGlzLmhscy5vbihIbHMuRXZlbnRzLk1FRElBX0FUVEFDSEVELCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5oYXNBdHRhY2hlZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy5vblNyY0NoYW5nZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5obHMub24oSGxzLkV2ZW50cy5BVURJT19UUkFDS1NfVVBEQVRFRCwgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ2F1ZGlvVHJhY2tzJywgdGhpcy5obHMuYXVkaW9UcmFja3MpO1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ2N1cnJlbnRBdWRpb1RyYWNrJywgdGhpcy5obHMuYXVkaW9UcmFjayk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhscy5vbihIbHMuRXZlbnRzLkFVRElPX1RSQUNLX1NXSVRDSEVELCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudEF1ZGlvVHJhY2snLCB0aGlzLmhscy5hdWRpb1RyYWNrKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaGxzLm9uKEhscy5FdmVudHMuRVJST1IsIChldmVudCwgZGF0YSkgPT4ge1xuICAgICAgICAgIGlmIChkYXRhLmZhdGFsKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIEhscy5FcnJvclR5cGVzLk5FVFdPUktfRVJST1I6XG4gICAgICAgICAgICAgICAgdGhpcy5obHMuc3RhcnRMb2FkKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgSGxzLkVycm9yVHlwZXMuTUVESUFfRVJST1I6XG4gICAgICAgICAgICAgICAgdGhpcy5obHMucmVjb3Zlck1lZGlhRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3lIbHMoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy52bUVycm9yLmVtaXQoeyBldmVudCwgZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaGxzLm9uKEhscy5FdmVudHMuTUFOSUZFU1RfUEFSU0VELCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaCgnbWVkaWFUeXBlJywgTWVkaWFUeXBlLlZpZGVvKTtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50U3JjJywgdGhpcy5zcmMpO1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hMZXZlbHMoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaGxzLm9uKEhscy5FdmVudHMuTEVWRUxfTE9BREVELCAoXywgZGF0YSkgPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5wbGF5YmFja1JlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdkdXJhdGlvbicsIGRhdGEuZGV0YWlscy50b3RhbGR1cmF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXliYWNrUmVhZHknLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhscy5hdHRhY2hNZWRpYSh0aGlzLm1lZGlhRWwpO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhpcy52bUVycm9yLmVtaXQoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZGlzcGF0Y2hMZXZlbHMoKSB7XG4gICAgaWYgKCF0aGlzLmhscy5sZXZlbHMgfHwgdGhpcy5obHMubGV2ZWxzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1F1YWxpdGllcycsIFtcbiAgICAgICdBdXRvJyxcbiAgICAgIC4uLnRoaXMuaGxzLmxldmVscy5tYXAodGhpcy5sZXZlbFRvUGxheWJhY2tRdWFsaXR5KSxcbiAgICBdKTtcbiAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1F1YWxpdHknLCAnQXV0bycpO1xuICB9XG4gIGxldmVsVG9QbGF5YmFja1F1YWxpdHkobGV2ZWwpIHtcbiAgICByZXR1cm4gbGV2ZWwgPT09IC0xID8gJ0F1dG8nIDogYCR7bGV2ZWwuaGVpZ2h0fXBgO1xuICB9XG4gIGZpbmRMZXZlbEluZGV4RnJvbVF1YWxpdHkocXVhbGl0eSkge1xuICAgIHJldHVybiB0aGlzLmhscy5sZXZlbHMuZmluZEluZGV4KChsZXZlbCkgPT4gdGhpcy5sZXZlbFRvUGxheWJhY2tRdWFsaXR5KGxldmVsKSA9PT0gcXVhbGl0eSk7XG4gIH1cbiAgZGVzdHJveUhscygpIHtcbiAgICB2YXIgX2E7XG4gICAgKF9hID0gdGhpcy5obHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXN0cm95KCk7XG4gICAgdGhpcy5oYXNBdHRhY2hlZCA9IGZhbHNlO1xuICB9XG4gIG9uTWVkaWFFbENoYW5nZShldmVudCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkZih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHRoaXMuZGVzdHJveUhscygpO1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKGV2ZW50LmRldGFpbCkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIHRoaXMubWVkaWFFbCA9IGV2ZW50LmRldGFpbDtcbiAgICAgIC8vIE5lZWQgYSBzbWFsbCBkZWxheSBpbmNhc2UgdGhlIG1lZGlhIGVsZW1lbnQgY2hhbmdlcyByYXBpZGx5IGFuZCBIbHMuanMgY2FuJ3QgcmVhdHRhY2guXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IF9fYXdhaXRlciRmKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICB5aWVsZCB0aGlzLnNldHVwSGxzKCk7XG4gICAgICB9KSwgNTApO1xuICAgIH0pO1xuICB9XG4gIG9uU3JjQ2hhbmdlKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyJGYodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBpZiAodGhpcy5oYXNBdHRhY2hlZCAmJiB0aGlzLmhscy51cmwgIT09IHRoaXMuc3JjKSB7XG4gICAgICAgIHRoaXMudm1Mb2FkU3RhcnQuZW1pdCgpO1xuICAgICAgICAoX2EgPSB0aGlzLmhscykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxvYWRTb3VyY2UodGhpcy5zcmMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0QWRhcHRlcigpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkZih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGNvbnN0IGFkYXB0ZXIgPSAoX2IgPSAoeWllbGQgKChfYSA9IHRoaXMudmlkZW9Qcm92aWRlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldEFkYXB0ZXIoKSkpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB7fTtcbiAgICAgIGNvbnN0IGNhblZpZGVvUHJvdmlkZXJQbGF5ID0gYWRhcHRlci5jYW5QbGF5O1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYWRhcHRlciksIHsgZ2V0SW50ZXJuYWxQbGF5ZXI6ICgpID0+IF9fYXdhaXRlciRmKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyByZXR1cm4gdGhpcy5obHM7IH0pLCBjYW5QbGF5OiAodHlwZSkgPT4gX19hd2FpdGVyJGYodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgdmFyIF9jO1xuICAgICAgICAgIHJldHVybiAoaXNTdHJpbmcodHlwZSkgJiYgaGxzUmVnZXgudGVzdCh0eXBlKSkgfHxcbiAgICAgICAgICAgICgoX2MgPSBjYW5WaWRlb1Byb3ZpZGVyUGxheSA9PT0gbnVsbCB8fCBjYW5WaWRlb1Byb3ZpZGVyUGxheSA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2FuVmlkZW9Qcm92aWRlclBsYXkodHlwZSkpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGZhbHNlKTtcbiAgICAgICAgfSksIGNhblNldFBsYXliYWNrUXVhbGl0eTogKCkgPT4gX19hd2FpdGVyJGYodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHZhciBfZCwgX2U7IHJldHVybiAoKF9lID0gKF9kID0gdGhpcy5obHMpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5sZXZlbHMpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5sZW5ndGgpID4gMDsgfSksIHNldFBsYXliYWNrUXVhbGl0eTogKHF1YWxpdHkpID0+IF9fYXdhaXRlciRmKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5obHMpKSB7XG4gICAgICAgICAgICB0aGlzLmhscy5jdXJyZW50TGV2ZWwgPSB0aGlzLmZpbmRMZXZlbEluZGV4RnJvbVF1YWxpdHkocXVhbGl0eSk7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHByb3ZpZGVyIGNhY2hlLlxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCgncGxheWJhY2tRdWFsaXR5JywgcXVhbGl0eSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSwgc2V0Q3VycmVudEF1ZGlvVHJhY2s6ICh0cmFja0lkKSA9PiBfX2F3YWl0ZXIkZih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuaGxzKSkge1xuICAgICAgICAgICAgdGhpcy5obHMuYXVkaW9UcmFjayA9IHRyYWNrSWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9KSB9KTtcbiAgICB9KTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwidm0tdmlkZW9cIiwgeyB3aWxsQXR0YWNoOiB0cnVlLCBjcm9zc09yaWdpbjogdGhpcy5jcm9zc09yaWdpbiwgcHJlbG9hZDogdGhpcy5wcmVsb2FkLCBwb3N0ZXI6IHRoaXMucG9zdGVyLCBjb250cm9sc0xpc3Q6IHRoaXMuY29udHJvbHNMaXN0LCBhdXRvUGlQOiB0aGlzLmF1dG9QaVAsIGRpc2FibGVQaVA6IHRoaXMuZGlzYWJsZVBpUCwgZGlzYWJsZVJlbW90ZVBsYXliYWNrOiB0aGlzLmRpc2FibGVSZW1vdGVQbGF5YmFjaywgbWVkaWFUaXRsZTogdGhpcy5tZWRpYVRpdGxlLCByZWY6IChlbCkgPT4ge1xuICAgICAgICB0aGlzLnZpZGVvUHJvdmlkZXIgPSBlbDtcbiAgICAgIH0gfSwgaChcInNsb3RcIiwgbnVsbCkpKTtcbiAgfVxufTtcblxuLyoqXG4gKiBJTlNQSVJFRCBCWTogaHR0cHM6Ly9naXRodWIuY29tL3Nob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Jsb2IvbmV4dC9zcmMvY29tcG9uZW50cy9pY29uLWxpYnJhcnkvaWNvbi1saWJyYXJ5LXJlZ2lzdHJ5LnRzXG4gKi9cbmNvbnN0IElDT05TX0JBU0VfQ0ROX1VSTCA9ICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0B2aW1lL2NvcmVAbGF0ZXN0L2ljb25zJztcbmNvbnN0IHJlZ2lzdHJ5ID0gbmV3IE1hcChPYmplY3QuZW50cmllcyh7XG4gIHZpbWU6IGljb25OYW1lID0+IGAke0lDT05TX0JBU0VfQ0ROX1VSTH0vdmltZS92bS0ke2ljb25OYW1lfS5zdmdgLFxuICBtYXRlcmlhbDogaWNvbk5hbWUgPT4gYCR7SUNPTlNfQkFTRV9DRE5fVVJMfS9tYXRlcmlhbC9tZC0ke2ljb25OYW1lfS5zdmdgLFxufSkpO1xuY29uc3Qgd2F0Y2ggPSBuZXcgU2V0KCk7XG5mdW5jdGlvbiB3aXRoSWNvblJlZ2lzdHJ5KGNvbXBvbmVudCkge1xuICBjb25zdCBlbCA9IGdldEVsZW1lbnQoY29tcG9uZW50KTtcbiAgY3JlYXRlU3RlbmNpbEhvb2soY29tcG9uZW50LCAoKSA9PiB7XG4gICAgd2F0Y2guYWRkKGVsKTtcbiAgfSwgKCkgPT4ge1xuICAgIHdhdGNoLmRlbGV0ZShlbCk7XG4gIH0pO1xufVxuY29uc3QgZ2V0SWNvbkxpYnJhcnlSZXNvbHZlciA9IChuYW1lKSA9PiByZWdpc3RyeS5nZXQobmFtZSk7XG5mdW5jdGlvbiByZWdpc3Rlckljb25MaWJyYXJ5KG5hbWUsIHJlc29sdmVyKSB7XG4gIGlmICghaXNVbmRlZmluZWQocmVzb2x2ZXIpKSB7XG4gICAgcmVnaXN0cnkuc2V0KG5hbWUsIHJlc29sdmVyKTtcbiAgfVxuICAvLyBSZWRyYXcgd2F0Y2hlZCBpY29ucy5cbiAgd2F0Y2guZm9yRWFjaChpY29uRWwgPT4ge1xuICAgIGlmIChpY29uRWwubGlicmFyeSA9PT0gbmFtZSlcbiAgICAgIGljb25FbC5yZWRyYXcoKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBkZXJlZ2lzdGVySWNvbkxpYnJhcnkobmFtZSkge1xuICByZWdpc3RyeS5kZWxldGUobmFtZSk7XG59XG5cbi8qKlxuICogSU5TUElSRUQgQlk6IGh0dHBzOi8vZ2l0aHViLmNvbS9zaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9ibG9iL25leHQvc3JjL2NvbXBvbmVudHMvaWNvbi9yZXF1ZXN0LnRzXG4gKi9cbnZhciBfX2F3YWl0ZXIkZSA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCBpY29uRmlsZXMgPSBuZXcgTWFwKCk7XG5jb25zdCByZXF1ZXN0SWNvbiA9ICh1cmwpID0+IHtcbiAgaWYgKGljb25GaWxlcy5oYXModXJsKSlcbiAgICByZXR1cm4gaWNvbkZpbGVzLmdldCh1cmwpO1xuICBjb25zdCByZXF1ZXN0ID0gZmV0Y2godXJsKS50aGVuKChyZXNwb25zZSkgPT4gX19hd2FpdGVyJGUodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZGl2LmlubmVySFRNTCA9IHlpZWxkIHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIGNvbnN0IHN2ZyA9IGRpdi5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9rOiByZXNwb25zZS5vayxcbiAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHN2Zzogc3ZnICYmIHN2Zy50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzdmcnID8gc3ZnLm91dGVySFRNTCA6ICcnLFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIG9rOiByZXNwb25zZS5vayxcbiAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgIH07XG4gIH0pKTtcbiAgaWNvbkZpbGVzLnNldCh1cmwsIHJlcXVlc3QpO1xuICByZXR1cm4gcmVxdWVzdDtcbn07XG5cbmNvbnN0IGljb25Dc3MgPSBcIjpob3N0e2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjFlbTtoZWlnaHQ6MWVtO2NvbnRhaW46c3RyaWN0O2JveC1zaXppbmc6Y29udGVudC1ib3ggIWltcG9ydGFudH0uaWNvbixzdmd7ZGlzcGxheTpibG9jaztoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlO3RyYW5zaXRpb246dmFyKC0tdm0taWNvbi10cmFuc2l0aW9uKTt0cmFuc2Zvcm06dmFyKC0tdm0taWNvbi10cmFuc2Zvcm0pO2ZpbGw6dmFyKC0tdm0taWNvbi1maWxsLCBjdXJyZW50Q29sb3IpO3N0cm9rZTp2YXIoLS12bS1pY29uLXN0cm9rZSl9XCI7XG5cbi8qKlxuICogSU5TUElSRUQgQlk6IGh0dHBzOi8vZ2l0aHViLmNvbS9zaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9ibG9iL25leHQvc3JjL2NvbXBvbmVudHMvaWNvbi9pY29uLnRzeFxuICovXG52YXIgX19hd2FpdGVyJGQgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbmNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbmNvbnN0IEljb24gPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMudm1Mb2FkID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUxvYWRcIiwgNyk7XG4gICAgdGhpcy52bUVycm9yID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUVycm9yXCIsIDcpO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmljb25zID0gJ21hdGVyaWFsJztcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aEljb25SZWdpc3RyeSh0aGlzKTtcbiAgfVxuICBoYW5kbGVDaGFuZ2UoKSB7XG4gICAgdGhpcy5zZXRJY29uKCk7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgWydpY29ucyddKTtcbiAgfVxuICBjb21wb25lbnREaWRMb2FkKCkge1xuICAgIHRoaXMuc2V0SWNvbigpO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWwgRmV0Y2hlcyB0aGUgaWNvbiBhbmQgcmVkcmF3cyBpdC4gVXNlZCB0byBoYW5kbGUgbGlicmFyeSByZWdpc3RyYXRpb25zLlxuICAgKi9cbiAgcmVkcmF3KCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkZCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHRoaXMuc2V0SWNvbigpO1xuICAgIH0pO1xuICB9XG4gIGdldExhYmVsKCkge1xuICAgIGxldCBsYWJlbCA9ICcnO1xuICAgIGlmICh0aGlzLmxhYmVsKSB7XG4gICAgICBsYWJlbCA9IHRoaXMubGFiZWw7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMubmFtZSkge1xuICAgICAgbGFiZWwgPSB0aGlzLm5hbWUucmVwbGFjZSgvLS9nLCAnICcpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLnNyYykge1xuICAgICAgbGFiZWwgPSB0aGlzLnNyY1xuICAgICAgICAucmVwbGFjZSgvLipcXC8vLCAnJylcbiAgICAgICAgLnJlcGxhY2UoLy0vZywgJyAnKVxuICAgICAgICAucmVwbGFjZSgvXFwuc3ZnL2ksICcnKTtcbiAgICB9XG4gICAgcmV0dXJuIGxhYmVsO1xuICB9XG4gIHNldEljb24oKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkZCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGNvbnN0IHJlc29sdmVyID0gZ2V0SWNvbkxpYnJhcnlSZXNvbHZlcigoX2EgPSB0aGlzLmxpYnJhcnkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMuaWNvbnMpO1xuICAgICAgbGV0IHVybCA9IHRoaXMuc3JjO1xuICAgICAgaWYgKHRoaXMubmFtZSAmJiByZXNvbHZlcikge1xuICAgICAgICB1cmwgPSByZXNvbHZlcih0aGlzLm5hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKHVybCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGZpbGUgPSB5aWVsZCByZXF1ZXN0SWNvbih1cmwpO1xuICAgICAgICAgIGlmIChmaWxlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCBkb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGZpbGUuc3ZnLCAndGV4dC9odG1sJyk7XG4gICAgICAgICAgICBjb25zdCBzdmcgPSBkb2MuYm9keS5xdWVyeVNlbGVjdG9yKCdzdmcnKTtcbiAgICAgICAgICAgIGlmIChzdmcpIHtcbiAgICAgICAgICAgICAgdGhpcy5zdmcgPSBzdmcub3V0ZXJIVE1MO1xuICAgICAgICAgICAgICB0aGlzLnZtTG9hZC5lbWl0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5zdmcgPSAnJztcbiAgICAgICAgICAgICAgdGhpcy52bUVycm9yLmVtaXQoeyBzdGF0dXM6IGZpbGUuc3RhdHVzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX2IpIHtcbiAgICAgICAgICB0aGlzLnZtRXJyb3IuZW1pdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBcImljb25cIiwgcm9sZTogXCJpbWdcIiwgXCJhcmlhLWxhYmVsXCI6IHRoaXMuZ2V0TGFiZWwoKSwgaW5uZXJIVE1MOiB0aGlzLnN2ZyB9KSk7XG4gIH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcIm5hbWVcIjogW1wiaGFuZGxlQ2hhbmdlXCJdLFxuICAgIFwic3JjXCI6IFtcImhhbmRsZUNoYW5nZVwiXSxcbiAgICBcImxpYnJhcnlcIjogW1wiaGFuZGxlQ2hhbmdlXCJdLFxuICAgIFwiaWNvbnNcIjogW1wiaGFuZGxlQ2hhbmdlXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIGljb25Dc3M7IH1cbn07XG5cbmNvbnN0IEljb25MaWJyYXJ5ID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pY29ucyA9ICdtYXRlcmlhbCc7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFsnaWNvbnMnXSk7XG4gIH1cbiAgaGFuZGxlVXBkYXRlKCkge1xuICAgIHRoaXMucmVnaXN0ZXIoKTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLnJlZ2lzdGVyKCk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLm5hbWUpKVxuICAgICAgZGVyZWdpc3Rlckljb25MaWJyYXJ5KHRoaXMubmFtZSk7XG4gIH1cbiAgcmVnaXN0ZXIoKSB7XG4gICAgdmFyIF9hO1xuICAgIHJlZ2lzdGVySWNvbkxpYnJhcnkoKF9hID0gdGhpcy5uYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmljb25zLCB0aGlzLm5hbWUgPyB0aGlzLnJlc29sdmVyIDogdW5kZWZpbmVkKTtcbiAgfVxuICBnZXQgaG9zdCgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcIm5hbWVcIjogW1wiaGFuZGxlVXBkYXRlXCJdLFxuICAgIFwicmVzb2x2ZXJcIjogW1wiaGFuZGxlVXBkYXRlXCJdLFxuICAgIFwiaWNvbnNcIjogW1wiaGFuZGxlVXBkYXRlXCJdXG4gIH07IH1cbn07XG5cbmNvbnN0IGxpdmVJbmRpY2F0b3JDc3MgPSBcIi5saXZlSW5kaWNhdG9ye2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Zm9udC1zaXplOjEzcHg7Zm9udC13ZWlnaHQ6Ym9sZDtsZXR0ZXItc3BhY2luZzowLjZweDtjb2xvcjp2YXIoLS12bS1jb250cm9sLWNvbG9yKX0ubGl2ZUluZGljYXRvci5oaWRkZW57ZGlzcGxheTpub25lfS5pbmRpY2F0b3J7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6OHB4O2hlaWdodDo4cHg7Ym9yZGVyLXJhZGl1czo1MCU7bWFyZ2luLXJpZ2h0OjRweDtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXZtLWxpdmUtaW5kaWNhdG9yLWNvbG9yLCByZWQpfVwiO1xuXG5jb25zdCBMaXZlSW5kaWNhdG9yID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc0xpdmUgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pMThuID0ge307XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFsnaXNMaXZlJywgJ2kxOG4nXSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiB7XG4gICAgICAgIGxpdmVJbmRpY2F0b3I6IHRydWUsXG4gICAgICAgIGhpZGRlbjogIXRoaXMuaXNMaXZlLFxuICAgICAgfSB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiaW5kaWNhdG9yXCIgfSksIHRoaXMuaTE4bi5saXZlKSk7XG4gIH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIGxpdmVJbmRpY2F0b3JDc3M7IH1cbn07XG5cbmNvbnN0IGxvYWRpbmdTY3JlZW5Dc3MgPSBcIjpob3N0e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3BvaW50ZXItZXZlbnRzOm5vbmU7ei1pbmRleDp2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi16LWluZGV4KTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9LmxvYWRpbmdTY3JlZW57b3BhY2l0eToxMDA7dHJhbnNpdGlvbjp2YXIoLS12bS1mYWRlLXRyYW5zaXRpb24pfS5sb2FkaW5nU2NyZWVuLmluYWN0aXZle29wYWNpdHk6MH0uZG90UHVsc2V7cG9zaXRpb246cmVsYXRpdmU7bGVmdDotOTk5OXB4O3dpZHRoOnZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1zaXplKTtoZWlnaHQ6dmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tZG90LXNpemUpO2JvcmRlci1yYWRpdXM6Y2FsYyh2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3Qtc2l6ZSkgLyAyKTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1jb2xvcik7Y29sb3I6dmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tZG90LWNvbG9yKTtib3gtc2hhZG93Ojk5OTlweCAwIDAgY2FsYyhjYWxjKHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1zaXplKSAvIDIpICogLTEpXFxuICAgIHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1jb2xvcik7YW5pbWF0aW9uOmRvdFB1bHNlIHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLXB1bHNlLWR1cmF0aW9uKSBpbmZpbml0ZSBsaW5lYXI7YW5pbWF0aW9uLWRlbGF5OmNhbGModmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tcHVsc2UtZHVyYXRpb24pIC8gNil9LmRvdFB1bHNlOjpiZWZvcmUsLmRvdFB1bHNlOjphZnRlcntjb250ZW50OicnO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpZHRoOnZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1zaXplKTtoZWlnaHQ6dmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tZG90LXNpemUpO2JvcmRlci1yYWRpdXM6Y2FsYyh2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3Qtc2l6ZSkgLyAyKTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1jb2xvcik7Y29sb3I6dmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tZG90LWNvbG9yKX0uZG90UHVsc2U6OmJlZm9yZXtib3gtc2hhZG93Ojk5ODRweCAwIDAgY2FsYyhjYWxjKHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1zaXplKSAvIDIpICogLTEpXFxuICAgIHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1jb2xvcik7YW5pbWF0aW9uOmRvdFB1bHNlQmVmb3JlIHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLXB1bHNlLWR1cmF0aW9uKSBpbmZpbml0ZVxcbiAgICBsaW5lYXI7YW5pbWF0aW9uLWRlbGF5OjBzfS5kb3RQdWxzZTo6YWZ0ZXJ7Ym94LXNoYWRvdzoxMDAxNHB4IDAgMCBjYWxjKGNhbGModmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tZG90LXNpemUpIC8gMikgKiAtMSlcXG4gICAgdmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tZG90LWNvbG9yKTthbmltYXRpb246ZG90UHVsc2VBZnRlciB2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1wdWxzZS1kdXJhdGlvbikgaW5maW5pdGVcXG4gICAgbGluZWFyO2FuaW1hdGlvbi1kZWxheTpjYWxjKHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLXB1bHNlLWR1cmF0aW9uKSAvIDMpfUBrZXlmcmFtZXMgZG90UHVsc2VCZWZvcmV7MCV7Ym94LXNoYWRvdzo5OTg0cHggMCAwXFxuICAgICAgY2FsYyhjYWxjKHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1zaXplKSAvIDIpICogLTEpXFxuICAgICAgdmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tZG90LWNvbG9yKX0zMCV7Ym94LXNoYWRvdzo5OTg0cHggMCAwIDJweCB2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3QtY29sb3IpfTYwJSwxMDAle2JveC1zaGFkb3c6OTk4NHB4IDAgMFxcbiAgICAgIGNhbGMoY2FsYyh2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3Qtc2l6ZSkgLyAyKSAqIC0xKVxcbiAgICAgIHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1jb2xvcil9fUBrZXlmcmFtZXMgZG90UHVsc2V7MCV7Ym94LXNoYWRvdzo5OTk5cHggMCAwXFxuICAgICAgY2FsYyhjYWxjKHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1zaXplKSAvIDIpICogLTEpXFxuICAgICAgdmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tZG90LWNvbG9yKX0zMCV7Ym94LXNoYWRvdzo5OTk5cHggMCAwIDJweCB2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3QtY29sb3IpfTYwJSwxMDAle2JveC1zaGFkb3c6OTk5OXB4IDAgMFxcbiAgICAgIGNhbGMoY2FsYyh2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3Qtc2l6ZSkgLyAyKSAqIC0xKVxcbiAgICAgIHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1jb2xvcil9fUBrZXlmcmFtZXMgZG90UHVsc2VBZnRlcnswJXtib3gtc2hhZG93OjEwMDE0cHggMCAwXFxuICAgICAgY2FsYyhjYWxjKHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1zaXplKSAvIDIpICogLTEpXFxuICAgICAgdmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tZG90LWNvbG9yKX0zMCV7Ym94LXNoYWRvdzoxMDAxNHB4IDAgMCAycHggdmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tZG90LWNvbG9yKX02MCUsMTAwJXtib3gtc2hhZG93OjEwMDE0cHggMCAwXFxuICAgICAgY2FsYyhjYWxjKHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1zaXplKSAvIDIpICogLTEpXFxuICAgICAgdmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tZG90LWNvbG9yKX19XCI7XG5cbmNvbnN0IExvYWRpbmdTY3JlZW4gPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBsYXliYWNrUmVhZHkgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBsb2FkaW5nIGRvdHMgYXJlIGhpZGRlbiBvciBub3QuXG4gICAgICovXG4gICAgdGhpcy5oaWRlRG90cyA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbJ3BsYXliYWNrUmVhZHknXSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiB7XG4gICAgICAgIGxvYWRpbmdTY3JlZW46IHRydWUsXG4gICAgICAgIGluYWN0aXZlOiB0aGlzLnBsYXliYWNrUmVhZHksXG4gICAgICB9IH0sIGgoXCJzbG90XCIsIG51bGwpLCAhdGhpcy5oaWRlRG90cyAmJiBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiZG90UHVsc2VcIiB9KSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBsb2FkaW5nU2NyZWVuQ3NzOyB9XG59O1xuXG5mdW5jdGlvbiB1bndyYXBTdWJtZW51KGVsKSB7XG4gIGlmIChlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICd2bS1zdWJtZW51JylcbiAgICByZXR1cm4gZWw7XG4gIGNvbnN0IHN1Ym1lbnUgPSBlbDtcbiAgcmV0dXJuIHN1Ym1lbnUuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCd2bS1tZW51LWl0ZW0nKTtcbn1cbmZ1bmN0aW9uIHVud3JhcFJhZGlvR3JvdXAoZWwpIHtcbiAgdmFyIF9hO1xuICBpZiAoZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAndm0tbWVudS1yYWRpby1ncm91cCcpXG4gICAgcmV0dXJuIGVsO1xuICBjb25zdCByYWRpb0dyb3VwID0gZWw7XG4gIGNvbnN0IHNsb3QgPSByYWRpb0dyb3VwLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3Rvcignc2xvdCcpO1xuICBjb25zdCBhc3NpZ25lZEVsZW1lbnRzID0gQXJyYXkuZnJvbSgoX2EgPSBzbG90ID09PSBudWxsIHx8IHNsb3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNsb3QuYXNzaWduZWRFbGVtZW50cygpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSk7XG4gIHJldHVybiBhc3NpZ25lZEVsZW1lbnRzXG4gICAgLmZpbHRlcihyYWRpbyA9PiByYWRpby50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd2bS1tZW51LXJhZGlvJylcbiAgICAubWFwKHJhZGlvID0+IHJhZGlvLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3Rvcigndm0tbWVudS1pdGVtJykpO1xufVxuZnVuY3Rpb24gbWVudUl0ZW1IdW50ZXIoYXNzaWduZWRFbGVtZW50cykge1xuICBpZiAoaXNVbmRlZmluZWQoYXNzaWduZWRFbGVtZW50cykpXG4gICAgcmV0dXJuIFtdO1xuICBjb25zdCBhbGxvd2VkID0gWyd2bS1tZW51LWl0ZW0nLCAndm0tbWVudS1yYWRpby1ncm91cCcsICd2bS1zdWJtZW51J107XG4gIHJldHVybiBBcnJheS5mcm9tKGFzc2lnbmVkRWxlbWVudHMgIT09IG51bGwgJiYgYXNzaWduZWRFbGVtZW50cyAhPT0gdm9pZCAwID8gYXNzaWduZWRFbGVtZW50cyA6IFtdKVxuICAgIC5maWx0ZXIoZWwgPT4gYWxsb3dlZC5pbmNsdWRlcyhlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpKVxuICAgIC5tYXAoZWwgPT4gdW53cmFwU3VibWVudShlbCkpXG4gICAgLm1hcChlbCA9PiB1bndyYXBSYWRpb0dyb3VwKGVsKSlcbiAgICAucmVkdWNlKChhY2MsIHZhbCkgPT4gYWNjLmNvbmNhdCh2YWwpLCBbXSk7XG59XG5cbmNvbnN0IG1lbnVDc3MgPSBcIjpob3N0e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO292ZXJmbG93OmhpZGRlbjtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6dmFyKC0tdm0tbWVudS16LWluZGV4KX06aG9zdChbYWN0aXZlXSl7cG9pbnRlci1ldmVudHM6YXV0bzt6LWluZGV4OmNhbGModmFyKC0tdm0tbWVudS16LWluZGV4KSArIDEpfS5tZW51e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JveC1zaXppbmc6Ym9yZGVyLWJveDt0cmFuc2l0aW9uOnZhcigtLXZtLW1lbnUtdHJhbnNpdGlvbil9Lm1lbnUuc2xpZGVJbnt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKX0ubWVudVthcmlhLWhpZGRlbj0ndHJ1ZSddLnNsaWRlSW5Gcm9tTGVmdHt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTAwJSl9Lm1lbnVbYXJpYS1oaWRkZW49J3RydWUnXS5zbGlkZUluRnJvbVJpZ2h0e3RyYW5zZm9ybTp0cmFuc2xhdGVYKDEwMCUpfS5jb250YWluZXJ7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtwb3NpdGlvbjpyZWxhdGl2ZTt0ZXh0LWFsaWduOmxlZnQ7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtjb2xvcjp2YXIoLS12bS1tZW51LWNvbG9yKTtiYWNrZ3JvdW5kOnZhcigtLXZtLW1lbnUtYmcpO2ZvbnQtc2l6ZTp2YXIoLS12bS1tZW51LWZvbnQtc2l6ZSk7Zm9udC13ZWlnaHQ6dmFyKC0tdm0tbWVudS1mb250LXdlaWdodCl9Lm1lbnU6Zm9jdXN7b3V0bGluZTowfVwiO1xuXG52YXIgX19hd2FpdGVyJGMgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbmNvbnN0IE1lbnUgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMudm1PcGVuID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bU9wZW5cIiwgNyk7XG4gICAgdGhpcy52bUNsb3NlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUNsb3NlXCIsIDcpO1xuICAgIHRoaXMudm1Gb2N1cyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1Gb2N1c1wiLCA3KTtcbiAgICB0aGlzLnZtQmx1ciA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1CbHVyXCIsIDcpO1xuICAgIHRoaXMudm1BY3RpdmVTdWJtZW51Q2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUFjdGl2ZVN1Ym1lbnVDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bUFjdGl2ZU1lbnVJdGVtQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUFjdGl2ZU1lbnVJdGVtQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1NZW51SGVpZ2h0Q2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bU1lbnVIZWlnaHRDaGFuZ2VcIiwgMyk7XG4gICAgdGhpcy5oYXNEaXNjb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBtZW51IGlzIG9wZW4vdmlzaWJsZS5cbiAgICAgKi9cbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgfVxuICBvbkFjdGl2ZU1lbnVpdGVtQ2hhbmdlKCkge1xuICAgIHRoaXMudm1BY3RpdmVNZW51SXRlbUNoYW5nZS5lbWl0KHRoaXMuYWN0aXZlTWVudUl0ZW0pO1xuICB9XG4gIG9uQWN0aXZlU3VibWVudUNoYW5nZSgpIHtcbiAgICB0aGlzLnZtQWN0aXZlU3VibWVudUNoYW5nZS5lbWl0KHRoaXMuYWN0aXZlU3VibWVudSk7XG4gIH1cbiAgb25BY3RpdmVDaGFuZ2UoKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICh0aGlzLmhhc0Rpc2Nvbm5lY3RlZClcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLmFjdGl2ZSA/IHRoaXMudm1PcGVuLmVtaXQodGhpcy5ob3N0KSA6IHRoaXMudm1DbG9zZS5lbWl0KHRoaXMuaG9zdCk7XG4gICAgaWYgKCgoX2EgPSB0aGlzLmNvbnRyb2xsZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpID09PSAndm0tbWVudS1pdGVtJykge1xuICAgICAgdGhpcy5jb250cm9sbGVyLmV4cGFuZGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5oYXNEaXNjb25uZWN0ZWQgPSBmYWxzZTtcbiAgfVxuICBjb21wb25lbnREaWRSZW5kZXIoKSB7XG4gICAgd3JpdGVUYXNrKCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5oYXNEaXNjb25uZWN0ZWQpXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlSGVpZ2h0KCk7XG4gICAgfSk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5jb250cm9sbGVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaGFzRGlzY29ubmVjdGVkID0gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogRm9jdXNlcyB0aGUgbWVudS5cbiAgICovXG4gIGZvY3VzTWVudSgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRjKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgKF9hID0gdGhpcy5tZW51KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9jdXMoKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBmb2N1cyBmcm9tIHRoZSBtZW51LlxuICAgKi9cbiAgYmx1ck1lbnUoKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkYyh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIChfYSA9IHRoaXMubWVudSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJsdXIoKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudGx5IGZvY3VzZWQgbWVudSBpdGVtLlxuICAgKi9cbiAgZ2V0QWN0aXZlTWVudUl0ZW0oKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRjKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlTWVudUl0ZW07XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGN1cnJlbnRseSBmb2N1c2VkIG1lbnUgaXRlbS5cbiAgICovXG4gIHNldEFjdGl2ZU1lbnVJdGVtKGl0ZW0pIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJGModGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0uZm9jdXNJdGVtKCk7XG4gICAgICB0aGlzLmFjdGl2ZU1lbnVJdGVtID0gaXRlbTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgaGVpZ2h0IG9mIHRoZSBzZXR0aW5ncyBtZW51IGJhc2VkIG9uIGl0cyBjaGlsZHJlbi5cbiAgICovXG4gIGNhbGN1bGF0ZUhlaWdodCgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkYyh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGxldCBoZWlnaHQgPSAwO1xuICAgICAgaWYgKHRoaXMuYWN0aXZlU3VibWVudSkge1xuICAgICAgICBjb25zdCBzdWJtZW51ID0geWllbGQgdGhpcy5hY3RpdmVTdWJtZW51LmdldE1lbnUoKTtcbiAgICAgICAgaGVpZ2h0ID0gKF9hID0gKHlpZWxkIChzdWJtZW51ID09PSBudWxsIHx8IHN1Ym1lbnUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN1Ym1lbnUuY2FsY3VsYXRlSGVpZ2h0KCkpKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMDtcbiAgICAgICAgaGVpZ2h0ICs9IHlpZWxkIHRoaXMuYWN0aXZlU3VibWVudS5nZXRDb250cm9sbGVySGVpZ2h0KCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSAoKF9iID0gdGhpcy5jb250YWluZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5maXJzdENoaWxkKS5hc3NpZ25lZEVsZW1lbnRzKHsgZmxhdHRlbjogdHJ1ZSB9KTtcbiAgICAgICAgY2hpbGRyZW4gPT09IG51bGwgfHwgY2hpbGRyZW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICAgIGhlaWdodCArPSBwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNoaWxkKS5oZWlnaHQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMudm1NZW51SGVpZ2h0Q2hhbmdlLmVtaXQoaGVpZ2h0KTtcbiAgICAgIHJldHVybiBoZWlnaHQ7XG4gICAgfSk7XG4gIH1cbiAgb25PcGVuU3VibWVudShldmVudCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5hY3RpdmVTdWJtZW51KSlcbiAgICAgIHRoaXMuYWN0aXZlU3VibWVudS5hY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLmFjdGl2ZVN1Ym1lbnUgPSBldmVudC5kZXRhaWw7XG4gICAgdGhpcy5nZXRDaGlsZHJlbigpLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgaWYgKGNoaWxkICE9PSB0aGlzLmFjdGl2ZVN1Ym1lbnUpIHtcbiAgICAgICAgY2hpbGQuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICAgICAgY2hpbGQuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHdyaXRlVGFzaygoKSA9PiB7XG4gICAgICB0aGlzLmFjdGl2ZVN1Ym1lbnUuYWN0aXZlID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuICBvbkNsb3NlU3VibWVudShldmVudCkge1xuICAgIGV2ZW50ID09PSBudWxsIHx8IGV2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuYWN0aXZlU3VibWVudSkpXG4gICAgICB0aGlzLmFjdGl2ZVN1Ym1lbnUuYWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5nZXRDaGlsZHJlbigpLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgaWYgKGNoaWxkICE9PSB0aGlzLmFjdGl2ZVN1Ym1lbnUpIHtcbiAgICAgICAgY2hpbGQuc3R5bGUub3BhY2l0eSA9ICcnO1xuICAgICAgICBjaGlsZC5zdHlsZS52aXNpYmlsaXR5ID0gJyc7XG4gICAgICB9XG4gICAgfSk7XG4gICAgd3JpdGVUYXNrKCgpID0+IHtcbiAgICAgIHRoaXMuYWN0aXZlU3VibWVudSA9IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgfVxuICBvbldpbmRvd0NsaWNrKCkge1xuICAgIHRoaXMub25DbG9zZVN1Ym1lbnUoKTtcbiAgICB0aGlzLm9uQ2xvc2UoKTtcbiAgfVxuICBvbldpbmRvd0tleURvd24oZXZlbnQpIHtcbiAgICBpZiAodGhpcy5hY3RpdmUgJiYgZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5vbkNsb3NlU3VibWVudSgpO1xuICAgICAgdGhpcy5vbkNsb3NlKCk7XG4gICAgICB0aGlzLmZvY3VzQ29udHJvbGxlcigpO1xuICAgIH1cbiAgfVxuICBnZXRDaGlsZHJlbigpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgYXNzaWduZWRFbGVtZW50cyA9IChfYSA9IHRoaXMuaG9zdFxuICAgICAgLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3Rvcignc2xvdCcpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYXNzaWduZWRFbGVtZW50cyh7IGZsYXR0ZW46IHRydWUgfSk7XG4gICAgcmV0dXJuIChhc3NpZ25lZEVsZW1lbnRzICE9PSBudWxsICYmIGFzc2lnbmVkRWxlbWVudHMgIT09IHZvaWQgMCA/IGFzc2lnbmVkRWxlbWVudHMgOiBbXSk7XG4gIH1cbiAgZ2V0TWVudUl0ZW1zKCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBhc3NpZ25lZEVsZW1lbnRzID0gKF9hID0gdGhpcy5ob3N0XG4gICAgICAuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdzbG90JykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hc3NpZ25lZEVsZW1lbnRzKHsgZmxhdHRlbjogdHJ1ZSB9KTtcbiAgICByZXR1cm4gbWVudUl0ZW1IdW50ZXIoYXNzaWduZWRFbGVtZW50cyk7XG4gIH1cbiAgZm9jdXNDb250cm9sbGVyKCkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCgoX2EgPSB0aGlzLmNvbnRyb2xsZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1c0l0ZW0pKSB7XG4gICAgICAoX2IgPSB0aGlzLmNvbnRyb2xsZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5mb2N1c0l0ZW0oKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWlzVW5kZWZpbmVkKChfYyA9IHRoaXMuY29udHJvbGxlcikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmZvY3VzQ29udHJvbCkpIHtcbiAgICAgIChfZCA9IHRoaXMuY29udHJvbGxlcikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmZvY3VzQ29udHJvbCgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIChfZSA9IHRoaXMuY29udHJvbGxlcikgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmZvY3VzKCk7XG4gICAgfVxuICB9XG4gIHRyaWdnZXJNZW51SXRlbSgpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHRoaXMuYWN0aXZlTWVudUl0ZW0pKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuYWN0aXZlTWVudUl0ZW0uY2xpY2soKTtcbiAgICAvLyBJZiBpdCBjb250cm9scyBhIG1lbnUgdGhlbiBmb2N1cyBpdCBlc3NlbnRpYWxseSBvcGVuaW5nIGl0LlxuICAgIChfYSA9IHRoaXMuYWN0aXZlTWVudUl0ZW0ubWVudSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzTWVudSgpO1xuICB9XG4gIG9uQ2xvc2UoKSB7XG4gICAgdGhpcy5hY3RpdmVNZW51SXRlbSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICB9XG4gIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAvLyBTdG9wIHRoZSBldmVudCBmcm9tIHByb3BhZ2F0aW5nIHdoaWxlIHBsYXlpbmcgd2l0aCBtZW51IHNvIHRoYXQgd2hlbiBpdCBpcyBjbGlja2VkIG91dHNpZGVcbiAgICAvLyB0aGUgbWVudSB3ZSBjYW4gY2xvc2UgaXQgaW4gdGhlIGBvbldpbmRvd0NsaWNrYCBoYW5kbGVyIGFib3ZlLlxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG4gIG9uRm9jdXMoKSB7XG4gICAgdmFyIF9hO1xuICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICBbdGhpcy5hY3RpdmVNZW51SXRlbV0gPSB0aGlzLmdldE1lbnVJdGVtcygpO1xuICAgIChfYSA9IHRoaXMuYWN0aXZlTWVudUl0ZW0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1c0l0ZW0oKTtcbiAgICB0aGlzLnZtRm9jdXMuZW1pdCgpO1xuICB9XG4gIG9uQmx1cigpIHtcbiAgICB0aGlzLnZtQmx1ci5lbWl0KCk7XG4gIH1cbiAgZm91Y3NNZW51SXRlbShpdGVtcywgaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPCAwKVxuICAgICAgaW5kZXggPSBpdGVtcy5sZW5ndGggLSAxO1xuICAgIGlmIChpbmRleCA+IGl0ZW1zLmxlbmd0aCAtIDEpXG4gICAgICBpbmRleCA9IDA7XG4gICAgdGhpcy5hY3RpdmVNZW51SXRlbSA9IGl0ZW1zW2luZGV4XTtcbiAgICB0aGlzLmFjdGl2ZU1lbnVJdGVtLmZvY3VzSXRlbSgpO1xuICB9XG4gIG9uS2V5RG93bihldmVudCkge1xuICAgIGlmICghdGhpcy5hY3RpdmUpXG4gICAgICByZXR1cm47XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBjb25zdCBpdGVtcyA9IHRoaXMuZ2V0TWVudUl0ZW1zKCk7XG4gICAgbGV0IGluZGV4ID0gaXRlbXMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbSA9PT0gdGhpcy5hY3RpdmVNZW51SXRlbSk7XG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgIGNhc2UgJ0VzY2FwZSc6XG4gICAgICAgIHRoaXMub25DbG9zZSgpO1xuICAgICAgICB0aGlzLmZvY3VzQ29udHJvbGxlcigpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICBjYXNlICdUYWInOlxuICAgICAgICB0aGlzLmZvdWNzTWVudUl0ZW0oaXRlbXMsIChpbmRleCArPSAxKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgIHRoaXMuZm91Y3NNZW51SXRlbShpdGVtcywgKGluZGV4IC09IDEpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdBcnJvd0xlZnQnOlxuICAgICAgICB0aGlzLm9uQ2xvc2UoKTtcbiAgICAgICAgdGhpcy5mb2N1c0NvbnRyb2xsZXIoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcbiAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgIGNhc2UgJyAnOlxuICAgICAgICB0aGlzLnRyaWdnZXJNZW51SXRlbSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0hvbWUnOlxuICAgICAgY2FzZSAnUGFnZVVwJzpcbiAgICAgICAgdGhpcy5mb3Vjc01lbnVJdGVtKGl0ZW1zLCAwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdFbmQnOlxuICAgICAgY2FzZSAnUGFnZURvd24nOlxuICAgICAgICB0aGlzLmZvdWNzTWVudUl0ZW0oaXRlbXMsIGl0ZW1zLmxlbmd0aCAtIDEpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGlkOiB0aGlzLmlkZW50aWZpZXIsIGNsYXNzOiB7XG4gICAgICAgIG1lbnU6IHRydWUsXG4gICAgICAgIHNsaWRlSW46ICFpc1VuZGVmaW5lZCh0aGlzLnNsaWRlSW5EaXJlY3Rpb24pLFxuICAgICAgICBzbGlkZUluRnJvbUxlZnQ6IHRoaXMuc2xpZGVJbkRpcmVjdGlvbiA9PT0gJ2xlZnQnLFxuICAgICAgICBzbGlkZUluRnJvbVJpZ2h0OiB0aGlzLnNsaWRlSW5EaXJlY3Rpb24gPT09ICdyaWdodCcsXG4gICAgICB9LCByb2xlOiBcIm1lbnVcIiwgdGFiaW5kZXg6IFwiLTFcIiwgXCJhcmlhLWxhYmVsbGVkYnlcIjogKF9iID0gKF9hID0gdGhpcy5jb250cm9sbGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaWRlbnRpZmllcikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKF9jID0gdGhpcy5jb250cm9sbGVyKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuaWQsIFwiYXJpYS1oaWRkZW5cIjogIXRoaXMuYWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJywgb25Gb2N1czogdGhpcy5vbkZvY3VzLmJpbmQodGhpcyksIG9uQmx1cjogdGhpcy5vbkJsdXIuYmluZCh0aGlzKSwgb25DbGljazogdGhpcy5vbkNsaWNrLmJpbmQodGhpcyksIG9uS2V5RG93bjogdGhpcy5vbktleURvd24uYmluZCh0aGlzKSwgcmVmOiBlbCA9PiB7XG4gICAgICAgIHRoaXMubWVudSA9IGVsO1xuICAgICAgfSB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiY29udGFpbmVyXCIsIHJlZjogZWwgPT4ge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGVsO1xuICAgICAgfSB9LCBoKFwic2xvdFwiLCBudWxsKSkpKTtcbiAgfVxuICBnZXQgaG9zdCgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcImFjdGl2ZU1lbnVJdGVtXCI6IFtcIm9uQWN0aXZlTWVudWl0ZW1DaGFuZ2VcIl0sXG4gICAgXCJhY3RpdmVTdWJtZW51XCI6IFtcIm9uQWN0aXZlU3VibWVudUNoYW5nZVwiXSxcbiAgICBcImFjdGl2ZVwiOiBbXCJvbkFjdGl2ZUNoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBtZW51Q3NzOyB9XG59O1xuXG5jb25zdCBtZW51SXRlbUNzcyA9IFwiOmhvc3R7ZGlzcGxheTpibG9ja30ubWVudUl0ZW17ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOnJlbGF0aXZlO2FsaWduLWl0ZW1zOmNlbnRlcjtmbGV4LWRpcmVjdGlvbjpyb3c7Y3Vyc29yOnBvaW50ZXI7Y29sb3I6dmFyKC0tdm0tbWVudS1jb2xvcik7YmFja2dyb3VuZDp2YXIoLS12bS1tZW51LWJnKTtmb250LXNpemU6dmFyKC0tdm0tbWVudS1mb250LXNpemUpO2ZvbnQtd2VpZ2h0OnZhcigtLXZtLW1lbnUtZm9udC13ZWlnaHQpO3BhZGRpbmc6dmFyKC0tdm0tbWVudS1pdGVtLXBhZGRpbmcpO3RvdWNoLWFjdGlvbjptYW5pcHVsYXRpb247Ym94LXNpemluZzpib3JkZXItYm94fS5tZW51SXRlbTpmb2N1c3tvdXRsaW5lOjB9Lm1lbnVJdGVtLmhpZGRlbntkaXNwbGF5Om5vbmV9Lm1lbnVJdGVtLnRhcEhpZ2hsaWdodHtiYWNrZ3JvdW5kOnZhcigtLXZtLW1lbnUtaXRlbS10YXAtaGlnaGxpZ2h0KX0ubWVudUl0ZW0uc2hvd0RpdmlkZXJ7Ym9yZGVyLWJvdHRvbTowLjVweCBzb2xpZCB2YXIoLS12bS1tZW51LWl0ZW0tZGl2aWRlci1jb2xvcil9Lm1lbnVJdGVtLm5vdFRvdWNoOmhvdmVyLC5tZW51SXRlbS5ub3RUb3VjaDpmb2N1c3tvdXRsaW5lOjA7Y29sb3I6dmFyKC0tdm0tbWVudS1pdGVtLWZvY3VzLWNvbG9yKTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXZtLW1lbnUtaXRlbS1mb2N1cy1iZyl9Lm1lbnVJdGVtW2FyaWEtZXhwYW5kZWQ9J3RydWUnXXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjI7dG9wOjA7d2lkdGg6MTAwJX0ubWVudUl0ZW1bYXJpYS1oaWRkZW49J3RydWUnXXtkaXNwbGF5Om5vbmV9Lm1lbnVJdGVtW2FyaWEtY2hlY2tlZD0ndHJ1ZSddIHZtLWljb257b3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZX12bS1pY29ue2Rpc3BsYXk6aW5saW5lLWJsb2NrfXZtLWljb257ZmlsbDpjdXJyZW50Q29sb3I7cG9pbnRlci1ldmVudHM6bm9uZTtmb250LXNpemU6dmFyKC0tdm0tbWVudS1pdGVtLWNoZWNrLWljb24tc2l6ZSk7bWFyZ2luLXJpZ2h0OjEwcHg7b3BhY2l0eTowO3Zpc2liaWxpdHk6aGlkZGVuO3RyYW5zaXRpb246dmFyKC0tdm0tZmFkZS10cmFuc2l0aW9uKX0uaGludHtkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW4tbGVmdDphdXRvO292ZXJmbG93OmhpZGRlbjtwb2ludGVyLWV2ZW50czpub25lO21hcmdpbi1yaWdodDo2cHg7Zm9udC1zaXplOnZhcigtLXZtLW1lbnUtaXRlbS1oaW50LWZvbnQtc2l6ZSk7b3BhY2l0eTp2YXIoLS12bS1tZW51LWl0ZW0taGludC1vcGFjaXR5KTtjb2xvcjp2YXIoLS12bS1tZW51LWl0ZW0taGludC1jb2xvcil9LmJhZGdle2Rpc3BsYXk6aW5saW5lLWJsb2NrO2xpbmUtaGVpZ2h0OjE7b3ZlcmZsb3c6aGlkZGVuO3BvaW50ZXItZXZlbnRzOm5vbmU7bWFyZ2luLWxlZnQ6NnB4O2NvbG9yOnZhcigtLXZtLW1lbnUtaXRlbS1iYWRnZS1jb2xvcik7YmFja2dyb3VuZDp2YXIoLS12bS1tZW51LWl0ZW0tYmFkZ2UtYmcpO2ZvbnQtc2l6ZTp2YXIoLS12bS1tZW51LWl0ZW0tYmFkZ2UtZm9udC1zaXplKX0uc3BhY2Vye2ZsZXg6MX0uYXJyb3d7Y29sb3I6dmFyKC0tdm0tbWVudS1pdGVtLWFycm93LWNvbG9yKTtib3JkZXI6MnB4IHNvbGlkO3BhZGRpbmc6MnB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JvcmRlci13aWR0aDowIDJweCAycHggMH0uYXJyb3cubGVmdHttYXJnaW4tcmlnaHQ6NnB4O3RyYW5zZm9ybTpyb3RhdGUoMTM1ZGVnKX0uYXJyb3cucmlnaHR7dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO29wYWNpdHk6MC4zOH1cIjtcblxudmFyIF9fYXdhaXRlciRiID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCBNZW51SXRlbSA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgdGhpcy52bUZvY3VzID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUZvY3VzXCIsIDcpO1xuICAgIHRoaXMudm1CbHVyID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUJsdXJcIiwgNyk7XG4gICAgdGhpcy5zaG93VGFwSGlnaGxpZ2h0ID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgaXRlbSBpcyBkaXNwbGF5ZWQgb3Igbm90LlxuICAgICAqL1xuICAgIHRoaXMuaGlkZGVuID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGNoZWNrbWFyayBpY29uIHRvIHJlc29sdmUgZnJvbSB0aGUgaWNvbiBsaWJyYXJ5LlxuICAgICAqL1xuICAgIHRoaXMuY2hlY2tJY29uID0gJ2NoZWNrJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc1RvdWNoID0gZmFsc2U7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFsnaXNUb3VjaCddKTtcbiAgfVxuICAvKipcbiAgICogRm9jdXNlcyB0aGUgbWVudSBpdGVtLlxuICAgKi9cbiAgZm9jdXNJdGVtKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyJGIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAoX2EgPSB0aGlzLm1lbnVJdGVtKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9jdXMoKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBmb2N1cyBmcm9tIHRoZSBtZW51IGl0ZW0uXG4gICAqL1xuICBibHVySXRlbSgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRiKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgKF9hID0gdGhpcy5tZW51SXRlbSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJsdXIoKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaGVpZ2h0IG9mIHRoZSBtZW51IGl0ZW0uXG4gICAqL1xuICBnZXRIZWlnaHQoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRiKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodGhpcy5tZW51SXRlbSA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMubWVudUl0ZW0pLmhlaWdodCA6ICcwJyk7XG4gICAgfSk7XG4gIH1cbiAgb25DbGljaygpIHtcbiAgICBpZiAoIWlzTmlsKHRoaXMubWVudSkpXG4gICAgICB0aGlzLm1lbnUuYWN0aXZlID0gIXRoaXMuZXhwYW5kZWQ7XG4gIH1cbiAgb25Gb2N1cygpIHtcbiAgICB0aGlzLnZtRm9jdXMuZW1pdCgpO1xuICB9XG4gIG9uQmx1cigpIHtcbiAgICB0aGlzLnZtQmx1ci5lbWl0KCk7XG4gIH1cbiAgb25Ub3VjaFN0YXJ0KCkge1xuICAgIHRoaXMuc2hvd1RhcEhpZ2hsaWdodCA9IHRydWU7XG4gIH1cbiAgb25Ub3VjaEVuZCgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuc2hvd1RhcEhpZ2hsaWdodCA9IGZhbHNlO1xuICAgIH0sIDEwMCk7XG4gIH1cbiAgb25Nb3VzZUxlYXZlKCkge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSB0aGlzLm1lbnVJdGVtKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmx1cigpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgY29uc3QgaXNDaGVja2VkRGVmaW5lZCA9ICFpc1VuZGVmaW5lZCh0aGlzLmNoZWNrZWQpO1xuICAgIGNvbnN0IGlzTWVudURlZmluZWQgPSAhaXNVbmRlZmluZWQodGhpcy5tZW51KTtcbiAgICBjb25zdCBoYXNFeHBhbmRlZCA9IHRoaXMuZXhwYW5kZWQgPyAndHJ1ZScgOiAnZmFsc2UnO1xuICAgIGNvbnN0IGlzQ2hlY2tlZCA9IHRoaXMuY2hlY2tlZCA/ICd0cnVlJyA6ICdmYWxzZSc7XG4gICAgY29uc3Qgc2hvd0NoZWNrZWRJY29uID0gaXNDaGVja2VkRGVmaW5lZCAmJiAhaXNVbmRlZmluZWQodGhpcy5jaGVja0ljb24pO1xuICAgIGNvbnN0IHNob3dMZWZ0TmF2QXJyb3cgPSBpc01lbnVEZWZpbmVkICYmIHRoaXMuZXhwYW5kZWQ7XG4gICAgY29uc3Qgc2hvd1JpZ2h0TmF2QXJyb3cgPSBpc01lbnVEZWZpbmVkICYmICF0aGlzLmV4cGFuZGVkO1xuICAgIGNvbnN0IHNob3dIaW50ID0gIWlzVW5kZWZpbmVkKHRoaXMuaGludCkgJiZcbiAgICAgICFpc0NoZWNrZWREZWZpbmVkICYmXG4gICAgICAoIWlzTWVudURlZmluZWQgfHwgIXRoaXMuZXhwYW5kZWQpO1xuICAgIGNvbnN0IHNob3dCYWRnZSA9ICFpc1VuZGVmaW5lZCh0aGlzLmJhZGdlKSAmJiAhc2hvd0hpbnQgJiYgIXNob3dSaWdodE5hdkFycm93O1xuICAgIGNvbnN0IGhhc1NwYWNlciA9IHNob3dIaW50IHx8IHNob3dSaWdodE5hdkFycm93O1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiB7XG4gICAgICAgIG1lbnVJdGVtOiB0cnVlLFxuICAgICAgICBub3RUb3VjaDogIXRoaXMuaXNUb3VjaCxcbiAgICAgICAgdGFwSGlnaGxpZ2h0OiB0aGlzLnNob3dUYXBIaWdobGlnaHQsXG4gICAgICAgIHNob3dEaXZpZGVyOiBpc01lbnVEZWZpbmVkICYmICgoX2EgPSB0aGlzLmV4cGFuZGVkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSksXG4gICAgICB9LCBpZDogdGhpcy5pZGVudGlmaWVyLCByb2xlOiBpc0NoZWNrZWREZWZpbmVkID8gJ21lbnVpdGVtcmFkaW8nIDogJ21lbnVpdGVtJywgdGFiaW5kZXg6IFwiMFwiLCBcImFyaWEtbGFiZWxcIjogdGhpcy5sYWJlbCwgXCJhcmlhLWhpZGRlblwiOiB0aGlzLmhpZGRlbiA/ICd0cnVlJyA6ICdmYWxzZScsIFwiYXJpYS1oYXNwb3B1cFwiOiBpc01lbnVEZWZpbmVkID8gJ3RydWUnIDogdW5kZWZpbmVkLCBcImFyaWEtY29udHJvbHNcIjogKF9jID0gKF9iID0gdGhpcy5tZW51KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaWRlbnRpZmllcikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogKF9kID0gdGhpcy5tZW51KSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuaWQsIFwiYXJpYS1leHBhbmRlZFwiOiBpc01lbnVEZWZpbmVkID8gaGFzRXhwYW5kZWQgOiB1bmRlZmluZWQsIFwiYXJpYS1jaGVja2VkXCI6IGlzQ2hlY2tlZERlZmluZWQgPyBpc0NoZWNrZWQgOiB1bmRlZmluZWQsIG9uQ2xpY2s6IHRoaXMub25DbGljay5iaW5kKHRoaXMpLCBvbkZvY3VzOiB0aGlzLm9uRm9jdXMuYmluZCh0aGlzKSwgb25CbHVyOiB0aGlzLm9uQmx1ci5iaW5kKHRoaXMpLCBvblRvdWNoU3RhcnQ6IHRoaXMub25Ub3VjaFN0YXJ0LmJpbmQodGhpcyksIG9uVG91Y2hFbmQ6IHRoaXMub25Ub3VjaEVuZC5iaW5kKHRoaXMpLCBvbk1vdXNlTGVhdmU6IHRoaXMub25Nb3VzZUxlYXZlLmJpbmQodGhpcyksIHJlZjogZWwgPT4ge1xuICAgICAgICB0aGlzLm1lbnVJdGVtID0gZWw7XG4gICAgICB9IH0sIHNob3dDaGVja2VkSWNvbiAmJiAoaChcInZtLWljb25cIiwgeyBuYW1lOiB0aGlzLmNoZWNrSWNvbiwgbGlicmFyeTogdGhpcy5pY29ucyB9KSksIHNob3dMZWZ0TmF2QXJyb3cgJiYgaChcInNwYW5cIiwgeyBjbGFzczogXCJhcnJvdyBsZWZ0XCIgfSksIHRoaXMubGFiZWwsIGhhc1NwYWNlciAmJiBoKFwic3BhblwiLCB7IGNsYXNzOiBcInNwYWNlclwiIH0pLCBzaG93SGludCAmJiBoKFwic3BhblwiLCB7IGNsYXNzOiBcImhpbnRcIiB9LCB0aGlzLmhpbnQpLCBzaG93QmFkZ2UgJiYgaChcInNwYW5cIiwgeyBjbGFzczogXCJiYWRnZVwiIH0sIHRoaXMuYmFkZ2UpLCBzaG93UmlnaHROYXZBcnJvdyAmJiBoKFwic3BhblwiLCB7IGNsYXNzOiBcImFycm93IHJpZ2h0XCIgfSkpKTtcbiAgfVxuICBnZXQgaG9zdCgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIG1lbnVJdGVtQ3NzOyB9XG59O1xuXG5jb25zdCBNZW51UmFkaW8gPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMudm1DaGVjayA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1DaGVja1wiLCA3KTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSByYWRpbyBpdGVtIGlzIHNlbGVjdGVkIG9yIG5vdC5cbiAgICAgKi9cbiAgICB0aGlzLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBUaGUgVVJMIHRvIGFuIFNWRyBlbGVtZW50IG9yIGZyYWdtZW50IHRvIGxvYWQuXG4gICAgICovXG4gICAgdGhpcy5jaGVja0ljb24gPSAnY2hlY2snO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgfVxuICBvbkNsaWNrKCkge1xuICAgIHRoaXMuY2hlY2tlZCA9IHRydWU7XG4gICAgdGhpcy52bUNoZWNrLmVtaXQoKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwidm0tbWVudS1pdGVtXCIsIHsgbGFiZWw6IHRoaXMubGFiZWwsIGNoZWNrZWQ6IHRoaXMuY2hlY2tlZCwgYmFkZ2U6IHRoaXMuYmFkZ2UsIGNoZWNrSWNvbjogdGhpcy5jaGVja0ljb24sIGljb25zOiB0aGlzLmljb25zLCBvbkNsaWNrOiB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKSB9KSk7XG4gIH1cbn07XG5cbmNvbnN0IE1lbnVSYWRpb0dyb3VwID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLnZtQ2hlY2sgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtQ2hlY2tcIiwgNyk7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICB9XG4gIG9uVmFsdWVDaGFuZ2UoKSB7XG4gICAgdmFyIF9hO1xuICAgIChfYSA9IHRoaXMuZmluZFJhZGlvcygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaChyYWRpbyA9PiB7XG4gICAgICByYWRpby5jaGVja2VkID0gcmFkaW8udmFsdWUgPT09IHRoaXMudmFsdWU7XG4gICAgfSk7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5vblZhbHVlQ2hhbmdlKCk7XG4gIH1cbiAgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICB0aGlzLm9uVmFsdWVDaGFuZ2UoKTtcbiAgfVxuICBvblNlbGVjdGlvbkNoYW5nZShldmVudCkge1xuICAgIGNvbnN0IHJhZGlvID0gZXZlbnQudGFyZ2V0O1xuICAgIHRoaXMudmFsdWUgPSByYWRpby52YWx1ZTtcbiAgfVxuICBmaW5kUmFkaW9zKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKF9hID0gdGhpcy5ob3N0XG4gICAgICAuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdzbG90JykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hc3NpZ25lZEVsZW1lbnRzKCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBoKFwic2xvdFwiLCBudWxsKTtcbiAgfVxuICBnZXQgaG9zdCgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcInZhbHVlXCI6IFtcIm9uVmFsdWVDaGFuZ2VcIl1cbiAgfTsgfVxufTtcblxuY29uc3QgTXV0ZUNvbnRyb2wgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMudm1Gb2N1cyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1Gb2N1c1wiLCA3KTtcbiAgICB0aGlzLnZtQmx1ciA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1CbHVyXCIsIDcpO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBsb3cgdm9sdW1lIGljb24gdG8gcmVzb2x2ZSBmcm9tIHRoZSBpY29uIGxpYnJhcnkuXG4gICAgICovXG4gICAgdGhpcy5sb3dWb2x1bWVJY29uID0gJ3ZvbHVtZS1sb3cnO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBoaWdoIHZvbHVtZSBpY29uIHRvIHJlc29sdmUgZnJvbSB0aGUgaWNvbiBsaWJyYXJ5LlxuICAgICAqL1xuICAgIHRoaXMuaGlnaFZvbHVtZUljb24gPSAndm9sdW1lLWhpZ2gnO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBtdXRlZCB2b2x1bWUgaWNvbiB0byByZXNvbHZlIGZyb20gdGhlIGljb24gbGlicmFyeS5cbiAgICAgKi9cbiAgICB0aGlzLm11dGVkSWNvbiA9ICd2b2x1bWUtbXV0ZSc7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdG9vbHRpcCBpcyBwb3NpdGlvbmVkIGFib3ZlL2JlbG93IHRoZSBjb250cm9sLlxuICAgICAqL1xuICAgIHRoaXMudG9vbHRpcFBvc2l0aW9uID0gJ3RvcCc7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdG9vbHRpcCBzaG91bGQgbm90IGJlIGRpc3BsYXllZC5cbiAgICAgKi9cbiAgICB0aGlzLmhpZGVUb29sdGlwID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgdGhpcy5rZXlzID0gJ20nO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnZvbHVtZSA9IDUwO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLm11dGVkID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaTE4biA9IHt9O1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbJ211dGVkJywgJ3ZvbHVtZScsICdpMThuJ10pO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuZGlzcGF0Y2ggPSBjcmVhdGVEaXNwYXRjaGVyKHRoaXMpO1xuICB9XG4gIGdldEljb24oKSB7XG4gICAgY29uc3Qgdm9sdW1lSWNvbiA9IHRoaXMudm9sdW1lIDwgNTAgPyB0aGlzLmxvd1ZvbHVtZUljb24gOiB0aGlzLmhpZ2hWb2x1bWVJY29uO1xuICAgIHJldHVybiB0aGlzLm11dGVkIHx8IHRoaXMudm9sdW1lID09PSAwID8gdGhpcy5tdXRlZEljb24gOiB2b2x1bWVJY29uO1xuICB9XG4gIG9uQ2xpY2soKSB7XG4gICAgdGhpcy5kaXNwYXRjaCgnbXV0ZWQnLCAhdGhpcy5tdXRlZCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLm11dGVkID8gdGhpcy5pMThuLnVubXV0ZSA6IHRoaXMuaTE4bi5tdXRlO1xuICAgIGNvbnN0IHRvb2x0aXBXaXRoSGludCA9ICFpc1VuZGVmaW5lZCh0aGlzLmtleXMpXG4gICAgICA/IGAke3Rvb2x0aXB9ICgke3RoaXMua2V5c30pYFxuICAgICAgOiB0b29sdGlwO1xuICAgIHJldHVybiAoaChcInZtLWNvbnRyb2xcIiwgeyBsYWJlbDogdGhpcy5pMThuLm11dGUsIHByZXNzZWQ6IHRoaXMubXV0ZWQsIGtleXM6IHRoaXMua2V5cywgb25DbGljazogdGhpcy5vbkNsaWNrLmJpbmQodGhpcykgfSwgaChcInZtLWljb25cIiwgeyBuYW1lOiB0aGlzLmdldEljb24oKSwgbGlicmFyeTogdGhpcy5pY29ucyB9KSwgaChcInZtLXRvb2x0aXBcIiwgeyBoaWRkZW46IHRoaXMuaGlkZVRvb2x0aXAsIHBvc2l0aW9uOiB0aGlzLnRvb2x0aXBQb3NpdGlvbiwgZGlyZWN0aW9uOiB0aGlzLnRvb2x0aXBEaXJlY3Rpb24gfSwgdG9vbHRpcFdpdGhIaW50KSkpO1xuICB9XG59O1xuXG5jb25zdCBwaXBDb250cm9sQ3NzID0gXCI6aG9zdChbaGlkZGVuXSl7ZGlzcGxheTpub25lfVwiO1xuXG52YXIgX19hd2FpdGVyJGEgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbmNvbnN0IFBpUENvbnRyb2wgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMuY2FuU2V0UGlQID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGVudGVyIHBpcCBpY29uIHRvIHJlc29sdmUgZnJvbSB0aGUgaWNvbiBsaWJyYXJ5LlxuICAgICAqL1xuICAgIHRoaXMuZW50ZXJJY29uID0gJ3BpcC1lbnRlcic7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGV4aXQgcGlwIGljb24gdG8gcmVzb2x2ZSBmcm9tIHRoZSBpY29uIGxpYnJhcnkuXG4gICAgICovXG4gICAgdGhpcy5leGl0SWNvbiA9ICdwaXAtZXhpdCc7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdG9vbHRpcCBpcyBwb3NpdGlvbmVkIGFib3ZlL2JlbG93IHRoZSBjb250cm9sLlxuICAgICAqL1xuICAgIHRoaXMudG9vbHRpcFBvc2l0aW9uID0gJ3RvcCc7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdG9vbHRpcCBzaG91bGQgbm90IGJlIGRpc3BsYXllZC5cbiAgICAgKi9cbiAgICB0aGlzLmhpZGVUb29sdGlwID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgdGhpcy5rZXlzID0gJ3AnO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzUGlQQWN0aXZlID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaTE4biA9IHt9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBsYXliYWNrUmVhZHkgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgWydpc1BpUEFjdGl2ZScsICdwbGF5YmFja1JlYWR5JywgJ2kxOG4nXSk7XG4gIH1cbiAgb25QbGF5YmFja1JlYWR5Q2hhbmdlKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyJGEodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCBwbGF5ZXIgPSBnZXRQbGF5ZXJGcm9tUmVnaXN0cnkodGhpcyk7XG4gICAgICB0aGlzLmNhblNldFBpUCA9IChfYSA9ICh5aWVsZCAocGxheWVyID09PSBudWxsIHx8IHBsYXllciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxheWVyLmNhblNldFBpUCgpKSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlO1xuICAgIH0pO1xuICB9XG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgdGhpcy5vblBsYXliYWNrUmVhZHlDaGFuZ2UoKTtcbiAgfVxuICBvbkNsaWNrKCkge1xuICAgIGNvbnN0IHBsYXllciA9IGdldFBsYXllckZyb21SZWdpc3RyeSh0aGlzKTtcbiAgICAhdGhpcy5pc1BpUEFjdGl2ZSA/IHBsYXllciA9PT0gbnVsbCB8fCBwbGF5ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsYXllci5lbnRlclBpUCgpIDogcGxheWVyID09PSBudWxsIHx8IHBsYXllciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxheWVyLmV4aXRQaVAoKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgdG9vbHRpcCA9IHRoaXMuaXNQaVBBY3RpdmUgPyB0aGlzLmkxOG4uZXhpdFBpUCA6IHRoaXMuaTE4bi5lbnRlclBpUDtcbiAgICBjb25zdCB0b29sdGlwV2l0aEhpbnQgPSAhaXNVbmRlZmluZWQodGhpcy5rZXlzKVxuICAgICAgPyBgJHt0b29sdGlwfSAoJHt0aGlzLmtleXN9KWBcbiAgICAgIDogdG9vbHRpcDtcbiAgICByZXR1cm4gKGgoSG9zdCwgeyBoaWRkZW46ICF0aGlzLmNhblNldFBpUCB9LCBoKFwidm0tY29udHJvbFwiLCB7IGxhYmVsOiB0aGlzLmkxOG4ucGlwLCBrZXlzOiB0aGlzLmtleXMsIHByZXNzZWQ6IHRoaXMuaXNQaVBBY3RpdmUsIGhpZGRlbjogIXRoaXMuY2FuU2V0UGlQLCBvbkNsaWNrOiB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKSB9LCBoKFwidm0taWNvblwiLCB7IG5hbWU6IHRoaXMuaXNQaVBBY3RpdmUgPyB0aGlzLmV4aXRJY29uIDogdGhpcy5lbnRlckljb24sIGxpYnJhcnk6IHRoaXMuaWNvbnMgfSksIGgoXCJ2bS10b29sdGlwXCIsIHsgaGlkZGVuOiB0aGlzLmhpZGVUb29sdGlwLCBwb3NpdGlvbjogdGhpcy50b29sdGlwUG9zaXRpb24sIGRpcmVjdGlvbjogdGhpcy50b29sdGlwRGlyZWN0aW9uIH0sIHRvb2x0aXBXaXRoSGludCkpKSk7XG4gIH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcInBsYXliYWNrUmVhZHlcIjogW1wib25QbGF5YmFja1JlYWR5Q2hhbmdlXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIHBpcENvbnRyb2xDc3M7IH1cbn07XG5cbmNvbnN0IFBsYXliYWNrQ29udHJvbCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHBsYXkgaWNvbiB0byByZXNvbHZlIGZyb20gdGhlIGljb24gbGlicmFyeS5cbiAgICAgKi9cbiAgICB0aGlzLnBsYXlJY29uID0gJ3BsYXknO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBwYXVzZSBpY29uIHRvIHJlc29sdmUgZnJvbSB0aGUgaWNvbiBsaWJyYXJ5LlxuICAgICAqL1xuICAgIHRoaXMucGF1c2VJY29uID0gJ3BhdXNlJztcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSB0b29sdGlwIGlzIHBvc2l0aW9uZWQgYWJvdmUvYmVsb3cgdGhlIGNvbnRyb2wuXG4gICAgICovXG4gICAgdGhpcy50b29sdGlwUG9zaXRpb24gPSAndG9wJztcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSB0b29sdGlwIHNob3VsZCBub3QgYmUgZGlzcGxheWVkLlxuICAgICAqL1xuICAgIHRoaXMuaGlkZVRvb2x0aXAgPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICB0aGlzLmtleXMgPSAnayc7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pMThuID0ge307XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFsncGF1c2VkJywgJ2kxOG4nXSk7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5kaXNwYXRjaCA9IGNyZWF0ZURpc3BhdGNoZXIodGhpcyk7XG4gIH1cbiAgb25DbGljaygpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCdwYXVzZWQnLCAhdGhpcy5wYXVzZWQpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB0b29sdGlwID0gdGhpcy5wYXVzZWQgPyB0aGlzLmkxOG4ucGxheSA6IHRoaXMuaTE4bi5wYXVzZTtcbiAgICBjb25zdCB0b29sdGlwV2l0aEhpbnQgPSAhaXNVbmRlZmluZWQodGhpcy5rZXlzKVxuICAgICAgPyBgJHt0b29sdGlwfSAoJHt0aGlzLmtleXN9KWBcbiAgICAgIDogdG9vbHRpcDtcbiAgICByZXR1cm4gKGgoXCJ2bS1jb250cm9sXCIsIHsgbGFiZWw6IHRoaXMuaTE4bi5wbGF5YmFjaywga2V5czogdGhpcy5rZXlzLCBwcmVzc2VkOiAhdGhpcy5wYXVzZWQsIG9uQ2xpY2s6IHRoaXMub25DbGljay5iaW5kKHRoaXMpIH0sIGgoXCJ2bS1pY29uXCIsIHsgbmFtZTogdGhpcy5wYXVzZWQgPyB0aGlzLnBsYXlJY29uIDogdGhpcy5wYXVzZUljb24sIGxpYnJhcnk6IHRoaXMuaWNvbnMgfSksIGgoXCJ2bS10b29sdGlwXCIsIHsgaGlkZGVuOiB0aGlzLmhpZGVUb29sdGlwLCBwb3NpdGlvbjogdGhpcy50b29sdGlwUG9zaXRpb24sIGRpcmVjdGlvbjogdGhpcy50b29sdGlwRGlyZWN0aW9uIH0sIHRvb2x0aXBXaXRoSGludCkpKTtcbiAgfVxufTtcblxuY2xhc3MgTG9nZ2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zaWxlbnQgPSBmYWxzZTtcbiAgfVxuICBsb2coLi4uYXJncykge1xuICAgIGlmICghdGhpcy5zaWxlbnQgJiYgIWlzVW5kZWZpbmVkKGNvbnNvbGUpKVxuICAgICAgY29uc29sZS5sb2coJ1tWaW1lIHRpcF06JywgLi4uYXJncyk7XG4gIH1cbiAgd2FybiguLi5hcmdzKSB7XG4gICAgaWYgKCF0aGlzLnNpbGVudCAmJiAhaXNVbmRlZmluZWQoY29uc29sZSkpXG4gICAgICBjb25zb2xlLmVycm9yKCdbVmltZSB3YXJuXTonLCAuLi5hcmdzKTtcbiAgfVxufVxuXG5jb25zdCBwbGF5ZXJzID0gbmV3IFNldCgpO1xuZnVuY3Rpb24gd2l0aEF1dG9wYXVzZShwbGF5ZXIpIHtcbiAgY29uc3QgZWwgPSBnZXRFbGVtZW50KHBsYXllcik7XG4gIGNyZWF0ZVN0ZW5jaWxIb29rKHBsYXllciwgKCkgPT4ge1xuICAgIHBsYXllcnMuYWRkKGVsKTtcbiAgfSwgKCkgPT4ge1xuICAgIHBsYXllcnMuZGVsZXRlKGVsKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBhdXRvcGF1c2UocGxheWVyKSB7XG4gIGNvbnN0IGVsID0gZ2V0RWxlbWVudChwbGF5ZXIpO1xuICBwbGF5ZXJzLmZvckVhY2gocCA9PiB7XG4gICAgaWYgKHAgIT09IGVsICYmIHAuYXV0b3BhdXNlKVxuICAgICAgcC5wYXVzZWQgPSB0cnVlO1xuICB9KTtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgZnVuYy1uYW1lcyAqL1xuZnVuY3Rpb24gd2l0aFBsYXllckV2ZW50cyhwbGF5ZXIpIHtcbiAgY29uc3QgZWwgPSBnZXRFbGVtZW50KHBsYXllcik7XG4gIGNvbnN0IGNhY2hlID0gbmV3IE1hcCgpO1xuICBmdW5jdGlvbiBpbml0Q2FjaGUoKSB7XG4gICAgT2JqZWN0LmtleXMoaW5pdGlhbFN0YXRlKS5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgY2FjaGUuc2V0KHByb3AsIHBsYXllcltwcm9wXSk7XG4gICAgfSk7XG4gIH1cbiAgY3JlYXRlU3RlbmNpbEhvb2socGxheWVyLCAoKSA9PiB7XG4gICAgaW5pdENhY2hlKCk7XG4gIH0sICgpID0+IHtcbiAgICBjYWNoZS5jbGVhcigpO1xuICB9KTtcbiAgY29uc3QgeyBjb21wb25lbnREaWRSZW5kZXIgfSA9IHBsYXllcjtcbiAgcGxheWVyLmNvbXBvbmVudERpZFJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb21wb25lbnREaWRSZW5kZXIgPT09IG51bGwgfHwgY29tcG9uZW50RGlkUmVuZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wb25lbnREaWRSZW5kZXIoKTtcbiAgICBjb25zdCBwcm9wcyA9IEFycmF5LmZyb20oY2FjaGUua2V5cygpKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBwcm9wID0gcHJvcHNbaV07XG4gICAgICBjb25zdCBvbGRWYWx1ZSA9IGNhY2hlLmdldChwcm9wKTtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gcGxheWVyW3Byb3BdO1xuICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICBmaXJlUGxheWVyRXZlbnQoZWwsIHByb3AsIG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgIGNhY2hlLnNldChwcm9wLCBuZXdWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG52YXIgX19hd2FpdGVyJDkgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuLy8gVGhlc2UgY2hhbmdlcyBuZWVkIHRvIGJlIGNhbGxlZCBpbW1lZGlhdGVseSB0byBhdm9pZCB0aGUgYnJvd3NlciBibG9ja2luZyB0aGUgcmVxdWVzdC5cbmNvbnN0IGltbWVkaWF0ZUFkYXB0ZXJDYWxsID0gbmV3IFNldChbJ2N1cnJlbnRUaW1lJywgJ3BhdXNlZCddKTtcbmZ1bmN0aW9uIHdpdGhQbGF5ZXJTY2hlZHVsZXIocGxheWVyKSB7XG4gIGNvbnN0IGVsID0gZ2V0RWxlbWVudChwbGF5ZXIpO1xuICBjb25zdCBkaXNwb3NhbCA9IG5ldyBEaXNwb3NhbCgpO1xuICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgZnVuY3Rpb24gaW5pdENhY2hlKCkge1xuICAgIE9iamVjdC5rZXlzKGluaXRpYWxTdGF0ZSkuZm9yRWFjaChwcm9wID0+IHtcbiAgICAgIGNhY2hlLnNldChwcm9wLCBwbGF5ZXJbcHJvcF0pO1xuICAgIH0pO1xuICB9XG4gIC8vIFF1ZXVlIG9mIGFkYXB0ZXIgY2FsbHMgdG8gYmUgcnVuIHdoZW4gdGhlIG1lZGlhIGlzIHJlYWR5IGZvciBwbGF5YmFjay5cbiAgbGV0IGFkYXB0ZXJDYWxscyA9IFtdO1xuICBmdW5jdGlvbiBmbHVzaEFkYXB0ZXJDYWxscygpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJDkodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCBhZGFwdGVyID0geWllbGQgcGxheWVyLmFkYXB0ZXI7XG4gICAgICBpZiAoaXNVbmRlZmluZWQoYWRhcHRlcikpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWRhcHRlckNhbGxzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hd2FpdC1pbi1sb29wXG4gICAgICAgIHlpZWxkIGFkYXB0ZXJDYWxsc1tpXShhZGFwdGVyKTtcbiAgICAgIH1cbiAgICAgIGFkYXB0ZXJDYWxscyA9IFtdO1xuICAgIH0pO1xuICB9XG4gIGxldCBoYXNNZWRpYUNoYW5nZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gb25NZWRpYUNoYW5nZShlKSB7XG4gICAgZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIC8vIERvbid0IHJlc2V0IGZpcnN0IHRpbWUgb3RoZXJ3aXNlIHByb3BzIGludGlhbGl6ZWQgYnkgdGhlIHVzZXIgd2lsbCBiZSByZXNldC5cbiAgICBpZiAoIWhhc01lZGlhQ2hhbmdlZCkge1xuICAgICAgaGFzTWVkaWFDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYWRhcHRlckNhbGxzID0gW107XG4gICAgd3JpdGVUYXNrKCgpID0+IHtcbiAgICAgIE9iamVjdC5rZXlzKGluaXRpYWxTdGF0ZSlcbiAgICAgICAgLmZpbHRlcihzaG91bGRQcm9wUmVzZXRPbk1lZGlhQ2hhbmdlKVxuICAgICAgICAuZm9yRWFjaChwcm9wID0+IHtcbiAgICAgICAgcGxheWVyW3Byb3BdID0gaW5pdGlhbFN0YXRlW3Byb3BdO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gb25TdGF0ZUNoYW5nZShldmVudCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyJDkodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IHsgYnksIHByb3AsIHZhbHVlIH0gPSBldmVudC5kZXRhaWw7XG4gICAgICBpZiAoIWlzV3JpdGFibGVQcm9wKHByb3ApKSB7XG4gICAgICAgIChfYSA9IHBsYXllci5sb2dnZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS53YXJuKGAke2J5Lm5vZGVOYW1lfSB0cmllZCB0byBjaGFuZ2UgXFxgJHtwcm9wfVxcYCBidXQgaXQgaXMgcmVhZG9ubHkuYCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghcGxheWVyLnBsYXliYWNrU3RhcnRlZCAmJiBpbW1lZGlhdGVBZGFwdGVyQ2FsbC5oYXMocHJvcCkpIHtcbiAgICAgICAgY29uc3QgYWRhcHRlciA9IHlpZWxkIHBsYXllci5hZGFwdGVyO1xuICAgICAgICBpZiAocHJvcCA9PT0gJ3BhdXNlZCcgJiYgIXZhbHVlKSB7XG4gICAgICAgICAgYWRhcHRlciA9PT0gbnVsbCB8fCBhZGFwdGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZGFwdGVyLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcCA9PT0gJ2N1cnJlbnRUaW1lJykge1xuICAgICAgICAgIGFkYXB0ZXIgPT09IG51bGwgfHwgYWRhcHRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWRhcHRlci5wbGF5KCk7XG4gICAgICAgICAgYWRhcHRlciA9PT0gbnVsbCB8fCBhZGFwdGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZGFwdGVyLnNldEN1cnJlbnRUaW1lKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd3JpdGVUYXNrKCgpID0+IHtcbiAgICAgICAgcGxheWVyW3Byb3BdID0gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICAvLyBDYWxsZWQgYnkgUHJvdmlkZXJDb25uZWN0LlxuICBjb25zdCB7IG9uUHJvdmlkZXJEaXNjb25uZWN0IH0gPSBwbGF5ZXI7XG4gIHBsYXllci5vblByb3ZpZGVyRGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBvbk1lZGlhQ2hhbmdlKCk7XG4gICAgaWYgKG9uUHJvdmlkZXJEaXNjb25uZWN0KVxuICAgICAgb25Qcm92aWRlckRpc2Nvbm5lY3QuY2FsbChwbGF5ZXIpO1xuICB9O1xuICBjcmVhdGVTdGVuY2lsSG9vayhwbGF5ZXIsICgpID0+IHtcbiAgICBpbml0Q2FjaGUoKTtcbiAgICBkaXNwb3NhbC5hZGQobGlzdGVuKGVsLCBMT0FEX1NUQVJUX0VWRU5ULCBvbk1lZGlhQ2hhbmdlKSk7XG4gICAgZGlzcG9zYWwuYWRkKGxpc3RlbihlbCwgU1RBVEVfQ0hBTkdFX0VWRU5ULCBvblN0YXRlQ2hhbmdlKSk7XG4gIH0sICgpID0+IHtcbiAgICBjYWNoZS5jbGVhcigpO1xuICAgIGRpc3Bvc2FsLmVtcHR5KCk7XG4gIH0pO1xuICB3cmFwU3RlbmNpbEhvb2socGxheWVyLCAnY29tcG9uZW50V2lsbFJlbmRlcicsICgpID0+IF9fYXdhaXRlciQ5KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGlmIChwbGF5ZXIucGxheWJhY2tSZWFkeSAmJiBhZGFwdGVyQ2FsbHMubGVuZ3RoID4gMClcbiAgICAgIHlpZWxkIGZsdXNoQWRhcHRlckNhbGxzKCk7XG4gIH0pKTtcbiAgZnVuY3Rpb24gaXNBZGFwdGVyQ2FsbFJlcXVpcmVkKHByb3AsIHZhbHVlKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiB2YWx1ZSAhPT0gKChfYSA9IHBsYXllcltQUk9WSURFUl9DQUNIRV9LRVldKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0KHByb3ApKTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gc2FmZUFkYXB0ZXJDYWxsKHByb3AsIG1ldGhvZCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGlmICghaXNBZGFwdGVyQ2FsbFJlcXVpcmVkKHByb3AsIHBsYXllcltwcm9wXSkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IHZhbHVlID0gcGxheWVyW3Byb3BdO1xuICAgICAgY29uc3Qgc2FmZUNhbGwgPSAoYWRhcHRlcikgPT4gX19hd2FpdGVyJDkodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIHlpZWxkICgoX2EgPSBhZGFwdGVyID09PSBudWxsIHx8IGFkYXB0ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFkYXB0ZXJbbWV0aG9kXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoYWRhcHRlciwgdmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgIGVsLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCd2bUVycm9yJywgeyBkZXRhaWw6IGUgfSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChwbGF5ZXIucGxheWJhY2tSZWFkeSkge1xuICAgICAgICB5aWVsZCBzYWZlQ2FsbCh5aWVsZCBwbGF5ZXIuYWRhcHRlcik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgYWRhcHRlckNhbGxzLnB1c2goc2FmZUNhbGwpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuXG5jb25zdCBwbGF5ZXJDc3MgPSBcIi5wbGF5ZXJ7Ym94LXNpemluZzpib3JkZXItYm94O2RpcmVjdGlvbjpsdHI7Zm9udC1mYW1pbHk6dmFyKC0tdm0tcGxheWVyLWZvbnQtZmFtaWx5KTstbW96LW9zeC1mb250LXNtb290aGluZzphdXRvOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6c3VicGl4ZWwtYW50aWFsaWFzZWQ7LXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOnRyYW5zcGFyZW50O2ZvbnQtdmFyaWFudC1udW1lcmljOnRhYnVsYXItbnVtcztmb250LXdlaWdodDo1MDA7bGluZS1oZWlnaHQ6MS43O3dpZHRoOjEwMCU7ZGlzcGxheTpibG9jazttYXgtd2lkdGg6MTAwJTttaW4td2lkdGg6Mjc1cHg7bWluLWhlaWdodDo0MHB4O3Bvc2l0aW9uOnJlbGF0aXZlO3RleHQtc2hhZG93Om5vbmU7b3V0bGluZTowO3RyYW5zaXRpb246Ym94LXNoYWRvdyAwLjNzIGVhc2U7Ym94LXNoYWRvdzp2YXIoLS12bS1wbGF5ZXItYm94LXNoYWRvdyk7Ym9yZGVyLXJhZGl1czp2YXIoLS12bS1wbGF5ZXItYm9yZGVyLXJhZGl1cyl9LnBsYXllci5pZGxle2N1cnNvcjpub25lfS5wbGF5ZXIuYXVkaW97YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudCAhaW1wb3J0YW50fS5wbGF5ZXIudmlkZW97aGVpZ2h0OjA7b3ZlcmZsb3c6aGlkZGVuO2JhY2tncm91bmQtY29sb3I6dmFyKC0tdm0tcGxheWVyLWJnLCAjMDAwKX0ucGxheWVyLmZ1bGxzY3JlZW57bWFyZ2luOjA7Ym9yZGVyLXJhZGl1czowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7cGFkZGluZy1ib3R0b206MCAhaW1wb3J0YW50fS5ibG9ja2Vye3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3otaW5kZXg6dmFyKC0tdm0tYmxvY2tlci16LWluZGV4KX1cIjtcblxudmFyIF9fYXdhaXRlciQ4ID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5sZXQgaWRDb3VudCQzID0gMDtcbmNvbnN0IFBsYXllciA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgdGhpcy52bVRoZW1lQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bVRoZW1lQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1QYXVzZWRDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtUGF1c2VkQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1QbGF5ID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bVBsYXlcIiwgNyk7XG4gICAgdGhpcy52bVBsYXlpbmdDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtUGxheWluZ0NoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtU2Vla2luZ0NoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1TZWVraW5nQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1TZWVrZWQgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtU2Vla2VkXCIsIDcpO1xuICAgIHRoaXMudm1CdWZmZXJpbmdDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtQnVmZmVyaW5nQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1EdXJhdGlvbkNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1EdXJhdGlvbkNoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtQ3VycmVudFRpbWVDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtQ3VycmVudFRpbWVDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bVJlYWR5ID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bVJlYWR5XCIsIDcpO1xuICAgIHRoaXMudm1QbGF5YmFja1JlYWR5ID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bVBsYXliYWNrUmVhZHlcIiwgNyk7XG4gICAgdGhpcy52bVBsYXliYWNrU3RhcnRlZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1QbGF5YmFja1N0YXJ0ZWRcIiwgNyk7XG4gICAgdGhpcy52bVBsYXliYWNrRW5kZWQgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtUGxheWJhY2tFbmRlZFwiLCA3KTtcbiAgICB0aGlzLnZtQnVmZmVyZWRDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtQnVmZmVyZWRDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bUVycm9yID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUVycm9yXCIsIDcpO1xuICAgIHRoaXMudm1Mb2FkU3RhcnQgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtTG9hZFN0YXJ0XCIsIDcpO1xuICAgIHRoaXMudm1DdXJyZW50UHJvdmlkZXJDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtQ3VycmVudFByb3ZpZGVyQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1DdXJyZW50U3JjQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUN1cnJlbnRTcmNDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bUN1cnJlbnRQb3N0ZXJDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtQ3VycmVudFBvc3RlckNoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtTWVkaWFUaXRsZUNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1NZWRpYVRpdGxlQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1Db250cm9sc0NoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1Db250cm9sc0NoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtUGxheWJhY2tSYXRlQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bVBsYXliYWNrUmF0ZUNoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtUGxheWJhY2tSYXRlc0NoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1QbGF5YmFja1JhdGVzQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1QbGF5YmFja1F1YWxpdHlDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtUGxheWJhY2tRdWFsaXR5Q2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1QbGF5YmFja1F1YWxpdGllc0NoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1QbGF5YmFja1F1YWxpdGllc0NoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtTXV0ZWRDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtTXV0ZWRDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bVZvbHVtZUNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1Wb2x1bWVDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bVZpZXdUeXBlQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bVZpZXdUeXBlQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1NZWRpYVR5cGVDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtTWVkaWFUeXBlQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1MaXZlQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUxpdmVDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bVRvdWNoQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bVRvdWNoQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1MYW5ndWFnZUNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1MYW5ndWFnZUNoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtSTE4bkNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1JMThuQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1UcmFuc2xhdGlvbnNDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtVHJhbnNsYXRpb25zQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1MYW5ndWFnZXNDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtTGFuZ3VhZ2VzQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1GdWxsc2NyZWVuQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUZ1bGxzY3JlZW5DaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bVBpUENoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1QaVBDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bVRleHRUcmFja3NDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtVGV4dFRyYWNrc0NoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtQ3VycmVudFRleHRUcmFja0NoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1DdXJyZW50VGV4dFRyYWNrQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1UZXh0VHJhY2tWaXNpYmxlQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bVRleHRUcmFja1Zpc2libGVDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bUF1ZGlvVHJhY2tzQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUF1ZGlvVHJhY2tzQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1DdXJyZW50QXVkaW9UcmFja0NoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1DdXJyZW50QXVkaW9UcmFja0NoYW5nZVwiLCA3KTtcbiAgICB0aGlzLmRpc3Bvc2FsID0gbmV3IERpc3Bvc2FsKCk7XG4gICAgLyoqXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogUHJvcHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKi9cbiAgICAvKiogQGludGVybmFsIEByZWFkb25seSAqL1xuICAgIHRoaXMubG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIHRoaXMuaWNvbnMgPSAndmltZSc7XG4gICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgdGhpcy5wYXVzZWQgPSB0cnVlO1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5kdXJhdGlvbiA9IC0xO1xuICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIHRoaXMuY3VycmVudFRpbWUgPSAwO1xuICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIHRoaXMuYXV0b3BsYXkgPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5yZWFkeSA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLnBsYXliYWNrUmVhZHkgPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICB0aGlzLmxvb3AgPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICB0aGlzLm11dGVkID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0RG9jIEByZWFkb25seSAqL1xuICAgIHRoaXMuYnVmZmVyZWQgPSAwO1xuICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIHRoaXMucGxheWJhY2tSYXRlID0gMTtcbiAgICB0aGlzLmxhc3RSYXRlQ2hlY2sgPSAxO1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLnBsYXliYWNrUmF0ZXMgPSBbMV07XG4gICAgLyoqIEBpbmhlcml0RG9jIEByZWFkb25seSAqL1xuICAgIHRoaXMucGxheWJhY2tRdWFsaXRpZXMgPSBbXTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5zZWVraW5nID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLnBsYXliYWNrU3RhcnRlZCA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLnBsYXliYWNrRW5kZWQgPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5idWZmZXJpbmcgPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICB0aGlzLmNvbnRyb2xzID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgdGhpcy5pc0NvbnRyb2xzQWN0aXZlID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0RG9jIEByZWFkb25seSAqL1xuICAgIHRoaXMuaXNTZXR0aW5nc0FjdGl2ZSA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIHRoaXMudm9sdW1lID0gNTA7XG4gICAgLyoqIEBpbmhlcml0RG9jIEByZWFkb25seSAqL1xuICAgIHRoaXMuaXNGdWxsc2NyZWVuQWN0aXZlID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgdGhpcy5hc3BlY3RSYXRpbyA9ICcxNjo5JztcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5pc0F1ZGlvVmlldyA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLmlzVmlkZW9WaWV3ID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0RG9jIEByZWFkb25seSAqL1xuICAgIHRoaXMuaXNBdWRpbyA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLmlzVmlkZW8gPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5pc0xpdmUgPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5pc01vYmlsZSA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLmlzVG91Y2ggPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5pc1BpUEFjdGl2ZSA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLnRleHRUcmFja3MgPSBbXTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5jdXJyZW50VGV4dFRyYWNrID0gLTE7XG4gICAgLyoqIEBpbmhlcml0RG9jIEByZWFkb25seSAqL1xuICAgIHRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlID0gdHJ1ZTtcbiAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICB0aGlzLnNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MgPSB0cnVlO1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLmF1ZGlvVHJhY2tzID0gW107XG4gICAgLyoqIEBpbmhlcml0RG9jIEByZWFkb25seSAqL1xuICAgIHRoaXMuY3VycmVudEF1ZGlvVHJhY2sgPSAtMTtcbiAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICB0aGlzLmF1dG9wYXVzZSA9IHRydWU7XG4gICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgdGhpcy5wbGF5c2lubGluZSA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIHRoaXMubGFuZ3VhZ2UgPSAnZW4nO1xuICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIHRoaXMudHJhbnNsYXRpb25zID0geyBlbiB9O1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLmxhbmd1YWdlcyA9IFsnZW4nXTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5pMThuID0gZW47XG4gICAgd2l0aEZpbmRQbGF5ZXIodGhpcyk7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJhcih0aGlzKTtcbiAgICB3aXRoQXV0b3BhdXNlKHRoaXMpO1xuICAgIHdpdGhQcm92aWRlckhvc3QodGhpcyk7XG4gICAgd2l0aFBsYXllckV2ZW50cyh0aGlzKTtcbiAgICB0aGlzLnNhZmVBZGFwdGVyQ2FsbCA9IHdpdGhQbGF5ZXJTY2hlZHVsZXIodGhpcyk7XG4gIH1cbiAgZ2V0IGFkYXB0ZXIoKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSB0aGlzLnByb3ZpZGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0QWRhcHRlcigpO1xuICB9XG4gIG9uQ29udGFpbmVyQ2hhbmdlKCkge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSB0aGlzLmZ1bGxzY3JlZW5Db250cm9sbGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVzdHJveSgpO1xuICAgIGlmIChpc1VuZGVmaW5lZCh0aGlzLmNvbnRhaW5lcikpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5mdWxsc2NyZWVuQ29udHJvbGxlciA9IG5ldyBGdWxsc2NyZWVuQ29udHJvbGxlcih0aGlzLmNvbnRhaW5lcik7XG4gICAgdGhpcy5mdWxsc2NyZWVuQ29udHJvbGxlci5vbignY2hhbmdlJywgaXNBY3RpdmUgPT4ge1xuICAgICAgdGhpcy5pc0Z1bGxzY3JlZW5BY3RpdmUgPSBpc0FjdGl2ZTtcbiAgICAgIGlmIChpc0FjdGl2ZSlcbiAgICAgICAgdGhpcy5yb3RhdGVEZXZpY2UoKTtcbiAgICB9KTtcbiAgICB0aGlzLmZ1bGxzY3JlZW5Db250cm9sbGVyLm9uKCdlcnJvcicsIGVycm9yID0+IHtcbiAgICAgIHRoaXMudm1FcnJvci5lbWl0KGVycm9yKTtcbiAgICB9KTtcbiAgfVxuICBvblBhdXNlZENoYW5nZSgpIHtcbiAgICBpZiAodGhpcy5wYXVzZWQpIHtcbiAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGF1dG9wYXVzZSh0aGlzKTtcbiAgICB9XG4gICAgdGhpcy5zYWZlQWRhcHRlckNhbGwoJ3BhdXNlZCcsICF0aGlzLnBhdXNlZCA/ICdwbGF5JyA6ICdwYXVzZScpO1xuICB9XG4gIG9uRHVyYXRpb25DaGFuZ2UoKSB7XG4gICAgdGhpcy5pc0xpdmUgPSB0aGlzLmR1cmF0aW9uID09PSBJbmZpbml0eTtcbiAgfVxuICBvbkN1cnJlbnRUaW1lQ2hhbmdlKCkge1xuICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy5wbGF5YmFja1JlYWR5ID8gdGhpcy5kdXJhdGlvbiA6IEluZmluaXR5O1xuICAgIHRoaXMuY3VycmVudFRpbWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLmN1cnJlbnRUaW1lLCBkdXJhdGlvbikpO1xuICAgIHRoaXMuc2FmZUFkYXB0ZXJDYWxsKCdjdXJyZW50VGltZScsICdzZXRDdXJyZW50VGltZScpO1xuICB9XG4gIG9uUGxheWJhY2tSZWFkeUNoYW5nZSgpIHtcbiAgICBpZiAoIXRoaXMucmVhZHkpXG4gICAgICB0aGlzLnJlYWR5ID0gdHJ1ZTtcbiAgfVxuICBvbk11dGVkQ2hhbmdlKCkge1xuICAgIHRoaXMuc2FmZUFkYXB0ZXJDYWxsKCdtdXRlZCcsICdzZXRNdXRlZCcpO1xuICB9XG4gIG9uUGxheWJhY2tSYXRlQ2hhbmdlKG5ld1JhdGUsIHByZXZSYXRlKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gX19hd2FpdGVyJDgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBpZiAobmV3UmF0ZSA9PT0gdGhpcy5sYXN0UmF0ZUNoZWNrKVxuICAgICAgICByZXR1cm47XG4gICAgICBpZiAoISh5aWVsZCAoKF9iID0gKF9hID0gKHlpZWxkIHRoaXMuYWRhcHRlcikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5TZXRQbGF5YmFja1JhdGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKSkpKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygncHJvdmlkZXIgY2Fubm90IGNoYW5nZSBgcGxheWJhY2tSYXRlYC4nKTtcbiAgICAgICAgdGhpcy5sYXN0UmF0ZUNoZWNrID0gcHJldlJhdGU7XG4gICAgICAgIHRoaXMucGxheWJhY2tSYXRlID0gcHJldlJhdGU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5wbGF5YmFja1JhdGVzLmluY2x1ZGVzKG5ld1JhdGUpKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhgaW52YWxpZCBcXGBwbGF5YmFja1JhdGVcXGAgb2YgJHtuZXdSYXRlfSwgYCArXG4gICAgICAgICAgYHZhbGlkIHZhbHVlcyBhcmUgWyR7dGhpcy5wbGF5YmFja1JhdGVzLmpvaW4oJywgJyl9XWApO1xuICAgICAgICB0aGlzLmxhc3RSYXRlQ2hlY2sgPSBwcmV2UmF0ZTtcbiAgICAgICAgdGhpcy5wbGF5YmFja1JhdGUgPSBwcmV2UmF0ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5sYXN0UmF0ZUNoZWNrID0gbmV3UmF0ZTtcbiAgICAgIHRoaXMuc2FmZUFkYXB0ZXJDYWxsKCdwbGF5YmFja1JhdGUnLCAnc2V0UGxheWJhY2tSYXRlJyk7XG4gICAgfSk7XG4gIH1cbiAgb25QbGF5YmFja1F1YWxpdHlDaGFuZ2UobmV3UXVhbGl0eSwgcHJldlF1YWxpdHkpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChuZXdRdWFsaXR5KSB8fCBuZXdRdWFsaXR5ID09PSB0aGlzLmxhc3RRdWFsaXR5Q2hlY2spXG4gICAgICAgIHJldHVybjtcbiAgICAgIGlmICghKHlpZWxkICgoX2IgPSAoX2EgPSAoeWllbGQgdGhpcy5hZGFwdGVyKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhblNldFBsYXliYWNrUXVhbGl0eSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpKSkpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKCdwcm92aWRlciBjYW5ub3QgY2hhbmdlIGBwbGF5YmFja1F1YWxpdHlgLicpO1xuICAgICAgICB0aGlzLmxhc3RRdWFsaXR5Q2hlY2sgPSBwcmV2UXVhbGl0eTtcbiAgICAgICAgdGhpcy5wbGF5YmFja1F1YWxpdHkgPSBwcmV2UXVhbGl0eTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLnBsYXliYWNrUXVhbGl0aWVzLmluY2x1ZGVzKG5ld1F1YWxpdHkpKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhgaW52YWxpZCBcXGBwbGF5YmFja1F1YWxpdHlcXGAgb2YgJHtuZXdRdWFsaXR5fSwgYCArXG4gICAgICAgICAgYHZhbGlkIHZhbHVlcyBhcmUgWyR7dGhpcy5wbGF5YmFja1F1YWxpdGllcy5qb2luKCcsICcpfV1gKTtcbiAgICAgICAgdGhpcy5sYXN0UXVhbGl0eUNoZWNrID0gcHJldlF1YWxpdHk7XG4gICAgICAgIHRoaXMucGxheWJhY2tRdWFsaXR5ID0gcHJldlF1YWxpdHk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdFF1YWxpdHlDaGVjayA9IG5ld1F1YWxpdHk7XG4gICAgICB0aGlzLnNhZmVBZGFwdGVyQ2FsbCgncGxheWJhY2tRdWFsaXR5JywgJ3NldFBsYXliYWNrUXVhbGl0eScpO1xuICAgIH0pO1xuICB9XG4gIG9uRGVidWdDaGFuZ2UoKSB7XG4gICAgdGhpcy5sb2dnZXIuc2lsZW50ID0gIXRoaXMuZGVidWc7XG4gIH1cbiAgb25Wb2x1bWVDaGFuZ2UoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgdGhpcy52b2x1bWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLnZvbHVtZSwgMTAwKSk7XG4gICAgICB0aGlzLnNhZmVBZGFwdGVyQ2FsbCgndm9sdW1lJywgJ3NldFZvbHVtZScpO1xuICAgIH0pO1xuICB9XG4gIG9uVmlld1R5cGVDaGFuZ2UoKSB7XG4gICAgdGhpcy5pc0F1ZGlvVmlldyA9IHRoaXMudmlld1R5cGUgPT09IFZpZXdUeXBlLkF1ZGlvO1xuICAgIHRoaXMuaXNWaWRlb1ZpZXcgPSB0aGlzLnZpZXdUeXBlID09PSBWaWV3VHlwZS5WaWRlbztcbiAgfVxuICBvbk1lZGlhVHlwZUNoYW5nZSgpIHtcbiAgICB0aGlzLmlzQXVkaW8gPSB0aGlzLm1lZGlhVHlwZSA9PT0gTWVkaWFUeXBlLkF1ZGlvO1xuICAgIHRoaXMuaXNWaWRlbyA9IHRoaXMubWVkaWFUeXBlID09PSBNZWRpYVR5cGUuVmlkZW87XG4gIH1cbiAgb25MYW5ndWFnZUNoYW5nZShfLCBwcmV2TGFuZ3VhZ2UpIHtcbiAgICBpZiAoIXRoaXMubGFuZ3VhZ2VzLmluY2x1ZGVzKHRoaXMubGFuZ3VhZ2UpKSB7XG4gICAgICB0aGlzLmxvZ2dlci5sb2coYGludmFsaWQgXFxgbGFuZ3VhZ2VcXGAgb2YgJHt0aGlzLmxhbmd1YWdlfSwgYCArXG4gICAgICAgIGB2YWxpZCB2YWx1ZXMgYXJlIFske3RoaXMubGFuZ3VhZ2VzLmpvaW4oJywgJyl9XWApO1xuICAgICAgdGhpcy5sYW5ndWFnZSA9IHByZXZMYW5ndWFnZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pMThuID0gdGhpcy50cmFuc2xhdGlvbnNbdGhpcy5sYW5ndWFnZV07XG4gIH1cbiAgb25UcmFuc2xhdGlvbnNDaGFuZ2UoKSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLnRyYW5zbGF0aW9ucywgeyBlbiB9KTtcbiAgICB0aGlzLmxhbmd1YWdlcyA9IE9iamVjdC5rZXlzKHRoaXMudHJhbnNsYXRpb25zKTtcbiAgICB0aGlzLmkxOG4gPSB0aGlzLnRyYW5zbGF0aW9uc1t0aGlzLmxhbmd1YWdlXTtcbiAgfVxuICBvbkVycm9yKGV2ZW50KSB7XG4gICAgdGhpcy5sb2dnZXIud2FybihldmVudC5kZXRhaWwpO1xuICB9XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogTWV0aG9kc1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG4gIC8qKiBAaW5oZXJpdERvYyAqL1xuICBnZXRQcm92aWRlcigpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJDgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm92aWRlcjtcbiAgICB9KTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGdldEFkYXB0ZXIoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlcjtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgcGxheSgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIChfYSA9ICh5aWVsZCB0aGlzLmFkYXB0ZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGxheSgpO1xuICAgIH0pO1xuICB9XG4gIC8qKiBAaW5oZXJpdERvYyAqL1xuICBwYXVzZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIChfYSA9ICh5aWVsZCB0aGlzLmFkYXB0ZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGF1c2UoKTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgY2FuUGxheSh0eXBlKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gX19hd2FpdGVyJDgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4gKF9iID0gKF9hID0gKHlpZWxkIHRoaXMuYWRhcHRlcikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5QbGF5KHR5cGUpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBmYWxzZTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgY2FuQXV0b3BsYXkoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIGNhbkF1dG9wbGF5KCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqIEBpbmhlcml0RG9jICovXG4gIGNhbk11dGVkQXV0b3BsYXkoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIGNhbkF1dG9wbGF5KHRydWUpO1xuICAgIH0pO1xuICB9XG4gIC8qKiBAaW5oZXJpdERvYyAqL1xuICBjYW5TZXRQbGF5YmFja1JhdGUoKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIChfYyA9IChfYiA9IChfYSA9ICh5aWVsZCB0aGlzLmFkYXB0ZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuU2V0UGxheWJhY2tSYXRlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSkpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGZhbHNlO1xuICAgIH0pO1xuICB9XG4gIC8qKiBAaW5oZXJpdERvYyAqL1xuICBjYW5TZXRQbGF5YmFja1F1YWxpdHkoKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIChfYyA9IChfYiA9IChfYSA9ICh5aWVsZCB0aGlzLmFkYXB0ZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuU2V0UGxheWJhY2tRdWFsaXR5KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSkpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGZhbHNlO1xuICAgIH0pO1xuICB9XG4gIC8qKiBAaW5oZXJpdERvYyAqL1xuICBjYW5TZXRGdWxsc2NyZWVuKCkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiAodGhpcy5mdWxsc2NyZWVuQ29udHJvbGxlci5pc1N1cHBvcnRlZCB8fFxuICAgICAgICAoKF9jID0gKF9iID0gKF9hID0gKHlpZWxkIHRoaXMuYWRhcHRlcikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5TZXRGdWxsc2NyZWVuKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSkpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGZhbHNlKSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqIEBpbmhlcml0RG9jICovXG4gIGVudGVyRnVsbHNjcmVlbihvcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgaWYgKCF0aGlzLmlzVmlkZW9WaWV3KSB7XG4gICAgICAgIHRocm93IEVycm9yKCdDYW5ub3QgZW50ZXIgZnVsbHNjcmVlbiBvbiBhbiBhdWRpbyBwbGF5ZXIgdmlldy4nKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmZ1bGxzY3JlZW5Db250cm9sbGVyLmlzU3VwcG9ydGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bGxzY3JlZW5Db250cm9sbGVyLnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICB9XG4gICAgICBjb25zdCBhZGFwdGVyID0geWllbGQgdGhpcy5hZGFwdGVyO1xuICAgICAgY29uc3QgY2FuUHJvdmlkZXJTZXRGdWxsc2NyZWVuID0gKF9iID0gKHlpZWxkICgoX2EgPSBhZGFwdGVyID09PSBudWxsIHx8IGFkYXB0ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFkYXB0ZXIuY2FuU2V0RnVsbHNjcmVlbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoYWRhcHRlcikpKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZmFsc2U7XG4gICAgICBpZiAoY2FuUHJvdmlkZXJTZXRGdWxsc2NyZWVuKSB7XG4gICAgICAgIHJldHVybiAoX2MgPSBhZGFwdGVyID09PSBudWxsIHx8IGFkYXB0ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFkYXB0ZXIuZW50ZXJGdWxsc2NyZWVuKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChhZGFwdGVyLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHRocm93IEVycm9yKCdGdWxsc2NyZWVuIEFQSSBpcyBub3QgYXZhaWxhYmxlLicpO1xuICAgIH0pO1xuICB9XG4gIC8qKiBAaW5oZXJpdERvYyAqL1xuICBleGl0RnVsbHNjcmVlbigpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGlmICh0aGlzLmZ1bGxzY3JlZW5Db250cm9sbGVyLmlzU3VwcG9ydGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bGxzY3JlZW5Db250cm9sbGVyLmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKF9iID0gKF9hID0gKHlpZWxkIHRoaXMuYWRhcHRlcikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5leGl0RnVsbHNjcmVlbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgIH0pO1xuICB9XG4gIC8qKiBAaW5oZXJpdERvYyAqL1xuICBjYW5TZXRQaVAoKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIChfYyA9IChfYiA9IChfYSA9ICh5aWVsZCB0aGlzLmFkYXB0ZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuU2V0UGlQKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSkpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGZhbHNlO1xuICAgIH0pO1xuICB9XG4gIC8qKiBAaW5oZXJpdERvYyAqL1xuICBlbnRlclBpUCgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGlmICghdGhpcy5pc1ZpZGVvVmlldylcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0Nhbm5vdCBlbnRlciBQaVAgbW9kZSBvbiBhbiBhdWRpbyBwbGF5ZXIgdmlldy4nKTtcbiAgICAgIGlmICghKHlpZWxkIHRoaXMuY2FuU2V0UGlQKCkpKVxuICAgICAgICB0aHJvdyBFcnJvcignUGljdHVyZS1pbi1QaWN0dXJlIEFQSSBpcyBub3QgYXZhaWxhYmxlLicpO1xuICAgICAgcmV0dXJuIChfYiA9IChfYSA9ICh5aWVsZCB0aGlzLmFkYXB0ZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW50ZXJQaVApID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgZXhpdFBpUCgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiAoX2IgPSAoX2EgPSAoeWllbGQgdGhpcy5hZGFwdGVyKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmV4aXRQaVApID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgY2FuU2V0QXVkaW9UcmFjaygpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuICFpc1VuZGVmaW5lZCgoX2EgPSAoeWllbGQgdGhpcy5hZGFwdGVyKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldEN1cnJlbnRBdWRpb1RyYWNrKTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgc2V0Q3VycmVudEF1ZGlvVHJhY2sodHJhY2tJZCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgKF9iID0gKF9hID0gKHlpZWxkIHRoaXMuYWRhcHRlcikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRDdXJyZW50QXVkaW9UcmFjaykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIHRyYWNrSWQpO1xuICAgIH0pO1xuICB9XG4gIC8qKiBAaW5oZXJpdERvYyAqL1xuICBjYW5TZXRUZXh0VHJhY2soKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiAhaXNVbmRlZmluZWQoKF9hID0gKHlpZWxkIHRoaXMuYWRhcHRlcikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRDdXJyZW50VGV4dFRyYWNrKTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgc2V0Q3VycmVudFRleHRUcmFjayh0cmFja0lkKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gX19hd2FpdGVyJDgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAoX2IgPSAoX2EgPSAoeWllbGQgdGhpcy5hZGFwdGVyKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldEN1cnJlbnRUZXh0VHJhY2spID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCB0cmFja0lkKTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgY2FuU2V0VGV4dFRyYWNrVmlzaWJpbGl0eSgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuICFpc1VuZGVmaW5lZCgoX2EgPSAoeWllbGQgdGhpcy5hZGFwdGVyKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldFRleHRUcmFja1Zpc2liaWxpdHkpO1xuICAgIH0pO1xuICB9XG4gIC8qKiBAaW5oZXJpdERvYyAqL1xuICBzZXRUZXh0VHJhY2tWaXNpYmlsaXR5KGlzVmlzaWJsZSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgKF9iID0gKF9hID0gKHlpZWxkIHRoaXMuYWRhcHRlcikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRUZXh0VHJhY2tWaXNpYmlsaXR5KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgaXNWaXNpYmxlKTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgZXh0ZW5kTGFuZ3VhZ2UobGFuZ3VhZ2UsIHRyYW5zbGF0aW9uKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGNvbnN0IHRyYW5zbGF0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy50cmFuc2xhdGlvbnMpLCB7IFtsYW5ndWFnZV06IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKChfYSA9IHRoaXMudHJhbnNsYXRpb25zW2xhbmd1YWdlXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge30pKSwgdHJhbnNsYXRpb24pIH0pO1xuICAgICAgdGhpcy50cmFuc2xhdGlvbnMgPSB0cmFuc2xhdGlvbnM7XG4gICAgfSk7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5vblBhdXNlZENoYW5nZSgpO1xuICAgIHRoaXMub25DdXJyZW50VGltZUNoYW5nZSgpO1xuICAgIHRoaXMub25Wb2x1bWVDaGFuZ2UoKTtcbiAgICB0aGlzLm9uTXV0ZWRDaGFuZ2UoKTtcbiAgICB0aGlzLm9uRGVidWdDaGFuZ2UoKTtcbiAgICB0aGlzLm9uQ29udGFpbmVyQ2hhbmdlKCk7XG4gICAgdGhpcy5vblRyYW5zbGF0aW9uc0NoYW5nZSgpO1xuICAgIHRoaXMub25MYW5ndWFnZUNoYW5nZSh0aGlzLmxhbmd1YWdlLCBpbml0aWFsU3RhdGUubGFuZ3VhZ2UpO1xuICAgIHRoaXMuZGlzcG9zYWwuYWRkKG9uTW9iaWxlQ2hhbmdlKGlzTW9iaWxlID0+IHtcbiAgICAgIHRoaXMuaXNNb2JpbGUgPSBpc01vYmlsZTtcbiAgICB9KSk7XG4gICAgdGhpcy5kaXNwb3NhbC5hZGQob25Ub3VjaElucHV0Q2hhbmdlKGlzVG91Y2ggPT4ge1xuICAgICAgdGhpcy5pc1RvdWNoID0gaXNUb3VjaDtcbiAgICB9KSk7XG4gIH1cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgVW5pdmVyc2UuY3JlYXRlKHRoaXMsIHRoaXMuZ2V0UGxheWVyU3RhdGUoKSk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdmFyIF9hO1xuICAgIChfYSA9IHRoaXMuZnVsbHNjcmVlbkNvbnRyb2xsZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXN0cm95KCk7XG4gICAgdGhpcy5kaXNwb3NhbC5lbXB0eSgpO1xuICB9XG4gIHJvdGF0ZURldmljZSgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJDgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBpZiAoIXRoaXMuaXNNb2JpbGUgfHwgIWNhblJvdGF0ZVNjcmVlbigpKVxuICAgICAgICByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBpZiAodGhpcy5pc0Z1bGxzY3JlZW5BY3RpdmUpIHtcbiAgICAgICAgICB5aWVsZCB3aW5kb3cuc2NyZWVuLm9yaWVudGF0aW9uLmxvY2soJ2xhbmRzY2FwZScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHlpZWxkIHdpbmRvdy5zY3JlZW4ub3JpZW50YXRpb24udW5sb2NrKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhpcy52bUVycm9yLmVtaXQoZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBnZXRQbGF5ZXJTdGF0ZSgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHt9O1xuICAgIGNvbnN0IHByb3BzID0gT2JqZWN0LmtleXMoaW5pdGlhbFN0YXRlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBzdGF0ZVtwcm9wc1tpXV0gPSB0aGlzW3Byb3BzW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG4gIGNhbGNBc3BlY3RSYXRpbygpIHtcbiAgICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSAvXFxkezEsMn06XFxkezEsMn0vLnRlc3QodGhpcy5hc3BlY3RSYXRpbylcbiAgICAgID8gdGhpcy5hc3BlY3RSYXRpby5zcGxpdCgnOicpXG4gICAgICA6IFsxNiwgOV07XG4gICAgcmV0dXJuICgxMDAgLyBOdW1iZXIod2lkdGgpKSAqIE51bWJlcihoZWlnaHQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBpbm5lciBjb250YWluZXIuXG4gICAqL1xuICBnZXRDb250YWluZXIoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xuICAgIH0pO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgRXhwb3NlZCBmb3IgRTJFIHRlc3RpbmcuICovXG4gIGNhbGxBZGFwdGVyKG1ldGhvZCwgdmFsdWUpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJDgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4gKHlpZWxkIHRoaXMuYWRhcHRlcilbbWV0aG9kXSh2YWx1ZSk7XG4gICAgfSk7XG4gIH1cbiAgaGFzQ3VzdG9tQ29udHJvbHMoKSB7XG4gICAgcmV0dXJuIGlzQ29tcG9uZW50UmVnaXN0ZXJlZCh0aGlzLCAndm0tY29udHJvbHMnKTtcbiAgfVxuICBnZW5JZCgpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgaWQgPSAoX2EgPSB0aGlzLmhvc3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pZDtcbiAgICBpZiAoaXNTdHJpbmcoaWQpICYmIGlkLmxlbmd0aCA+IDApXG4gICAgICByZXR1cm4gaWQ7XG4gICAgaWRDb3VudCQzICs9IDE7XG4gICAgcmV0dXJuIGB2bS1wbGF5ZXItJHtpZENvdW50JDN9YDtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgbGFiZWwgPSBgJHt0aGlzLmlzQXVkaW9WaWV3ID8gJ0F1ZGlvIFBsYXllcicgOiAnVmlkZW8gUGxheWVyJ31gICtcbiAgICAgIGAkeyFpc1VuZGVmaW5lZCh0aGlzLm1lZGlhVGl0bGUpID8gYCAtICR7dGhpcy5tZWRpYVRpdGxlfWAgOiAnJ31gO1xuICAgIGNvbnN0IGNhblNob3dDdXN0b21VSSA9ICFJU19JT1MgfHxcbiAgICAgICF0aGlzLmlzVmlkZW9WaWV3IHx8XG4gICAgICAodGhpcy5wbGF5c2lubGluZSAmJiAhdGhpcy5pc0Z1bGxzY3JlZW5BY3RpdmUpO1xuICAgIGlmICghY2FuU2hvd0N1c3RvbVVJKSB7XG4gICAgICB0aGlzLmNvbnRyb2xzID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgaXNJZGxlID0gY2FuU2hvd0N1c3RvbVVJICYmXG4gICAgICB0aGlzLmhhc0N1c3RvbUNvbnRyb2xzKCkgJiZcbiAgICAgIHRoaXMuaXNWaWRlb1ZpZXcgJiZcbiAgICAgICF0aGlzLnBhdXNlZCAmJlxuICAgICAgIXRoaXMuaXNDb250cm9sc0FjdGl2ZTtcbiAgICBjb25zdCBpc0Jsb2NrZXJWaXNpYmxlID0gIXRoaXMuY29udHJvbHMgJiYgY2FuU2hvd0N1c3RvbVVJICYmIHRoaXMuaXNWaWRlb1ZpZXc7XG4gICAgcmV0dXJuIChoKEhvc3QsIHsgaWQ6IHRoaXMuZ2VuSWQoKSwgaWRsZTogaXNJZGxlLCBtb2JpbGU6IHRoaXMuaXNNb2JpbGUsIHRvdWNoOiB0aGlzLmlzVG91Y2gsIGxpdmU6IHRoaXMuaXNMaXZlLCBhdWRpbzogdGhpcy5pc0F1ZGlvVmlldywgdmlkZW86IHRoaXMuaXNWaWRlb1ZpZXcsIHBpcDogdGhpcy5pc1BpUEFjdGl2ZSwgZnVsbHNjcmVlbjogdGhpcy5pc0Z1bGxzY3JlZW5BY3RpdmUgfSwgaChcImRpdlwiLCB7IFwiYXJpYS1sYWJlbFwiOiBsYWJlbCwgXCJhcmlhLWhpZGRlblwiOiAhdGhpcy5yZWFkeSA/ICd0cnVlJyA6ICdmYWxzZScsIFwiYXJpYS1idXN5XCI6ICF0aGlzLnBsYXliYWNrUmVhZHkgPyAndHJ1ZScgOiAnZmFsc2UnLCBjbGFzczoge1xuICAgICAgICBwbGF5ZXI6IHRydWUsXG4gICAgICAgIGlkbGU6IGlzSWRsZSxcbiAgICAgICAgYXVkaW86IHRoaXMuaXNBdWRpb1ZpZXcsXG4gICAgICAgIHZpZGVvOiB0aGlzLmlzVmlkZW9WaWV3LFxuICAgICAgICBmdWxsc2NyZWVuOiB0aGlzLmlzRnVsbHNjcmVlbkFjdGl2ZSxcbiAgICAgIH0sIHN0eWxlOiB7XG4gICAgICAgIHBhZGRpbmdCb3R0b206IHRoaXMuaXNWaWRlb1ZpZXdcbiAgICAgICAgICA/IGAke3RoaXMuY2FsY0FzcGVjdFJhdGlvKCl9JWBcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIH0sIHJlZjogZWwgPT4ge1xuICAgICAgICB3cml0ZVRhc2soKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gZWw7XG4gICAgICAgIH0pO1xuICAgICAgfSB9LCBpc0Jsb2NrZXJWaXNpYmxlICYmIGgoXCJkaXZcIiwgeyBjbGFzczogXCJibG9ja2VyXCIgfSksIGgoVW5pdmVyc2UuUHJvdmlkZXIsIHsgc3RhdGU6IHRoaXMuZ2V0UGxheWVyU3RhdGUoKSB9LCBoKFwic2xvdFwiLCBudWxsKSkpKSk7XG4gIH1cbiAgZ2V0IGhvc3QoKSB7IHJldHVybiB0aGlzOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJjb250YWluZXJcIjogW1wib25Db250YWluZXJDaGFuZ2VcIl0sXG4gICAgXCJwYXVzZWRcIjogW1wib25QYXVzZWRDaGFuZ2VcIl0sXG4gICAgXCJkdXJhdGlvblwiOiBbXCJvbkR1cmF0aW9uQ2hhbmdlXCJdLFxuICAgIFwiY3VycmVudFRpbWVcIjogW1wib25DdXJyZW50VGltZUNoYW5nZVwiXSxcbiAgICBcInBsYXliYWNrUmVhZHlcIjogW1wib25QbGF5YmFja1JlYWR5Q2hhbmdlXCJdLFxuICAgIFwibXV0ZWRcIjogW1wib25NdXRlZENoYW5nZVwiXSxcbiAgICBcInBsYXliYWNrUmF0ZVwiOiBbXCJvblBsYXliYWNrUmF0ZUNoYW5nZVwiXSxcbiAgICBcInBsYXliYWNrUXVhbGl0eVwiOiBbXCJvblBsYXliYWNrUXVhbGl0eUNoYW5nZVwiXSxcbiAgICBcImRlYnVnXCI6IFtcIm9uRGVidWdDaGFuZ2VcIl0sXG4gICAgXCJ2b2x1bWVcIjogW1wib25Wb2x1bWVDaGFuZ2VcIl0sXG4gICAgXCJ2aWV3VHlwZVwiOiBbXCJvblZpZXdUeXBlQ2hhbmdlXCJdLFxuICAgIFwiaXNBdWRpb1ZpZXdcIjogW1wib25WaWV3VHlwZUNoYW5nZVwiXSxcbiAgICBcImlzVmlkZW9WaWV3XCI6IFtcIm9uVmlld1R5cGVDaGFuZ2VcIl0sXG4gICAgXCJtZWRpYVR5cGVcIjogW1wib25NZWRpYVR5cGVDaGFuZ2VcIl0sXG4gICAgXCJsYW5ndWFnZVwiOiBbXCJvbkxhbmd1YWdlQ2hhbmdlXCJdLFxuICAgIFwidHJhbnNsYXRpb25zXCI6IFtcIm9uVHJhbnNsYXRpb25zQ2hhbmdlXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIHBsYXllckNzczsgfVxufTtcblxuY29uc3QgcG9zdGVyQ3NzID0gXCI6aG9zdHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6dmFyKC0tdm0tcG9zdGVyLXotaW5kZXgpfS5wb3N0ZXJ7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtiYWNrZ3JvdW5kOiMwMDA7b3BhY2l0eTowO3Zpc2liaWxpdHk6aGlkZGVuO3BvaW50ZXItZXZlbnRzOm5vbmU7dHJhbnNpdGlvbjp2YXIoLS12bS1mYWRlLXRyYW5zaXRpb24pfS5wb3N0ZXIuaGlkZGVue2Rpc3BsYXk6bm9uZX0ucG9zdGVyLmFjdGl2ZXtvcGFjaXR5OjE7dmlzaWJpbGl0eTp2aXNpYmxlfWltZ3t3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3BvaW50ZXItZXZlbnRzOm5vbmV9XCI7XG5cbmNvbnN0IFBvc3RlciA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgdGhpcy52bUxvYWRlZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1Mb2FkZWRcIiwgMyk7XG4gICAgdGhpcy52bVdpbGxTaG93ID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bVdpbGxTaG93XCIsIDMpO1xuICAgIHRoaXMudm1XaWxsSGlkZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1XaWxsSGlkZVwiLCAzKTtcbiAgICB0aGlzLmlzSGlkZGVuID0gdHJ1ZTtcbiAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5oYXNMb2FkZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBIb3cgdGhlIHBvc3RlciBpbWFnZSBzaG91bGQgYmUgcmVzaXplZCB0byBmaXQgdGhlIGNvbnRhaW5lciAoc2V0cyB0aGUgYG9iamVjdC1maXRgIHByb3BlcnR5KS5cbiAgICAgKi9cbiAgICB0aGlzLmZpdCA9ICdjb3Zlcic7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNWaWRlb1ZpZXcgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wbGF5YmFja1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5jdXJyZW50VGltZSA9IDA7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFtcbiAgICAgICdtZWRpYVRpdGxlJyxcbiAgICAgICdjdXJyZW50UG9zdGVyJyxcbiAgICAgICdwbGF5YmFja1N0YXJ0ZWQnLFxuICAgICAgJ2N1cnJlbnRUaW1lJyxcbiAgICAgICdpc1ZpZGVvVmlldycsXG4gICAgXSk7XG4gIH1cbiAgb25DdXJyZW50UG9zdGVyQ2hhbmdlKCkge1xuICAgIHZhciBfYTtcbiAgICB0aGlzLmhhc0xvYWRlZCA9IGZhbHNlO1xuICAgIChfYSA9IHRoaXMubGF6eUxvYWRlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9uTXV0YXRpb24oKTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmxhenlMb2FkZXIgPSBuZXcgTGF6eUxvYWRlcih0aGlzLmhvc3QsIFsnZGF0YS1zcmMnLCAnc3JjJ10sIGVsID0+IHtcbiAgICAgIGNvbnN0IHNyYyA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKTtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgICBpZiAoIWlzTnVsbChzcmMpKSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnc3JjJywgc3JjKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLm9uRW5hYmxlZENoYW5nZSgpO1xuICAgIHRoaXMub25BY3RpdmVDaGFuZ2UoKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmxhenlMb2FkZXIuZGVzdHJveSgpO1xuICB9XG4gIG9uVmlzaWJpbGl0eUNoYW5nZSgpIHtcbiAgICAhdGhpcy5pc0hpZGRlbiAmJiB0aGlzLmlzQWN0aXZlXG4gICAgICA/IHRoaXMudm1XaWxsU2hvdy5lbWl0KClcbiAgICAgIDogdGhpcy52bVdpbGxIaWRlLmVtaXQoKTtcbiAgfVxuICBvbkVuYWJsZWRDaGFuZ2UoKSB7XG4gICAgdGhpcy5pc0hpZGRlbiA9ICF0aGlzLmlzVmlkZW9WaWV3O1xuICAgIHRoaXMub25WaXNpYmlsaXR5Q2hhbmdlKCk7XG4gIH1cbiAgb25BY3RpdmVDaGFuZ2UoKSB7XG4gICAgdGhpcy5pc0FjdGl2ZSA9ICF0aGlzLnBsYXliYWNrU3RhcnRlZCB8fCB0aGlzLmN1cnJlbnRUaW1lIDw9IDAuMTtcbiAgICB0aGlzLm9uVmlzaWJpbGl0eUNoYW5nZSgpO1xuICB9XG4gIG9uUG9zdGVyTG9hZCgpIHtcbiAgICB0aGlzLnZtTG9hZGVkLmVtaXQoKTtcbiAgICB0aGlzLmhhc0xvYWRlZCA9IHRydWU7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiB7XG4gICAgICAgIHBvc3RlcjogdHJ1ZSxcbiAgICAgICAgaGlkZGVuOiB0aGlzLmlzSGlkZGVuLFxuICAgICAgICBhY3RpdmU6IHRoaXMuaXNBY3RpdmUgJiYgdGhpcy5oYXNMb2FkZWQsXG4gICAgICB9IH0sIGgoXCJpbWdcIiwgeyBjbGFzczogXCJsYXp5XCIsIFwiZGF0YS1zcmNcIjogdGhpcy5jdXJyZW50UG9zdGVyLCBhbHQ6ICFpc1VuZGVmaW5lZCh0aGlzLm1lZGlhVGl0bGUpXG4gICAgICAgID8gYCR7dGhpcy5tZWRpYVRpdGxlfSBQb3N0ZXJgXG4gICAgICAgIDogJ01lZGlhIFBvc3RlcicsIHN0eWxlOiB7IG9iamVjdEZpdDogdGhpcy5maXQgfSwgb25Mb2FkOiB0aGlzLm9uUG9zdGVyTG9hZC5iaW5kKHRoaXMpIH0pKSk7XG4gIH1cbiAgZ2V0IGhvc3QoKSB7IHJldHVybiB0aGlzOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJjdXJyZW50UG9zdGVyXCI6IFtcIm9uQ3VycmVudFBvc3RlckNoYW5nZVwiXSxcbiAgICBcImlzVmlkZW9WaWV3XCI6IFtcIm9uRW5hYmxlZENoYW5nZVwiXSxcbiAgICBcImN1cnJlbnRUaW1lXCI6IFtcIm9uQWN0aXZlQ2hhbmdlXCJdLFxuICAgIFwicGxheWJhY2tTdGFydGVkXCI6IFtcIm9uQWN0aXZlQ2hhbmdlXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIHBvc3RlckNzczsgfVxufTtcblxuY29uc3Qgc2NyaW1Dc3MgPSBcIjpob3N0e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3BvaW50ZXItZXZlbnRzOm5vbmU7ei1pbmRleDp2YXIoLS12bS1zY3JpbS16LWluZGV4KX0uc2NyaW17cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtiYWNrZ3JvdW5kOnZhcigtLXZtLXNjcmltLWJnKTtkaXNwbGF5OmlubGluZS1ibG9jaztvcGFjaXR5OjA7dmlzaWJpbGl0eTpoaWRkZW47dHJhbnNpdGlvbjp2YXIoLS12bS1mYWRlLXRyYW5zaXRpb24pfS5zY3JpbS5ncmFkaWVudHtoZWlnaHQ6MjU4cHg7YmFja2dyb3VuZDpub25lO2JhY2tncm91bmQtcG9zaXRpb246Ym90dG9tO2JhY2tncm91bmQtaW1hZ2U6dXJsKCdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBRUNDQVlBQUFBLzlyMlRBQUFCS2tsRVFWUTRUMlhJNTBjRkFCaUY4ZHZlZSsrNjdiMzN1TTE3YjFNa2tTU1NTQkpKSklra2trUVNTU0tKOUVmbWViOGNyODZISDg4SkJQNHRoa2ZFa2lLT0ZQR2tTQ0NOUkU4U0taSkprVUlhcVo0MFVxU1RJb01VbWFTUjVja21SUTRwY2trano1TlBpZ0pTRkpLaWlEU0tQU1drS0NWRkdXbVVleXBJVVVtS0tsSlVrMGFOSjBpS1dsTFVrVWE5cDRFVWphUm9Ja1V6YWJSNFdrblJSb3AyMHVqd2RKS2lpeFRkcE9naGpWNVBIeW42U1RGQUdvT2VJVklNazJLRUZLT2tNZVlaSjhVRUtVS2tNZW1aSXNVMEtXWklNVXNhYzU0d0tTS2tpSkxHdkdlQkZJdWtXQ0xGTXJrQ3E3QUc2N0FCbTdBRjI3QUR1N0FIKzNBQWgzQUV4M0FDcDNBRzUzQUJsM0FGMTNBRHQzQUg5L0FBai9BRXovQUNyL0FHNy9BQm4vQUYzL0FEdjM5THVqU3lKUFZKMFFBQUFBQkpSVTVFcmtKZ2dnPT0nKX0uc2NyaW0uZ3JhZGllbnRVcHt0b3A6dW5zZXQ7Ym90dG9tOjB9LnNjcmltLmdyYWRpZW50RG93bnt0cmFuc2Zvcm06cm90YXRlKDE4MGRlZyl9LnNjcmltLmhpZGRlbntkaXNwbGF5Om5vbmV9LnNjcmltLmFjdGl2ZXtvcGFjaXR5OjE7dmlzaWJpbGl0eTp2aXNpYmxlfVwiO1xuXG5jb25zdCBTY3JpbSA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNWaWRlb1ZpZXcgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc0NvbnRyb2xzQWN0aXZlID0gZmFsc2U7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFsnaXNWaWRlb1ZpZXcnLCAnaXNDb250cm9sc0FjdGl2ZSddKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IHtcbiAgICAgICAgc2NyaW06IHRydWUsXG4gICAgICAgIGdyYWRpZW50OiAhaXNVbmRlZmluZWQodGhpcy5ncmFkaWVudCksXG4gICAgICAgIGdyYWRpZW50VXA6IHRoaXMuZ3JhZGllbnQgPT09ICd1cCcsXG4gICAgICAgIGdyYWRpZW50RG93bjogdGhpcy5ncmFkaWVudCA9PT0gJ2Rvd24nLFxuICAgICAgICBoaWRkZW46ICF0aGlzLmlzVmlkZW9WaWV3LFxuICAgICAgICBhY3RpdmU6IHRoaXMuaXNDb250cm9sc0FjdGl2ZSxcbiAgICAgIH0gfSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBzY3JpbUNzczsgfVxufTtcblxuY29uc3QgZ2V0SG91cnMgPSAodmFsdWUpID0+IE1hdGgudHJ1bmMoKHZhbHVlIC8gNjAgLyA2MCkgJSA2MCk7XG5jb25zdCBnZXRNaW51dGVzID0gKHZhbHVlKSA9PiBNYXRoLnRydW5jKCh2YWx1ZSAvIDYwKSAlIDYwKTtcbmNvbnN0IGdldFNlY29uZHMgPSAodmFsdWUpID0+IE1hdGgudHJ1bmModmFsdWUgJSA2MCk7XG5jb25zdCBmb3JtYXRUaW1lID0gKHNlY29uZHMgPSAwLCBhbHdheXNTaG93SG91cnMgPSBmYWxzZSkgPT4ge1xuICAvLyBGb3JtYXQgdGltZSBjb21wb25lbnQgdG8gYWRkIGxlYWRpbmcgemVyby5cbiAgY29uc3QgZm9ybWF0ID0gKHZhbHVlKSA9PiBgMCR7dmFsdWV9YC5zbGljZSgtMik7XG4gIGNvbnN0IGhvdXJzID0gZ2V0SG91cnMoc2Vjb25kcyk7XG4gIGNvbnN0IG1pbnMgPSBnZXRNaW51dGVzKHNlY29uZHMpO1xuICBjb25zdCBzZWNzID0gZ2V0U2Vjb25kcyhzZWNvbmRzKTtcbiAgcmV0dXJuIGAke2Fsd2F5c1Nob3dIb3VycyB8fCBob3VycyA+IDAgPyBgJHtob3Vyc306YCA6ICcnfSR7Zm9ybWF0KG1pbnMpfToke2Zvcm1hdChzZWNzKX1gO1xufTtcblxuY29uc3Qgc2NydWJiZXJDb250cm9sQ3NzID0gXCI6aG9zdHstLXZtLXRvb2x0aXAtc3BhY2luZzp2YXIoLS12bS1zY3J1YmJlci10b29sdGlwLXNwYWNpbmcpO2ZsZXg6MTtwb3NpdGlvbjpyZWxhdGl2ZTtjdXJzb3I6cG9pbnRlcjtwb2ludGVyLWV2ZW50czphdXRvO2JveC1zaXppbmc6Ym9yZGVyLWJveDtsZWZ0OmNhbGModmFyKC0tdm0tc2xpZGVyLXRodW1iLXdpZHRoKSAvIDIpO21hcmdpbi1yaWdodDp2YXIoLS12bS1zbGlkZXItdGh1bWItd2lkdGgpO21hcmdpbi1ib3R0b206dmFyKC0tdm0tc2xpZGVyLXRyYWNrLWhlaWdodCl9QGtleWZyYW1lcyBwcm9ncmVzc3t0b3tiYWNrZ3JvdW5kLXBvc2l0aW9uOnZhcigtLXZtLXNjcnViYmVyLWxvYWRpbmctc3RyaXBlLXNpemUpIDB9fS5zY3J1YmJlcntwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlfXZtLXNsaWRlcixwcm9ncmVzc3ttYXJnaW4tbGVmdDpjYWxjKGNhbGModmFyKC0tdm0tc2xpZGVyLXRodW1iLXdpZHRoKSAvIDIpICogLTEpO21hcmdpbi1yaWdodDpjYWxjKGNhbGModmFyKC0tdm0tc2xpZGVyLXRodW1iLXdpZHRoKSAvIDIpICogLTEpO3dpZHRoOmNhbGMoMTAwJSArIHZhcigtLXZtLXNsaWRlci10aHVtYi13aWR0aCkpO2hlaWdodDp2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KX12bS1zbGlkZXI6aG92ZXIscHJvZ3Jlc3M6aG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9dm0tc2xpZGVye3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt6LWluZGV4OjN9cHJvZ3Jlc3N7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtib3JkZXI6MDtib3JkZXItcmFkaXVzOjEwMHB4O3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6NTAlO3BhZGRpbmc6MDtjb2xvcjp2YXIoLS12bS1zY3J1YmJlci1idWZmZXJlZC1iZyk7aGVpZ2h0OnZhcigtLXZtLXNsaWRlci10cmFjay1oZWlnaHQpfXByb2dyZXNzOjotd2Via2l0LXByb2dyZXNzLWJhcntiYWNrZ3JvdW5kOnRyYW5zcGFyZW50fXByb2dyZXNzOjotd2Via2l0LXByb2dyZXNzLXZhbHVle2JhY2tncm91bmQ6Y3VycmVudENvbG9yO2JvcmRlci1yYWRpdXM6MTAwcHg7bWluLXdpZHRoOnZhcigtLXZtLXNsaWRlci10cmFjay1oZWlnaHQpO3RyYW5zaXRpb246d2lkdGggMC4ycyBlYXNlfXByb2dyZXNzOjotbW96LXByb2dyZXNzLWJhcntiYWNrZ3JvdW5kOmN1cnJlbnRDb2xvcjtib3JkZXItcmFkaXVzOjEwMHB4O21pbi13aWR0aDp2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KTt0cmFuc2l0aW9uOndpZHRoIDAuMnMgZWFzZX1wcm9ncmVzczo6LW1zLWZpbGx7Ym9yZGVyLXJhZGl1czoxMDBweDt0cmFuc2l0aW9uOndpZHRoIDAuMnMgZWFzZX1wcm9ncmVzcy5sb2FkaW5ne2FuaW1hdGlvbjpwcm9ncmVzcyAxcyBsaW5lYXIgaW5maW5pdGU7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQoXFxuICAgIC00NWRlZyxcXG4gICAgdmFyKC0tdm0tc2NydWJiZXItbG9hZGluZy1zdHJpcGUtY29sb3IpIDI1JSxcXG4gICAgdHJhbnNwYXJlbnQgMjUlLFxcbiAgICB0cmFuc3BhcmVudCA1MCUsXFxuICAgIHZhcigtLXZtLXNjcnViYmVyLWxvYWRpbmctc3RyaXBlLWNvbG9yKSA1MCUsXFxuICAgIHZhcigtLXZtLXNjcnViYmVyLWxvYWRpbmctc3RyaXBlLWNvbG9yKSA3NSUsXFxuICAgIHRyYW5zcGFyZW50IDc1JSxcXG4gICAgdHJhbnNwYXJlbnRcXG4gICk7YmFja2dyb3VuZC1yZXBlYXQ6cmVwZWF0LXg7YmFja2dyb3VuZC1zaXplOnZhcigtLXZtLXNjcnViYmVyLWxvYWRpbmctc3RyaXBlLXNpemUpXFxuICAgIHZhcigtLXZtLXNjcnViYmVyLWxvYWRpbmctc3RyaXBlLXNpemUpO2NvbG9yOnRyYW5zcGFyZW50O2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9XCI7XG5cbnZhciBfX2F3YWl0ZXIkNyA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuY29uc3QgU2NydWJiZXJDb250cm9sID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLmtleWJvYXJkRGlzcG9zYWwgPSBuZXcgRGlzcG9zYWwoKTtcbiAgICB0aGlzLnRpbWVzdGFtcCA9ICcnO1xuICAgIHRoaXMuZW5kVGltZSA9IDA7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdGltZXN0YW1wIGluIHRoZSB0b29sdGlwIHNob3VsZCBzaG93IHRoZSBob3VycyB1bml0LCBldmVuIGlmIHRoZSB0aW1lIGlzIGxlc3MgdGhhblxuICAgICAqIDEgaG91ciAoZWc6IGAyMDozNWAgLT4gYDAwOjIwOjM1YCkuXG4gICAgICovXG4gICAgdGhpcy5hbHdheXNTaG93SG91cnMgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSB0b29sdGlwIHNob3VsZCBub3QgYmUgZGlzcGxheWVkLlxuICAgICAqL1xuICAgIHRoaXMuaGlkZVRvb2x0aXAgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5jdXJyZW50VGltZSA9IDA7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuZHVyYXRpb24gPSAtMTtcbiAgICAvKipcbiAgICAgKiBQcmV2ZW50cyBzZWVraW5nIGZvcndhcmQvYmFja3dhcmQgYnkgdXNpbmcgdGhlIExlZnQvUmlnaHQgYXJyb3cga2V5cy5cbiAgICAgKi9cbiAgICB0aGlzLm5vS2V5Ym9hcmQgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5idWZmZXJpbmcgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5idWZmZXJlZCA9IDA7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaTE4biA9IHt9O1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbXG4gICAgICAnaTE4bicsXG4gICAgICAnY3VycmVudFRpbWUnLFxuICAgICAgJ2R1cmF0aW9uJyxcbiAgICAgICdidWZmZXJpbmcnLFxuICAgICAgJ2J1ZmZlcmVkJyxcbiAgICBdKTtcbiAgfVxuICBvbk5vS2V5Ym9hcmRDaGFuZ2UoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ3KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgdGhpcy5rZXlib2FyZERpc3Bvc2FsLmVtcHR5KCk7XG4gICAgICBpZiAodGhpcy5ub0tleWJvYXJkKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBwbGF5ZXIgPSB5aWVsZCBmaW5kUGxheWVyKHRoaXMpO1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHBsYXllcikpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IG9uS2V5RG93biA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQua2V5ICE9PSAnQXJyb3dMZWZ0JyAmJiBldmVudC5rZXkgIT09ICdBcnJvd1JpZ2h0JylcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGlzTGVmdEFycm93ID0gZXZlbnQua2V5ID09PSAnQXJyb3dMZWZ0JztcbiAgICAgICAgY29uc3Qgc2Vla1RvID0gaXNMZWZ0QXJyb3dcbiAgICAgICAgICA/IE1hdGgubWF4KDAsIHRoaXMuY3VycmVudFRpbWUgLSA1KVxuICAgICAgICAgIDogTWF0aC5taW4odGhpcy5kdXJhdGlvbiwgdGhpcy5jdXJyZW50VGltZSArIDUpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50VGltZScsIHNlZWtUbyk7XG4gICAgICB9O1xuICAgICAgdGhpcy5rZXlib2FyZERpc3Bvc2FsLmFkZChsaXN0ZW4ocGxheWVyLCAna2V5ZG93bicsIG9uS2V5RG93bikpO1xuICAgIH0pO1xuICB9XG4gIG9uRHVyYXRpb25DaGFuZ2UoKSB7XG4gICAgLy8gQXZvaWQgLTEuXG4gICAgdGhpcy5lbmRUaW1lID0gTWF0aC5tYXgoMCwgdGhpcy5kdXJhdGlvbik7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5kaXNwYXRjaCA9IGNyZWF0ZURpc3BhdGNoZXIodGhpcyk7XG4gICAgdGhpcy50aW1lc3RhbXAgPSBmb3JtYXRUaW1lKHRoaXMuY3VycmVudFRpbWUsIHRoaXMuYWx3YXlzU2hvd0hvdXJzKTtcbiAgICB0aGlzLm9uTm9LZXlib2FyZENoYW5nZSgpO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMua2V5Ym9hcmREaXNwb3NhbC5lbXB0eSgpO1xuICB9XG4gIHNldFRvb2x0aXBQb3NpdGlvbih2YWx1ZSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgdG9vbHRpcFJlY3QgPSAoX2IgPSAoX2EgPSB0aGlzLnRvb2x0aXAuc2hhZG93Um9vdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnF1ZXJ5U2VsZWN0b3IoJy50b29sdGlwJykpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBib3VuZHMgPSB0aGlzLnNsaWRlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCB0aHVtYldpZHRoID0gcGFyc2VGbG9hdCh3aW5kb3dcbiAgICAgIC5nZXRDb21wdXRlZFN0eWxlKHRoaXMuc2xpZGVyKVxuICAgICAgLmdldFByb3BlcnR5VmFsdWUoJy0tdm0tc2xpZGVyLXRodW1iLXdpZHRoJykpO1xuICAgIGNvbnN0IGxlZnRMaW1pdCA9IHRvb2x0aXBSZWN0LndpZHRoIC8gMiAtIHRodW1iV2lkdGggLyAyO1xuICAgIGNvbnN0IHJpZ2h0TGltaXQgPSBib3VuZHMud2lkdGggLSB0b29sdGlwUmVjdC53aWR0aCAvIDIgLSB0aHVtYldpZHRoIC8gMjtcbiAgICBjb25zdCB4UG9zID0gTWF0aC5tYXgobGVmdExpbWl0LCBNYXRoLm1pbih2YWx1ZSwgcmlnaHRMaW1pdCkpO1xuICAgIHRoaXMudG9vbHRpcC5zdHlsZSA9IGAtLXZtLXRvb2x0aXAtbGVmdDogJHt4UG9zfXB4YDtcbiAgfVxuICBvblNlZWsoZXZlbnQpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50VGltZScsIGV2ZW50LmRldGFpbCk7XG4gIH1cbiAgb25TZWVraW5nKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuZHVyYXRpb24gPCAwIHx8IHRoaXMudG9vbHRpcC5oaWRkZW4pXG4gICAgICByZXR1cm47XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdtb3VzZWxlYXZlJykge1xuICAgICAgdGhpcy5nZXRTbGlkZXJJbnB1dCgpLmJsdXIoKTtcbiAgICAgIHRoaXMudG9vbHRpcC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmVjdCA9IHRoaXMuaG9zdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBwZXJjZW50ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCAoMTAwIC8gcmVjdC53aWR0aCkgKiAoZXZlbnQucGFnZVggLSByZWN0LmxlZnQpKSk7XG4gICAgdGhpcy50aW1lc3RhbXAgPSBmb3JtYXRUaW1lKCh0aGlzLmR1cmF0aW9uIC8gMTAwKSAqIHBlcmNlbnQsIHRoaXMuYWx3YXlzU2hvd0hvdXJzKTtcbiAgICB0aGlzLnNldFRvb2x0aXBQb3NpdGlvbigocGVyY2VudCAvIDEwMCkgKiByZWN0LndpZHRoKTtcbiAgICBpZiAoIXRoaXMudG9vbHRpcC5hY3RpdmUpIHtcbiAgICAgIHRoaXMuZ2V0U2xpZGVySW5wdXQoKS5mb2N1cygpO1xuICAgICAgdGhpcy50b29sdGlwLmFjdGl2ZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGdldFNsaWRlcklucHV0KCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKF9hID0gdGhpcy5zbGlkZXIuc2hhZG93Um9vdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHNsaWRlclZhbHVlVGV4dCA9IHRoaXMuaTE4bi5zY3J1YmJlckxhYmVsXG4gICAgICAucmVwbGFjZSgve2N1cnJlbnRUaW1lfS8sIGZvcm1hdFRpbWUodGhpcy5jdXJyZW50VGltZSkpXG4gICAgICAucmVwbGFjZSgve2R1cmF0aW9ufS8sIGZvcm1hdFRpbWUodGhpcy5lbmRUaW1lKSk7XG4gICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IFwic2NydWJiZXJcIiwgb25Nb3VzZUVudGVyOiB0aGlzLm9uU2Vla2luZy5iaW5kKHRoaXMpLCBvbk1vdXNlTGVhdmU6IHRoaXMub25TZWVraW5nLmJpbmQodGhpcyksIG9uTW91c2VNb3ZlOiB0aGlzLm9uU2Vla2luZy5iaW5kKHRoaXMpLCBvblRvdWNoTW92ZTogKCkgPT4ge1xuICAgICAgICB0aGlzLmdldFNsaWRlcklucHV0KCkuZm9jdXMoKTtcbiAgICAgIH0sIG9uVG91Y2hFbmQ6ICgpID0+IHtcbiAgICAgICAgdGhpcy5nZXRTbGlkZXJJbnB1dCgpLmJsdXIoKTtcbiAgICAgIH0gfSwgaChcInZtLXNsaWRlclwiLCB7IHN0ZXA6IDAuMDEsIG1heDogdGhpcy5lbmRUaW1lLCB2YWx1ZTogdGhpcy5jdXJyZW50VGltZSwgbGFiZWw6IHRoaXMuaTE4bi5zY3J1YmJlciwgdmFsdWVUZXh0OiBzbGlkZXJWYWx1ZVRleHQsIG9uVm1WYWx1ZUNoYW5nZTogdGhpcy5vblNlZWsuYmluZCh0aGlzKSwgcmVmOiAoZWwpID0+IHtcbiAgICAgICAgdGhpcy5zbGlkZXIgPSBlbDtcbiAgICAgIH0gfSksIGgoXCJwcm9ncmVzc1wiLCB7IGNsYXNzOiB7XG4gICAgICAgIGxvYWRpbmc6IHRoaXMuYnVmZmVyaW5nLFxuICAgICAgfSxcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIG1pbjogMCwgbWF4OiB0aGlzLmVuZFRpbWUsIHZhbHVlOiB0aGlzLmJ1ZmZlcmVkLCBcImFyaWEtbGFiZWxcIjogdGhpcy5pMThuLmJ1ZmZlcmVkLCBcImFyaWEtdmFsdWVtaW5cIjogXCIwXCIsIFwiYXJpYS12YWx1ZW1heFwiOiB0aGlzLmVuZFRpbWUsIFwiYXJpYS12YWx1ZW5vd1wiOiB0aGlzLmJ1ZmZlcmVkLCBcImFyaWEtdmFsdWV0ZXh0XCI6IGAkeyh0aGlzLmVuZFRpbWUgPiAwXG4gICAgICAgID8gdGhpcy5idWZmZXJlZCAvIHRoaXMuZW5kVGltZVxuICAgICAgICA6IDApLnRvRml4ZWQoMCl9JWAgfSwgXCIlIGJ1ZmZlcmVkXCIpLCBoKFwidm0tdG9vbHRpcFwiLCB7IGhpZGRlbjogdGhpcy5oaWRlVG9vbHRpcCwgcmVmOiAoZWwpID0+IHtcbiAgICAgICAgdGhpcy50b29sdGlwID0gZWw7XG4gICAgICB9IH0sIHRoaXMudGltZXN0YW1wKSkpO1xuICB9XG4gIGdldCBob3N0KCkgeyByZXR1cm4gdGhpczsgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwibm9LZXlib2FyZFwiOiBbXCJvbk5vS2V5Ym9hcmRDaGFuZ2VcIl0sXG4gICAgXCJkdXJhdGlvblwiOiBbXCJvbkR1cmF0aW9uQ2hhbmdlXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIHNjcnViYmVyQ29udHJvbENzczsgfVxufTtcblxuY29uc3Qgc2V0dGluZ3NDc3MgPSBcIjpob3N0e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3BvaW50ZXItZXZlbnRzOm5vbmU7ei1pbmRleDp2YXIoLS12bS1tZW51LXotaW5kZXgpfS5zZXR0aW5nc3twb3NpdGlvbjphYnNvbHV0ZTtvcGFjaXR5OjA7cG9pbnRlci1ldmVudHM6bm9uZTtvdmVyZmxvdy14OmhpZGRlbjtvdmVyZmxvdy15OmF1dG87YmFja2dyb3VuZC1jb2xvcjp2YXIoLS12bS1tZW51LWJnKTttYXgtaGVpZ2h0OnZhcigtLXZtLXNldHRpbmdzLW1heC1oZWlnaHQpO2JvcmRlci1yYWRpdXM6dmFyKC0tdm0tc2V0dGluZ3MtYm9yZGVyLXJhZGl1cyk7cGFkZGluZzp2YXIoLS12bS1zZXR0aW5ncy1wYWRkaW5nKTtib3gtc2hhZG93OnZhcigtLXZtLXNldHRpbmdzLXNoYWRvdyk7Ym94LXNpemluZzpib3JkZXItYm94O3Njcm9sbGJhci13aWR0aDp0aGluO3Njcm9sbC1iZWhhdmlvcjpzbW9vdGg7c2Nyb2xsYmFyLWNvbG9yOnZhcigtLXZtLXNldHRpbmdzLXNjcm9sbC10aHVtYi1jb2xvcilcXG4gICAgdmFyKC0tdm0tc2V0dGluZ3Mtc2Nyb2xsLXRyYWNrLWNvbG9yKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSg4cHgpO3RyYW5zaXRpb246dmFyKC0tdm0tc2V0dGluZ3MtdHJhbnNpdGlvbil9LmNvbnRhaW5lcntkaXNwbGF5OmJsb2NrO3dpZHRoOnZhcigtLXZtLXNldHRpbmdzLXdpZHRoKTtoZWlnaHQ6MTAwJTtwb3NpdGlvbjpyZWxhdGl2ZTt0cmFuc2l0aW9uOndpZHRoIDAuMjVzIGVhc2UtaW4sIGhlaWdodCAwLjI1cyBlYXNlLWlufS5zZXR0aW5ncy5oeWRyYXRlZHt2aXNpYmlsaXR5OmhpZGRlbiAhaW1wb3J0YW50fS5zZXR0aW5nczo6LXdlYmtpdC1zY3JvbGxiYXJ7d2lkdGg6dmFyKC0tdm0tc2V0dGluZ3Mtc2Nyb2xsLXdpZHRoKX0uc2V0dGluZ3M6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNre2JhY2tncm91bmQ6dmFyKC0tdm0tc2V0dGluZ3Mtc2Nyb2xsLXRyYWNrLWNvbG9yKX0uc2V0dGluZ3M6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1ie2JvcmRlci1yYWRpdXM6dmFyKC0tdm0tc2V0dGluZ3Mtc2Nyb2xsLXdpZHRoKTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXZtLXNldHRpbmdzLXNjcm9sbC10aHVtYi1jb2xvcik7Ym9yZGVyOjJweCBzb2xpZCB2YXIoLS12bS1tZW51LWJnKX0uc2V0dGluZ3MuYWN0aXZle3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApO29wYWNpdHk6MTtwb2ludGVyLWV2ZW50czphdXRvO3Zpc2liaWxpdHk6dmlzaWJsZSAhaW1wb3J0YW50fS5zZXR0aW5ncy5tb2JpbGV7cG9zaXRpb246Zml4ZWQ7dG9wOmF1dG8gIWltcG9ydGFudDtsZWZ0OjAgIWltcG9ydGFudDtyaWdodDowICFpbXBvcnRhbnQ7Ym90dG9tOjAgIWltcG9ydGFudDt3aWR0aDoxMDAlO21pbi1oZWlnaHQ6NTZweDttYXgtaGVpZ2h0OjUwJTtib3JkZXItcmFkaXVzOjA7ei1pbmRleDoyMTQ3NDgzNjQ3O3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMCUpfS5zZXR0aW5ncy5tb2JpbGUuYWN0aXZle3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfS5zZXR0aW5ncy5tb2JpbGU+dm0tbWVudXtoZWlnaHQ6MTAwJSAhaW1wb3J0YW50O292ZXJmbG93OmF1dG8gIWltcG9ydGFudH1cIjtcblxudmFyIF9fYXdhaXRlciQ2ID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5sZXQgaWRDb3VudCQyID0gMDtcbmNvbnN0IFNldHRpbmdzID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLmRpc3Bvc2FsID0gbmV3IERpc3Bvc2FsKCk7XG4gICAgdGhpcy5tZW51SGVpZ2h0ID0gMDtcbiAgICAvKipcbiAgICAgKiBQaW5zIHRoZSBzZXR0aW5ncyB0byB0aGUgZGVmaW5lZCBwb3NpdGlvbiBpbnNpZGUgdGhlIHZpZGVvIHBsYXllci4gVGhpcyBoYXMgbm8gZWZmZWN0IHdoZW5cbiAgICAgKiB0aGUgdmlldyBpcyBvZiB0eXBlIGBhdWRpb2AgKGFsd2F5cyBgYm90dG9tUmlnaHRgKSBhbmQgb24gbW9iaWxlIGRldmljZXMgKGFsd2F5cyBib3R0b20gc2hlZXQpLlxuICAgICAqL1xuICAgIHRoaXMucGluID0gJ2JvdHRvbVJpZ2h0JztcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBzZXR0aW5ncyBtZW51IGlzIG9wZW5lZC9jbG9zZWQuXG4gICAgICovXG4gICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc01vYmlsZSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzQXVkaW9WaWV3ID0gZmFsc2U7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhDb250cm9sc0NvbGxpc2lvbkRldGVjdGlvbih0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbJ2lzTW9iaWxlJywgJ2lzQXVkaW9WaWV3J10pO1xuICB9XG4gIG9uQWN0aXZlQ2hhbmdlKCkge1xuICAgIHRoaXMuZGlzcGF0Y2goJ2lzU2V0dGluZ3NBY3RpdmUnLCB0aGlzLmFjdGl2ZSk7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHRoaXMuY29udHJvbGxlcikpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5jb250cm9sbGVyLmV4cGFuZGVkID0gdGhpcy5hY3RpdmU7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5kaXNwYXRjaCA9IGNyZWF0ZURpc3BhdGNoZXIodGhpcyk7XG4gICAgaWRDb3VudCQyICs9IDE7XG4gICAgdGhpcy5pZCA9IGB2bS1zZXR0aW5ncy0ke2lkQ291bnQkMn1gO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuZGlzcG9zYWwuZW1wdHkoKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgY29udHJvbGxlciByZXNwb25zaWJsZSBmb3Igb3BlbmluZy9jbG9zaW5nIHRoaXMgc2V0dGluZ3MgbWVudS5cbiAgICovXG4gIHNldENvbnRyb2xsZXIoY29udHJvbGxlcikge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkNih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICB0aGlzLmNvbnRyb2xsZXIubWVudSA9IHRoaXMuaWQ7XG4gICAgICB0aGlzLmRpc3Bvc2FsLmVtcHR5KCk7XG4gICAgICB0aGlzLmRpc3Bvc2FsLmFkZChsaXN0ZW4odGhpcy5jb250cm9sbGVyLCAnY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gIXRoaXMuYWN0aXZlO1xuICAgICAgfSkpO1xuICAgICAgdGhpcy5kaXNwb3NhbC5hZGQobGlzdGVuKHRoaXMuY29udHJvbGxlciwgJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSAhPT0gJ0VudGVyJylcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIFdlJ3JlIGxvb2tpbmcgZm9yICFhY3RpdmUgYmVjYXVzZSB0aGUgYGNsaWNrYCBldmVudCBhYm92ZSB3aWxsIHRvZ2dsZSBpdCB0byBhY3RpdmUuXG4gICAgICAgIGlmICghdGhpcy5hY3RpdmUpXG4gICAgICAgICAgdGhpcy5tZW51LmZvY3VzTWVudSgpO1xuICAgICAgfSkpO1xuICAgIH0pO1xuICB9XG4gIGdldFBvc2l0aW9uKCkge1xuICAgIGlmICh0aGlzLmlzQXVkaW9WaWV3KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByaWdodDogJzAnLFxuICAgICAgICBib3R0b206ICdjYWxjKHZhcigtLXZtLWNvbnRyb2xzLWhlaWdodCwgMCkgKyA0cHgpJyxcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIHRvcExlZnQgPT4geyB0b3A6IDAsIGxlZnQ6IDAgfVxuICAgIGNvbnN0IHBvcyA9IHRoaXMucGluLnNwbGl0KC8oPz1bTHxSXSkvKS5tYXAocyA9PiBzLnRvTG93ZXJDYXNlKCkpO1xuICAgIHJldHVybiB7XG4gICAgICBbcG9zLmluY2x1ZGVzKCd0b3AnKSA/ICd0b3AnIDogJ2JvdHRvbSddOiAndmFyKC0tdm0tY29udHJvbHMtaGVpZ2h0LCAwKScsXG4gICAgICBbcG9zLmluY2x1ZGVzKCdsZWZ0JykgPyAnbGVmdCcgOiAncmlnaHQnXTogJzhweCcsXG4gICAgfTtcbiAgfVxuICBvbk9wZW4oZXZlbnQpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCgoX2EgPSBldmVudC5kZXRhaWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pZGVudGlmaWVyKSAhPT0gdGhpcy5pZClcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gIH1cbiAgb25DbG9zZShldmVudCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoKChfYSA9IGV2ZW50LmRldGFpbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlkZW50aWZpZXIpICE9PSB0aGlzLmlkKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gIH1cbiAgb25IZWlnaHRDaGFuZ2UoZXZlbnQpIHtcbiAgICB0aGlzLm1lbnVIZWlnaHQgPSBldmVudC5kZXRhaWw7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IHN0eWxlOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmdldFBvc2l0aW9uKCkpLCBjbGFzczoge1xuICAgICAgICBzZXR0aW5nczogdHJ1ZSxcbiAgICAgICAgYWN0aXZlOiB0aGlzLmFjdGl2ZSxcbiAgICAgICAgbW9iaWxlOiB0aGlzLmlzTW9iaWxlLFxuICAgICAgfSB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiY29udGFpbmVyXCIsIHN0eWxlOiB7IGhlaWdodDogYCR7dGhpcy5tZW51SGVpZ2h0fXB4YCB9IH0sIGgoXCJ2bS1tZW51XCIsIHsgaWRlbnRpZmllcjogdGhpcy5pZCwgYWN0aXZlOiB0aGlzLmFjdGl2ZSwgY29udHJvbGxlcjogdGhpcy5jb250cm9sbGVyLCBvblZtT3BlbjogdGhpcy5vbk9wZW4uYmluZCh0aGlzKSwgb25WbUNsb3NlOiB0aGlzLm9uQ2xvc2UuYmluZCh0aGlzKSwgb25WbU1lbnVIZWlnaHRDaGFuZ2U6IHRoaXMub25IZWlnaHRDaGFuZ2UuYmluZCh0aGlzKSwgcmVmOiAoZWwpID0+IHtcbiAgICAgICAgdGhpcy5tZW51ID0gZWw7XG4gICAgICB9IH0sIGgoXCJzbG90XCIsIG51bGwpKSkpKTtcbiAgfVxuICBnZXQgaG9zdCgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcImFjdGl2ZVwiOiBbXCJvbkFjdGl2ZUNoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBzZXR0aW5nc0NzczsgfVxufTtcblxuY29uc3Qgc2V0dGluZ3NDb250cm9sQ3NzID0gXCIuc2V0dGluZ3NDb250cm9sLmhpZGRlbntkaXNwbGF5Om5vbmV9LnNldHRpbmdzQ29udHJvbHstLXZtLWljb24tdHJhbnNpdGlvbjp0cmFuc2Zvcm0gMC4zcyBlYXNlfS5zZXR0aW5nc0NvbnRyb2wuYWN0aXZley0tdm0taWNvbi10cmFuc2Zvcm06cm90YXRlKDkwZGVnKX1cIjtcblxudmFyIF9fYXdhaXRlciQ1ID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5sZXQgaWRDb3VudCQxID0gMDtcbmNvbnN0IFNldHRpbmdzQ29udHJvbCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHNldHRpbmdzIGljb24gdG8gcmVzb2x2ZSBmcm9tIHRoZSBpY29uIGxpYnJhcnkuXG4gICAgICovXG4gICAgdGhpcy5pY29uID0gJ3NldHRpbmdzJztcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSB0b29sdGlwIGlzIHBvc2l0aW9uZWQgYWJvdmUvYmVsb3cgdGhlIGNvbnRyb2wuXG4gICAgICovXG4gICAgdGhpcy50b29sdGlwUG9zaXRpb24gPSAndG9wJztcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBzZXR0aW5ncyBtZW51IHRoaXMgY29udHJvbCBtYW5hZ2VzIGlzIG9wZW4uXG4gICAgICovXG4gICAgdGhpcy5leHBhbmRlZCA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmkxOG4gPSB7fTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSB0b29sdGlwIHNob3VsZCBub3QgYmUgZGlzcGxheWVkLlxuICAgICAqL1xuICAgIHRoaXMuaGlkZVRvb2x0aXAgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgWydpMThuJ10pO1xuICB9XG4gIG9uQ29tcG9uZW50c0NoYW5nZSgpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMudm1TZXR0aW5ncykpIHtcbiAgICAgIHRoaXMudm1TZXR0aW5ncy5zZXRDb250cm9sbGVyKHRoaXMuaG9zdCk7XG4gICAgfVxuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGlkQ291bnQkMSArPSAxO1xuICAgIHRoaXMuaWQgPSBgdm0tc2V0dGluZ3MtY29udHJvbC0ke2lkQ291bnQkMX1gO1xuICAgIHdhdGNoQ29tcG9uZW50UmVnaXN0cnkodGhpcywgJ3ZtLXNldHRpbmdzJywgcmVncyA9PiB7XG4gICAgICBbdGhpcy52bVNldHRpbmdzXSA9IHJlZ3M7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEZvY3VzZXMgdGhlIGNvbnRyb2wuXG4gICAqL1xuICBmb2N1c0NvbnRyb2woKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkNSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIChfYSA9IHRoaXMuY29udHJvbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzQ29udHJvbCgpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIGZvY3VzIGZyb20gdGhlIGNvbnRyb2wuXG4gICAqL1xuICBibHVyQ29udHJvbCgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ1KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgKF9hID0gdGhpcy5jb250cm9sKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmx1ckNvbnRyb2woKTtcbiAgICB9KTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaGFzU2V0dGluZ3MgPSAhaXNVbmRlZmluZWQodGhpcy5tZW51KTtcbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczoge1xuICAgICAgICBzZXR0aW5nc0NvbnRyb2w6IHRydWUsXG4gICAgICAgIGhpZGRlbjogIWhhc1NldHRpbmdzLFxuICAgICAgICBhY3RpdmU6IGhhc1NldHRpbmdzICYmIHRoaXMuZXhwYW5kZWQsXG4gICAgICB9IH0sIGgoXCJ2bS1jb250cm9sXCIsIHsgaWRlbnRpZmllcjogdGhpcy5pZCwgbWVudTogdGhpcy5tZW51LCBoaWRkZW46ICFoYXNTZXR0aW5ncywgZXhwYW5kZWQ6IHRoaXMuZXhwYW5kZWQsIGxhYmVsOiB0aGlzLmkxOG4uc2V0dGluZ3MsIHJlZjogY29udHJvbCA9PiB7XG4gICAgICAgIHRoaXMuY29udHJvbCA9IGNvbnRyb2w7XG4gICAgICB9IH0sIGgoXCJ2bS1pY29uXCIsIHsgbmFtZTogdGhpcy5pY29uLCBsaWJyYXJ5OiB0aGlzLmljb25zIH0pLCBoKFwidm0tdG9vbHRpcFwiLCB7IGhpZGRlbjogdGhpcy5oaWRlVG9vbHRpcCB8fCB0aGlzLmV4cGFuZGVkLCBwb3NpdGlvbjogdGhpcy50b29sdGlwUG9zaXRpb24sIGRpcmVjdGlvbjogdGhpcy50b29sdGlwRGlyZWN0aW9uIH0sIHRoaXMuaTE4bi5zZXR0aW5ncykpKSk7XG4gIH1cbiAgZ2V0IGhvc3QoKSB7IHJldHVybiB0aGlzOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJ2bVNldHRpbmdzXCI6IFtcIm9uQ29tcG9uZW50c0NoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBzZXR0aW5nc0NvbnRyb2xDc3M7IH1cbn07XG5cbmNvbnN0IHNrZWxldG9uQ3NzID0gXCI6aG9zdHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6dmFyKC0tdm0tc2tlbGV0b24tei1pbmRleCl9QGtleWZyYW1lcyBzaGVlbnswJXtiYWNrZ3JvdW5kLXBvc2l0aW9uOjIwMCUgMH10b3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0yMDAlIDB9fS5za2VsZXRvbnt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2Rpc3BsYXk6ZmxleDttaW4taGVpZ2h0OjFyZW07cG9pbnRlci1ldmVudHM6YXV0b30uc2hlZW4uaGlkZGVue29wYWNpdHk6MDt2aXNpYmlsaXR5OmhpZGRlbjt0cmFuc2l0aW9uOnZhcigtLXZtLWZhZGUtdHJhbnNpdGlvbik7cG9pbnRlci1ldmVudHM6bm9uZX0uaW5kaWNhdG9ye2ZsZXg6MSAxIGF1dG87YmFja2dyb3VuZDp2YXIoLS12bS1za2VsZXRvbi1jb2xvcil9LnNrZWxldG9uLnNoZWVuIC5pbmRpY2F0b3J7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoXFxuICAgIDI3MGRlZyxcXG4gICAgdmFyKC0tdm0tc2tlbGV0b24tc2hlZW4tY29sb3IpLFxcbiAgICB2YXIoLS12bS1za2VsZXRvbi1jb2xvciksXFxuICAgIHZhcigtLXZtLXNrZWxldG9uLWNvbG9yKSxcXG4gICAgdmFyKC0tdm0tc2tlbGV0b24tc2hlZW4tY29sb3IpXFxuICApO2JhY2tncm91bmQtc2l6ZTo0MDAlIDEwMCU7YmFja2dyb3VuZC1zaXplOjQwMCUgMTAwJTthbmltYXRpb246c2hlZW4gOHMgZWFzZS1pbi1vdXQgaW5maW5pdGV9XCI7XG5cbmNvbnN0IFNrZWxldG9uID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLmhpZGRlbiA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hpY2ggYW5pbWF0aW9uIGVmZmVjdCB0aGUgc2tlbGV0b24gd2lsbCB1c2UuXG4gICAgICogKi9cbiAgICB0aGlzLmVmZmVjdCA9ICdzaGVlbic7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMucmVhZHkgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgWydyZWFkeSddKTtcbiAgfVxuICBvblJlYWR5Q2hhbmdlKCkge1xuICAgIGlmICghdGhpcy5yZWFkeSkge1xuICAgICAgdGhpcy5oaWRkZW4gPSBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5oaWRkZW4gPSB0cnVlO1xuICAgICAgfSwgNTAwKTtcbiAgICB9XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiB7XG4gICAgICAgIHNrZWxldG9uOiB0cnVlLFxuICAgICAgICBoaWRkZW46IHRoaXMuaGlkZGVuLFxuICAgICAgICBzaGVlbjogdGhpcy5lZmZlY3QgPT09ICdzaGVlbicsXG4gICAgICB9IH0sIGgoXCJkaXZcIiwgeyBjbGFzczogXCJpbmRpY2F0b3JcIiB9KSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJyZWFkeVwiOiBbXCJvblJlYWR5Q2hhbmdlXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIHNrZWxldG9uQ3NzOyB9XG59O1xuXG5jb25zdCBzbGlkZXJDc3MgPSBcIjpob3N0e3dpZHRoOjEwMCV9LnNsaWRlcnt3aWR0aDoxMDAlfWlucHV0e3dpZHRoOjEwMCU7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtib3JkZXI6MDtvdXRsaW5lOjA7Y3Vyc29yOnBvaW50ZXI7Ym94LXNpemluZzpib3JkZXItYm94O2JvcmRlci1yYWRpdXM6Y2FsYyh2YXIoLS12bS1zbGlkZXItdGh1bWItaGVpZ2h0KSAqIDIpO3VzZXItc2VsZWN0Om5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO3RvdWNoLWFjdGlvbjptYW5pcHVsYXRpb247Y29sb3I6dmFyKC0tdm0tc2xpZGVyLXZhbHVlLWNvbG9yKTtkaXNwbGF5OmJsb2NrO2hlaWdodDp2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KTttYXJnaW46MDtwYWRkaW5nOjA7dHJhbnNpdGlvbjpib3gtc2hhZG93IDAuM3MgZWFzZX1pbnB1dDo6LXdlYmtpdC1zbGlkZXItcnVubmFibGUtdHJhY2t7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtib3JkZXI6MDtib3JkZXItcmFkaXVzOmNhbGModmFyKC0tdm0tc2xpZGVyLXRyYWNrLWhlaWdodCkgLyAyKTtoZWlnaHQ6dmFyKC0tdm0tc2xpZGVyLXRyYWNrLWhlaWdodCk7dHJhbnNpdGlvbjpib3gtc2hhZG93IDAuM3MgZWFzZTt1c2VyLXNlbGVjdDpub25lO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KFxcbiAgICB0byByaWdodCxcXG4gICAgY3VycmVudENvbG9yIHZhcigtLXZtLXZhbHVlLCAwJSksXFxuICAgIHRyYW5zcGFyZW50IHZhcigtLXZtLXZhbHVlLCAwJSlcXG4gICk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS12bS1zbGlkZXItdHJhY2stY29sb3IpfWlucHV0Ojotd2Via2l0LXNsaWRlci10aHVtYntvcGFjaXR5OjA7YmFja2dyb3VuZDp2YXIoLS12bS1zbGlkZXItdGh1bWItYmcpO2JvcmRlcjowO2JvcmRlci1yYWRpdXM6MTAwJTtwb3NpdGlvbjpyZWxhdGl2ZTt0cmFuc2l0aW9uOmFsbCAwLjJzIGVhc2U7d2lkdGg6dmFyKC0tdm0tc2xpZGVyLXRodW1iLXdpZHRoKTtoZWlnaHQ6dmFyKC0tdm0tc2xpZGVyLXRodW1iLWhlaWdodCk7Ym94LXNoYWRvdzp2YXIoLS12bS1zbGlkZXItdGh1bWItc2hhZG93KTstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTttYXJnaW4tdG9wOmNhbGMoXFxuICAgIDBweCAtXFxuICAgICAgY2FsYyhcXG4gICAgICAgIGNhbGModmFyKC0tdm0tc2xpZGVyLXRodW1iLWhlaWdodCkgLSB2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KSkgLyAyXFxuICAgICAgKVxcbiAgKX1pbnB1dDo6LW1vei1yYW5nZS10cmFja3tiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjowO2JvcmRlci1yYWRpdXM6Y2FsYyh2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KSAvIDIpO2hlaWdodDp2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KTt0cmFuc2l0aW9uOmJveC1zaGFkb3cgMC4zcyBlYXNlO3VzZXItc2VsZWN0Om5vbmU7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS12bS1zbGlkZXItdHJhY2stY29sb3IpfWlucHV0OjotbW96LXJhbmdlLXRodW1ie29wYWNpdHk6MDtiYWNrZ3JvdW5kOnZhcigtLXZtLXNsaWRlci10aHVtYi1iZyk7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czoxMDAlO3Bvc2l0aW9uOnJlbGF0aXZlO3RyYW5zaXRpb246YWxsIDAuMnMgZWFzZTt3aWR0aDp2YXIoLS12bS1zbGlkZXItdGh1bWItd2lkdGgpO2hlaWdodDp2YXIoLS12bS1zbGlkZXItdGh1bWItaGVpZ2h0KTtib3gtc2hhZG93OnZhcigtLXZtLXNsaWRlci10aHVtYi1zaGFkb3cpfWlucHV0OjotbW96LXJhbmdlLXByb2dyZXNze2JhY2tncm91bmQ6Y3VycmVudENvbG9yO2JvcmRlci1yYWRpdXM6Y2FsYyh2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KSAvIDIpO2hlaWdodDp2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KX1pbnB1dDo6LW1zLXRyYWNre2JvcmRlcjowO2JvcmRlci1yYWRpdXM6Y2FsYyh2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KSAvIDIpO2hlaWdodDp2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KTt0cmFuc2l0aW9uOmJveC1zaGFkb3cgMC4zcyBlYXNlO3VzZXItc2VsZWN0Om5vbmU7Y29sb3I6dHJhbnNwYXJlbnQ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS12bS1zbGlkZXItdHJhY2stY29sb3IpfWlucHV0OjotbXMtZmlsbC11cHBlcntiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjowO2JvcmRlci1yYWRpdXM6Y2FsYyh2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KSAvIDIpO2hlaWdodDp2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KTt0cmFuc2l0aW9uOmJveC1zaGFkb3cgMC4zcyBlYXNlO3VzZXItc2VsZWN0Om5vbmV9aW5wdXQ6Oi1tcy1maWxsLWxvd2Vye2JvcmRlcjowO2JvcmRlci1yYWRpdXM6Y2FsYyh2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KSAvIDIpO2hlaWdodDp2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KTt0cmFuc2l0aW9uOmJveC1zaGFkb3cgMC4zcyBlYXNlO3VzZXItc2VsZWN0Om5vbmU7YmFja2dyb3VuZDpjdXJyZW50Q29sb3J9aW5wdXQ6Oi1tcy10aHVtYntvcGFjaXR5OjA7YmFja2dyb3VuZDp2YXIoLS12bS1zbGlkZXItdGh1bWItYmcpO2JvcmRlcjowO2JvcmRlci1yYWRpdXM6MTAwJTtwb3NpdGlvbjpyZWxhdGl2ZTt0cmFuc2l0aW9uOmFsbCAwLjJzIGVhc2U7d2lkdGg6dmFyKC0tdm0tc2xpZGVyLXRodW1iLXdpZHRoKTtoZWlnaHQ6dmFyKC0tdm0tc2xpZGVyLXRodW1iLWhlaWdodCk7Ym94LXNoYWRvdzp2YXIoLS12bS1zbGlkZXItdGh1bWItc2hhZG93KTttYXJnaW4tdG9wOjB9aW5wdXQ6Oi1tcy10b29sdGlwe2Rpc3BsYXk6bm9uZX1pbnB1dDpob3Zlcjo6LXdlYmtpdC1zbGlkZXItcnVubmFibGUtdHJhY2t7aGVpZ2h0OnZhcigtLXZtLXNsaWRlci10cmFjay1mb2N1c2VkLWhlaWdodCl9aW5wdXQ6aG92ZXI6Oi1tb3otcmFuZ2UtdHJhY2t7aGVpZ2h0OnZhcigtLXZtLXNsaWRlci10cmFjay1mb2N1c2VkLWhlaWdodCl9aW5wdXQ6aG92ZXI6Oi1tcy10cmFja3toZWlnaHQ6dmFyKC0tdm0tc2xpZGVyLXRyYWNrLWZvY3VzZWQtaGVpZ2h0KX1pbnB1dDpob3Zlcjo6LW1zLWZpbGwtdXBwZXJ7aGVpZ2h0OnZhcigtLXZtLXNsaWRlci10cmFjay1mb2N1c2VkLWhlaWdodCl9aW5wdXQ6aG92ZXI6Oi1tcy1maWxsLWxvd2Vye2hlaWdodDp2YXIoLS12bS1zbGlkZXItdHJhY2stZm9jdXNlZC1oZWlnaHQpfWlucHV0OmhvdmVyOjotd2Via2l0LXNsaWRlci10aHVtYntvcGFjaXR5OjF9aW5wdXQ6aG92ZXI6Oi1tb3otcmFuZ2UtdGh1bWJ7b3BhY2l0eToxfWlucHV0OmhvdmVyOjotbXMtdGh1bWJ7b3BhY2l0eToxfWlucHV0OmZvY3Vze291dGxpbmU6MH1pbnB1dDpmb2N1czo6LXdlYmtpdC1zbGlkZXItcnVubmFibGUtdHJhY2t7b3V0bGluZTowO2hlaWdodDp2YXIoLS12bS1zbGlkZXItdHJhY2stZm9jdXNlZC1oZWlnaHQpfWlucHV0OmZvY3VzOjotbW96LXJhbmdlLXRyYWNre291dGxpbmU6MDtoZWlnaHQ6dmFyKC0tdm0tc2xpZGVyLXRyYWNrLWZvY3VzZWQtaGVpZ2h0KX1pbnB1dDpmb2N1czo6LW1zLXRyYWNre291dGxpbmU6MDtoZWlnaHQ6dmFyKC0tdm0tc2xpZGVyLXRyYWNrLWZvY3VzZWQtaGVpZ2h0KX1pbnB1dDo6LW1vei1mb2N1cy1vdXRlcntib3JkZXI6MH1cIjtcblxuY29uc3QgU2xpZGVyID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLnZtVmFsdWVDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtVmFsdWVDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bUZvY3VzID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUZvY3VzXCIsIDcpO1xuICAgIHRoaXMudm1CbHVyID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUJsdXJcIiwgNyk7XG4gICAgLyoqXG4gICAgICogQSBudW1iZXIgdGhhdCBzcGVjaWZpZXMgdGhlIGdyYW51bGFyaXR5IHRoYXQgdGhlIHZhbHVlIG11c3QgYWRoZXJlIHRvLlxuICAgICAqL1xuICAgIHRoaXMuc3RlcCA9IDE7XG4gICAgLyoqXG4gICAgICogVGhlIGxvd2VzdCB2YWx1ZSBpbiB0aGUgcmFuZ2Ugb2YgcGVybWl0dGVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICB0aGlzLm1pbiA9IDA7XG4gICAgLyoqXG4gICAgICogVGhlIGdyZWF0ZXN0IHBlcm1pdHRlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICB0aGlzLm1heCA9IDEwO1xuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IHZhbHVlLlxuICAgICAqL1xuICAgIHRoaXMudmFsdWUgPSA1O1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgfVxuICBnZXRQZXJjZW50YWdlKCkge1xuICAgIHJldHVybiBgJHsodGhpcy52YWx1ZSAvIHRoaXMubWF4KSAqIDEwMH0lYDtcbiAgfVxuICBvblZhbHVlQ2hhbmdlKGV2ZW50KSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VGbG9hdCgoX2EgPSBldmVudC50YXJnZXQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS52YWx1ZSk7XG4gICAgdGhpcy52bVZhbHVlQ2hhbmdlLmVtaXQodmFsdWUpO1xuICB9XG4gIGNhbGNUb3VjaGVkVmFsdWUoZXZlbnQpIHtcbiAgICBjb25zdCBpbnB1dCA9IGV2ZW50LnRhcmdldDtcbiAgICBjb25zdCB0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgIGNvbnN0IG1pbiA9IHBhcnNlRmxvYXQoaW5wdXQuZ2V0QXR0cmlidXRlKCdtaW4nKSk7XG4gICAgY29uc3QgbWF4ID0gcGFyc2VGbG9hdChpbnB1dC5nZXRBdHRyaWJ1dGUoJ21heCcpKTtcbiAgICBjb25zdCBzdGVwID0gcGFyc2VGbG9hdChpbnB1dC5nZXRBdHRyaWJ1dGUoJ3N0ZXAnKSk7XG4gICAgY29uc3QgZGVsdGEgPSBtYXggLSBtaW47XG4gICAgLy8gQ2FsY3VsYXRlIHBlcmNlbnRhZ2UuXG4gICAgbGV0IHBlcmNlbnQ7XG4gICAgY29uc3QgY2xpZW50UmVjdCA9IGlucHV0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHNsaWRlclRodW1iV2lkdGggPSBwYXJzZUZsb2F0KHdpbmRvd1xuICAgICAgLmdldENvbXB1dGVkU3R5bGUodGhpcy5ob3N0KVxuICAgICAgLmdldFByb3BlcnR5VmFsdWUoJy0tdm0tc2xpZGVyLXRodW1iLXdpZHRoJykpO1xuICAgIGNvbnN0IHRodW1iV2lkdGggPSAoKDEwMCAvIGNsaWVudFJlY3Qud2lkdGgpICogKHNsaWRlclRodW1iV2lkdGggLyAyKSkgLyAxMDA7XG4gICAgcGVyY2VudCA9ICgxMDAgLyBjbGllbnRSZWN0LndpZHRoKSAqICh0b3VjaC5jbGllbnRYIC0gY2xpZW50UmVjdC5sZWZ0KTtcbiAgICAvLyBEb24ndCBhbGxvdyBvdXRzaWRlIGJvdW5kcy5cbiAgICBwZXJjZW50ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocGVyY2VudCwgMTAwKSk7XG4gICAgLy8gRmFjdG9yIGluIHRoZSB0aHVtYiBvZmZzZXQuXG4gICAgaWYgKHBlcmNlbnQgPCA1MCkge1xuICAgICAgcGVyY2VudCAtPSAoMTAwIC0gcGVyY2VudCAqIDIpICogdGh1bWJXaWR0aDtcbiAgICB9XG4gICAgZWxzZSBpZiAocGVyY2VudCA+IDUwKSB7XG4gICAgICBwZXJjZW50ICs9IChwZXJjZW50IC0gNTApICogMiAqIHRodW1iV2lkdGg7XG4gICAgfVxuICAgIGNvbnN0IHBvc2l0aW9uID0gZGVsdGEgKiAocGVyY2VudCAvIDEwMCk7XG4gICAgaWYgKHN0ZXAgPj0gMSkge1xuICAgICAgcmV0dXJuIG1pbiArIE1hdGgucm91bmQocG9zaXRpb24gLyBzdGVwKSAqIHN0ZXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgcGFydCBkaWZmZXJzIGZyb20gb3JpZ2luYWwgaW1wbGVtZW50YXRpb24gdG8gc2F2ZSBzcGFjZS4gT25seSBzdXBwb3J0cyAyIGRlY2ltYWxcbiAgICAgKiBwbGFjZXMgKDAuMDEpIGFzIHRoZSBzdGVwLlxuICAgICAqL1xuICAgIHJldHVybiBtaW4gKyBwYXJzZUZsb2F0KHBvc2l0aW9uLnRvRml4ZWQoMikpO1xuICB9XG4gIC8qKlxuICAgKiBCYXNpY2FsbHkgaW5wdXRbcmFuZ2U9XCJ0eXBlXCJdIG9uIHRvdWNoIGRldmljZXMgc3Vja3MgKHBhcnRpY3VsYXJseSBpT1MpLCBzbyB0aGlzIGhlbHBzIG1ha2UgaXRcbiAgICogYmV0dGVyLlxuICAgKlxuICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zYW1wb3R0cy9yYW5nZXRvdWNoXG4gICAqL1xuICBvblRvdWNoKGV2ZW50KSB7XG4gICAgY29uc3QgaW5wdXQgPSBldmVudC50YXJnZXQ7XG4gICAgaWYgKGlucHV0LmRpc2FibGVkKVxuICAgICAgcmV0dXJuO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy52YWx1ZSA9IHRoaXMuY2FsY1RvdWNoZWRWYWx1ZShldmVudCk7XG4gICAgdGhpcy52bVZhbHVlQ2hhbmdlLmVtaXQodGhpcy52YWx1ZSk7XG4gICAgaW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgd2luZG93LkV2ZW50KGV2ZW50LnR5cGUgPT09ICd0b3VjaGVuZCcgPyAnY2hhbmdlJyA6ICdpbnB1dCcsIHtcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgfSkpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IFwic2xpZGVyXCIsIHN0eWxlOiB7XG4gICAgICAgICctLXZtLXZhbHVlJzogdGhpcy5nZXRQZXJjZW50YWdlKCksXG4gICAgICB9IH0sIGgoXCJpbnB1dFwiLCB7IHR5cGU6IFwicmFuZ2VcIiwgc3RlcDogdGhpcy5zdGVwLCBtaW46IHRoaXMubWluLCBtYXg6IHRoaXMubWF4LCB2YWx1ZTogdGhpcy52YWx1ZSwgYXV0b2NvbXBsZXRlOiBcIm9mZlwiLCBcImFyaWEtbGFiZWxcIjogdGhpcy5sYWJlbCwgXCJhcmlhLXZhbHVlbWluXCI6IHRoaXMubWluLCBcImFyaWEtdmFsdWVtYXhcIjogdGhpcy5tYXgsIFwiYXJpYS12YWx1ZW5vd1wiOiB0aGlzLnZhbHVlLCBcImFyaWEtdmFsdWV0ZXh0XCI6IChfYSA9IHRoaXMudmFsdWVUZXh0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmdldFBlcmNlbnRhZ2UoKSwgXCJhcmlhLW9yaWVudGF0aW9uXCI6IFwiaG9yaXpvbnRhbFwiLCBvbklucHV0OiB0aGlzLm9uVmFsdWVDaGFuZ2UuYmluZCh0aGlzKSwgb25Gb2N1czogKCkgPT4ge1xuICAgICAgICB0aGlzLnZtRm9jdXMuZW1pdCgpO1xuICAgICAgfSwgb25CbHVyOiAoKSA9PiB7XG4gICAgICAgIHRoaXMudm1CbHVyLmVtaXQoKTtcbiAgICAgIH0sIG9uVG91Y2hTdGFydDogdGhpcy5vblRvdWNoLmJpbmQodGhpcyksIG9uVG91Y2hNb3ZlOiB0aGlzLm9uVG91Y2guYmluZCh0aGlzKSwgb25Ub3VjaEVuZDogdGhpcy5vblRvdWNoLmJpbmQodGhpcykgfSkpKTtcbiAgfVxuICBnZXQgaG9zdCgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIHNsaWRlckNzczsgfVxufTtcblxuY29uc3Qgc3Bpbm5lckNzcyA9IFwiOmhvc3R7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7cG9pbnRlci1ldmVudHM6bm9uZTt6LWluZGV4OnZhcigtLXZtLXNwaW5uZXItei1pbmRleCl9LnNwaW5uZXJ7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7b3BhY2l0eTowO3Zpc2liaWxpdHk6aGlkZGVuO3BvaW50ZXItZXZlbnRzOm5vbmU7dHJhbnNpdGlvbjp2YXIoLS12bS1mYWRlLXRyYW5zaXRpb24pfS5zcGlubmVyLmhpZGRlbntkaXNwbGF5Om5vbmV9LnNwaW5uZXIuYWN0aXZle29wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGV9QGtleWZyYW1lcyBzcGluezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9MTAwJXt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fS5zcGlue2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7bWFyZ2luOjYwcHggYXV0bztmb250LXNpemU6MTBweDtwb3NpdGlvbjpyZWxhdGl2ZTt0ZXh0LWluZGVudDotOTk5OWVtO3BvaW50ZXItZXZlbnRzOm5vbmU7Ym9yZGVyLXRvcDp2YXIoLS12bS1zcGlubmVyLXRoaWNrbmVzcykgc29saWQgdmFyKC0tdm0tc3Bpbm5lci1maWxsLWNvbG9yKTtib3JkZXItbGVmdDp2YXIoLS12bS1zcGlubmVyLXRoaWNrbmVzcykgc29saWQgdmFyKC0tdm0tc3Bpbm5lci1maWxsLWNvbG9yKTtib3JkZXItcmlnaHQ6dmFyKC0tdm0tc3Bpbm5lci10aGlja25lc3MpIHNvbGlkIHZhcigtLXZtLXNwaW5uZXItdHJhY2stY29sb3IpO2JvcmRlci1ib3R0b206dmFyKC0tdm0tc3Bpbm5lci10aGlja25lc3MpIHNvbGlkIHZhcigtLXZtLXNwaW5uZXItdHJhY2stY29sb3IpO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApfS5zcGluLmFjdGl2ZXthbmltYXRpb246c3BpbiB2YXIoLS12bS1zcGlubmVyLXNwaW4tZHVyYXRpb24pIGluZmluaXRlXFxuICAgIHZhcigtLXZtLXNwaW5uZXItc3Bpbi10aW1pbmctZnVuYyl9LnNwaW4sLnNwaW46OmFmdGVye2JvcmRlci1yYWRpdXM6NTAlO3dpZHRoOnZhcigtLXZtLXNwaW5uZXItd2lkdGgpO2hlaWdodDp2YXIoLS12bS1zcGlubmVyLWhlaWdodCl9XCI7XG5cbmNvbnN0IFNwaW5uZXIgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMudm1XaWxsU2hvdyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1XaWxsU2hvd1wiLCAzKTtcbiAgICB0aGlzLnZtV2lsbEhpZGUgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtV2lsbEhpZGVcIiwgMyk7XG4gICAgdGhpcy5ibGFja2xpc3QgPSBbUHJvdmlkZXIuWW91VHViZV07XG4gICAgdGhpcy5pc0hpZGRlbiA9IHRydWU7XG4gICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzVmlkZW9WaWV3ID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgc3Bpbm5lciBzaG91bGQgYmUgYWN0aXZlIHdoZW4gdGhlIHBsYXllciBpcyBib290aW5nIG9yIG1lZGlhIGlzIGxvYWRpbmcuXG4gICAgICovXG4gICAgdGhpcy5zaG93V2hlbk1lZGlhTG9hZGluZyA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBsYXliYWNrUmVhZHkgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5idWZmZXJpbmcgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgW1xuICAgICAgJ2lzVmlkZW9WaWV3JyxcbiAgICAgICdidWZmZXJpbmcnLFxuICAgICAgJ3BsYXliYWNrUmVhZHknLFxuICAgICAgJ2N1cnJlbnRQcm92aWRlcicsXG4gICAgXSk7XG4gIH1cbiAgb25WaWRlb1ZpZXdDaGFuZ2UoKSB7XG4gICAgdGhpcy5pc0hpZGRlbiA9ICF0aGlzLmlzVmlkZW9WaWV3O1xuICAgIHRoaXMub25WaXNpYmxpdHlDaGFuZ2UoKTtcbiAgfVxuICBvbkFjdGl2ZUNoYW5nZSgpIHtcbiAgICB0aGlzLmlzQWN0aXZlID1cbiAgICAgIHRoaXMuYnVmZmVyaW5nIHx8ICh0aGlzLnNob3dXaGVuTWVkaWFMb2FkaW5nICYmICF0aGlzLnBsYXliYWNrUmVhZHkpO1xuICAgIHRoaXMub25WaXNpYmxpdHlDaGFuZ2UoKTtcbiAgfVxuICBvblZpc2libGl0eUNoYW5nZSgpIHtcbiAgICAhdGhpcy5pc0hpZGRlbiAmJiB0aGlzLmlzQWN0aXZlXG4gICAgICA/IHRoaXMudm1XaWxsU2hvdy5lbWl0KClcbiAgICAgIDogdGhpcy52bVdpbGxIaWRlLmVtaXQoKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IHtcbiAgICAgICAgc3Bpbm5lcjogdHJ1ZSxcbiAgICAgICAgaGlkZGVuOiB0aGlzLmlzSGlkZGVuIHx8IHRoaXMuYmxhY2tsaXN0LmluY2x1ZGVzKHRoaXMuY3VycmVudFByb3ZpZGVyKSxcbiAgICAgICAgYWN0aXZlOiB0aGlzLmlzQWN0aXZlLFxuICAgICAgfSB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IHtcbiAgICAgICAgc3BpbjogdHJ1ZSxcbiAgICAgICAgYWN0aXZlOiB0aGlzLmlzQWN0aXZlLFxuICAgICAgfSB9LCBcIkxvYWRpbmcuLi5cIikpKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwiaXNWaWRlb1ZpZXdcIjogW1wib25WaWRlb1ZpZXdDaGFuZ2VcIl0sXG4gICAgXCJidWZmZXJpbmdcIjogW1wib25BY3RpdmVDaGFuZ2VcIl0sXG4gICAgXCJwbGF5YmFja1JlYWR5XCI6IFtcIm9uQWN0aXZlQ2hhbmdlXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIHNwaW5uZXJDc3M7IH1cbn07XG5cbnZhciBfX2F3YWl0ZXIkNCA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xubGV0IGlkQ291bnQgPSAwO1xuY29uc3QgU3VibWVudSA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgdGhpcy52bU9wZW5TdWJtZW51ID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bU9wZW5TdWJtZW51XCIsIDcpO1xuICAgIHRoaXMudm1DbG9zZVN1Ym1lbnUgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtQ2xvc2VTdWJtZW51XCIsIDcpO1xuICAgIC8qKlxuICAgICAqIFRoZSBkaXJlY3Rpb24gdGhlIHN1Ym1lbnUgc2hvdWxkIHNsaWRlIGluIGZyb20uXG4gICAgICovXG4gICAgdGhpcy5zbGlkZUluRGlyZWN0aW9uID0gJ3JpZ2h0JztcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBzdWJtZW51IGlzIG9wZW4vY2xvc2VkLlxuICAgICAqL1xuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuZ2VuSWQoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY29udHJvbGxlciAoYHZtLW1lbnUtaXRlbWApIGZvciB0aGlzIHN1Ym1lbnUuXG4gICAqL1xuICBnZXRDb250cm9sbGVyKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkNCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXI7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG1lbnUgKGB2bS1tZW51YCkgZm9yIHRoaXMgc3VibWVudS5cbiAgICovXG4gIGdldE1lbnUoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ0KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWVudTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaGVpZ2h0IG9mIHRoZSBzdWJtZW51IGNvbnRyb2xsZXIuXG4gICAqL1xuICBnZXRDb250cm9sbGVySGVpZ2h0KCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ0KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMuY29udHJvbGxlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldEhlaWdodCgpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwO1xuICAgIH0pO1xuICB9XG4gIGdldENvbnRyb2xsZXJIZWlnaHRTeW5jKCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBlbCA9IChfYSA9IHRoaXMuY29udHJvbGxlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcIltyb2xlPSdtZW51aXRlbSddXCIpO1xuICAgIHJldHVybiBlbCA/IHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpLmhlaWdodCkgOiAwO1xuICB9XG4gIG9uTWVudU9wZW4oKSB7XG4gICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgIHRoaXMudm1PcGVuU3VibWVudS5lbWl0KHRoaXMuaG9zdCk7XG4gIH1cbiAgb25NZW51Q2xvc2UoKSB7XG4gICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLnZtQ2xvc2VTdWJtZW51LmVtaXQodGhpcy5ob3N0KTtcbiAgfVxuICBnZW5JZCgpIHtcbiAgICBpZENvdW50ICs9IDE7XG4gICAgdGhpcy5pZCA9IGB2bS1zdWJtZW51LSR7aWRDb3VudH1gO1xuICB9XG4gIGdldENvbnRyb2xsZXJJZCgpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5pZH0tY29udHJvbGxlcmA7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImRpdlwiLCBudWxsLCBoKFwidm0tbWVudS1pdGVtXCIsIHsgaWRlbnRpZmllcjogdGhpcy5nZXRDb250cm9sbGVySWQoKSwgbWVudTogdGhpcy5tZW51LCBsYWJlbDogdGhpcy5sYWJlbCwgaGludDogdGhpcy5oaW50LCBleHBhbmRlZDogdGhpcy5hY3RpdmUsIHJlZjogZWwgPT4ge1xuICAgICAgICB3cml0ZVRhc2soKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY29udHJvbGxlciA9IGVsO1xuICAgICAgICB9KTtcbiAgICAgIH0gfSksIGgoXCJ2bS1tZW51XCIsIHsgaWRlbnRpZmllcjogdGhpcy5pZCwgY29udHJvbGxlcjogdGhpcy5jb250cm9sbGVyLCBhY3RpdmU6IHRoaXMuYWN0aXZlLCBzbGlkZUluRGlyZWN0aW9uOiB0aGlzLnNsaWRlSW5EaXJlY3Rpb24sIG9uVm1PcGVuOiB0aGlzLm9uTWVudU9wZW4uYmluZCh0aGlzKSwgb25WbUNsb3NlOiB0aGlzLm9uTWVudUNsb3NlLmJpbmQodGhpcyksIHJlZjogZWwgPT4ge1xuICAgICAgICB3cml0ZVRhc2soKCkgPT4ge1xuICAgICAgICAgIHRoaXMubWVudSA9IGVsO1xuICAgICAgICB9KTtcbiAgICAgIH0sIHN0eWxlOiB7IHRvcDogYCR7dGhpcy5nZXRDb250cm9sbGVySGVpZ2h0U3luYygpICsgMX1weGAgfSB9LCBoKFwic2xvdFwiLCBudWxsKSkpKTtcbiAgfVxuICBnZXQgaG9zdCgpIHsgcmV0dXJuIHRoaXM7IH1cbn07XG5cbmNvbnN0IHRpbWVDc3MgPSBcIi50aW1le2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Y29sb3I6dmFyKC0tdm0tdGltZS1jb2xvcik7Zm9udC1zaXplOnZhcigtLXZtLXRpbWUtZm9udC1zaXplKTtmb250LXdlaWdodDp2YXIoLS12bS10aW1lLWZvbnQtd2VpZ2h0KX1cIjtcblxuY29uc3QgVGltZSA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgLyoqXG4gICAgICogVGhlIGxlbmd0aCBvZiB0aW1lIGluIHNlY29uZHMuXG4gICAgICovXG4gICAgdGhpcy5zZWNvbmRzID0gMDtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSB0aW1lIHNob3VsZCBhbHdheXMgc2hvdyB0aGUgaG91cnMgdW5pdCwgZXZlbiBpZiB0aGUgdGltZSBpcyBsZXNzIHRoYW5cbiAgICAgKiAxIGhvdXIgKGVnOiBgMjA6MzVgIC0+IGAwMDoyMDozNWApLlxuICAgICAqL1xuICAgIHRoaXMuYWx3YXlzU2hvd0hvdXJzID0gZmFsc2U7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczogXCJ0aW1lXCIsIFwiYXJpYS1sYWJlbFwiOiB0aGlzLmxhYmVsIH0sIGZvcm1hdFRpbWUoTWF0aC5tYXgoMCwgdGhpcy5zZWNvbmRzKSwgdGhpcy5hbHdheXNTaG93SG91cnMpKSk7XG4gIH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIHRpbWVDc3M7IH1cbn07XG5cbmNvbnN0IHRpbWVQcm9ncmVzc0NzcyA9IFwiLnRpbWVQcm9ncmVzc3tkaXNwbGF5OmZsZXg7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTthbGlnbi1pdGVtczpjZW50ZXI7Y29sb3I6dmFyKC0tdm0tdGltZS1jb2xvcil9LnNlcGFyYXRvcnttYXJnaW46MCA0cHh9XCI7XG5cbmNvbnN0IFRpbWVQcm9ncmVzcyA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgLyoqXG4gICAgICogVGhlIHN0cmluZyB1c2VkIHRvIHNlcGFyYXRlIHRoZSBjdXJyZW50IHRpbWUgYW5kIGVuZCB0aW1lLlxuICAgICAqL1xuICAgIHRoaXMuc2VwYXJhdG9yID0gJy8nO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHRpbWVzIHNob3VsZCBhbHdheXMgc2hvdyB0aGUgaG91cnMgdW5pdCwgZXZlbiBpZiB0aGUgdGltZSBpcyBsZXNzIHRoYW5cbiAgICAgKiAxIGhvdXIgKGVnOiBgMjA6MzVgIC0+IGAwMDoyMDozNWApLlxuICAgICAqL1xuICAgIHRoaXMuYWx3YXlzU2hvd0hvdXJzID0gZmFsc2U7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczogXCJ0aW1lUHJvZ3Jlc3NcIiB9LCBoKFwidm0tY3VycmVudC10aW1lXCIsIHsgYWx3YXlzU2hvd0hvdXJzOiB0aGlzLmFsd2F5c1Nob3dIb3VycyB9KSwgaChcInNwYW5cIiwgeyBjbGFzczogXCJzZXBhcmF0b3JcIiB9LCB0aGlzLnNlcGFyYXRvciksIGgoXCJ2bS1lbmQtdGltZVwiLCB7IGFsd2F5c1Nob3dIb3VyczogdGhpcy5hbHdheXNTaG93SG91cnMgfSkpKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gdGltZVByb2dyZXNzQ3NzOyB9XG59O1xuXG5jb25zdCB0b29sdGlwQ3NzID0gXCI6aG9zdHtkaXNwbGF5OmNvbnRlbnRzO3otaW5kZXg6dmFyKC0tdm0tdG9vbHRpcC16LWluZGV4KX0udG9vbHRpcHtsZWZ0OnZhcigtLXZtLXRvb2x0aXAtbGVmdCwgNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKTtsaW5lLWhlaWdodDoxLjM7cG9pbnRlci1ldmVudHM6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTtvcGFjaXR5OjA7d2hpdGUtc3BhY2U6bm93cmFwO3Zpc2liaWxpdHk6aGlkZGVuO2JhY2tncm91bmQ6dmFyKC0tdm0tdG9vbHRpcC1iZyk7Ym9yZGVyLXJhZGl1czp2YXIoLS12bS10b29sdGlwLWJvcmRlci1yYWRpdXMpO2JveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2hhZG93OnZhcigtLXZtLXRvb2x0aXAtYm94LXNoYWRvdyk7Y29sb3I6dmFyKC0tdm0tdG9vbHRpcC1jb2xvcik7Zm9udC1zaXplOnZhcigtLXZtLXRvb2x0aXAtZm9udC1zaXplKTtwYWRkaW5nOnZhcigtLXZtLXRvb2x0aXAtcGFkZGluZyk7dHJhbnNpdGlvbjpvcGFjaXR5IHZhcigtLXZtLXRvb2x0aXAtZmFkZS1kdXJhdGlvbilcXG4gICAgdmFyKC0tdm0tdG9vbHRpcC1mYWRlLXRpbWluZy1mdW5jKX0udG9vbHRpcFthcmlhLWhpZGRlbj0nZmFsc2UnXXtvcGFjaXR5OjE7dmlzaWJpbGl0eTp2aXNpYmxlfS50b29sdGlwLmhpZGRlbntkaXNwbGF5Om5vbmV9LnRvb2x0aXAub25Ub3B7Ym90dG9tOjEwMCU7bWFyZ2luLWJvdHRvbTp2YXIoLS12bS10b29sdGlwLXNwYWNpbmcpfS50b29sdGlwLm9uQm90dG9te3RvcDoxMDAlO21hcmdpbi10b3A6dmFyKC0tdm0tdG9vbHRpcC1zcGFjaW5nKX0udG9vbHRpcC5ncm93TGVmdHtsZWZ0OmF1dG87cmlnaHQ6MDt0cmFuc2Zvcm06bm9uZX0udG9vbHRpcC5ncm93UmlnaHR7bGVmdDowO3RyYW5zZm9ybTpub25lfVwiO1xuXG5sZXQgdG9vbHRpcElkQ291bnQgPSAwO1xuY29uc3QgVG9vbHRpcCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgLy8gQXZvaWQgdG9vbHRpcHMgZmxhc2hpbmcgd2hlbiBwbGF5ZXIgaW5pdGlhbGl6aW5nLlxuICAgIHRoaXMuaGFzTG9hZGVkID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdG9vbHRpcCBpcyBkaXNwbGF5ZWQgb3Igbm90LlxuICAgICAqL1xuICAgIHRoaXMuaGlkZGVuID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdG9vbHRpcCBpcyB2aXNpYmxlIG9yIG5vdC5cbiAgICAgKi9cbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhlIHRvb2x0aXAgYXBwZWFycyBvbiB0b3AvYm90dG9tIG9mIGl0J3MgcGFyZW50LlxuICAgICAqL1xuICAgIHRoaXMucG9zaXRpb24gPSAndG9wJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc1RvdWNoID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNNb2JpbGUgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgWydpc1RvdWNoJywgJ2lzTW9iaWxlJ10pO1xuICB9XG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgdGhpcy5oYXNMb2FkZWQgPSB0cnVlO1xuICB9XG4gIGdldElkKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgIGNvbnN0IGlkID0gdGhpcy5ob3N0LmlkO1xuICAgIGlmIChpc1N0cmluZyhpZCkgJiYgaWQubGVuZ3RoID4gMClcbiAgICAgIHJldHVybiBpZDtcbiAgICB0b29sdGlwSWRDb3VudCArPSAxO1xuICAgIHJldHVybiBgdm0tdG9vbHRpcC0ke3Rvb2x0aXBJZENvdW50fWA7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGlkOiB0aGlzLmdldElkKCksIHJvbGU6IFwidG9vbHRpcFwiLCBcImFyaWEtaGlkZGVuXCI6ICF0aGlzLmFjdGl2ZSB8fCB0aGlzLmlzVG91Y2ggfHwgdGhpcy5pc01vYmlsZSA/ICd0cnVlJyA6ICdmYWxzZScsIGNsYXNzOiB7XG4gICAgICAgIHRvb2x0aXA6IHRydWUsXG4gICAgICAgIGhpZGRlbjogIXRoaXMuaGFzTG9hZGVkIHx8IHRoaXMuaGlkZGVuLFxuICAgICAgICBvblRvcDogdGhpcy5wb3NpdGlvbiA9PT0gJ3RvcCcsXG4gICAgICAgIG9uQm90dG9tOiB0aGlzLnBvc2l0aW9uID09PSAnYm90dG9tJyxcbiAgICAgICAgZ3Jvd0xlZnQ6IHRoaXMuZGlyZWN0aW9uID09PSAnbGVmdCcsXG4gICAgICAgIGdyb3dSaWdodDogdGhpcy5kaXJlY3Rpb24gPT09ICdyaWdodCcsXG4gICAgICB9IH0sIGgoXCJzbG90XCIsIG51bGwpKSk7XG4gIH1cbiAgZ2V0IGhvc3QoKSB7IHJldHVybiB0aGlzOyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiB0b29sdGlwQ3NzOyB9XG59O1xuXG5jb25zdCB1aUNzcyA9IFwiOmhvc3R7ei1pbmRleDp2YXIoLS12bS11aS16LWluZGV4KX0udWl7d2lkdGg6MTAwJTtwb2ludGVyLWV2ZW50czpub25lfS51aS5oaWRkZW57ZGlzcGxheTpub25lfS51aS52aWRlb3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7aGVpZ2h0OjEwMCV9XCI7XG5cbmNvbnN0IFVJID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc1ZpZGVvVmlldyA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBsYXlzaW5saW5lID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNGdWxsc2NyZWVuQWN0aXZlID0gZmFsc2U7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFtcbiAgICAgICdpc1ZpZGVvVmlldycsXG4gICAgICAncGxheXNpbmxpbmUnLFxuICAgICAgJ2lzRnVsbHNjcmVlbkFjdGl2ZScsXG4gICAgXSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNhblNob3dDdXN0b21VSSA9ICFJU19JT1MgfHxcbiAgICAgICF0aGlzLmlzVmlkZW9WaWV3IHx8XG4gICAgICAodGhpcy5wbGF5c2lubGluZSAmJiAhdGhpcy5pc0Z1bGxzY3JlZW5BY3RpdmUpO1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiB7XG4gICAgICAgIHVpOiB0cnVlLFxuICAgICAgICBoaWRkZW46ICFjYW5TaG93Q3VzdG9tVUksXG4gICAgICAgIHZpZGVvOiB0aGlzLmlzVmlkZW9WaWV3LFxuICAgICAgfSB9LCBjYW5TaG93Q3VzdG9tVUkgJiYgaChcInNsb3RcIiwgbnVsbCkpKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gdWlDc3M7IH1cbn07XG5cbnZhciBfX2F3YWl0ZXIkMyA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuY29uc3QgVmlkZW8gPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsIFdoZXRoZXIgYW4gZXh0ZXJuYWwgU0RLIHdpbGwgYXR0YWNoIGl0c2VsZiB0byB0aGUgbWVkaWEgcGxheWVyIGFuZCBjb250cm9sIGl0LlxuICAgICAqL1xuICAgIHRoaXMud2lsbEF0dGFjaCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbCBXaGV0aGVyIGFuIGV4dGVybmFsIFNESyB3aWxsIG1hbmFnZSB0aGUgdGV4dCB0cmFja3MuXG4gICAgICovXG4gICAgdGhpcy5oYXNDdXN0b21UZXh0TWFuYWdlciA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIHRoaXMucHJlbG9hZCA9ICdtZXRhZGF0YSc7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQcm92aWRlckNvbm5lY3QodGhpcyk7XG4gIH1cbiAgb25Qcm92aWRlckNvbm5lY3QoZXZlbnQpIHtcbiAgICBpZiAodGhpcy53aWxsQXR0YWNoKVxuICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gIH1cbiAgb25Qcm92aWRlckRpc2Nvbm5lY3QoZXZlbnQpIHtcbiAgICBpZiAodGhpcy53aWxsQXR0YWNoKVxuICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXRBZGFwdGVyKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyJDModGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4gKF9hID0gdGhpcy5maWxlUHJvdmlkZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRBZGFwdGVyKCk7XG4gICAgfSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcInZtLWZpbGVcIiwgeyBub0Nvbm5lY3Q6IHRydWUsIHdpbGxBdHRhY2g6IHRoaXMud2lsbEF0dGFjaCwgY3Jvc3NPcmlnaW46IHRoaXMuY3Jvc3NPcmlnaW4sIHBvc3RlcjogdGhpcy5wb3N0ZXIsIHByZWxvYWQ6IHRoaXMucHJlbG9hZCwgY29udHJvbHNMaXN0OiB0aGlzLmNvbnRyb2xzTGlzdCwgYXV0b1BpUDogdGhpcy5hdXRvUGlQLCBkaXNhYmxlUGlQOiB0aGlzLmRpc2FibGVQaVAsIGRpc2FibGVSZW1vdGVQbGF5YmFjazogdGhpcy5kaXNhYmxlUmVtb3RlUGxheWJhY2ssIGhhc0N1c3RvbVRleHRNYW5hZ2VyOiB0aGlzLmhhc0N1c3RvbVRleHRNYW5hZ2VyLCBtZWRpYVRpdGxlOiB0aGlzLm1lZGlhVGl0bGUsIHZpZXdUeXBlOiBWaWV3VHlwZS5WaWRlbywgcmVmOiAoZWwpID0+IHtcbiAgICAgICAgdGhpcy5maWxlUHJvdmlkZXIgPSBlbDtcbiAgICAgIH0gfSwgaChcInNsb3RcIiwgbnVsbCkpKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLnZpbWVvLmNvbS9wbGF5ZXIvc2RrL3JlZmVyZW5jZSNldmVudHMtZm9yLXBsYXliYWNrLWNvbnRyb2xzXG4gKi9cbnZhciBWaW1lb0V2ZW50O1xuKGZ1bmN0aW9uIChWaW1lb0V2ZW50KSB7XG4gIFZpbWVvRXZlbnRbXCJQbGF5XCJdID0gXCJwbGF5XCI7XG4gIFZpbWVvRXZlbnRbXCJQYXVzZVwiXSA9IFwicGF1c2VcIjtcbiAgVmltZW9FdmVudFtcIlNlZWtpbmdcIl0gPSBcInNlZWtpbmdcIjtcbiAgVmltZW9FdmVudFtcIlNlZWtlZFwiXSA9IFwic2Vla2VkXCI7XG4gIFZpbWVvRXZlbnRbXCJUaW1lVXBkYXRlXCJdID0gXCJ0aW1ldXBkYXRlXCI7XG4gIFZpbWVvRXZlbnRbXCJWb2x1bWVDaGFuZ2VcIl0gPSBcInZvbHVtZWNoYW5nZVwiO1xuICBWaW1lb0V2ZW50W1wiRHVyYXRpb25DaGFuZ2VcIl0gPSBcImR1cmF0aW9uY2hhbmdlXCI7XG4gIFZpbWVvRXZlbnRbXCJGdWxsc2NyZWVuQ2hhbmdlXCJdID0gXCJmdWxsc2NyZWVuY2hhbmdlXCI7XG4gIFZpbWVvRXZlbnRbXCJDdWVDaGFuZ2VcIl0gPSBcImN1ZWNoYW5nZVwiO1xuICBWaW1lb0V2ZW50W1wiUHJvZ3Jlc3NcIl0gPSBcInByb2dyZXNzXCI7XG4gIFZpbWVvRXZlbnRbXCJFcnJvclwiXSA9IFwiZXJyb3JcIjtcbiAgVmltZW9FdmVudFtcIlBsYXliYWNrUmF0ZUNoYW5nZVwiXSA9IFwicGxheWJhY2tyYXRlY2hhbmdlXCI7XG4gIFZpbWVvRXZlbnRbXCJMb2FkZWRcIl0gPSBcImxvYWRlZFwiO1xuICBWaW1lb0V2ZW50W1wiQnVmZmVyU3RhcnRcIl0gPSBcImJ1ZmZlcnN0YXJ0XCI7XG4gIFZpbWVvRXZlbnRbXCJCdWZmZXJFbmRcIl0gPSBcImJ1ZmZlcmVuZFwiO1xuICBWaW1lb0V2ZW50W1wiVGV4dFRyYWNrQ2hhbmdlXCJdID0gXCJ0ZXh0dHJhY2tjaGFuZ2VcIjtcbiAgVmltZW9FdmVudFtcIldhaXRpbmdcIl0gPSBcIndhaXRpbmdcIjtcbiAgVmltZW9FdmVudFtcIkVuZGVkXCJdID0gXCJlbmRlZFwiO1xufSkoVmltZW9FdmVudCB8fCAoVmltZW9FdmVudCA9IHt9KSk7XG5cbmNvbnN0IHZpbWVvQ3NzID0gXCI6aG9zdHt6LWluZGV4OnZhcigtLXZtLW1lZGlhLXotaW5kZXgpfXZtLWVtYmVke3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfXZtLWVtYmVkLmhpZGVDb250cm9sc3tkaXNwbGF5OmJsb2NrO3dpZHRoOjEwMCU7aGVpZ2h0OmF1dG87cG9zaXRpb246cmVsYXRpdmV9XCI7XG5cbnZhciBfX2F3YWl0ZXIkMiA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuY29uc3QgdmlkZW9JbmZvQ2FjaGUgPSBuZXcgTWFwKCk7XG5jb25zdCBWaW1lbyA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgdGhpcy52bUxvYWRTdGFydCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1Mb2FkU3RhcnRcIiwgNyk7XG4gICAgdGhpcy52bUVycm9yID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUVycm9yXCIsIDcpO1xuICAgIHRoaXMuZGVmYXVsdEludGVybmFsU3RhdGUgPSB7fTtcbiAgICB0aGlzLnZvbHVtZSA9IDUwO1xuICAgIHRoaXMuaGFzTG9hZGVkID0gZmFsc2U7XG4gICAgdGhpcy5pbnRlcm5hbFN0YXRlID0ge1xuICAgICAgcGF1c2VkOiB0cnVlLFxuICAgICAgcGxheWluZzogZmFsc2UsXG4gICAgICBzZWVraW5nOiBmYWxzZSxcbiAgICAgIGN1cnJlbnRUaW1lOiAwLFxuICAgICAgYnVmZmVyZWQ6IDAsXG4gICAgICBwbGF5YmFja1N0YXJ0ZWQ6IGZhbHNlLFxuICAgICAgcGxheVJlcXVlc3Q6IGZhbHNlLFxuICAgIH07XG4gICAgdGhpcy5lbWJlZFNyYyA9ICcnO1xuICAgIHRoaXMubWVkaWFUaXRsZSA9ICcnO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gZGlzcGxheSB0aGUgdmlkZW8gb3duZXIncyBuYW1lLlxuICAgICAqL1xuICAgIHRoaXMuYnlsaW5lID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIGRpc3BsYXkgdGhlIHZpZGVvIG93bmVyJ3MgcG9ydHJhaXQuXG4gICAgICovXG4gICAgdGhpcy5wb3J0cmFpdCA9IHRydWU7XG4gICAgLyoqXG4gICAgICogVHVybnMgb2ZmIGF1dG9tYXRpY2FsbHkgZGV0ZXJtaW5pbmcgdGhlIGFzcGVjdCByYXRpbyBvZiB0aGUgY3VycmVudCB2aWRlby5cbiAgICAgKi9cbiAgICB0aGlzLm5vQXV0b0FzcGVjdFJhdGlvID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciBjb29raWVzIHNob3VsZCBiZSBlbmFibGVkIG9uIHRoZSBlbWJlZC5cbiAgICAgKi9cbiAgICB0aGlzLmNvb2tpZXMgPSB0cnVlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmxhbmd1YWdlID0gJ2VuJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5hc3BlY3RSYXRpbyA9ICcxNjo5JztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5hdXRvcGxheSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmNvbnRyb2xzID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMubG9vcCA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLm11dGVkID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMucGxheXNpbmxpbmUgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFByb3ZpZGVyQ29ubmVjdCh0aGlzKTtcbiAgICB3aXRoUHJvdmlkZXJDb250ZXh0KHRoaXMpO1xuICB9XG4gIG9uVmlkZW9JZENoYW5nZSgpIHtcbiAgICB0aGlzLmNhbmNlbFRpbWVVcGRhdGVzKCk7XG4gICAgaWYgKCF0aGlzLnZpZGVvSWQpIHtcbiAgICAgIHRoaXMuZW1iZWRTcmMgPSAnJztcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5lbWJlZFNyYyA9IGAke3RoaXMuZ2V0T3JpZ2luKCl9L3ZpZGVvLyR7dGhpcy52aWRlb0lkfWA7XG4gICAgdGhpcy5wZW5kaW5nRHVyYXRpb25DYWxsID0gZGVmZXJyZWRQcm9taXNlKCk7XG4gICAgdGhpcy5wZW5kaW5nTWVkaWFUaXRsZUNhbGwgPSBkZWZlcnJlZFByb21pc2UoKTtcbiAgICB0aGlzLmZldGNoVmlkZW9JbmZvID0gdGhpcy5nZXRWaWRlb0luZm8oKTtcbiAgfVxuICBvbkN1c3RvbVBvc3RlckNoYW5nZSgpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50UG9zdGVyJywgdGhpcy5wb3N0ZXIpO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuZGlzcGF0Y2ggPSBjcmVhdGVQcm92aWRlckRpc3BhdGNoZXIodGhpcyk7XG4gICAgdGhpcy5kaXNwYXRjaCgndmlld1R5cGUnLCBWaWV3VHlwZS5WaWRlbyk7XG4gICAgdGhpcy5vblZpZGVvSWRDaGFuZ2UoKTtcbiAgICB0aGlzLmRlZmF1bHRJbnRlcm5hbFN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5pbnRlcm5hbFN0YXRlKTtcbiAgfVxuICBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICB0aGlzLmluaXRpYWxNdXRlZCA9IHRoaXMubXV0ZWQ7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5jYW5jZWxUaW1lVXBkYXRlcygpO1xuICAgIHRoaXMucGVuZGluZ1BsYXlSZXF1ZXN0ID0gdW5kZWZpbmVkO1xuICB9XG4gIGdldE9yaWdpbigpIHtcbiAgICByZXR1cm4gJ2h0dHBzOi8vcGxheWVyLnZpbWVvLmNvbSc7XG4gIH1cbiAgZ2V0UHJlY29ubmVjdGlvbnMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHRoaXMuZ2V0T3JpZ2luKCksXG4gICAgICAnaHR0cHM6Ly9pLnZpbWVvY2RuLmNvbScsXG4gICAgICAnaHR0cHM6Ly9mLnZpbWVvY2RuLmNvbScsXG4gICAgICAnaHR0cHM6Ly9mcmVzbmVsLnZpbWVvY2RuLmNvbScsXG4gICAgXTtcbiAgfVxuICByZW1vdGVDb250cm9sKGNvbW1hbmQsIGFyZykge1xuICAgIHJldHVybiB0aGlzLmVtYmVkLnBvc3RNZXNzYWdlKHtcbiAgICAgIG1ldGhvZDogY29tbWFuZCxcbiAgICAgIHZhbHVlOiBhcmcsXG4gICAgfSk7XG4gIH1cbiAgYnVpbGRQYXJhbXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJ5bGluZTogdGhpcy5ieWxpbmUsXG4gICAgICBjb2xvcjogdGhpcy5jb2xvcixcbiAgICAgIHBvcnRyYWl0OiB0aGlzLnBvcnRyYWl0LFxuICAgICAgYXV0b3BhdXNlOiBmYWxzZSxcbiAgICAgIHRyYW5zcGFyZW50OiBmYWxzZSxcbiAgICAgIGF1dG9wbGF5OiB0aGlzLmF1dG9wbGF5LFxuICAgICAgbXV0ZWQ6IHRoaXMuaW5pdGlhbE11dGVkLFxuICAgICAgcGxheXNpbmxpbmU6IHRoaXMucGxheXNpbmxpbmUsXG4gICAgICBkbnQ6ICF0aGlzLmNvb2tpZXMsXG4gICAgfTtcbiAgfVxuICBnZXRWaWRlb0luZm8oKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgaWYgKHZpZGVvSW5mb0NhY2hlLmhhcyh0aGlzLnZpZGVvSWQpKVxuICAgICAgICByZXR1cm4gdmlkZW9JbmZvQ2FjaGUuZ2V0KHRoaXMudmlkZW9JZCk7XG4gICAgICByZXR1cm4gd2luZG93XG4gICAgICAgIC5mZXRjaChgaHR0cHM6Ly92aW1lby5jb20vYXBpL29lbWJlZC5qc29uP3VybD0ke3RoaXMuZW1iZWRTcmN9YClcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCB0aHVtbmFpbFJlZ2V4ID0gL3ZpbWVvY2RuLmNvbVxcL3ZpZGVvXFwvKC4qKT9fLztcbiAgICAgICAgY29uc3QgdGh1bWJuYWlsSWQgPSAoX2EgPSBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEudGh1bWJuYWlsX3VybCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hdGNoKHRodW1uYWlsUmVnZXgpWzFdO1xuICAgICAgICBjb25zdCBwb3N0ZXIgPSBgaHR0cHM6Ly9pLnZpbWVvY2RuLmNvbS92aWRlby8ke3RodW1ibmFpbElkfV8xOTIweDEwODAuanBnYDtcbiAgICAgICAgY29uc3QgaW5mbyA9IHsgcG9zdGVyLCB3aWR0aDogZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLndpZHRoLCBoZWlnaHQ6IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5oZWlnaHQgfTtcbiAgICAgICAgdmlkZW9JbmZvQ2FjaGUuc2V0KHRoaXMudmlkZW9JZCwgaW5mbyk7XG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgb25UaW1lQ2hhbmdlKHRpbWUpIHtcbiAgICBpZiAodGhpcy5pbnRlcm5hbFN0YXRlLmN1cnJlbnRUaW1lID09PSB0aW1lKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuZGlzcGF0Y2goJ2N1cnJlbnRUaW1lJywgdGltZSk7XG4gICAgLy8gVGhpcyBpcyBob3cgd2UgZGV0ZWN0IGBzZWVraW5nYCBlYXJseS5cbiAgICBpZiAoTWF0aC5hYnModGhpcy5pbnRlcm5hbFN0YXRlLmN1cnJlbnRUaW1lIC0gdGltZSkgPiAxLjUpIHtcbiAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5zZWVraW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ3NlZWtpbmcnLCB0cnVlKTtcbiAgICAgIGlmICh0aGlzLmludGVybmFsU3RhdGUucGxheWluZyAmJiB0aGlzLmludGVybmFsU3RhdGUuYnVmZmVyZWQgPCB0aW1lKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ2J1ZmZlcmluZycsIHRydWUpO1xuICAgICAgfVxuICAgICAgLy8gUGxheWVyIGRvZXNuJ3QgcmVzdW1lIHBsYXliYWNrIG9uY2Ugc2Vla2VkLlxuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnBlbmRpbmdQbGF5UmVxdWVzdCk7XG4gICAgICBpZiAoIXRoaXMuaW50ZXJuYWxTdGF0ZS5wYXVzZWQpIHtcbiAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLnBsYXlSZXF1ZXN0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVtb3RlQ29udHJvbCh0aGlzLmludGVybmFsU3RhdGUucGxheWJhY2tTdGFydGVkXG4gICAgICAgID8gXCJwYXVzZVwiIC8qIFBhdXNlICovXG4gICAgICAgIDogXCJwbGF5XCIgLyogUGxheSAqLyk7XG4gICAgfVxuICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5jdXJyZW50VGltZSA9IHRpbWU7XG4gIH1cbiAgY2FuY2VsVGltZVVwZGF0ZXMoKSB7XG4gICAgaWYgKGlzTnVtYmVyKHRoaXMudGltZVJBRikpXG4gICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy50aW1lUkFGKTtcbiAgfVxuICByZXF1ZXN0VGltZVVwZGF0ZXMoKSB7XG4gICAgdGhpcy5yZW1vdGVDb250cm9sKFwiZ2V0Q3VycmVudFRpbWVcIiAvKiBHZXRDdXJyZW50VGltZSAqLyk7XG4gICAgdGhpcy50aW1lUkFGID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICB0aGlzLnJlcXVlc3RUaW1lVXBkYXRlcygpO1xuICAgIH0pO1xuICB9XG4gIG9uU2Vla2VkKCkge1xuICAgIGlmICghdGhpcy5pbnRlcm5hbFN0YXRlLnNlZWtpbmcpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5kaXNwYXRjaCgnc2Vla2luZycsIGZhbHNlKTtcbiAgICB0aGlzLmludGVybmFsU3RhdGUuc2Vla2luZyA9IGZhbHNlO1xuICAgIGlmICh0aGlzLmludGVybmFsU3RhdGUucGxheVJlcXVlc3QpIHtcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwicGxheVwiIC8qIFBsYXkgKi8pO1xuICAgICAgfSwgMTUwKTtcbiAgICB9XG4gIH1cbiAgb25WaW1lb01ldGhvZChtZXRob2QsIGFyZykge1xuICAgIHZhciBfYSwgX2I7XG4gICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgIGNhc2UgXCJnZXRDdXJyZW50VGltZVwiIC8qIEdldEN1cnJlbnRUaW1lICovOlxuICAgICAgICBpZiAoIXRoaXMuaW50ZXJuYWxTdGF0ZS5zZWVraW5nKVxuICAgICAgICAgIHRoaXMub25UaW1lQ2hhbmdlKGFyZyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImdldER1cmF0aW9uXCIgLyogR2V0RHVyYXRpb24gKi86XG4gICAgICAgIChfYSA9IHRoaXMucGVuZGluZ0R1cmF0aW9uQ2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlc29sdmUoYXJnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZ2V0VmlkZW9UaXRsZVwiIC8qIEdldFZpZGVvVGl0bGUgKi86XG4gICAgICAgIChfYiA9IHRoaXMucGVuZGluZ01lZGlhVGl0bGVDYWxsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVzb2x2ZShhcmcpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgb25Mb2FkZWQoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAodGhpcy5oYXNMb2FkZWQpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5wZW5kaW5nUGxheVJlcXVlc3QgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pbnRlcm5hbFN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0SW50ZXJuYWxTdGF0ZSk7XG4gICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFNyYycsIHRoaXMuZW1iZWRTcmMpO1xuICAgIHRoaXMuZGlzcGF0Y2goJ21lZGlhVHlwZScsIE1lZGlhVHlwZS5WaWRlbyk7XG4gICAgdGhpcy5yZW1vdGVDb250cm9sKFwiZ2V0RHVyYXRpb25cIiAvKiBHZXREdXJhdGlvbiAqLyk7XG4gICAgdGhpcy5yZW1vdGVDb250cm9sKFwiZ2V0VmlkZW9UaXRsZVwiIC8qIEdldFZpZGVvVGl0bGUgKi8pO1xuICAgIFByb21pc2UuYWxsKFtcbiAgICAgIHRoaXMuZmV0Y2hWaWRlb0luZm8sXG4gICAgICAoX2EgPSB0aGlzLnBlbmRpbmdEdXJhdGlvbkNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wcm9taXNlLFxuICAgICAgKF9iID0gdGhpcy5wZW5kaW5nTWVkaWFUaXRsZUNhbGwpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5wcm9taXNlLFxuICAgIF0pLnRoZW4oKFtpbmZvLCBkdXJhdGlvbiwgbWVkaWFUaXRsZV0pID0+IHtcbiAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgdGhpcy5yZXF1ZXN0VGltZVVwZGF0ZXMoKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ2FzcGVjdFJhdGlvJywgYCR7KF9hID0gaW5mbyA9PT0gbnVsbCB8fCBpbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvLndpZHRoKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAxNn06JHsoX2IgPSBpbmZvID09PSBudWxsIHx8IGluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluZm8uaGVpZ2h0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiA5fWApO1xuICAgICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFBvc3RlcicsIChfYyA9IHRoaXMucG9zdGVyKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBpbmZvID09PSBudWxsIHx8IGluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluZm8ucG9zdGVyKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ2R1cmF0aW9uJywgZHVyYXRpb24gIT09IG51bGwgJiYgZHVyYXRpb24gIT09IHZvaWQgMCA/IGR1cmF0aW9uIDogLTEpO1xuICAgICAgdGhpcy5kaXNwYXRjaCgnbWVkaWFUaXRsZScsIG1lZGlhVGl0bGUpO1xuICAgICAgdGhpcy5kaXNwYXRjaCgncGxheWJhY2tSZWFkeScsIHRydWUpO1xuICAgIH0pO1xuICAgIHRoaXMuaGFzTG9hZGVkID0gdHJ1ZTtcbiAgfVxuICBvblZpbWVvRXZlbnQoZXZlbnQsIHBheWxvYWQpIHtcbiAgICBzd2l0Y2ggKGV2ZW50KSB7XG4gICAgICBjYXNlIFwicmVhZHlcIiAvKiBSZWFkeSAqLzpcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhWaW1lb0V2ZW50KS5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgIHRoaXMucmVtb3RlQ29udHJvbChcImFkZEV2ZW50TGlzdGVuZXJcIiAvKiBBZGRFdmVudExpc3RlbmVyICovLCBlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxvYWRlZFwiIC8qIExvYWRlZCAqLzpcbiAgICAgICAgdGhpcy5vbkxvYWRlZCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwbGF5XCIgLyogUGxheSAqLzpcbiAgICAgICAgLy8gSW5jYXNlIG9mIGF1dG9wbGF5IHdoaWNoIG1pZ2h0IHNraXAgYExvYWRlZGAgZXZlbnQuXG4gICAgICAgIHRoaXMub25Mb2FkZWQoKTtcbiAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLnBhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCdwYXVzZWQnLCBmYWxzZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInBsYXlQcm9ncmVzc1wiIC8qIFBsYXlQcm9ncmVzcyAqLzpcbiAgICAgICAgaWYgKCF0aGlzLmludGVybmFsU3RhdGUucGxheWluZykge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXlpbmcnLCB0cnVlKTtcbiAgICAgICAgICB0aGlzLmludGVybmFsU3RhdGUucGxheWluZyA9IHRydWU7XG4gICAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLnBsYXliYWNrU3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy5wZW5kaW5nUGxheVJlcXVlc3QgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmludGVybmFsU3RhdGUucGxheVJlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ1BsYXlSZXF1ZXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ2J1ZmZlcmluZycsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5vblNlZWtlZCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwYXVzZVwiIC8qIFBhdXNlICovOlxuICAgICAgICB0aGlzLmludGVybmFsU3RhdGUucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgncGF1c2VkJywgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ2J1ZmZlcmluZycsIGZhbHNlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibG9hZFByb2dyZXNzXCIgLyogTG9hZFByb2dyZXNzICovOlxuICAgICAgICB0aGlzLmludGVybmFsU3RhdGUuYnVmZmVyZWQgPSBwYXlsb2FkLnNlY29uZHM7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ2J1ZmZlcmVkJywgcGF5bG9hZC5zZWNvbmRzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYnVmZmVyc3RhcnRcIiAvKiBCdWZmZXJTdGFydCAqLzpcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgnYnVmZmVyaW5nJywgdHJ1ZSk7XG4gICAgICAgIC8vIEF0dGVtcHQgdG8gZGV0ZWN0IGBwbGF5YCBldmVudHMgZWFybHkuXG4gICAgICAgIGlmICh0aGlzLmludGVybmFsU3RhdGUucGF1c2VkKSB7XG4gICAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLnBhdXNlZCA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ3BhdXNlZCcsIGZhbHNlKTtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1N0YXJ0ZWQnLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJidWZmZXJlbmRcIiAvKiBCdWZmZXJFbmQgKi86XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ2J1ZmZlcmluZycsIGZhbHNlKTtcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJuYWxTdGF0ZS5wYXVzZWQpXG4gICAgICAgICAgdGhpcy5vblNlZWtlZCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ2b2x1bWVjaGFuZ2VcIiAvKiBWb2x1bWVDaGFuZ2UgKi86XG4gICAgICAgIGlmIChwYXlsb2FkLnZvbHVtZSA+IDApIHtcbiAgICAgICAgICBjb25zdCBuZXdWb2x1bWUgPSBNYXRoLmZsb29yKHBheWxvYWQudm9sdW1lICogMTAwKTtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdtdXRlZCcsIGZhbHNlKTtcbiAgICAgICAgICBpZiAodGhpcy52b2x1bWUgIT09IG5ld1ZvbHVtZSkge1xuICAgICAgICAgICAgdGhpcy52b2x1bWUgPSBuZXdWb2x1bWU7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoKCd2b2x1bWUnLCB0aGlzLnZvbHVtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ211dGVkJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZHVyYXRpb25jaGFuZ2VcIiAvKiBEdXJhdGlvbkNoYW5nZSAqLzpcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgnZHVyYXRpb24nLCBwYXlsb2FkLmR1cmF0aW9uKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicGxheWJhY2tyYXRlY2hhbmdlXCIgLyogUGxheWJhY2tSYXRlQ2hhbmdlICovOlxuICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1JhdGUnLCBwYXlsb2FkLnBsYXliYWNrUmF0ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZ1bGxzY3JlZW5jaGFuZ2VcIiAvKiBGdWxsc2NyZWVuQ2hhbmdlICovOlxuICAgICAgICB0aGlzLmRpc3BhdGNoKCdpc0Z1bGxzY3JlZW5BY3RpdmUnLCBwYXlsb2FkLmZ1bGxzY3JlZW4pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJmaW5pc2hcIiAvKiBGaW5pc2ggKi86XG4gICAgICAgIGlmICh0aGlzLmxvb3ApIHtcbiAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJzZXRDdXJyZW50VGltZVwiIC8qIFNldEN1cnJlbnRUaW1lICovLCAwKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVtb3RlQ29udHJvbChcInBsYXlcIiAvKiBQbGF5ICovKTtcbiAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXliYWNrRW5kZWQnLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlcnJvclwiIC8qIEVycm9yICovOlxuICAgICAgICB0aGlzLnZtRXJyb3IuZW1pdChwYXlsb2FkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIG9uRW1iZWRTcmNDaGFuZ2UoKSB7XG4gICAgdGhpcy5oYXNMb2FkZWQgPSBmYWxzZTtcbiAgICB0aGlzLnZtTG9hZFN0YXJ0LmVtaXQoKTtcbiAgICB0aGlzLmRpc3BhdGNoKCd2aWV3VHlwZScsIFZpZXdUeXBlLlZpZGVvKTtcbiAgfVxuICBvbkVtYmVkTWVzc2FnZShldmVudCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBldmVudC5kZXRhaWw7XG4gICAgaWYgKCFpc1VuZGVmaW5lZChtZXNzYWdlLmV2ZW50KSlcbiAgICAgIHRoaXMub25WaW1lb0V2ZW50KG1lc3NhZ2UuZXZlbnQsIG1lc3NhZ2UuZGF0YSk7XG4gICAgaWYgKCFpc1VuZGVmaW5lZChtZXNzYWdlLm1ldGhvZCkpXG4gICAgICB0aGlzLm9uVmltZW9NZXRob2QobWVzc2FnZS5tZXRob2QsIG1lc3NhZ2UudmFsdWUpO1xuICB9XG4gIGFkanVzdFBvc2l0aW9uKCkge1xuICAgIGlmICh0aGlzLmNvbnRyb2xzKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNvbnN0IFthdywgYWhdID0gdGhpcy5hc3BlY3RSYXRpby5zcGxpdCgnOicpLm1hcChyID0+IHBhcnNlSW50KHIsIDEwKSk7XG4gICAgY29uc3QgaGVpZ2h0ID0gMjQwO1xuICAgIGNvbnN0IHBhZGRpbmcgPSAoMTAwIC8gYXcpICogYWg7XG4gICAgY29uc3Qgb2Zmc2V0ID0gKGhlaWdodCAtIHBhZGRpbmcpIC8gKGhlaWdodCAvIDUwKTtcbiAgICByZXR1cm4ge1xuICAgICAgcGFkZGluZ0JvdHRvbTogYCR7aGVpZ2h0fSVgLFxuICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgtJHtvZmZzZXQgKyAwLjAyfSUpYCxcbiAgICB9O1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0QWRhcHRlcigpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJDIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCBjYW5QbGF5UmVnZXggPSAvdmltZW8oPzpcXC5jb218KVxcLyhbMC05XXs5LH0pLztcbiAgICAgIGNvbnN0IGZpbGVSZWdleCA9IC92aW1lb1xcLmNvbVxcL2V4dGVybmFsXFwvWzAtOV0rXFwuLisvO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0SW50ZXJuYWxQbGF5ZXI6ICgpID0+IF9fYXdhaXRlciQyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyByZXR1cm4gdGhpcy5lbWJlZDsgfSksXG4gICAgICAgIHBsYXk6ICgpID0+IF9fYXdhaXRlciQyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIHRoaXMucmVtb3RlQ29udHJvbChcInBsYXlcIiAvKiBQbGF5ICovKTtcbiAgICAgICAgfSksXG4gICAgICAgIHBhdXNlOiAoKSA9PiBfX2F3YWl0ZXIkMih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJwYXVzZVwiIC8qIFBhdXNlICovKTtcbiAgICAgICAgfSksXG4gICAgICAgIGNhblBsYXk6ICh0eXBlKSA9PiBfX2F3YWl0ZXIkMih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgcmV0dXJuIGlzU3RyaW5nKHR5cGUpICYmICFmaWxlUmVnZXgudGVzdCh0eXBlKSAmJiBjYW5QbGF5UmVnZXgudGVzdCh0eXBlKTsgfSksXG4gICAgICAgIHNldEN1cnJlbnRUaW1lOiAodGltZSkgPT4gX19hd2FpdGVyJDIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgaWYgKHRpbWUgIT09IHRoaXMuaW50ZXJuYWxTdGF0ZS5jdXJyZW50VGltZSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwic2V0Q3VycmVudFRpbWVcIiAvKiBTZXRDdXJyZW50VGltZSAqLywgdGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgc2V0TXV0ZWQ6IChtdXRlZCkgPT4gX19hd2FpdGVyJDIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgaWYgKCFtdXRlZClcbiAgICAgICAgICAgIHRoaXMudm9sdW1lID0gdGhpcy52b2x1bWUgPiAwID8gdGhpcy52b2x1bWUgOiAzMDtcbiAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJzZXRWb2x1bWVcIiAvKiBTZXRWb2x1bWUgKi8sIG11dGVkID8gMCA6IHRoaXMudm9sdW1lIC8gMTAwKTtcbiAgICAgICAgfSksXG4gICAgICAgIHNldFZvbHVtZTogKHZvbHVtZSkgPT4gX19hd2FpdGVyJDIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLm11dGVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJzZXRWb2x1bWVcIiAvKiBTZXRWb2x1bWUgKi8sIHZvbHVtZSAvIDEwMCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQ29uZmlybSB2b2x1bWUgd2FzIHNldC5cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ3ZvbHVtZScsIHZvbHVtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgLy8gQFRPRE8gaG93IHRvIGNoZWNrIGlmIFZpbWVvIHBybz9cbiAgICAgICAgY2FuU2V0UGxheWJhY2tSYXRlOiAoKSA9PiBfX2F3YWl0ZXIkMih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgcmV0dXJuIGZhbHNlOyB9KSxcbiAgICAgICAgc2V0UGxheWJhY2tSYXRlOiAocmF0ZSkgPT4gX19hd2FpdGVyJDIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwic2V0UGxheWJhY2tSYXRlXCIgLyogU2V0UGxheWJhY2tSYXRlICovLCByYXRlKTtcbiAgICAgICAgfSksXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJ2bS1lbWJlZFwiLCB7IGNsYXNzOiB7IGhpZGVDb250cm9sczogIXRoaXMuY29udHJvbHMgfSwgc3R5bGU6IHRoaXMuYWRqdXN0UG9zaXRpb24oKSwgZW1iZWRTcmM6IHRoaXMuZW1iZWRTcmMsIG1lZGlhVGl0bGU6IHRoaXMubWVkaWFUaXRsZSwgb3JpZ2luOiB0aGlzLmdldE9yaWdpbigpLCBwYXJhbXM6IHRoaXMuYnVpbGRQYXJhbXMoKSwgZGVjb2RlcjogZGVjb2RlSlNPTiwgcHJlY29ubmVjdGlvbnM6IHRoaXMuZ2V0UHJlY29ubmVjdGlvbnMoKSwgb25WbUVtYmVkTWVzc2FnZTogdGhpcy5vbkVtYmVkTWVzc2FnZS5iaW5kKHRoaXMpLCBvblZtRW1iZWRTcmNDaGFuZ2U6IHRoaXMub25FbWJlZFNyY0NoYW5nZS5iaW5kKHRoaXMpLCByZWY6IChlbCkgPT4ge1xuICAgICAgICB0aGlzLmVtYmVkID0gZWw7XG4gICAgICB9IH0pKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwidmlkZW9JZFwiOiBbXCJvblZpZGVvSWRDaGFuZ2VcIl0sXG4gICAgXCJwb3N0ZXJcIjogW1wib25DdXN0b21Qb3N0ZXJDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gdmltZW9Dc3M7IH1cbn07XG5cbmNvbnN0IHZvbHVtZUNvbnRyb2xDc3MgPSBcIi52b2x1bWVDb250cm9se2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7cG9zaXRpb246cmVsYXRpdmU7cG9pbnRlci1ldmVudHM6YXV0bztib3gtc2l6aW5nOmJvcmRlci1ib3h9dm0tc2xpZGVye3dpZHRoOjc1cHg7aGVpZ2h0OjEwMCU7bWFyZ2luOjA7bWF4LXdpZHRoOjA7cG9zaXRpb246cmVsYXRpdmU7ei1pbmRleDozO3RyYW5zaXRpb246bWFyZ2luIDAuMnMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMSwgMSksXFxuICAgIG1heC13aWR0aCAwLjJzIGN1YmljLWJlemllcigwLjQsIDAsIDEsIDEpO21hcmdpbi1sZWZ0OmNhbGModmFyKC0tdm0tY29udHJvbC1zcGFjaW5nKSAvIDIpICFpbXBvcnRhbnQ7dmlzaWJpbGl0eTpoaWRkZW59dm0tc2xpZGVyOmhvdmVye2N1cnNvcjpwb2ludGVyfXZtLXNsaWRlci5oaWRkZW57ZGlzcGxheTpub25lfXZtLXNsaWRlci5hY3RpdmV7bWF4LXdpZHRoOjc1cHg7dmlzaWJpbGl0eTp2aXNpYmxlO21hcmdpbjowIGNhbGModmFyKC0tdm0tY29udHJvbC1zcGFjaW5nKSAvIDIpfVwiO1xuXG52YXIgX19hd2FpdGVyJDEgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbmNvbnN0IFZvbHVtZUNvbnRyb2wgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMua2V5Ym9hcmREaXNwb3NhbCA9IG5ldyBEaXNwb3NhbCgpO1xuICAgIHRoaXMucHJldk11dGVkID0gZmFsc2U7XG4gICAgdGhpcy5jdXJyZW50Vm9sdW1lID0gNTA7XG4gICAgdGhpcy5pc1NsaWRlckFjdGl2ZSA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBsb3cgdm9sdW1lIGljb24gdG8gcmVzb2x2ZSBmcm9tIHRoZSBpY29uIGxpYnJhcnkuXG4gICAgICovXG4gICAgdGhpcy5sb3dWb2x1bWVJY29uID0gJ3ZvbHVtZS1sb3cnO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBoaWdoIHZvbHVtZSBpY29uIHRvIHJlc29sdmUgZnJvbSB0aGUgaWNvbiBsaWJyYXJ5LlxuICAgICAqL1xuICAgIHRoaXMuaGlnaFZvbHVtZUljb24gPSAndm9sdW1lLWhpZ2gnO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBtdXRlZCB2b2x1bWUgaWNvbiB0byByZXNvbHZlIGZyb20gdGhlIGljb24gbGlicmFyeS5cbiAgICAgKi9cbiAgICB0aGlzLm11dGVkSWNvbiA9ICd2b2x1bWUtbXV0ZSc7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdG9vbHRpcCBpcyBwb3NpdGlvbmVkIGFib3ZlL2JlbG93IHRoZSBjb250cm9sLlxuICAgICAqL1xuICAgIHRoaXMudG9vbHRpcFBvc2l0aW9uID0gJ3RvcCc7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdG9vbHRpcCBzaG91bGQgYmUgaGlkZGVuLlxuICAgICAqL1xuICAgIHRoaXMuaGlkZVRvb2x0aXAgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBBIHBpcGUgKGAvYCkgc2VwYXJhdGVkIHN0cmluZyBvZiBKUyBrZXlib2FyZCBrZXlzLCB0aGF0IHdoZW4gY2F1Z2h0IGluIGEgYGtleWRvd25gIGV2ZW50LCB3aWxsXG4gICAgICogdG9nZ2xlIHRoZSBtdXRlZCBzdGF0ZSBvZiB0aGUgcGxheWVyLlxuICAgICAqL1xuICAgIHRoaXMubXV0ZUtleXMgPSAnbSc7XG4gICAgLyoqXG4gICAgICogUHJldmVudHMgdGhlIHZvbHVtZSBiZWluZyBjaGFuZ2VkIHVzaW5nIHRoZSBVcC9Eb3duIGFycm93IGtleXMuXG4gICAgICovXG4gICAgdGhpcy5ub0tleWJvYXJkID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMubXV0ZWQgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy52b2x1bWUgPSA1MDtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc01vYmlsZSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmkxOG4gPSB7fTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgWyd2b2x1bWUnLCAnbXV0ZWQnLCAnaXNNb2JpbGUnLCAnaTE4biddKTtcbiAgfVxuICBvbk5vS2V5Ym9hcmRDaGFuZ2UoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQxKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgdGhpcy5rZXlib2FyZERpc3Bvc2FsLmVtcHR5KCk7XG4gICAgICBpZiAodGhpcy5ub0tleWJvYXJkKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBwbGF5ZXIgPSB5aWVsZCBmaW5kUGxheWVyKHRoaXMpO1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHBsYXllcikpXG4gICAgICAgIHJldHVybjtcbiAgICAgIHRoaXMua2V5Ym9hcmREaXNwb3NhbC5hZGQobGlzdGVuKHBsYXllciwgJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSAhPT0gJ0Fycm93VXAnICYmIGV2ZW50LmtleSAhPT0gJ0Fycm93RG93bicpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBpc1VwQXJyb3cgPSBldmVudC5rZXkgPT09ICdBcnJvd1VwJztcbiAgICAgICAgY29uc3QgbmV3Vm9sdW1lID0gaXNVcEFycm93XG4gICAgICAgICAgPyBNYXRoLm1pbigxMDAsIHRoaXMudm9sdW1lICsgNSlcbiAgICAgICAgICA6IE1hdGgubWF4KDAsIHRoaXMudm9sdW1lIC0gNSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ3ZvbHVtZScsIHBhcnNlSW50KGAke25ld1ZvbHVtZX1gLCAxMCkpO1xuICAgICAgfSkpO1xuICAgIH0pO1xuICB9XG4gIG9uUGxheWVyVm9sdW1lQ2hhbmdlKCkge1xuICAgIHRoaXMuY3VycmVudFZvbHVtZSA9IHRoaXMubXV0ZWQgPyAwIDogdGhpcy52b2x1bWU7XG4gICAgaWYgKCF0aGlzLm11dGVkICYmIHRoaXMucHJldk11dGVkICYmIHRoaXMudm9sdW1lID09PSAwKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoKCd2b2x1bWUnLCAzMCk7XG4gICAgfVxuICAgIHRoaXMucHJldk11dGVkID0gdGhpcy5tdXRlZDtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLnByZXZNdXRlZCA9IHRoaXMubXV0ZWQ7XG4gICAgdGhpcy5kaXNwYXRjaCA9IGNyZWF0ZURpc3BhdGNoZXIodGhpcyk7XG4gICAgdGhpcy5vbk5vS2V5Ym9hcmRDaGFuZ2UoKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmtleWJvYXJkRGlzcG9zYWwuZW1wdHkoKTtcbiAgfVxuICBvblNob3dTbGlkZXIoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuaGlkZVNsaWRlclRpbWVvdXQpO1xuICAgIHRoaXMuaXNTbGlkZXJBY3RpdmUgPSB0cnVlO1xuICB9XG4gIG9uSGlkZVNsaWRlcigpIHtcbiAgICB0aGlzLmhpZGVTbGlkZXJUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmlzU2xpZGVyQWN0aXZlID0gZmFsc2U7XG4gICAgfSwgMTAwKTtcbiAgfVxuICBvblZvbHVtZUNoYW5nZShldmVudCkge1xuICAgIGNvbnN0IG5ld1ZvbHVtZSA9IGV2ZW50LmRldGFpbDtcbiAgICB0aGlzLmN1cnJlbnRWb2x1bWUgPSBuZXdWb2x1bWU7XG4gICAgdGhpcy5kaXNwYXRjaCgndm9sdW1lJywgbmV3Vm9sdW1lKTtcbiAgICB0aGlzLmRpc3BhdGNoKCdtdXRlZCcsIG5ld1ZvbHVtZSA9PT0gMCk7XG4gIH1cbiAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSAhPT0gJ0Fycm93TGVmdCcgJiYgZXZlbnQua2V5ICE9PSAnQXJyb3dSaWdodCcpXG4gICAgICByZXR1cm47XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBcInZvbHVtZUNvbnRyb2xcIiwgb25Nb3VzZUVudGVyOiB0aGlzLm9uU2hvd1NsaWRlci5iaW5kKHRoaXMpLCBvbk1vdXNlTGVhdmU6IHRoaXMub25IaWRlU2xpZGVyLmJpbmQodGhpcykgfSwgaChcInZtLW11dGUtY29udHJvbFwiLCB7IGtleXM6IHRoaXMubXV0ZUtleXMsIGxvd1ZvbHVtZUljb246IHRoaXMubG93Vm9sdW1lSWNvbiwgaGlnaFZvbHVtZUljb246IHRoaXMuaGlnaFZvbHVtZUljb24sIG11dGVkSWNvbjogdGhpcy5tdXRlZEljb24sIGljb25zOiB0aGlzLmljb25zLCB0b29sdGlwUG9zaXRpb246IHRoaXMudG9vbHRpcFBvc2l0aW9uLCB0b29sdGlwRGlyZWN0aW9uOiB0aGlzLnRvb2x0aXBEaXJlY3Rpb24sIGhpZGVUb29sdGlwOiB0aGlzLmhpZGVUb29sdGlwLCBvblZtRm9jdXM6IHRoaXMub25TaG93U2xpZGVyLmJpbmQodGhpcyksIG9uVm1CbHVyOiB0aGlzLm9uSGlkZVNsaWRlci5iaW5kKHRoaXMpIH0pLCBoKFwidm0tc2xpZGVyXCIsIHsgY2xhc3M6IHtcbiAgICAgICAgaGlkZGVuOiB0aGlzLmlzTW9iaWxlLFxuICAgICAgICBhY3RpdmU6IHRoaXMuaXNTbGlkZXJBY3RpdmUsXG4gICAgICB9LCBzdGVwOiA1LCBtYXg6IDEwMCwgdmFsdWU6IHRoaXMuY3VycmVudFZvbHVtZSwgbGFiZWw6IHRoaXMuaTE4bi52b2x1bWUsIG9uS2V5RG93bjogdGhpcy5vbktleURvd24uYmluZCh0aGlzKSwgb25WbUZvY3VzOiB0aGlzLm9uU2hvd1NsaWRlci5iaW5kKHRoaXMpLCBvblZtQmx1cjogdGhpcy5vbkhpZGVTbGlkZXIuYmluZCh0aGlzKSwgb25WbVZhbHVlQ2hhbmdlOiB0aGlzLm9uVm9sdW1lQ2hhbmdlLmJpbmQodGhpcykgfSkpKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwibm9LZXlib2FyZFwiOiBbXCJvbk5vS2V5Ym9hcmRDaGFuZ2VcIl0sXG4gICAgXCJtdXRlZFwiOiBbXCJvblBsYXllclZvbHVtZUNoYW5nZVwiXSxcbiAgICBcInZvbHVtZVwiOiBbXCJvblBsYXllclZvbHVtZUNoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiB2b2x1bWVDb250cm9sQ3NzOyB9XG59O1xuXG5jb25zdCBtYXBZb3VUdWJlUGxheWJhY2tRdWFsaXR5ID0gKHF1YWxpdHkpID0+IHtcbiAgc3dpdGNoIChxdWFsaXR5KSB7XG4gICAgY2FzZSBcInVua25vd25cIiAvKiBVbmtub3duICovOlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBjYXNlIFwidGlueVwiIC8qIFRpbnkgKi86XG4gICAgICByZXR1cm4gJzE0NHAnO1xuICAgIGNhc2UgXCJzbWFsbFwiIC8qIFNtYWxsICovOlxuICAgICAgcmV0dXJuICcyNDBwJztcbiAgICBjYXNlIFwibWVkaXVtXCIgLyogTWVkaXVtICovOlxuICAgICAgcmV0dXJuICczNjBwJztcbiAgICBjYXNlIFwibGFyZ2VcIiAvKiBMYXJnZSAqLzpcbiAgICAgIHJldHVybiAnNDgwcCc7XG4gICAgY2FzZSBcImhkNzIwXCIgLyogSGQ3MjAgKi86XG4gICAgICByZXR1cm4gJzcyMHAnO1xuICAgIGNhc2UgXCJoZDEwODBcIiAvKiBIZDEwODAgKi86XG4gICAgICByZXR1cm4gJzEwODBwJztcbiAgICBjYXNlIFwiaGlnaHJlc1wiIC8qIEhpZ2hyZXMgKi86XG4gICAgICByZXR1cm4gJzE0NDBwJztcbiAgICBjYXNlIFwibWF4XCIgLyogTWF4ICovOlxuICAgICAgcmV0dXJuICcyMTYwcCc7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn07XG5cbmNvbnN0IHlvdXR1YmVDc3MgPSBcIjpob3N0e3otaW5kZXg6dmFyKC0tdm0tbWVkaWEtei1pbmRleCl9XCI7XG5cbnZhciBfX2F3YWl0ZXIgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbmNvbnN0IHBvc3RlckNhY2hlID0gbmV3IE1hcCgpO1xuY29uc3QgWW91VHViZSA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgdGhpcy52bUxvYWRTdGFydCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1Mb2FkU3RhcnRcIiwgNyk7XG4gICAgdGhpcy5kZWZhdWx0SW50ZXJuYWxTdGF0ZSA9IHt9O1xuICAgIHRoaXMuaW50ZXJuYWxTdGF0ZSA9IHtcbiAgICAgIHBhdXNlZDogdHJ1ZSxcbiAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgc2Vla2luZzogZmFsc2UsXG4gICAgICBwbGF5YmFja1JlYWR5OiBmYWxzZSxcbiAgICAgIHBsYXliYWNrU3RhcnRlZDogZmFsc2UsXG4gICAgICBjdXJyZW50VGltZTogMCxcbiAgICAgIGxhc3RUaW1lVXBkYXRlOiAwLFxuICAgICAgcGxheWJhY2tSYXRlOiAxLFxuICAgICAgc3RhdGU6IC0xLFxuICAgIH07XG4gICAgdGhpcy5lbWJlZFNyYyA9ICcnO1xuICAgIHRoaXMubWVkaWFUaXRsZSA9ICcnO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgY29va2llcyBzaG91bGQgYmUgZW5hYmxlZCBvbiB0aGUgZW1iZWQuXG4gICAgICovXG4gICAgdGhpcy5jb29raWVzID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgZnVsbHNjcmVlbiBjb250cm9sIHNob3VsZCBiZSBzaG93bi5cbiAgICAgKi9cbiAgICB0aGlzLnNob3dGdWxsc2NyZWVuQ29udHJvbCA9IHRydWU7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMubGFuZ3VhZ2UgPSAnZW4nO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmF1dG9wbGF5ID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuY29udHJvbHMgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5sb29wID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMubXV0ZWQgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wbGF5c2lubGluZSA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUHJvdmlkZXJDb25uZWN0KHRoaXMpO1xuICAgIHdpdGhQcm92aWRlckNvbnRleHQodGhpcyk7XG4gIH1cbiAgb25WaWRlb0lkQ2hhbmdlKCkge1xuICAgIGlmICghdGhpcy52aWRlb0lkKSB7XG4gICAgICB0aGlzLmVtYmVkU3JjID0gJyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZW1iZWRTcmMgPSBgJHt0aGlzLmdldE9yaWdpbigpfS9lbWJlZC8ke3RoaXMudmlkZW9JZH1gO1xuICAgIHRoaXMuZmV0Y2hQb3N0ZXJVUkwgPSB0aGlzLmZpbmRQb3N0ZXJVUkwoKTtcbiAgfVxuICBvbkN1c3RvbVBvc3RlckNoYW5nZSgpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50UG9zdGVyJywgdGhpcy5wb3N0ZXIpO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuZGlzcGF0Y2ggPSBjcmVhdGVQcm92aWRlckRpc3BhdGNoZXIodGhpcyk7XG4gICAgdGhpcy5kaXNwYXRjaCgndmlld1R5cGUnLCBWaWV3VHlwZS5WaWRlbyk7XG4gICAgdGhpcy5vblZpZGVvSWRDaGFuZ2UoKTtcbiAgICB0aGlzLmRlZmF1bHRJbnRlcm5hbFN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5pbnRlcm5hbFN0YXRlKTtcbiAgfVxuICBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICB0aGlzLmluaXRpYWxNdXRlZCA9IHRoaXMubXV0ZWQ7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXRBZGFwdGVyKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCBjYW5QbGF5UmVnZXggPSAvKD86eW91dHVcXC5iZXx5b3V0dWJlfHlvdXR1YmVcXC5jb218eW91dHViZS1ub2Nvb2tpZVxcLmNvbSlcXC8oPzplbWJlZFxcL3x2XFwvfHdhdGNoXFw/dj18d2F0Y2hcXD8uKyZ2PXwpKCg/Olxcd3wtKXsxMX0pLztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdldEludGVybmFsUGxheWVyOiAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiB0aGlzLmVtYmVkOyB9KSxcbiAgICAgICAgcGxheTogKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIHRoaXMucmVtb3RlQ29udHJvbChcInBsYXlWaWRlb1wiIC8qIFBsYXkgKi8pO1xuICAgICAgICB9KSxcbiAgICAgICAgcGF1c2U6ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJwYXVzZVZpZGVvXCIgLyogUGF1c2UgKi8pO1xuICAgICAgICB9KSxcbiAgICAgICAgY2FuUGxheTogKHR5cGUpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgcmV0dXJuIGlzU3RyaW5nKHR5cGUpICYmIGNhblBsYXlSZWdleC50ZXN0KHR5cGUpOyB9KSxcbiAgICAgICAgc2V0Q3VycmVudFRpbWU6ICh0aW1lKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgaWYgKHRpbWUgIT09IHRoaXMuaW50ZXJuYWxTdGF0ZS5jdXJyZW50VGltZSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwic2Vla1RvXCIgLyogU2VlayAqLywgdGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgc2V0TXV0ZWQ6IChtdXRlZCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIG11dGVkXG4gICAgICAgICAgICA/IHRoaXMucmVtb3RlQ29udHJvbChcIm11dGVcIiAvKiBNdXRlICovKVxuICAgICAgICAgICAgOiB0aGlzLnJlbW90ZUNvbnRyb2woXCJ1bk11dGVcIiAvKiBVbm11dGUgKi8pO1xuICAgICAgICB9KSxcbiAgICAgICAgc2V0Vm9sdW1lOiAodm9sdW1lKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwic2V0Vm9sdW1lXCIgLyogU2V0Vm9sdW1lICovLCB2b2x1bWUpO1xuICAgICAgICB9KSxcbiAgICAgICAgY2FuU2V0UGxheWJhY2tSYXRlOiAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiB0cnVlOyB9KSxcbiAgICAgICAgc2V0UGxheWJhY2tSYXRlOiAocmF0ZSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIHRoaXMucmVtb3RlQ29udHJvbChcInNldFBsYXliYWNrUmF0ZVwiIC8qIFNldFBsYXliYWNrUmF0ZSAqLywgcmF0ZSk7XG4gICAgICAgIH0pLFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuICBnZXRPcmlnaW4oKSB7XG4gICAgcmV0dXJuICF0aGlzLmNvb2tpZXNcbiAgICAgID8gJ2h0dHBzOi8vd3d3LnlvdXR1YmUtbm9jb29raWUuY29tJ1xuICAgICAgOiAnaHR0cHM6Ly93d3cueW91dHViZS5jb20nO1xuICB9XG4gIGdldFByZWNvbm5lY3Rpb25zKCkge1xuICAgIHJldHVybiBbXG4gICAgICB0aGlzLmdldE9yaWdpbigpLFxuICAgICAgJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20nLFxuICAgICAgJ2h0dHBzOi8vZ29vZ2xlYWRzLmcuZG91YmxlY2xpY2submV0JyxcbiAgICAgICdodHRwczovL3N0YXRpYy5kb3VibGVjbGljay5uZXQnLFxuICAgICAgJ2h0dHBzOi8vcy55dGltZy5jb20nLFxuICAgICAgJ2h0dHBzOi8vaS55dGltZy5jb20nLFxuICAgIF07XG4gIH1cbiAgcmVtb3RlQ29udHJvbChjb21tYW5kLCBhcmcpIHtcbiAgICByZXR1cm4gdGhpcy5lbWJlZC5wb3N0TWVzc2FnZSh7XG4gICAgICBldmVudDogJ2NvbW1hbmQnLFxuICAgICAgZnVuYzogY29tbWFuZCxcbiAgICAgIGFyZ3M6IGFyZyA/IFthcmddIDogdW5kZWZpbmVkLFxuICAgIH0pO1xuICB9XG4gIGJ1aWxkUGFyYW1zKCkge1xuICAgIHJldHVybiB7XG4gICAgICBlbmFibGVqc2FwaTogMSxcbiAgICAgIGNjX2xhbmdfcHJlZjogdGhpcy5sYW5ndWFnZSxcbiAgICAgIGhsOiB0aGlzLmxhbmd1YWdlLFxuICAgICAgZnM6IHRoaXMuc2hvd0Z1bGxzY3JlZW5Db250cm9sID8gMSA6IDAsXG4gICAgICBjb250cm9sczogdGhpcy5jb250cm9scyA/IDEgOiAwLFxuICAgICAgZGlzYWJsZWtiOiAhdGhpcy5jb250cm9scyA/IDEgOiAwLFxuICAgICAgaXZfbG9hZF9wb2xpY3k6IHRoaXMuY29udHJvbHMgPyAxIDogMyxcbiAgICAgIG11dGU6IHRoaXMuaW5pdGlhbE11dGVkID8gMSA6IDAsXG4gICAgICBwbGF5c2lubGluZTogdGhpcy5wbGF5c2lubGluZSA/IDEgOiAwLFxuICAgICAgYXV0b3BsYXk6IHRoaXMuYXV0b3BsYXkgPyAxIDogMCxcbiAgICB9O1xuICB9XG4gIG9uRW1iZWRTcmNDaGFuZ2UoKSB7XG4gICAgdGhpcy52bUxvYWRTdGFydC5lbWl0KCk7XG4gICAgdGhpcy5kaXNwYXRjaCgndmlld1R5cGUnLCBWaWV3VHlwZS5WaWRlbyk7XG4gIH1cbiAgb25FbWJlZExvYWRlZCgpIHtcbiAgICAvLyBTZWVtcyBsaWtlIHdlIGhhdmUgdG8gd2FpdCBhIHJhbmRvbSBzbWFsbCBkZWxheSBvciBlbHNlIFlUIHBsYXllciBpc24ndCByZWFkeS5cbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLmVtYmVkLnBvc3RNZXNzYWdlKHsgZXZlbnQ6ICdsaXN0ZW5pbmcnIH0pLCAxMDApO1xuICB9XG4gIGZpbmRQb3N0ZXJVUkwoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGlmIChwb3N0ZXJDYWNoZS5oYXModGhpcy52aWRlb0lkKSlcbiAgICAgICAgcmV0dXJuIHBvc3RlckNhY2hlLmdldCh0aGlzLnZpZGVvSWQpO1xuICAgICAgY29uc3QgcG9zdGVyVVJMID0gKHF1YWxpdHkpID0+IGBodHRwczovL2kueXRpbWcuY29tL3ZpLyR7dGhpcy52aWRlb0lkfS8ke3F1YWxpdHl9LmpwZ2A7XG4gICAgICAvKipcbiAgICAgICAqIFdlIGFyZSB0ZXN0aW5nIGEgdGhhdCB0aGUgaW1hZ2UgaGFzIGEgbWluLXdpZHRoIG9mIDEyMXB4IGJlY2F1c2UgaWYgdGhlIHRodW1ibmFpbCBkb2VzIG5vdFxuICAgICAgICogZXhpc3QgWW91VHViZSByZXR1cm5zIGEgYmxhbmsvZXJyb3IgaW1hZ2UgdGhhdCBpcyAxMjBweCB3aWRlLlxuICAgICAgICovXG4gICAgICByZXR1cm4gbG9hZEltYWdlKHBvc3RlclVSTCgnbWF4cmVzZGVmYXVsdCcpLCAxMjEpIC8vIDEwODBwIChubyBwYWRkaW5nKVxuICAgICAgICAuY2F0Y2goKCkgPT4gbG9hZEltYWdlKHBvc3RlclVSTCgnc2RkZWZhdWx0JyksIDEyMSkpIC8vIDY0MHAgKHBhZGRlZCA0OjMpXG4gICAgICAgIC5jYXRjaCgoKSA9PiBsb2FkSW1hZ2UocG9zdGVyVVJMKCdocWRlZmF1bHQnKSwgMTIxKSkgLy8gNDgwcCAocGFkZGVkIDQ6MylcbiAgICAgICAgLnRoZW4oaW1nID0+IHtcbiAgICAgICAgY29uc3QgcG9zdGVyID0gaW1nLnNyYztcbiAgICAgICAgcG9zdGVyQ2FjaGUuc2V0KHRoaXMudmlkZW9JZCwgcG9zdGVyKTtcbiAgICAgICAgcmV0dXJuIHBvc3RlcjtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIG9uQ3VlZCgpIHtcbiAgICBpZiAodGhpcy5pbnRlcm5hbFN0YXRlLnBsYXliYWNrUmVhZHkpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5pbnRlcm5hbFN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0SW50ZXJuYWxTdGF0ZSk7XG4gICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFNyYycsIHRoaXMuZW1iZWRTcmMpO1xuICAgIHRoaXMuZGlzcGF0Y2goJ21lZGlhVHlwZScsIE1lZGlhVHlwZS5WaWRlbyk7XG4gICAgdGhpcy5mZXRjaFBvc3RlclVSTC50aGVuKHBvc3RlciA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50UG9zdGVyJywgKF9hID0gdGhpcy5wb3N0ZXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHBvc3Rlcik7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1JlYWR5JywgdHJ1ZSk7XG4gICAgfSk7XG4gICAgdGhpcy5pbnRlcm5hbFN0YXRlLnBsYXliYWNrUmVhZHkgPSB0cnVlO1xuICB9XG4gIG9uUGxheWVyU3RhdGVDaGFuZ2Uoc3RhdGUpIHtcbiAgICAvLyBTb21ldGltZXMgdGhlIGVtYmVkIGZhbGxzIGJhY2sgdG8gYW4gdW5zdGFydGVkIHN0YXRlIGZvciBzb21lIHVua25vd24gcmVhc29uLCB0aGlzIHdpbGxcbiAgICAvLyBtYWtlIHN1cmUgdGhlIHBsYXllciBpcyBjb25maWd1cmVkIHRvIHRoZSByaWdodCBzdGFydGluZyBzdGF0ZS5cbiAgICBpZiAodGhpcy5pbnRlcm5hbFN0YXRlLnBsYXliYWNrUmVhZHkgJiZcbiAgICAgIHN0YXRlID09PSAtMSAvKiBVbnN0YXJ0ZWQgKi8pIHtcbiAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5wYXVzZWQgPSB0cnVlO1xuICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLnBsYXliYWNrU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5kaXNwYXRjaCgnYnVmZmVyaW5nJywgZmFsc2UpO1xuICAgICAgdGhpcy5kaXNwYXRjaCgncGF1c2VkJywgdHJ1ZSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1N0YXJ0ZWQnLCBmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzUGxheWluZyA9IHN0YXRlID09PSAxIC8qIFBsYXlpbmcgKi87XG4gICAgY29uc3QgaXNCdWZmZXJpbmcgPSBzdGF0ZSA9PT0gMyAvKiBCdWZmZXJpbmcgKi87XG4gICAgdGhpcy5kaXNwYXRjaCgnYnVmZmVyaW5nJywgaXNCdWZmZXJpbmcpO1xuICAgIC8vIEF0dGVtcHQgdG8gZGV0ZWN0IGBwbGF5YCBldmVudHMgZWFybHkuXG4gICAgaWYgKHRoaXMuaW50ZXJuYWxTdGF0ZS5wYXVzZWQgJiYgKGlzQnVmZmVyaW5nIHx8IGlzUGxheWluZykpIHtcbiAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5wYXVzZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ3BhdXNlZCcsIGZhbHNlKTtcbiAgICAgIGlmICghdGhpcy5pbnRlcm5hbFN0YXRlLnBsYXliYWNrU3RhcnRlZCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1N0YXJ0ZWQnLCB0cnVlKTtcbiAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLnBsYXliYWNrU3RhcnRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgIGNhc2UgNSAvKiBDdWVkICovOlxuICAgICAgICB0aGlzLm9uQ3VlZCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMSAvKiBQbGF5aW5nICovOlxuICAgICAgICAvLyBJbmNhc2Ugb2YgYXV0b3BsYXkgd2hpY2ggbWlnaHQgc2tpcCBgQ3VlZGAgZXZlbnQuXG4gICAgICAgIHRoaXMub25DdWVkKCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXlpbmcnLCB0cnVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDIgLyogUGF1c2VkICovOlxuICAgICAgICB0aGlzLmludGVybmFsU3RhdGUucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgncGF1c2VkJywgdHJ1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAwIC8qIEVuZGVkICovOlxuICAgICAgICBpZiAodGhpcy5sb29wKSB7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwicGxheVZpZGVvXCIgLyogUGxheSAqLyk7XG4gICAgICAgICAgfSwgMTUwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja0VuZGVkJywgdHJ1ZSk7XG4gICAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLnBhdXNlZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaCgncGF1c2VkJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5zdGF0ZSA9IHN0YXRlO1xuICB9XG4gIGNhbGNDdXJyZW50VGltZSh0aW1lKSB7XG4gICAgbGV0IGN1cnJlbnRUaW1lID0gdGltZTtcbiAgICBpZiAodGhpcy5pbnRlcm5hbFN0YXRlLnN0YXRlID09PSAwIC8qIEVuZGVkICovKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbFN0YXRlLmR1cmF0aW9uO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbnRlcm5hbFN0YXRlLnN0YXRlID09PSAxIC8qIFBsYXlpbmcgKi8pIHtcbiAgICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gKERhdGUubm93KCkgLyAxZTMgLSB0aGlzLmRlZmF1bHRJbnRlcm5hbFN0YXRlLmxhc3RUaW1lVXBkYXRlKSAqXG4gICAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5wbGF5YmFja1JhdGU7XG4gICAgICBpZiAoZWxhcHNlZFRpbWUgPiAwKVxuICAgICAgICBjdXJyZW50VGltZSArPSBNYXRoLm1pbihlbGFwc2VkVGltZSwgMSk7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50VGltZTtcbiAgfVxuICBvblRpbWVDaGFuZ2UodGltZSkge1xuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gdGhpcy5jYWxjQ3VycmVudFRpbWUodGltZSk7XG4gICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFRpbWUnLCBjdXJyZW50VGltZSk7XG4gICAgLy8gVGhpcyBpcyB0aGUgb25seSB3YXkgdG8gZGV0ZWN0IGBzZWVraW5nYC5cbiAgICBpZiAoTWF0aC5hYnModGhpcy5pbnRlcm5hbFN0YXRlLmN1cnJlbnRUaW1lIC0gY3VycmVudFRpbWUpID4gMS41KSB7XG4gICAgICB0aGlzLmludGVybmFsU3RhdGUuc2Vla2luZyA9IHRydWU7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdzZWVraW5nJywgdHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5jdXJyZW50VGltZSA9IGN1cnJlbnRUaW1lO1xuICB9XG4gIG9uQnVmZmVyZWRDaGFuZ2UoYnVmZmVyZWQpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCdidWZmZXJlZCcsIGJ1ZmZlcmVkKTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBvbmx5IHdheSB0byBkZXRlY3QgYHNlZWtlZGAuIFVuZm9ydHVuYXRlbHkgd2hpbGUgdGhlIHBsYXllciBpcyBgcGF1c2VkYCBgc2Vla2luZ2BcbiAgICAgKiBhbmQgYHNlZWtlZGAgd2lsbCBmaXJlIGF0IHRoZSBzYW1lIHRpbWUsIHRoZXJlIGFyZSBubyB1cGRhdGVzIGluYmV0d2VlbiAtXy0uIFdlIG5lZWQgYW5cbiAgICAgKiBhcnRpZmljYWwgZGVsYXkgYmV0d2VlbiB0aGUgdHdvIGV2ZW50cy5cbiAgICAgKi9cbiAgICBpZiAodGhpcy5pbnRlcm5hbFN0YXRlLnNlZWtpbmcgJiZcbiAgICAgIGJ1ZmZlcmVkID4gdGhpcy5pbnRlcm5hbFN0YXRlLmN1cnJlbnRUaW1lKSB7XG4gICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5zZWVraW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ3NlZWtpbmcnLCBmYWxzZSk7XG4gICAgICB9LCB0aGlzLmludGVybmFsU3RhdGUucGF1c2VkID8gMTAwIDogMCk7XG4gICAgfVxuICB9XG4gIG9uRW1iZWRNZXNzYWdlKGV2ZW50KSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRldGFpbDtcbiAgICBjb25zdCB7IGluZm8gfSA9IG1lc3NhZ2U7XG4gICAgaWYgKCFpbmZvKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChpc09iamVjdChpbmZvLnZpZGVvRGF0YSkpXG4gICAgICB0aGlzLmRpc3BhdGNoKCdtZWRpYVRpdGxlJywgaW5mby52aWRlb0RhdGEudGl0bGUpO1xuICAgIGlmIChpc051bWJlcihpbmZvLmR1cmF0aW9uKSkge1xuICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLmR1cmF0aW9uID0gaW5mby5kdXJhdGlvbjtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ2R1cmF0aW9uJywgaW5mby5kdXJhdGlvbik7XG4gICAgfVxuICAgIGlmIChpc0FycmF5KGluZm8uYXZhaWxhYmxlUGxheWJhY2tSYXRlcykpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXliYWNrUmF0ZXMnLCBpbmZvLmF2YWlsYWJsZVBsYXliYWNrUmF0ZXMpO1xuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIoaW5mby5wbGF5YmFja1JhdGUpKSB7XG4gICAgICB0aGlzLmludGVybmFsU3RhdGUucGxheWJhY2tSYXRlID0gaW5mby5wbGF5YmFja1JhdGU7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1JhdGUnLCBpbmZvLnBsYXliYWNrUmF0ZSk7XG4gICAgfVxuICAgIGlmIChpc051bWJlcihpbmZvLmN1cnJlbnRUaW1lKSlcbiAgICAgIHRoaXMub25UaW1lQ2hhbmdlKGluZm8uY3VycmVudFRpbWUpO1xuICAgIGlmIChpc051bWJlcihpbmZvLmN1cnJlbnRUaW1lTGFzdFVwZGF0ZWQpKSB7XG4gICAgICB0aGlzLmludGVybmFsU3RhdGUubGFzdFRpbWVVcGRhdGUgPSBpbmZvLmN1cnJlbnRUaW1lTGFzdFVwZGF0ZWQ7XG4gICAgfVxuICAgIGlmIChpc051bWJlcihpbmZvLnZpZGVvTG9hZGVkRnJhY3Rpb24pKSB7XG4gICAgICB0aGlzLm9uQnVmZmVyZWRDaGFuZ2UoaW5mby52aWRlb0xvYWRlZEZyYWN0aW9uICogdGhpcy5pbnRlcm5hbFN0YXRlLmR1cmF0aW9uKTtcbiAgICB9XG4gICAgaWYgKGlzTnVtYmVyKGluZm8udm9sdW1lKSlcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ3ZvbHVtZScsIGluZm8udm9sdW1lKTtcbiAgICBpZiAoaXNCb29sZWFuKGluZm8ubXV0ZWQpKVxuICAgICAgdGhpcy5kaXNwYXRjaCgnbXV0ZWQnLCBpbmZvLm11dGVkKTtcbiAgICBpZiAoaXNBcnJheShpbmZvLmF2YWlsYWJsZVF1YWxpdHlMZXZlbHMpKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1F1YWxpdGllcycsIGluZm8uYXZhaWxhYmxlUXVhbGl0eUxldmVscy5tYXAocSA9PiBtYXBZb3VUdWJlUGxheWJhY2tRdWFsaXR5KHEpKSk7XG4gICAgfVxuICAgIGlmIChpc1N0cmluZyhpbmZvLnBsYXliYWNrUXVhbGl0eSkpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXliYWNrUXVhbGl0eScsIG1hcFlvdVR1YmVQbGF5YmFja1F1YWxpdHkoaW5mby5wbGF5YmFja1F1YWxpdHkpKTtcbiAgICB9XG4gICAgaWYgKGlzTnVtYmVyKGluZm8ucGxheWVyU3RhdGUpKVxuICAgICAgdGhpcy5vblBsYXllclN0YXRlQ2hhbmdlKGluZm8ucGxheWVyU3RhdGUpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJ2bS1lbWJlZFwiLCB7IGVtYmVkU3JjOiB0aGlzLmVtYmVkU3JjLCBtZWRpYVRpdGxlOiB0aGlzLm1lZGlhVGl0bGUsIG9yaWdpbjogdGhpcy5nZXRPcmlnaW4oKSwgcGFyYW1zOiB0aGlzLmJ1aWxkUGFyYW1zKCksIGRlY29kZXI6IGRlY29kZUpTT04sIHByZWNvbm5lY3Rpb25zOiB0aGlzLmdldFByZWNvbm5lY3Rpb25zKCksIG9uVm1FbWJlZExvYWRlZDogdGhpcy5vbkVtYmVkTG9hZGVkLmJpbmQodGhpcyksIG9uVm1FbWJlZE1lc3NhZ2U6IHRoaXMub25FbWJlZE1lc3NhZ2UuYmluZCh0aGlzKSwgb25WbUVtYmVkU3JjQ2hhbmdlOiB0aGlzLm9uRW1iZWRTcmNDaGFuZ2UuYmluZCh0aGlzKSwgcmVmOiAoZWwpID0+IHtcbiAgICAgICAgdGhpcy5lbWJlZCA9IGVsO1xuICAgICAgfSB9KSk7XG4gIH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcImNvb2tpZXNcIjogW1wib25WaWRlb0lkQ2hhbmdlXCJdLFxuICAgIFwidmlkZW9JZFwiOiBbXCJvblZpZGVvSWRDaGFuZ2VcIl0sXG4gICAgXCJwb3N0ZXJcIjogW1wib25DdXN0b21Qb3N0ZXJDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4geW91dHViZUNzczsgfVxufTtcblxuY29uc3QgVm1BdWRpbyA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoQXVkaW8sIFs0LFwidm0tYXVkaW9cIix7XCJ3aWxsQXR0YWNoXCI6WzQsXCJ3aWxsLWF0dGFjaFwiXSxcImNyb3NzT3JpZ2luXCI6WzEsXCJjcm9zcy1vcmlnaW5cIl0sXCJwcmVsb2FkXCI6WzFdLFwiZGlzYWJsZVJlbW90ZVBsYXliYWNrXCI6WzQsXCJkaXNhYmxlLXJlbW90ZS1wbGF5YmFja1wiXSxcIm1lZGlhVGl0bGVcIjpbMSxcIm1lZGlhLXRpdGxlXCJdfV0pO1xuY29uc3QgVm1DYXB0aW9uQ29udHJvbCA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoQ2FwdGlvbkNvbnRyb2wsIFsxLFwidm0tY2FwdGlvbi1jb250cm9sXCIse1wic2hvd0ljb25cIjpbMSxcInNob3ctaWNvblwiXSxcImhpZGVJY29uXCI6WzEsXCJoaWRlLWljb25cIl0sXCJ0b29sdGlwUG9zaXRpb25cIjpbMSxcInRvb2x0aXAtcG9zaXRpb25cIl0sXCJ0b29sdGlwRGlyZWN0aW9uXCI6WzEsXCJ0b29sdGlwLWRpcmVjdGlvblwiXSxcImhpZGVUb29sdGlwXCI6WzQsXCJoaWRlLXRvb2x0aXBcIl0sXCJpY29uc1wiOlsxXSxcImtleXNcIjpbMV0sXCJpMThuXCI6WzE2XSxcInBsYXliYWNrUmVhZHlcIjpbNCxcInBsYXliYWNrLXJlYWR5XCJdLFwidGV4dFRyYWNrc1wiOlsxNl0sXCJpc1RleHRUcmFja1Zpc2libGVcIjpbNCxcImlzLXRleHQtdHJhY2stdmlzaWJsZVwiXSxcImNhblRvZ2dsZUNhcHRpb25WaXNpYmlsaXR5XCI6WzMyXX1dKTtcbmNvbnN0IFZtQ2FwdGlvbnMgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KENhcHRpb25zLCBbMSxcInZtLWNhcHRpb25zXCIse1wiaGlkZGVuXCI6WzRdLFwiaXNDb250cm9sc0FjdGl2ZVwiOls0LFwiaXMtY29udHJvbHMtYWN0aXZlXCJdLFwiaXNWaWRlb1ZpZXdcIjpbNCxcImlzLXZpZGVvLXZpZXdcIl0sXCJwbGF5YmFja1N0YXJ0ZWRcIjpbNCxcInBsYXliYWNrLXN0YXJ0ZWRcIl0sXCJ0ZXh0VHJhY2tzXCI6WzE2XSxcImN1cnJlbnRUZXh0VHJhY2tcIjpbMixcImN1cnJlbnQtdGV4dC10cmFja1wiXSxcImlzVGV4dFRyYWNrVmlzaWJsZVwiOls0LFwiaXMtdGV4dC10cmFjay12aXNpYmxlXCJdLFwiaXNFbmFibGVkXCI6WzMyXSxcImN1ZVwiOlszMl0sXCJmb250U2l6ZVwiOlszMl19XSk7XG5jb25zdCBWbUNsaWNrVG9QbGF5ID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChDbGlja1RvUGxheSwgWzEsXCJ2bS1jbGljay10by1wbGF5XCIse1widXNlT25Nb2JpbGVcIjpbNCxcInVzZS1vbi1tb2JpbGVcIl0sXCJwYXVzZWRcIjpbNF0sXCJpc1ZpZGVvVmlld1wiOls0LFwiaXMtdmlkZW8tdmlld1wiXSxcImlzTW9iaWxlXCI6WzQsXCJpcy1tb2JpbGVcIl19XSk7XG5jb25zdCBWbUNvbnRyb2wgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KENvbnRyb2wsIFsxLFwidm0tY29udHJvbFwiLHtcImtleXNcIjpbMV0sXCJpZGVudGlmaWVyXCI6WzFdLFwiaGlkZGVuXCI6WzRdLFwibGFiZWxcIjpbMV0sXCJtZW51XCI6WzFdLFwiZXhwYW5kZWRcIjpbNF0sXCJwcmVzc2VkXCI6WzRdLFwiaXNUb3VjaFwiOls0LFwiaXMtdG91Y2hcIl0sXCJkZXNjcmliZWRCeVwiOlszMl0sXCJzaG93VGFwSGlnaGxpZ2h0XCI6WzMyXX1dKTtcbmNvbnN0IFZtQ29udHJvbEdyb3VwID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChDb250cm9sTmV3TGluZSwgWzEsXCJ2bS1jb250cm9sLWdyb3VwXCIse1wic3BhY2VcIjpbMV19XSk7XG5jb25zdCBWbUNvbnRyb2xTcGFjZXIgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KENvbnRyb2xTcGFjZXIsIFsxLFwidm0tY29udHJvbC1zcGFjZXJcIl0pO1xuY29uc3QgVm1Db250cm9scyA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoQ29udHJvbHMsIFsxLFwidm0tY29udHJvbHNcIix7XCJoaWRkZW5cIjpbNF0sXCJmdWxsV2lkdGhcIjpbNCxcImZ1bGwtd2lkdGhcIl0sXCJmdWxsSGVpZ2h0XCI6WzQsXCJmdWxsLWhlaWdodFwiXSxcImRpcmVjdGlvblwiOlsxXSxcImFsaWduXCI6WzFdLFwianVzdGlmeVwiOlsxXSxcInBpblwiOls1MTNdLFwiYWN0aXZlRHVyYXRpb25cIjpbMixcImFjdGl2ZS1kdXJhdGlvblwiXSxcIndhaXRGb3JQbGF5YmFja1N0YXJ0XCI6WzQsXCJ3YWl0LWZvci1wbGF5YmFjay1zdGFydFwiXSxcImhpZGVXaGVuUGF1c2VkXCI6WzQsXCJoaWRlLXdoZW4tcGF1c2VkXCJdLFwiaGlkZU9uTW91c2VMZWF2ZVwiOls0LFwiaGlkZS1vbi1tb3VzZS1sZWF2ZVwiXSxcImlzQXVkaW9WaWV3XCI6WzQsXCJpcy1hdWRpby12aWV3XCJdLFwiaXNTZXR0aW5nc0FjdGl2ZVwiOls0LFwiaXMtc2V0dGluZ3MtYWN0aXZlXCJdLFwicGxheWJhY2tSZWFkeVwiOls0LFwicGxheWJhY2stcmVhZHlcIl0sXCJpc0NvbnRyb2xzQWN0aXZlXCI6WzQsXCJpcy1jb250cm9scy1hY3RpdmVcIl0sXCJwYXVzZWRcIjpbNF0sXCJwbGF5YmFja1N0YXJ0ZWRcIjpbNCxcInBsYXliYWNrLXN0YXJ0ZWRcIl0sXCJpc0ludGVyYWN0aW5nXCI6WzMyXX1dKTtcbmNvbnN0IFZtQ3VycmVudFRpbWUgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KEN1cnJlbnRUaW1lLCBbMSxcInZtLWN1cnJlbnQtdGltZVwiLHtcImN1cnJlbnRUaW1lXCI6WzIsXCJjdXJyZW50LXRpbWVcIl0sXCJpMThuXCI6WzE2XSxcImFsd2F5c1Nob3dIb3Vyc1wiOls0LFwiYWx3YXlzLXNob3ctaG91cnNcIl19XSk7XG5jb25zdCBWbURhaWx5bW90aW9uID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChEYWlseW1vdGlvbiwgWzEsXCJ2bS1kYWlseW1vdGlvblwiLHtcInZpZGVvSWRcIjpbMSxcInZpZGVvLWlkXCJdLFwic2hvdWxkQXV0b3BsYXlRdWV1ZVwiOls0LFwic2hvdWxkLWF1dG9wbGF5LXF1ZXVlXCJdLFwic2hvd1VwTmV4dFF1ZXVlXCI6WzQsXCJzaG93LXVwLW5leHQtcXVldWVcIl0sXCJzaG93U2hhcmVCdXR0b25zXCI6WzQsXCJzaG93LXNoYXJlLWJ1dHRvbnNcIl0sXCJjb2xvclwiOlsxXSxcInN5bmRpY2F0aW9uXCI6WzFdLFwic2hvd0RhaWx5bW90aW9uTG9nb1wiOls0LFwic2hvdy1kYWlseW1vdGlvbi1sb2dvXCJdLFwic2hvd1ZpZGVvSW5mb1wiOls0LFwic2hvdy12aWRlby1pbmZvXCJdLFwibGFuZ3VhZ2VcIjpbMV0sXCJhdXRvcGxheVwiOls0XSxcImNvbnRyb2xzXCI6WzRdLFwicG9zdGVyXCI6WzFdLFwibG9nZ2VyXCI6WzE2XSxcImxvb3BcIjpbNF0sXCJtdXRlZFwiOls0XSxcInBsYXlzaW5saW5lXCI6WzRdLFwiZW1iZWRTcmNcIjpbMzJdLFwibWVkaWFUaXRsZVwiOlszMl19XSk7XG5jb25zdCBWbURhc2ggPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KERhc2gsIFsxLFwidm0tZGFzaFwiLHtcInNyY1wiOlsxXSxcInZlcnNpb25cIjpbMV0sXCJsaWJTcmNcIjpbMSxcImxpYi1zcmNcIl0sXCJjb25maWdcIjpbMTZdLFwiYXV0b3BsYXlcIjpbNF0sXCJjcm9zc09yaWdpblwiOlsxLFwiY3Jvc3Mtb3JpZ2luXCJdLFwicHJlbG9hZFwiOlsxXSxcInBvc3RlclwiOlsxXSxcImNvbnRyb2xzTGlzdFwiOlsxLFwiY29udHJvbHMtbGlzdFwiXSxcImF1dG9QaVBcIjpbNCxcImF1dG8tcGlwXCJdLFwiZGlzYWJsZVBpUFwiOls0LFwiZGlzYWJsZS1waXBcIl0sXCJkaXNhYmxlUmVtb3RlUGxheWJhY2tcIjpbNCxcImRpc2FibGUtcmVtb3RlLXBsYXliYWNrXCJdLFwibWVkaWFUaXRsZVwiOlsxLFwibWVkaWEtdGl0bGVcIl0sXCJlbmFibGVUZXh0VHJhY2tzQnlEZWZhdWx0XCI6WzQsXCJlbmFibGUtdGV4dC10cmFja3MtYnktZGVmYXVsdFwiXSxcInNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3NcIjpbNCxcInNob3VsZC1yZW5kZXItbmF0aXZlLXRleHQtdHJhY2tzXCJdLFwiaXNUZXh0VHJhY2tWaXNpYmxlXCI6WzQsXCJpcy10ZXh0LXRyYWNrLXZpc2libGVcIl0sXCJjdXJyZW50VGV4dFRyYWNrXCI6WzIsXCJjdXJyZW50LXRleHQtdHJhY2tcIl0sXCJoYXNBdHRhY2hlZFwiOlszMl19LFtbMCxcInZtTWVkaWFFbENoYW5nZVwiLFwib25NZWRpYUVsQ2hhbmdlXCJdXV0pO1xuY29uc3QgVm1EYmxDbGlja0Z1bGxzY3JlZW4gPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KERibENsaWNrRnVsbHNjcmVlbiwgWzEsXCJ2bS1kYmwtY2xpY2stZnVsbHNjcmVlblwiLHtcInVzZU9uTW9iaWxlXCI6WzQsXCJ1c2Utb24tbW9iaWxlXCJdLFwiaXNGdWxsc2NyZWVuQWN0aXZlXCI6WzQsXCJpcy1mdWxsc2NyZWVuLWFjdGl2ZVwiXSxcImlzVmlkZW9WaWV3XCI6WzQsXCJpcy12aWRlby12aWV3XCJdLFwicGxheWJhY2tSZWFkeVwiOls0LFwicGxheWJhY2stcmVhZHlcIl0sXCJpc01vYmlsZVwiOls0LFwiaXMtbW9iaWxlXCJdLFwiY2FuU2V0RnVsbHNjcmVlblwiOlszMl19XSk7XG5jb25zdCBWbURlZmF1bHRDb250cm9scyA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoRGVmYXVsdENvbnRyb2xzLCBbMSxcInZtLWRlZmF1bHQtY29udHJvbHNcIix7XCJhY3RpdmVEdXJhdGlvblwiOlsyLFwiYWN0aXZlLWR1cmF0aW9uXCJdLFwid2FpdEZvclBsYXliYWNrU3RhcnRcIjpbNCxcIndhaXQtZm9yLXBsYXliYWNrLXN0YXJ0XCJdLFwiaGlkZVdoZW5QYXVzZWRcIjpbNCxcImhpZGUtd2hlbi1wYXVzZWRcIl0sXCJoaWRlT25Nb3VzZUxlYXZlXCI6WzQsXCJoaWRlLW9uLW1vdXNlLWxlYXZlXCJdLFwidGhlbWVcIjpbMV0sXCJpc01vYmlsZVwiOls0LFwiaXMtbW9iaWxlXCJdLFwiaXNMaXZlXCI6WzQsXCJpcy1saXZlXCJdLFwiaXNBdWRpb1ZpZXdcIjpbNCxcImlzLWF1ZGlvLXZpZXdcIl0sXCJpc1ZpZGVvVmlld1wiOls0LFwiaXMtdmlkZW8tdmlld1wiXX1dKTtcbmNvbnN0IFZtRGVmYXVsdFNldHRpbmdzID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChEZWZhdWx0U2V0dGluZ3MsIFsxLFwidm0tZGVmYXVsdC1zZXR0aW5nc1wiLHtcInBpblwiOls1MTNdLFwiaTE4blwiOlsxNl0sXCJwbGF5YmFja1JlYWR5XCI6WzQsXCJwbGF5YmFjay1yZWFkeVwiXSxcInBsYXliYWNrUmF0ZVwiOlsyLFwicGxheWJhY2stcmF0ZVwiXSxcInBsYXliYWNrUmF0ZXNcIjpbMTZdLFwiaXNWaWRlb1ZpZXdcIjpbNCxcImlzLXZpZGVvLXZpZXdcIl0sXCJwbGF5YmFja1F1YWxpdHlcIjpbMSxcInBsYXliYWNrLXF1YWxpdHlcIl0sXCJwbGF5YmFja1F1YWxpdGllc1wiOlsxNl0sXCJ0ZXh0VHJhY2tzXCI6WzE2XSxcImN1cnJlbnRUZXh0VHJhY2tcIjpbMixcImN1cnJlbnQtdGV4dC10cmFja1wiXSxcImF1ZGlvVHJhY2tzXCI6WzE2XSxcImN1cnJlbnRBdWRpb1RyYWNrXCI6WzIsXCJjdXJyZW50LWF1ZGlvLXRyYWNrXCJdLFwiaXNUZXh0VHJhY2tWaXNpYmxlXCI6WzQsXCJpcy10ZXh0LXRyYWNrLXZpc2libGVcIl0sXCJjYW5TZXRQbGF5YmFja1JhdGVcIjpbMzJdLFwiY2FuU2V0UGxheWJhY2tRdWFsaXR5XCI6WzMyXSxcImNhblNldFRleHRUcmFja1wiOlszMl0sXCJjYW5TZXRBdWRpb1RyYWNrXCI6WzMyXX1dKTtcbmNvbnN0IFZtRGVmYXVsdFVpID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChEZWZhdWx0VUksIFsxLFwidm0tZGVmYXVsdC11aVwiLHtcIm5vQ2xpY2tUb1BsYXlcIjpbNCxcIm5vLWNsaWNrLXRvLXBsYXlcIl0sXCJub0RibENsaWNrRnVsbHNjcmVlblwiOls0LFwibm8tZGJsLWNsaWNrLWZ1bGxzY3JlZW5cIl0sXCJub0NhcHRpb25zXCI6WzQsXCJuby1jYXB0aW9uc1wiXSxcIm5vUG9zdGVyXCI6WzQsXCJuby1wb3N0ZXJcIl0sXCJub1NwaW5uZXJcIjpbNCxcIm5vLXNwaW5uZXJcIl0sXCJub0NvbnRyb2xzXCI6WzQsXCJuby1jb250cm9sc1wiXSxcIm5vU2V0dGluZ3NcIjpbNCxcIm5vLXNldHRpbmdzXCJdLFwibm9Mb2FkaW5nU2NyZWVuXCI6WzQsXCJuby1sb2FkaW5nLXNjcmVlblwiXX1dKTtcbmNvbnN0IFZtRW1iZWQgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KEVtYmVkLCBbMSxcInZtLWVtYmVkXCIse1wiZW1iZWRTcmNcIjpbMSxcImVtYmVkLXNyY1wiXSxcIm1lZGlhVGl0bGVcIjpbMSxcIm1lZGlhLXRpdGxlXCJdLFwicGFyYW1zXCI6WzFdLFwib3JpZ2luXCI6WzFdLFwicHJlY29ubmVjdGlvbnNcIjpbMTZdLFwiZGVjb2RlclwiOlsxNl0sXCJzcmNXaXRoUGFyYW1zXCI6WzMyXSxcImhhc0VudGVyZWRWaWV3cG9ydFwiOlszMl19LFtbOCxcIm1lc3NhZ2VcIixcIm9uV2luZG93TWVzc2FnZVwiXV1dKTtcbmNvbnN0IFZtRW5kVGltZSA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoRW5kVGltZSwgWzEsXCJ2bS1lbmQtdGltZVwiLHtcImR1cmF0aW9uXCI6WzJdLFwiaTE4blwiOlsxNl0sXCJhbHdheXNTaG93SG91cnNcIjpbNCxcImFsd2F5cy1zaG93LWhvdXJzXCJdfV0pO1xuY29uc3QgVm1GaWxlID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChGaWxlLCBbNixcInZtLWZpbGVcIix7XCJ3aWxsQXR0YWNoXCI6WzQsXCJ3aWxsLWF0dGFjaFwiXSxcImNyb3NzT3JpZ2luXCI6WzEsXCJjcm9zcy1vcmlnaW5cIl0sXCJwcmVsb2FkXCI6WzFdLFwicG9zdGVyXCI6WzFdLFwibWVkaWFUaXRsZVwiOlsxLFwibWVkaWEtdGl0bGVcIl0sXCJjb250cm9sc0xpc3RcIjpbMSxcImNvbnRyb2xzLWxpc3RcIl0sXCJhdXRvUGlQXCI6WzQsXCJhdXRvLXBpcFwiXSxcImRpc2FibGVQaVBcIjpbNCxcImRpc2FibGUtcGlwXCJdLFwiZGlzYWJsZVJlbW90ZVBsYXliYWNrXCI6WzQsXCJkaXNhYmxlLXJlbW90ZS1wbGF5YmFja1wiXSxcInZpZXdUeXBlXCI6WzEsXCJ2aWV3LXR5cGVcIl0sXCJwbGF5YmFja1JhdGVzXCI6WzE2XSxcImxhbmd1YWdlXCI6WzFdLFwiYXV0b3BsYXlcIjpbNF0sXCJjb250cm9sc1wiOls0XSxcImxvZ2dlclwiOlsxNl0sXCJsb29wXCI6WzRdLFwibXV0ZWRcIjpbNF0sXCJwbGF5c2lubGluZVwiOls0XSxcIm5vQ29ubmVjdFwiOls0LFwibm8tY29ubmVjdFwiXSxcInBhdXNlZFwiOls0XSxcImN1cnJlbnRUaW1lXCI6WzIsXCJjdXJyZW50LXRpbWVcIl0sXCJ2b2x1bWVcIjpbMl0sXCJwbGF5YmFja1JlYWR5XCI6WzQsXCJwbGF5YmFjay1yZWFkeVwiXSxcInBsYXliYWNrU3RhcnRlZFwiOls0LFwicGxheWJhY2stc3RhcnRlZFwiXSxcImN1cnJlbnRUZXh0VHJhY2tcIjpbMixcImN1cnJlbnQtdGV4dC10cmFja1wiXSxcImhhc0N1c3RvbVRleHRNYW5hZ2VyXCI6WzQsXCJoYXMtY3VzdG9tLXRleHQtbWFuYWdlclwiXSxcImlzVGV4dFRyYWNrVmlzaWJsZVwiOls0LFwiaXMtdGV4dC10cmFjay12aXNpYmxlXCJdLFwic2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrc1wiOls0LFwic2hvdWxkLXJlbmRlci1uYXRpdmUtdGV4dC10cmFja3NcIl0sXCJ2bVBvc3RlclwiOlszMl19LFtbMCxcInZtTWVkaWFQcm92aWRlckNvbm5lY3RcIixcIm9uUHJvdmlkZXJDb25uZWN0XCJdLFswLFwidm1NZWRpYVByb3ZpZGVyRGlzY29ubmVjdFwiLFwib25Qcm92aWRlckRpc2Nvbm5lY3RcIl1dXSk7XG5jb25zdCBWbUZ1bGxzY3JlZW5Db250cm9sID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChGdWxsc2NyZWVuQ29udHJvbCwgWzEsXCJ2bS1mdWxsc2NyZWVuLWNvbnRyb2xcIix7XCJlbnRlckljb25cIjpbMSxcImVudGVyLWljb25cIl0sXCJleGl0SWNvblwiOlsxLFwiZXhpdC1pY29uXCJdLFwiaWNvbnNcIjpbMV0sXCJ0b29sdGlwUG9zaXRpb25cIjpbMSxcInRvb2x0aXAtcG9zaXRpb25cIl0sXCJ0b29sdGlwRGlyZWN0aW9uXCI6WzEsXCJ0b29sdGlwLWRpcmVjdGlvblwiXSxcImhpZGVUb29sdGlwXCI6WzQsXCJoaWRlLXRvb2x0aXBcIl0sXCJrZXlzXCI6WzFdLFwiaXNGdWxsc2NyZWVuQWN0aXZlXCI6WzQsXCJpcy1mdWxsc2NyZWVuLWFjdGl2ZVwiXSxcImkxOG5cIjpbMTZdLFwicGxheWJhY2tSZWFkeVwiOls0LFwicGxheWJhY2stcmVhZHlcIl0sXCJjYW5TZXRGdWxsc2NyZWVuXCI6WzMyXX1dKTtcbmNvbnN0IFZtSGxzID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChITFMsIFs0LFwidm0taGxzXCIse1widmVyc2lvblwiOlsxXSxcImxpYlNyY1wiOlsxLFwibGliLXNyY1wiXSxcImNvbmZpZ1wiOls4XSxcImNyb3NzT3JpZ2luXCI6WzEsXCJjcm9zcy1vcmlnaW5cIl0sXCJwcmVsb2FkXCI6WzFdLFwicG9zdGVyXCI6WzFdLFwiY29udHJvbHNMaXN0XCI6WzEsXCJjb250cm9scy1saXN0XCJdLFwiYXV0b1BpUFwiOls0LFwiYXV0by1waXBcIl0sXCJkaXNhYmxlUGlQXCI6WzQsXCJkaXNhYmxlLXBpcFwiXSxcImRpc2FibGVSZW1vdGVQbGF5YmFja1wiOls0LFwiZGlzYWJsZS1yZW1vdGUtcGxheWJhY2tcIl0sXCJwbGF5YmFja1JlYWR5XCI6WzQsXCJwbGF5YmFjay1yZWFkeVwiXSxcIm1lZGlhVGl0bGVcIjpbMSxcIm1lZGlhLXRpdGxlXCJdLFwiaGFzQXR0YWNoZWRcIjpbMzJdfSxbWzAsXCJ2bU1lZGlhRWxDaGFuZ2VcIixcIm9uTWVkaWFFbENoYW5nZVwiXSxbMCxcInZtU3JjU2V0Q2hhbmdlXCIsXCJvblNyY0NoYW5nZVwiXV1dKTtcbmNvbnN0IFZtSWNvbiA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoSWNvbiwgWzEsXCJ2bS1pY29uXCIse1wibmFtZVwiOlsxXSxcInNyY1wiOlsxXSxcImxhYmVsXCI6WzFdLFwibGlicmFyeVwiOlsxXSxcImljb25zXCI6WzFdLFwic3ZnXCI6WzMyXX1dKTtcbmNvbnN0IFZtSWNvbkxpYnJhcnkgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KEljb25MaWJyYXJ5LCBbMSxcInZtLWljb24tbGlicmFyeVwiLHtcIm5hbWVcIjpbMV0sXCJyZXNvbHZlclwiOlsxNl0sXCJpY29uc1wiOlsxXX1dKTtcbmNvbnN0IFZtTGl2ZUluZGljYXRvciA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoTGl2ZUluZGljYXRvciwgWzEsXCJ2bS1saXZlLWluZGljYXRvclwiLHtcImlzTGl2ZVwiOls0LFwiaXMtbGl2ZVwiXSxcImkxOG5cIjpbMTZdfV0pO1xuY29uc3QgVm1Mb2FkaW5nU2NyZWVuID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChMb2FkaW5nU2NyZWVuLCBbMSxcInZtLWxvYWRpbmctc2NyZWVuXCIse1wicGxheWJhY2tSZWFkeVwiOls0LFwicGxheWJhY2stcmVhZHlcIl0sXCJoaWRlRG90c1wiOls0LFwiaGlkZS1kb3RzXCJdfV0pO1xuY29uc3QgVm1NZW51ID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChNZW51LCBbMSxcInZtLW1lbnVcIix7XCJhY3RpdmVcIjpbMTU0MF0sXCJpZGVudGlmaWVyXCI6WzFdLFwiY29udHJvbGxlclwiOlsxNl0sXCJzbGlkZUluRGlyZWN0aW9uXCI6WzEsXCJzbGlkZS1pbi1kaXJlY3Rpb25cIl0sXCJhY3RpdmVNZW51SXRlbVwiOlszMl0sXCJhY3RpdmVTdWJtZW51XCI6WzMyXX0sW1swLFwidm1PcGVuU3VibWVudVwiLFwib25PcGVuU3VibWVudVwiXSxbMCxcInZtQ2xvc2VTdWJtZW51XCIsXCJvbkNsb3NlU3VibWVudVwiXSxbOCxcImNsaWNrXCIsXCJvbldpbmRvd0NsaWNrXCJdLFs4LFwia2V5ZG93blwiLFwib25XaW5kb3dLZXlEb3duXCJdXV0pO1xuY29uc3QgVm1NZW51SXRlbSA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoTWVudUl0ZW0sIFsxLFwidm0tbWVudS1pdGVtXCIse1wiaWRlbnRpZmllclwiOlsxXSxcImhpZGRlblwiOls0XSxcImxhYmVsXCI6WzFdLFwibWVudVwiOlsxNl0sXCJleHBhbmRlZFwiOls0XSxcImNoZWNrZWRcIjpbNF0sXCJoaW50XCI6WzFdLFwiYmFkZ2VcIjpbMV0sXCJjaGVja0ljb25cIjpbMSxcImNoZWNrLWljb25cIl0sXCJpY29uc1wiOlsxXSxcImlzVG91Y2hcIjpbNCxcImlzLXRvdWNoXCJdLFwic2hvd1RhcEhpZ2hsaWdodFwiOlszMl19XSk7XG5jb25zdCBWbU1lbnVSYWRpbyA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoTWVudVJhZGlvLCBbMSxcInZtLW1lbnUtcmFkaW9cIix7XCJsYWJlbFwiOlsxXSxcInZhbHVlXCI6WzFdLFwiY2hlY2tlZFwiOlsxMDI4XSxcImJhZGdlXCI6WzFdLFwiY2hlY2tJY29uXCI6WzEsXCJjaGVjay1pY29uXCJdLFwiaWNvbnNcIjpbMV19XSk7XG5jb25zdCBWbU1lbnVSYWRpb0dyb3VwID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChNZW51UmFkaW9Hcm91cCwgWzEsXCJ2bS1tZW51LXJhZGlvLWdyb3VwXCIse1widmFsdWVcIjpbMTAyNV19LFtbMCxcInZtQ2hlY2tcIixcIm9uU2VsZWN0aW9uQ2hhbmdlXCJdXV0pO1xuY29uc3QgVm1NdXRlQ29udHJvbCA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoTXV0ZUNvbnRyb2wsIFsxLFwidm0tbXV0ZS1jb250cm9sXCIse1wibG93Vm9sdW1lSWNvblwiOlsxLFwibG93LXZvbHVtZS1pY29uXCJdLFwiaGlnaFZvbHVtZUljb25cIjpbMSxcImhpZ2gtdm9sdW1lLWljb25cIl0sXCJtdXRlZEljb25cIjpbMSxcIm11dGVkLWljb25cIl0sXCJpY29uc1wiOlsxXSxcInRvb2x0aXBQb3NpdGlvblwiOlsxLFwidG9vbHRpcC1wb3NpdGlvblwiXSxcInRvb2x0aXBEaXJlY3Rpb25cIjpbMSxcInRvb2x0aXAtZGlyZWN0aW9uXCJdLFwiaGlkZVRvb2x0aXBcIjpbNCxcImhpZGUtdG9vbHRpcFwiXSxcImtleXNcIjpbMV0sXCJ2b2x1bWVcIjpbMl0sXCJtdXRlZFwiOls0XSxcImkxOG5cIjpbMTZdfV0pO1xuY29uc3QgVm1QaXBDb250cm9sID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChQaVBDb250cm9sLCBbMSxcInZtLXBpcC1jb250cm9sXCIse1wiZW50ZXJJY29uXCI6WzEsXCJlbnRlci1pY29uXCJdLFwiZXhpdEljb25cIjpbMSxcImV4aXQtaWNvblwiXSxcImljb25zXCI6WzFdLFwidG9vbHRpcFBvc2l0aW9uXCI6WzEsXCJ0b29sdGlwLXBvc2l0aW9uXCJdLFwidG9vbHRpcERpcmVjdGlvblwiOlsxLFwidG9vbHRpcC1kaXJlY3Rpb25cIl0sXCJoaWRlVG9vbHRpcFwiOls0LFwiaGlkZS10b29sdGlwXCJdLFwia2V5c1wiOlsxXSxcImlzUGlQQWN0aXZlXCI6WzQsXCJpcy1waS1wLWFjdGl2ZVwiXSxcImkxOG5cIjpbMTZdLFwicGxheWJhY2tSZWFkeVwiOls0LFwicGxheWJhY2stcmVhZHlcIl0sXCJjYW5TZXRQaVBcIjpbMzJdfV0pO1xuY29uc3QgVm1QbGF5YmFja0NvbnRyb2wgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KFBsYXliYWNrQ29udHJvbCwgWzEsXCJ2bS1wbGF5YmFjay1jb250cm9sXCIse1wicGxheUljb25cIjpbMSxcInBsYXktaWNvblwiXSxcInBhdXNlSWNvblwiOlsxLFwicGF1c2UtaWNvblwiXSxcImljb25zXCI6WzFdLFwidG9vbHRpcFBvc2l0aW9uXCI6WzEsXCJ0b29sdGlwLXBvc2l0aW9uXCJdLFwidG9vbHRpcERpcmVjdGlvblwiOlsxLFwidG9vbHRpcC1kaXJlY3Rpb25cIl0sXCJoaWRlVG9vbHRpcFwiOls0LFwiaGlkZS10b29sdGlwXCJdLFwia2V5c1wiOlsxXSxcInBhdXNlZFwiOls0XSxcImkxOG5cIjpbMTZdfV0pO1xuY29uc3QgVm1QbGF5ZXIgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KFBsYXllciwgWzEsXCJ2bS1wbGF5ZXJcIix7XCJsb2dnZXJcIjpbMTZdLFwidGhlbWVcIjpbNTEzXSxcImljb25zXCI6WzUxM10sXCJwYXVzZWRcIjpbMTAyOF0sXCJwbGF5aW5nXCI6WzEwMjhdLFwiZHVyYXRpb25cIjpbMTAyNl0sXCJtZWRpYVRpdGxlXCI6WzEwMjUsXCJtZWRpYS10aXRsZVwiXSxcImN1cnJlbnRQcm92aWRlclwiOlsxMDI1LFwiY3VycmVudC1wcm92aWRlclwiXSxcImN1cnJlbnRTcmNcIjpbMTAyNSxcImN1cnJlbnQtc3JjXCJdLFwiY3VycmVudFBvc3RlclwiOlsxMDI1LFwiY3VycmVudC1wb3N0ZXJcIl0sXCJjdXJyZW50VGltZVwiOlsxMDI2LFwiY3VycmVudC10aW1lXCJdLFwiYXV0b3BsYXlcIjpbNF0sXCJyZWFkeVwiOlsxNTQwXSxcInBsYXliYWNrUmVhZHlcIjpbMTAyOCxcInBsYXliYWNrLXJlYWR5XCJdLFwibG9vcFwiOls0XSxcIm11dGVkXCI6WzEwMjhdLFwiYnVmZmVyZWRcIjpbMTAyNl0sXCJwbGF5YmFja1JhdGVcIjpbMTAyNixcInBsYXliYWNrLXJhdGVcIl0sXCJwbGF5YmFja1JhdGVzXCI6WzEwNDBdLFwicGxheWJhY2tRdWFsaXR5XCI6WzEwMjUsXCJwbGF5YmFjay1xdWFsaXR5XCJdLFwicGxheWJhY2tRdWFsaXRpZXNcIjpbMTA0MF0sXCJzZWVraW5nXCI6WzEwMjhdLFwiZGVidWdcIjpbNF0sXCJwbGF5YmFja1N0YXJ0ZWRcIjpbMTAyOCxcInBsYXliYWNrLXN0YXJ0ZWRcIl0sXCJwbGF5YmFja0VuZGVkXCI6WzEwMjgsXCJwbGF5YmFjay1lbmRlZFwiXSxcImJ1ZmZlcmluZ1wiOlsxMDI4XSxcImNvbnRyb2xzXCI6WzRdLFwiaXNDb250cm9sc0FjdGl2ZVwiOls0LFwiaXMtY29udHJvbHMtYWN0aXZlXCJdLFwiaXNTZXR0aW5nc0FjdGl2ZVwiOlsxMDI4LFwiaXMtc2V0dGluZ3MtYWN0aXZlXCJdLFwidm9sdW1lXCI6WzEwMjZdLFwiaXNGdWxsc2NyZWVuQWN0aXZlXCI6WzEwMjgsXCJpcy1mdWxsc2NyZWVuLWFjdGl2ZVwiXSxcImFzcGVjdFJhdGlvXCI6WzEwMjUsXCJhc3BlY3QtcmF0aW9cIl0sXCJ2aWV3VHlwZVwiOlsxMDI1LFwidmlldy10eXBlXCJdLFwiaXNBdWRpb1ZpZXdcIjpbMTAyOCxcImlzLWF1ZGlvLXZpZXdcIl0sXCJpc1ZpZGVvVmlld1wiOlsxMDI4LFwiaXMtdmlkZW8tdmlld1wiXSxcIm1lZGlhVHlwZVwiOlsxMDI1LFwibWVkaWEtdHlwZVwiXSxcImlzQXVkaW9cIjpbMTAyOCxcImlzLWF1ZGlvXCJdLFwiaXNWaWRlb1wiOlsxMDI4LFwiaXMtdmlkZW9cIl0sXCJpc0xpdmVcIjpbMTAyOCxcImlzLWxpdmVcIl0sXCJpc01vYmlsZVwiOlsxMDI4LFwiaXMtbW9iaWxlXCJdLFwiaXNUb3VjaFwiOlsxMDI4LFwiaXMtdG91Y2hcIl0sXCJpc1BpUEFjdGl2ZVwiOlsxMDI4LFwiaXMtcGktcC1hY3RpdmVcIl0sXCJ0ZXh0VHJhY2tzXCI6WzE2XSxcImN1cnJlbnRUZXh0VHJhY2tcIjpbMixcImN1cnJlbnQtdGV4dC10cmFja1wiXSxcImlzVGV4dFRyYWNrVmlzaWJsZVwiOls0LFwiaXMtdGV4dC10cmFjay12aXNpYmxlXCJdLFwic2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrc1wiOls0LFwic2hvdWxkLXJlbmRlci1uYXRpdmUtdGV4dC10cmFja3NcIl0sXCJhdWRpb1RyYWNrc1wiOlsxNl0sXCJjdXJyZW50QXVkaW9UcmFja1wiOlsyLFwiY3VycmVudC1hdWRpby10cmFja1wiXSxcImF1dG9wYXVzZVwiOls0XSxcInBsYXlzaW5saW5lXCI6WzRdLFwibGFuZ3VhZ2VcIjpbMTAyNV0sXCJ0cmFuc2xhdGlvbnNcIjpbMTA0MF0sXCJsYW5ndWFnZXNcIjpbMTA0MF0sXCJpMThuXCI6WzEwNDBdLFwiY29udGFpbmVyXCI6WzMyXX0sW1swLFwidm1FcnJvclwiLFwib25FcnJvclwiXV1dKTtcbmNvbnN0IFZtUG9zdGVyID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChQb3N0ZXIsIFsxLFwidm0tcG9zdGVyXCIse1wiZml0XCI6WzFdLFwiaXNWaWRlb1ZpZXdcIjpbNCxcImlzLXZpZGVvLXZpZXdcIl0sXCJjdXJyZW50UG9zdGVyXCI6WzEsXCJjdXJyZW50LXBvc3RlclwiXSxcIm1lZGlhVGl0bGVcIjpbMSxcIm1lZGlhLXRpdGxlXCJdLFwicGxheWJhY2tTdGFydGVkXCI6WzQsXCJwbGF5YmFjay1zdGFydGVkXCJdLFwiY3VycmVudFRpbWVcIjpbMixcImN1cnJlbnQtdGltZVwiXSxcImlzSGlkZGVuXCI6WzMyXSxcImlzQWN0aXZlXCI6WzMyXSxcImhhc0xvYWRlZFwiOlszMl19XSk7XG5jb25zdCBWbVNjcmltID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChTY3JpbSwgWzEsXCJ2bS1zY3JpbVwiLHtcImdyYWRpZW50XCI6WzFdLFwiaXNWaWRlb1ZpZXdcIjpbNCxcImlzLXZpZGVvLXZpZXdcIl0sXCJpc0NvbnRyb2xzQWN0aXZlXCI6WzQsXCJpcy1jb250cm9scy1hY3RpdmVcIl19XSk7XG5jb25zdCBWbVNjcnViYmVyQ29udHJvbCA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoU2NydWJiZXJDb250cm9sLCBbMSxcInZtLXNjcnViYmVyLWNvbnRyb2xcIix7XCJhbHdheXNTaG93SG91cnNcIjpbNCxcImFsd2F5cy1zaG93LWhvdXJzXCJdLFwiaGlkZVRvb2x0aXBcIjpbNCxcImhpZGUtdG9vbHRpcFwiXSxcImN1cnJlbnRUaW1lXCI6WzIsXCJjdXJyZW50LXRpbWVcIl0sXCJkdXJhdGlvblwiOlsyXSxcIm5vS2V5Ym9hcmRcIjpbNCxcIm5vLWtleWJvYXJkXCJdLFwiYnVmZmVyaW5nXCI6WzRdLFwiYnVmZmVyZWRcIjpbMl0sXCJpMThuXCI6WzE2XSxcInRpbWVzdGFtcFwiOlszMl0sXCJlbmRUaW1lXCI6WzMyXX1dKTtcbmNvbnN0IFZtU2V0dGluZ3MgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KFNldHRpbmdzLCBbMSxcInZtLXNldHRpbmdzXCIse1wicGluXCI6WzUxM10sXCJhY3RpdmVcIjpbMTU0MF0sXCJpc01vYmlsZVwiOls0LFwiaXMtbW9iaWxlXCJdLFwiaXNBdWRpb1ZpZXdcIjpbNCxcImlzLWF1ZGlvLXZpZXdcIl0sXCJtZW51SGVpZ2h0XCI6WzMyXX1dKTtcbmNvbnN0IFZtU2V0dGluZ3NDb250cm9sID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChTZXR0aW5nc0NvbnRyb2wsIFsxLFwidm0tc2V0dGluZ3MtY29udHJvbFwiLHtcImljb25cIjpbMV0sXCJpY29uc1wiOlsxXSxcInRvb2x0aXBQb3NpdGlvblwiOlsxLFwidG9vbHRpcC1wb3NpdGlvblwiXSxcInRvb2x0aXBEaXJlY3Rpb25cIjpbMSxcInRvb2x0aXAtZGlyZWN0aW9uXCJdLFwibWVudVwiOlsxXSxcImV4cGFuZGVkXCI6WzRdLFwiaTE4blwiOlsxNl0sXCJoaWRlVG9vbHRpcFwiOls0LFwiaGlkZS10b29sdGlwXCJdLFwidm1TZXR0aW5nc1wiOlszMl19XSk7XG5jb25zdCBWbVNrZWxldG9uID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChTa2VsZXRvbiwgWzEsXCJ2bS1za2VsZXRvblwiLHtcImVmZmVjdFwiOlsxXSxcInJlYWR5XCI6WzRdLFwiaGlkZGVuXCI6WzMyXX1dKTtcbmNvbnN0IFZtU2xpZGVyID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChTbGlkZXIsIFsxLFwidm0tc2xpZGVyXCIse1wic3RlcFwiOlsyXSxcIm1pblwiOlsyXSxcIm1heFwiOlsyXSxcInZhbHVlXCI6WzJdLFwidmFsdWVUZXh0XCI6WzEsXCJ2YWx1ZS10ZXh0XCJdLFwibGFiZWxcIjpbMV19XSk7XG5jb25zdCBWbVNwaW5uZXIgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KFNwaW5uZXIsIFsxLFwidm0tc3Bpbm5lclwiLHtcImlzVmlkZW9WaWV3XCI6WzQsXCJpcy12aWRlby12aWV3XCJdLFwiY3VycmVudFByb3ZpZGVyXCI6WzEsXCJjdXJyZW50LXByb3ZpZGVyXCJdLFwic2hvd1doZW5NZWRpYUxvYWRpbmdcIjpbNCxcInNob3ctd2hlbi1tZWRpYS1sb2FkaW5nXCJdLFwicGxheWJhY2tSZWFkeVwiOls0LFwicGxheWJhY2stcmVhZHlcIl0sXCJidWZmZXJpbmdcIjpbNF0sXCJpc0hpZGRlblwiOlszMl0sXCJpc0FjdGl2ZVwiOlszMl19XSk7XG5jb25zdCBWbVN1Ym1lbnUgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KFN1Ym1lbnUsIFsxLFwidm0tc3VibWVudVwiLHtcImxhYmVsXCI6WzFdLFwiaGludFwiOlsxXSxcInNsaWRlSW5EaXJlY3Rpb25cIjpbMSxcInNsaWRlLWluLWRpcmVjdGlvblwiXSxcImFjdGl2ZVwiOlsxNTQwXSxcIm1lbnVcIjpbMzJdLFwiY29udHJvbGxlclwiOlszMl19XSk7XG5jb25zdCBWbVRpbWUgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KFRpbWUsIFsxLFwidm0tdGltZVwiLHtcImxhYmVsXCI6WzFdLFwic2Vjb25kc1wiOlsyXSxcImFsd2F5c1Nob3dIb3Vyc1wiOls0LFwiYWx3YXlzLXNob3ctaG91cnNcIl19XSk7XG5jb25zdCBWbVRpbWVQcm9ncmVzcyA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoVGltZVByb2dyZXNzLCBbMSxcInZtLXRpbWUtcHJvZ3Jlc3NcIix7XCJzZXBhcmF0b3JcIjpbMV0sXCJhbHdheXNTaG93SG91cnNcIjpbNCxcImFsd2F5cy1zaG93LWhvdXJzXCJdfV0pO1xuY29uc3QgVm1Ub29sdGlwID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChUb29sdGlwLCBbMSxcInZtLXRvb2x0aXBcIix7XCJoaWRkZW5cIjpbNF0sXCJhY3RpdmVcIjpbNF0sXCJwb3NpdGlvblwiOlsxXSxcImRpcmVjdGlvblwiOlsxXSxcImlzVG91Y2hcIjpbNCxcImlzLXRvdWNoXCJdLFwiaXNNb2JpbGVcIjpbNCxcImlzLW1vYmlsZVwiXX1dKTtcbmNvbnN0IFZtVWkgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KFVJLCBbMSxcInZtLXVpXCIse1wiaXNWaWRlb1ZpZXdcIjpbNCxcImlzLXZpZGVvLXZpZXdcIl0sXCJwbGF5c2lubGluZVwiOls0XSxcImlzRnVsbHNjcmVlbkFjdGl2ZVwiOls0LFwiaXMtZnVsbHNjcmVlbi1hY3RpdmVcIl19XSk7XG5jb25zdCBWbVZpZGVvID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChWaWRlbywgWzQsXCJ2bS12aWRlb1wiLHtcIndpbGxBdHRhY2hcIjpbNCxcIndpbGwtYXR0YWNoXCJdLFwiaGFzQ3VzdG9tVGV4dE1hbmFnZXJcIjpbNCxcImhhcy1jdXN0b20tdGV4dC1tYW5hZ2VyXCJdLFwiY3Jvc3NPcmlnaW5cIjpbMSxcImNyb3NzLW9yaWdpblwiXSxcInByZWxvYWRcIjpbMV0sXCJwb3N0ZXJcIjpbMV0sXCJjb250cm9sc0xpc3RcIjpbMSxcImNvbnRyb2xzLWxpc3RcIl0sXCJhdXRvUGlQXCI6WzQsXCJhdXRvLXBpcFwiXSxcImRpc2FibGVQaVBcIjpbNCxcImRpc2FibGUtcGlwXCJdLFwiZGlzYWJsZVJlbW90ZVBsYXliYWNrXCI6WzQsXCJkaXNhYmxlLXJlbW90ZS1wbGF5YmFja1wiXSxcIm1lZGlhVGl0bGVcIjpbMSxcIm1lZGlhLXRpdGxlXCJdfSxbWzAsXCJ2bU1lZGlhUHJvdmlkZXJDb25uZWN0XCIsXCJvblByb3ZpZGVyQ29ubmVjdFwiXSxbMCxcInZtTWVkaWFQcm92aWRlckRpc2Nvbm5lY3RcIixcIm9uUHJvdmlkZXJEaXNjb25uZWN0XCJdXV0pO1xuY29uc3QgVm1WaW1lbyA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoVmltZW8sIFsxLFwidm0tdmltZW9cIix7XCJ2aWRlb0lkXCI6WzEsXCJ2aWRlby1pZFwiXSxcImJ5bGluZVwiOls0XSxcImNvbG9yXCI6WzFdLFwicG9ydHJhaXRcIjpbNF0sXCJub0F1dG9Bc3BlY3RSYXRpb1wiOls0LFwibm8tYXV0by1hc3BlY3QtcmF0aW9cIl0sXCJwb3N0ZXJcIjpbMV0sXCJjb29raWVzXCI6WzRdLFwibGFuZ3VhZ2VcIjpbMV0sXCJhc3BlY3RSYXRpb1wiOlsxLFwiYXNwZWN0LXJhdGlvXCJdLFwiYXV0b3BsYXlcIjpbNF0sXCJjb250cm9sc1wiOls0XSxcImxvZ2dlclwiOlsxNl0sXCJsb29wXCI6WzRdLFwibXV0ZWRcIjpbNF0sXCJwbGF5c2lubGluZVwiOls0XSxcImVtYmVkU3JjXCI6WzMyXSxcIm1lZGlhVGl0bGVcIjpbMzJdfV0pO1xuY29uc3QgVm1Wb2x1bWVDb250cm9sID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChWb2x1bWVDb250cm9sLCBbMSxcInZtLXZvbHVtZS1jb250cm9sXCIse1wibG93Vm9sdW1lSWNvblwiOlsxLFwibG93LXZvbHVtZS1pY29uXCJdLFwiaGlnaFZvbHVtZUljb25cIjpbMSxcImhpZ2gtdm9sdW1lLWljb25cIl0sXCJtdXRlZEljb25cIjpbMSxcIm11dGVkLWljb25cIl0sXCJpY29uc1wiOlsxXSxcInRvb2x0aXBQb3NpdGlvblwiOlsxLFwidG9vbHRpcC1wb3NpdGlvblwiXSxcInRvb2x0aXBEaXJlY3Rpb25cIjpbMSxcInRvb2x0aXAtZGlyZWN0aW9uXCJdLFwiaGlkZVRvb2x0aXBcIjpbNCxcImhpZGUtdG9vbHRpcFwiXSxcIm11dGVLZXlzXCI6WzEsXCJtdXRlLWtleXNcIl0sXCJub0tleWJvYXJkXCI6WzQsXCJuby1rZXlib2FyZFwiXSxcIm11dGVkXCI6WzRdLFwidm9sdW1lXCI6WzJdLFwiaXNNb2JpbGVcIjpbNCxcImlzLW1vYmlsZVwiXSxcImkxOG5cIjpbMTZdLFwiY3VycmVudFZvbHVtZVwiOlszMl0sXCJpc1NsaWRlckFjdGl2ZVwiOlszMl19XSk7XG5jb25zdCBWbVlvdXR1YmUgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KFlvdVR1YmUsIFsxLFwidm0teW91dHViZVwiLHtcImNvb2tpZXNcIjpbNF0sXCJ2aWRlb0lkXCI6WzEsXCJ2aWRlby1pZFwiXSxcInNob3dGdWxsc2NyZWVuQ29udHJvbFwiOls0LFwic2hvdy1mdWxsc2NyZWVuLWNvbnRyb2xcIl0sXCJwb3N0ZXJcIjpbMV0sXCJsYW5ndWFnZVwiOlsxXSxcImF1dG9wbGF5XCI6WzRdLFwiY29udHJvbHNcIjpbNF0sXCJsb2dnZXJcIjpbMTZdLFwibG9vcFwiOls0XSxcIm11dGVkXCI6WzRdLFwicGxheXNpbmxpbmVcIjpbNF0sXCJlbWJlZFNyY1wiOlszMl0sXCJtZWRpYVRpdGxlXCI6WzMyXX1dKTtcbmNvbnN0IGRlZmluZUN1c3RvbUVsZW1lbnRzID0gKG9wdHMpID0+IHtcbiAgaWYgKHR5cGVvZiBjdXN0b21FbGVtZW50cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBbXG4gICAgICBWbUF1ZGlvLFxuICBWbUNhcHRpb25Db250cm9sLFxuICBWbUNhcHRpb25zLFxuICBWbUNsaWNrVG9QbGF5LFxuICBWbUNvbnRyb2wsXG4gIFZtQ29udHJvbEdyb3VwLFxuICBWbUNvbnRyb2xTcGFjZXIsXG4gIFZtQ29udHJvbHMsXG4gIFZtQ3VycmVudFRpbWUsXG4gIFZtRGFpbHltb3Rpb24sXG4gIFZtRGFzaCxcbiAgVm1EYmxDbGlja0Z1bGxzY3JlZW4sXG4gIFZtRGVmYXVsdENvbnRyb2xzLFxuICBWbURlZmF1bHRTZXR0aW5ncyxcbiAgVm1EZWZhdWx0VWksXG4gIFZtRW1iZWQsXG4gIFZtRW5kVGltZSxcbiAgVm1GaWxlLFxuICBWbUZ1bGxzY3JlZW5Db250cm9sLFxuICBWbUhscyxcbiAgVm1JY29uLFxuICBWbUljb25MaWJyYXJ5LFxuICBWbUxpdmVJbmRpY2F0b3IsXG4gIFZtTG9hZGluZ1NjcmVlbixcbiAgVm1NZW51LFxuICBWbU1lbnVJdGVtLFxuICBWbU1lbnVSYWRpbyxcbiAgVm1NZW51UmFkaW9Hcm91cCxcbiAgVm1NdXRlQ29udHJvbCxcbiAgVm1QaXBDb250cm9sLFxuICBWbVBsYXliYWNrQ29udHJvbCxcbiAgVm1QbGF5ZXIsXG4gIFZtUG9zdGVyLFxuICBWbVNjcmltLFxuICBWbVNjcnViYmVyQ29udHJvbCxcbiAgVm1TZXR0aW5ncyxcbiAgVm1TZXR0aW5nc0NvbnRyb2wsXG4gIFZtU2tlbGV0b24sXG4gIFZtU2xpZGVyLFxuICBWbVNwaW5uZXIsXG4gIFZtU3VibWVudSxcbiAgVm1UaW1lLFxuICBWbVRpbWVQcm9ncmVzcyxcbiAgVm1Ub29sdGlwLFxuICBWbVVpLFxuICBWbVZpZGVvLFxuICBWbVZpbWVvLFxuICBWbVZvbHVtZUNvbnRyb2wsXG4gIFZtWW91dHViZVxuICAgIF0uZm9yRWFjaChjbXAgPT4ge1xuICAgICAgaWYgKCFjdXN0b21FbGVtZW50cy5nZXQoY21wLmlzKSkge1xuICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUoY21wLmlzLCBjbXAsIG9wdHMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG5leHBvcnQgeyBDT01QT05FTlRfTkFNRV9LRVksIE1lZGlhVHlwZSwgUExBWUVSX0tFWSwgUHJvdmlkZXIsIFJFR0lTVFJBVElPTl9LRVksIFJFR0lTVFJZX0tFWSwgVmlld1R5cGUsIFZtQXVkaW8sIFZtQ2FwdGlvbkNvbnRyb2wsIFZtQ2FwdGlvbnMsIFZtQ2xpY2tUb1BsYXksIFZtQ29udHJvbCwgVm1Db250cm9sR3JvdXAsIFZtQ29udHJvbFNwYWNlciwgVm1Db250cm9scywgVm1DdXJyZW50VGltZSwgVm1EYWlseW1vdGlvbiwgVm1EYXNoLCBWbURibENsaWNrRnVsbHNjcmVlbiwgVm1EZWZhdWx0Q29udHJvbHMsIFZtRGVmYXVsdFNldHRpbmdzLCBWbURlZmF1bHRVaSwgVm1FbWJlZCwgVm1FbmRUaW1lLCBWbUZpbGUsIFZtRnVsbHNjcmVlbkNvbnRyb2wsIFZtSGxzLCBWbUljb24sIFZtSWNvbkxpYnJhcnksIFZtTGl2ZUluZGljYXRvciwgVm1Mb2FkaW5nU2NyZWVuLCBWbU1lbnUsIFZtTWVudUl0ZW0sIFZtTWVudVJhZGlvLCBWbU1lbnVSYWRpb0dyb3VwLCBWbU11dGVDb250cm9sLCBWbVBpcENvbnRyb2wsIFZtUGxheWJhY2tDb250cm9sLCBWbVBsYXllciwgVm1Qb3N0ZXIsIFZtU2NyaW0sIFZtU2NydWJiZXJDb250cm9sLCBWbVNldHRpbmdzLCBWbVNldHRpbmdzQ29udHJvbCwgVm1Ta2VsZXRvbiwgVm1TbGlkZXIsIFZtU3Bpbm5lciwgVm1TdWJtZW51LCBWbVRpbWUsIFZtVGltZVByb2dyZXNzLCBWbVRvb2x0aXAsIFZtVWksIFZtVmlkZW8sIFZtVmltZW8sIFZtVm9sdW1lQ29udHJvbCwgVm1Zb3V0dWJlLCBjcmVhdGVEaXNwYXRjaGVyLCBkZWZpbmVDdXN0b21FbGVtZW50cywgZmluZFBsYXllciwgZ2V0Q29tcG9uZW50RnJvbVJlZ2lzdHJ5LCBnZXRQbGF5ZXJGcm9tUmVnaXN0cnksIGluaXRpYWxTdGF0ZSwgaXNDb21wb25lbnRSZWdpc3RlcmVkLCBpc1dyaXRhYmxlUHJvcCwgdXNlUGxheWVyQ29udGV4dCwgd2F0Y2hDb21wb25lbnRSZWdpc3RyeSwgd2l0aENvbXBvbmVudFJlZ2lzdHJ5LCB3aXRoUGxheWVyQ29udGV4dCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Audio.jsx":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Audio.jsx ***!
  \****************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-audio', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmAudio);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-file', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmFile);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-audio', new Set(['willAttach', 'crossOrigin', 'preload', 'disableRemotePlayback', 'mediaTitle'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0F1ZGlvLmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDSTtBQUNiO0FBQ2hDLDRDQUFNLGFBQWEsK0NBQU87QUFDMUIsNENBQU0sWUFBWSw4Q0FBTTtBQUN4QjtBQUNBLCtEQUFlLHFEQUFlLHNHQUFzRyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0F1ZGlvLmpzeD9mNmQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbUF1ZGlvLCBWbUZpbGUgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLWF1ZGlvJywgVm1BdWRpbyk7XG5kZWZpbmUoJ3ZtLWZpbGUnLCBWbUZpbGUpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1hdWRpbycsIG5ldyBTZXQoWyd3aWxsQXR0YWNoJywgJ2Nyb3NzT3JpZ2luJywgJ3ByZWxvYWQnLCAnZGlzYWJsZVJlbW90ZVBsYXliYWNrJywgJ21lZGlhVGl0bGUnXSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Audio.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/CaptionControl.jsx":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/CaptionControl.jsx ***!
  \*************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-caption-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCaptionControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-caption-control', new Set(['showIcon', 'hideIcon', 'tooltipPosition', 'tooltipDirection', 'hideTooltip', 'icons', 'keys', 'i18n', 'playbackReady', 'textTracks', 'isTextTrackVisible'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0NhcHRpb25Db250cm9sLmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDbUM7QUFDNUM7QUFDaEMsNENBQU0sdUJBQXVCLHdEQUFnQjtBQUM3Qyw0Q0FBTSxlQUFlLGlEQUFTO0FBQzlCLDRDQUFNLFlBQVksOENBQU07QUFDeEIsNENBQU0sZUFBZSxpREFBUztBQUM5QjtBQUNBLCtEQUFlLHFEQUFlLDZMQUE2TCxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0NhcHRpb25Db250cm9sLmpzeD9jNTQzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbUNhcHRpb25Db250cm9sLCBWbUNvbnRyb2wsIFZtSWNvbiwgVm1Ub29sdGlwIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1jYXB0aW9uLWNvbnRyb2wnLCBWbUNhcHRpb25Db250cm9sKTtcbmRlZmluZSgndm0tY29udHJvbCcsIFZtQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLWljb24nLCBWbUljb24pO1xuZGVmaW5lKCd2bS10b29sdGlwJywgVm1Ub29sdGlwKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tY2FwdGlvbi1jb250cm9sJywgbmV3IFNldChbJ3Nob3dJY29uJywgJ2hpZGVJY29uJywgJ3Rvb2x0aXBQb3NpdGlvbicsICd0b29sdGlwRGlyZWN0aW9uJywgJ2hpZGVUb29sdGlwJywgJ2ljb25zJywgJ2tleXMnLCAnaTE4bicsICdwbGF5YmFja1JlYWR5JywgJ3RleHRUcmFja3MnLCAnaXNUZXh0VHJhY2tWaXNpYmxlJ10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/CaptionControl.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Captions.jsx":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Captions.jsx ***!
  \*******************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-captions', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCaptions);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-captions', new Set(['hidden', 'isControlsActive', 'isVideoView', 'playbackStarted', 'textTracks', 'currentTextTrack', 'isTextTrackVisible'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0NhcHRpb25zLmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDRDtBQUNSO0FBQ2hDLDRDQUFNLGdCQUFnQixrREFBVTtBQUNoQztBQUNBLCtEQUFlLHFEQUFlLGtKQUFrSixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0NhcHRpb25zLmpzeD8wYjMwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbUNhcHRpb25zIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1jYXB0aW9ucycsIFZtQ2FwdGlvbnMpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1jYXB0aW9ucycsIG5ldyBTZXQoWydoaWRkZW4nLCAnaXNDb250cm9sc0FjdGl2ZScsICdpc1ZpZGVvVmlldycsICdwbGF5YmFja1N0YXJ0ZWQnLCAndGV4dFRyYWNrcycsICdjdXJyZW50VGV4dFRyYWNrJywgJ2lzVGV4dFRyYWNrVmlzaWJsZSddKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Captions.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/ClickToPlay.jsx":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/ClickToPlay.jsx ***!
  \**********************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-click-to-play', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmClickToPlay);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-click-to-play', new Set(['useOnMobile', 'paused', 'isVideoView', 'isMobile'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0NsaWNrVG9QbGF5LmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDRTtBQUNYO0FBQ2hDLDRDQUFNLHFCQUFxQixxREFBYTtBQUN4QztBQUNBLCtEQUFlLHFEQUFlLG1GQUFtRixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0NsaWNrVG9QbGF5LmpzeD9lMzZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbUNsaWNrVG9QbGF5IH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1jbGljay10by1wbGF5JywgVm1DbGlja1RvUGxheSk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLWNsaWNrLXRvLXBsYXknLCBuZXcgU2V0KFsndXNlT25Nb2JpbGUnLCAncGF1c2VkJywgJ2lzVmlkZW9WaWV3JywgJ2lzTW9iaWxlJ10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/ClickToPlay.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Control.jsx":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Control.jsx ***!
  \******************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-control', new Set(['keys', 'identifier', 'hidden', 'label', 'menu', 'expanded', 'pressed', 'isTouch'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0NvbnRyb2wuanN4IiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNGO0FBQ1A7QUFDaEMsNENBQU0sZUFBZSxpREFBUztBQUM5QjtBQUNBLCtEQUFlLHFEQUFlLDRHQUE0RyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0NvbnRyb2wuanN4PzA1YTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtQ29udHJvbCB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tY29udHJvbCcsIFZtQ29udHJvbCk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLWNvbnRyb2wnLCBuZXcgU2V0KFsna2V5cycsICdpZGVudGlmaWVyJywgJ2hpZGRlbicsICdsYWJlbCcsICdtZW51JywgJ2V4cGFuZGVkJywgJ3ByZXNzZWQnLCAnaXNUb3VjaCddKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Control.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/ControlGroup.jsx":
/*!***********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/ControlGroup.jsx ***!
  \***********************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control-group', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControlGroup);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-control-group', new Set(['space'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0NvbnRyb2xHcm91cC5qc3giLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ0c7QUFDWjtBQUNoQyw0Q0FBTSxxQkFBcUIsc0RBQWM7QUFDekM7QUFDQSwrREFBZSxxREFBZSx3Q0FBd0MsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpbWUrcmVhY3RANS40LjFfQHZpbWUrY29yZUA1LjQuMV9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9Db250cm9sR3JvdXAuanN4P2MyZmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtQ29udHJvbEdyb3VwIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1jb250cm9sLWdyb3VwJywgVm1Db250cm9sR3JvdXApO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1jb250cm9sLWdyb3VwJywgbmV3IFNldChbJ3NwYWNlJ10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/ControlGroup.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/ControlSpacer.jsx":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/ControlSpacer.jsx ***!
  \************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control-spacer', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControlSpacer);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-control-spacer', new Set([])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0NvbnRyb2xTcGFjZXIuanN4IiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNJO0FBQ2I7QUFDaEMsNENBQU0sc0JBQXNCLHVEQUFlO0FBQzNDO0FBQ0EsK0RBQWUscURBQWUsa0NBQWtDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aW1lK3JlYWN0QDUuNC4xX0B2aW1lK2NvcmVANS40LjFfcmVhY3QtZG9tQDE4LjIuMF9yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvQ29udHJvbFNwYWNlci5qc3g/ZTA5YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1Db250cm9sU3BhY2VyIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1jb250cm9sLXNwYWNlcicsIFZtQ29udHJvbFNwYWNlcik7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLWNvbnRyb2wtc3BhY2VyJywgbmV3IFNldChbXSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/ControlSpacer.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Controls.jsx":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Controls.jsx ***!
  \*******************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-controls', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControls);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-controls', new Set(['hidden', 'fullWidth', 'fullHeight', 'direction', 'align', 'justify', 'pin', 'activeDuration', 'waitForPlaybackStart', 'hideWhenPaused', 'hideOnMouseLeave', 'isAudioView', 'isSettingsActive', 'playbackReady', 'isControlsActive', 'paused', 'playbackStarted'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0NvbnRyb2xzLmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDRDtBQUNSO0FBQ2hDLDRDQUFNLGdCQUFnQixrREFBVTtBQUNoQztBQUNBLCtEQUFlLHFEQUFlLDRSQUE0UixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0NvbnRyb2xzLmpzeD8xOTI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbUNvbnRyb2xzIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1jb250cm9scycsIFZtQ29udHJvbHMpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1jb250cm9scycsIG5ldyBTZXQoWydoaWRkZW4nLCAnZnVsbFdpZHRoJywgJ2Z1bGxIZWlnaHQnLCAnZGlyZWN0aW9uJywgJ2FsaWduJywgJ2p1c3RpZnknLCAncGluJywgJ2FjdGl2ZUR1cmF0aW9uJywgJ3dhaXRGb3JQbGF5YmFja1N0YXJ0JywgJ2hpZGVXaGVuUGF1c2VkJywgJ2hpZGVPbk1vdXNlTGVhdmUnLCAnaXNBdWRpb1ZpZXcnLCAnaXNTZXR0aW5nc0FjdGl2ZScsICdwbGF5YmFja1JlYWR5JywgJ2lzQ29udHJvbHNBY3RpdmUnLCAncGF1c2VkJywgJ3BsYXliYWNrU3RhcnRlZCddKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Controls.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/CurrentTime.jsx":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/CurrentTime.jsx ***!
  \**********************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-current-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCurrentTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTime);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-current-time', new Set(['currentTime', 'i18n', 'alwaysShowHours'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0N1cnJlbnRUaW1lLmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDVTtBQUNuQjtBQUNoQyw0Q0FBTSxvQkFBb0IscURBQWE7QUFDdkMsNENBQU0sWUFBWSw4Q0FBTTtBQUN4QjtBQUNBLCtEQUFlLHFEQUFlLHdFQUF3RSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0N1cnJlbnRUaW1lLmpzeD83ZmFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbUN1cnJlbnRUaW1lLCBWbVRpbWUgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLWN1cnJlbnQtdGltZScsIFZtQ3VycmVudFRpbWUpO1xuZGVmaW5lKCd2bS10aW1lJywgVm1UaW1lKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tY3VycmVudC10aW1lJywgbmV3IFNldChbJ2N1cnJlbnRUaW1lJywgJ2kxOG4nLCAnYWx3YXlzU2hvd0hvdXJzJ10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/CurrentTime.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Dailymotion.jsx":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Dailymotion.jsx ***!
  \**********************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-dailymotion', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDailymotion);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-embed', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmEmbed);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-dailymotion', new Set(['videoId', 'shouldAutoplayQueue', 'showUpNextQueue', 'showShareButtons', 'color', 'syndication', 'showDailymotionLogo', 'showVideoInfo', 'language', 'autoplay', 'controls', 'poster', 'logger', 'loop', 'muted', 'playsinline'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0RhaWx5bW90aW9uLmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDVztBQUNwQjtBQUNoQyw0Q0FBTSxtQkFBbUIscURBQWE7QUFDdEMsNENBQU0sYUFBYSwrQ0FBTztBQUMxQjtBQUNBLCtEQUFlLHFEQUFlLDhQQUE4UCxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0RhaWx5bW90aW9uLmpzeD9jMmYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbURhaWx5bW90aW9uLCBWbUVtYmVkIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1kYWlseW1vdGlvbicsIFZtRGFpbHltb3Rpb24pO1xuZGVmaW5lKCd2bS1lbWJlZCcsIFZtRW1iZWQpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1kYWlseW1vdGlvbicsIG5ldyBTZXQoWyd2aWRlb0lkJywgJ3Nob3VsZEF1dG9wbGF5UXVldWUnLCAnc2hvd1VwTmV4dFF1ZXVlJywgJ3Nob3dTaGFyZUJ1dHRvbnMnLCAnY29sb3InLCAnc3luZGljYXRpb24nLCAnc2hvd0RhaWx5bW90aW9uTG9nbycsICdzaG93VmlkZW9JbmZvJywgJ2xhbmd1YWdlJywgJ2F1dG9wbGF5JywgJ2NvbnRyb2xzJywgJ3Bvc3RlcicsICdsb2dnZXInLCAnbG9vcCcsICdtdXRlZCcsICdwbGF5c2lubGluZSddKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Dailymotion.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Dash.jsx":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Dash.jsx ***!
  \***************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-dash', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDash);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-file', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmFile);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-video', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmVideo);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-dash', new Set(['src', 'version', 'libSrc', 'config', 'autoplay', 'crossOrigin', 'preload', 'poster', 'controlsList', 'autoPiP', 'disablePiP', 'disableRemotePlayback', 'mediaTitle', 'enableTextTracksByDefault', 'shouldRenderNativeTextTracks', 'isTextTrackVisible', 'currentTextTrack'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0Rhc2guanN4IiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNZO0FBQ3JCO0FBQ2hDLDRDQUFNLFlBQVksOENBQU07QUFDeEIsNENBQU0sWUFBWSw4Q0FBTTtBQUN4Qiw0Q0FBTSxhQUFhLCtDQUFPO0FBQzFCO0FBQ0EsK0RBQWUscURBQWUsbVNBQW1TLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aW1lK3JlYWN0QDUuNC4xX0B2aW1lK2NvcmVANS40LjFfcmVhY3QtZG9tQDE4LjIuMF9yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvRGFzaC5qc3g/MWI3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1EYXNoLCBWbUZpbGUsIFZtVmlkZW8gfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLWRhc2gnLCBWbURhc2gpO1xuZGVmaW5lKCd2bS1maWxlJywgVm1GaWxlKTtcbmRlZmluZSgndm0tdmlkZW8nLCBWbVZpZGVvKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tZGFzaCcsIG5ldyBTZXQoWydzcmMnLCAndmVyc2lvbicsICdsaWJTcmMnLCAnY29uZmlnJywgJ2F1dG9wbGF5JywgJ2Nyb3NzT3JpZ2luJywgJ3ByZWxvYWQnLCAncG9zdGVyJywgJ2NvbnRyb2xzTGlzdCcsICdhdXRvUGlQJywgJ2Rpc2FibGVQaVAnLCAnZGlzYWJsZVJlbW90ZVBsYXliYWNrJywgJ21lZGlhVGl0bGUnLCAnZW5hYmxlVGV4dFRyYWNrc0J5RGVmYXVsdCcsICdzaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzJywgJ2lzVGV4dFRyYWNrVmlzaWJsZScsICdjdXJyZW50VGV4dFRyYWNrJ10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Dash.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/DblClickFullscreen.jsx":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/DblClickFullscreen.jsx ***!
  \*****************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-dbl-click-fullscreen', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDblClickFullscreen);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-dbl-click-fullscreen', new Set(['useOnMobile', 'isFullscreenActive', 'isVideoView', 'playbackReady', 'isMobile'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0RibENsaWNrRnVsbHNjcmVlbi5qc3giLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ1M7QUFDbEI7QUFDaEMsNENBQU0sNEJBQTRCLDREQUFvQjtBQUN0RDtBQUNBLCtEQUFlLHFEQUFlLHVIQUF1SCxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0RibENsaWNrRnVsbHNjcmVlbi5qc3g/NjkyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1EYmxDbGlja0Z1bGxzY3JlZW4gfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLWRibC1jbGljay1mdWxsc2NyZWVuJywgVm1EYmxDbGlja0Z1bGxzY3JlZW4pO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1kYmwtY2xpY2stZnVsbHNjcmVlbicsIG5ldyBTZXQoWyd1c2VPbk1vYmlsZScsICdpc0Z1bGxzY3JlZW5BY3RpdmUnLCAnaXNWaWRlb1ZpZXcnLCAncGxheWJhY2tSZWFkeScsICdpc01vYmlsZSddKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/DblClickFullscreen.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/DefaultControls.jsx":
/*!**************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/DefaultControls.jsx ***!
  \**************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-default-controls', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDefaultControls);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-caption-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCaptionControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control-group', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControlGroup);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control-spacer', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControlSpacer);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-controls', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControls);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-current-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCurrentTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-end-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmEndTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-fullscreen-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmFullscreenControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-live-indicator', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmLiveIndicator);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-mute-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMuteControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-pip-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPipControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-playback-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPlaybackControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-scrim', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmScrim);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-scrubber-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmScrubberControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-slider', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSlider);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-settings-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSettingsControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time-progress', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTimeProgress);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-volume-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmVolumeControl);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-default-controls', new Set(['activeDuration', 'waitForPlaybackStart', 'hideWhenPaused', 'hideOnMouseLeave', 'theme', 'isMobile', 'isLive', 'isAudioView', 'isVideoView'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0RlZmF1bHRDb250cm9scy5qc3giLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ3FUO0FBQzlUO0FBQ2hDLDRDQUFNLHdCQUF3Qix5REFBaUI7QUFDL0MsNENBQU0sdUJBQXVCLHdEQUFnQjtBQUM3Qyw0Q0FBTSxlQUFlLGlEQUFTO0FBQzlCLDRDQUFNLFlBQVksOENBQU07QUFDeEIsNENBQU0sZUFBZSxpREFBUztBQUM5Qiw0Q0FBTSxxQkFBcUIsc0RBQWM7QUFDekMsNENBQU0sc0JBQXNCLHVEQUFlO0FBQzNDLDRDQUFNLGdCQUFnQixrREFBVTtBQUNoQyw0Q0FBTSxvQkFBb0IscURBQWE7QUFDdkMsNENBQU0sWUFBWSw4Q0FBTTtBQUN4Qiw0Q0FBTSxnQkFBZ0IsaURBQVM7QUFDL0IsNENBQU0sMEJBQTBCLDJEQUFtQjtBQUNuRCw0Q0FBTSxzQkFBc0IsdURBQWU7QUFDM0MsNENBQU0sb0JBQW9CLHFEQUFhO0FBQ3ZDLDRDQUFNLG1CQUFtQixvREFBWTtBQUNyQyw0Q0FBTSx3QkFBd0IseURBQWlCO0FBQy9DLDRDQUFNLGFBQWEsK0NBQU87QUFDMUIsNENBQU0sd0JBQXdCLHlEQUFpQjtBQUMvQyw0Q0FBTSxjQUFjLGdEQUFRO0FBQzVCLDRDQUFNLHdCQUF3Qix5REFBaUI7QUFDL0MsNENBQU0scUJBQXFCLHNEQUFjO0FBQ3pDLDRDQUFNLHNCQUFzQix1REFBZTtBQUMzQztBQUNBLCtEQUFlLHFEQUFlLCtLQUErSyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0RlZmF1bHRDb250cm9scy5qc3g/NmRhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1EZWZhdWx0Q29udHJvbHMsIFZtQ2FwdGlvbkNvbnRyb2wsIFZtQ29udHJvbCwgVm1JY29uLCBWbVRvb2x0aXAsIFZtQ29udHJvbEdyb3VwLCBWbUNvbnRyb2xTcGFjZXIsIFZtQ29udHJvbHMsIFZtQ3VycmVudFRpbWUsIFZtVGltZSwgVm1FbmRUaW1lLCBWbUZ1bGxzY3JlZW5Db250cm9sLCBWbUxpdmVJbmRpY2F0b3IsIFZtTXV0ZUNvbnRyb2wsIFZtUGlwQ29udHJvbCwgVm1QbGF5YmFja0NvbnRyb2wsIFZtU2NyaW0sIFZtU2NydWJiZXJDb250cm9sLCBWbVNsaWRlciwgVm1TZXR0aW5nc0NvbnRyb2wsIFZtVGltZVByb2dyZXNzLCBWbVZvbHVtZUNvbnRyb2wgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLWRlZmF1bHQtY29udHJvbHMnLCBWbURlZmF1bHRDb250cm9scyk7XG5kZWZpbmUoJ3ZtLWNhcHRpb24tY29udHJvbCcsIFZtQ2FwdGlvbkNvbnRyb2wpO1xuZGVmaW5lKCd2bS1jb250cm9sJywgVm1Db250cm9sKTtcbmRlZmluZSgndm0taWNvbicsIFZtSWNvbik7XG5kZWZpbmUoJ3ZtLXRvb2x0aXAnLCBWbVRvb2x0aXApO1xuZGVmaW5lKCd2bS1jb250cm9sLWdyb3VwJywgVm1Db250cm9sR3JvdXApO1xuZGVmaW5lKCd2bS1jb250cm9sLXNwYWNlcicsIFZtQ29udHJvbFNwYWNlcik7XG5kZWZpbmUoJ3ZtLWNvbnRyb2xzJywgVm1Db250cm9scyk7XG5kZWZpbmUoJ3ZtLWN1cnJlbnQtdGltZScsIFZtQ3VycmVudFRpbWUpO1xuZGVmaW5lKCd2bS10aW1lJywgVm1UaW1lKTtcbmRlZmluZSgndm0tZW5kLXRpbWUnLCBWbUVuZFRpbWUpO1xuZGVmaW5lKCd2bS1mdWxsc2NyZWVuLWNvbnRyb2wnLCBWbUZ1bGxzY3JlZW5Db250cm9sKTtcbmRlZmluZSgndm0tbGl2ZS1pbmRpY2F0b3InLCBWbUxpdmVJbmRpY2F0b3IpO1xuZGVmaW5lKCd2bS1tdXRlLWNvbnRyb2wnLCBWbU11dGVDb250cm9sKTtcbmRlZmluZSgndm0tcGlwLWNvbnRyb2wnLCBWbVBpcENvbnRyb2wpO1xuZGVmaW5lKCd2bS1wbGF5YmFjay1jb250cm9sJywgVm1QbGF5YmFja0NvbnRyb2wpO1xuZGVmaW5lKCd2bS1zY3JpbScsIFZtU2NyaW0pO1xuZGVmaW5lKCd2bS1zY3J1YmJlci1jb250cm9sJywgVm1TY3J1YmJlckNvbnRyb2wpO1xuZGVmaW5lKCd2bS1zbGlkZXInLCBWbVNsaWRlcik7XG5kZWZpbmUoJ3ZtLXNldHRpbmdzLWNvbnRyb2wnLCBWbVNldHRpbmdzQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLXRpbWUtcHJvZ3Jlc3MnLCBWbVRpbWVQcm9ncmVzcyk7XG5kZWZpbmUoJ3ZtLXZvbHVtZS1jb250cm9sJywgVm1Wb2x1bWVDb250cm9sKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tZGVmYXVsdC1jb250cm9scycsIG5ldyBTZXQoWydhY3RpdmVEdXJhdGlvbicsICd3YWl0Rm9yUGxheWJhY2tTdGFydCcsICdoaWRlV2hlblBhdXNlZCcsICdoaWRlT25Nb3VzZUxlYXZlJywgJ3RoZW1lJywgJ2lzTW9iaWxlJywgJ2lzTGl2ZScsICdpc0F1ZGlvVmlldycsICdpc1ZpZGVvVmlldyddKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/DefaultControls.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/DefaultSettings.jsx":
/*!**************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/DefaultSettings.jsx ***!
  \**************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-default-settings', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDefaultSettings);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenu);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-item', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuItem);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-radio', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuRadio);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-radio-group', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuRadioGroup);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-settings', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSettings);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-submenu', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSubmenu);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-default-settings', new Set(['pin', 'i18n', 'playbackReady', 'playbackRate', 'playbackRates', 'isVideoView', 'playbackQuality', 'playbackQualities', 'textTracks', 'currentTextTrack', 'audioTracks', 'currentAudioTrack', 'isTextTrackVisible'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0RlZmF1bHRTZXR0aW5ncy5qc3giLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ3dGO0FBQ2pHO0FBQ2hDLDRDQUFNLHdCQUF3Qix5REFBaUI7QUFDL0MsNENBQU0sWUFBWSw4Q0FBTTtBQUN4Qiw0Q0FBTSxZQUFZLDhDQUFNO0FBQ3hCLDRDQUFNLGlCQUFpQixrREFBVTtBQUNqQyw0Q0FBTSxrQkFBa0IsbURBQVc7QUFDbkMsNENBQU0sd0JBQXdCLHdEQUFnQjtBQUM5Qyw0Q0FBTSxnQkFBZ0Isa0RBQVU7QUFDaEMsNENBQU0sZUFBZSxpREFBUztBQUM5QjtBQUNBLCtEQUFlLHFEQUFlLHNQQUFzUCxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0RlZmF1bHRTZXR0aW5ncy5qc3g/NGZkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1EZWZhdWx0U2V0dGluZ3MsIFZtSWNvbiwgVm1NZW51LCBWbU1lbnVJdGVtLCBWbU1lbnVSYWRpbywgVm1NZW51UmFkaW9Hcm91cCwgVm1TZXR0aW5ncywgVm1TdWJtZW51IH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1kZWZhdWx0LXNldHRpbmdzJywgVm1EZWZhdWx0U2V0dGluZ3MpO1xuZGVmaW5lKCd2bS1pY29uJywgVm1JY29uKTtcbmRlZmluZSgndm0tbWVudScsIFZtTWVudSk7XG5kZWZpbmUoJ3ZtLW1lbnUtaXRlbScsIFZtTWVudUl0ZW0pO1xuZGVmaW5lKCd2bS1tZW51LXJhZGlvJywgVm1NZW51UmFkaW8pO1xuZGVmaW5lKCd2bS1tZW51LXJhZGlvLWdyb3VwJywgVm1NZW51UmFkaW9Hcm91cCk7XG5kZWZpbmUoJ3ZtLXNldHRpbmdzJywgVm1TZXR0aW5ncyk7XG5kZWZpbmUoJ3ZtLXN1Ym1lbnUnLCBWbVN1Ym1lbnUpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1kZWZhdWx0LXNldHRpbmdzJywgbmV3IFNldChbJ3BpbicsICdpMThuJywgJ3BsYXliYWNrUmVhZHknLCAncGxheWJhY2tSYXRlJywgJ3BsYXliYWNrUmF0ZXMnLCAnaXNWaWRlb1ZpZXcnLCAncGxheWJhY2tRdWFsaXR5JywgJ3BsYXliYWNrUXVhbGl0aWVzJywgJ3RleHRUcmFja3MnLCAnY3VycmVudFRleHRUcmFjaycsICdhdWRpb1RyYWNrcycsICdjdXJyZW50QXVkaW9UcmFjaycsICdpc1RleHRUcmFja1Zpc2libGUnXSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/DefaultSettings.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/DefaultUi.jsx":
/*!********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/DefaultUi.jsx ***!
  \********************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-default-ui', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDefaultUi);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-caption-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCaptionControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-captions', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCaptions);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-click-to-play', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmClickToPlay);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control-group', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControlGroup);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control-spacer', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControlSpacer);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-controls', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControls);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-current-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCurrentTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-dbl-click-fullscreen', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDblClickFullscreen);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-default-controls', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDefaultControls);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-end-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmEndTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-fullscreen-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmFullscreenControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-live-indicator', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmLiveIndicator);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-mute-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMuteControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-pip-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPipControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-playback-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPlaybackControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-scrim', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmScrim);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-scrubber-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmScrubberControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-slider', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSlider);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-settings-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSettingsControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time-progress', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTimeProgress);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-volume-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmVolumeControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-default-settings', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDefaultSettings);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenu);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-item', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuItem);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-radio', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuRadio);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-radio-group', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuRadioGroup);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-settings', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSettings);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-submenu', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSubmenu);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-loading-screen', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmLoadingScreen);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-poster', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPoster);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-spinner', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSpinner);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-ui', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmUi);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-default-ui', new Set(['noClickToPlay', 'noDblClickFullscreen', 'noCaptions', 'noPoster', 'noSpinner', 'noControls', 'noSettings', 'noLoadingScreen'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0RlZmF1bHRVaS5qc3giLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQzRmO0FBQ3JnQjtBQUNoQyw0Q0FBTSxrQkFBa0IsbURBQVc7QUFDbkMsNENBQU0sdUJBQXVCLHdEQUFnQjtBQUM3Qyw0Q0FBTSxlQUFlLGlEQUFTO0FBQzlCLDRDQUFNLFlBQVksOENBQU07QUFDeEIsNENBQU0sZUFBZSxpREFBUztBQUM5Qiw0Q0FBTSxnQkFBZ0Isa0RBQVU7QUFDaEMsNENBQU0scUJBQXFCLHFEQUFhO0FBQ3hDLDRDQUFNLHFCQUFxQixzREFBYztBQUN6Qyw0Q0FBTSxzQkFBc0IsdURBQWU7QUFDM0MsNENBQU0sZ0JBQWdCLGtEQUFVO0FBQ2hDLDRDQUFNLG9CQUFvQixxREFBYTtBQUN2Qyw0Q0FBTSxZQUFZLDhDQUFNO0FBQ3hCLDRDQUFNLDRCQUE0Qiw0REFBb0I7QUFDdEQsNENBQU0sd0JBQXdCLHlEQUFpQjtBQUMvQyw0Q0FBTSxnQkFBZ0IsaURBQVM7QUFDL0IsNENBQU0sMEJBQTBCLDJEQUFtQjtBQUNuRCw0Q0FBTSxzQkFBc0IsdURBQWU7QUFDM0MsNENBQU0sb0JBQW9CLHFEQUFhO0FBQ3ZDLDRDQUFNLG1CQUFtQixvREFBWTtBQUNyQyw0Q0FBTSx3QkFBd0IseURBQWlCO0FBQy9DLDRDQUFNLGFBQWEsK0NBQU87QUFDMUIsNENBQU0sd0JBQXdCLHlEQUFpQjtBQUMvQyw0Q0FBTSxjQUFjLGdEQUFRO0FBQzVCLDRDQUFNLHdCQUF3Qix5REFBaUI7QUFDL0MsNENBQU0scUJBQXFCLHNEQUFjO0FBQ3pDLDRDQUFNLHNCQUFzQix1REFBZTtBQUMzQyw0Q0FBTSx3QkFBd0IseURBQWlCO0FBQy9DLDRDQUFNLFlBQVksOENBQU07QUFDeEIsNENBQU0saUJBQWlCLGtEQUFVO0FBQ2pDLDRDQUFNLGtCQUFrQixtREFBVztBQUNuQyw0Q0FBTSx3QkFBd0Isd0RBQWdCO0FBQzlDLDRDQUFNLGdCQUFnQixrREFBVTtBQUNoQyw0Q0FBTSxlQUFlLGlEQUFTO0FBQzlCLDRDQUFNLHNCQUFzQix1REFBZTtBQUMzQyw0Q0FBTSxjQUFjLGdEQUFRO0FBQzVCLDRDQUFNLGVBQWUsaURBQVM7QUFDOUIsNENBQU0sVUFBVSw0Q0FBSTtBQUNwQjtBQUNBLCtEQUFlLHFEQUFlLDJKQUEySixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0RlZmF1bHRVaS5qc3g/NTFkYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1EZWZhdWx0VWksIFZtQ2FwdGlvbkNvbnRyb2wsIFZtQ29udHJvbCwgVm1JY29uLCBWbVRvb2x0aXAsIFZtQ2FwdGlvbnMsIFZtQ2xpY2tUb1BsYXksIFZtQ29udHJvbEdyb3VwLCBWbUNvbnRyb2xTcGFjZXIsIFZtQ29udHJvbHMsIFZtQ3VycmVudFRpbWUsIFZtVGltZSwgVm1EYmxDbGlja0Z1bGxzY3JlZW4sIFZtRGVmYXVsdENvbnRyb2xzLCBWbUVuZFRpbWUsIFZtRnVsbHNjcmVlbkNvbnRyb2wsIFZtTGl2ZUluZGljYXRvciwgVm1NdXRlQ29udHJvbCwgVm1QaXBDb250cm9sLCBWbVBsYXliYWNrQ29udHJvbCwgVm1TY3JpbSwgVm1TY3J1YmJlckNvbnRyb2wsIFZtU2xpZGVyLCBWbVNldHRpbmdzQ29udHJvbCwgVm1UaW1lUHJvZ3Jlc3MsIFZtVm9sdW1lQ29udHJvbCwgVm1EZWZhdWx0U2V0dGluZ3MsIFZtTWVudSwgVm1NZW51SXRlbSwgVm1NZW51UmFkaW8sIFZtTWVudVJhZGlvR3JvdXAsIFZtU2V0dGluZ3MsIFZtU3VibWVudSwgVm1Mb2FkaW5nU2NyZWVuLCBWbVBvc3RlciwgVm1TcGlubmVyLCBWbVVpIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1kZWZhdWx0LXVpJywgVm1EZWZhdWx0VWkpO1xuZGVmaW5lKCd2bS1jYXB0aW9uLWNvbnRyb2wnLCBWbUNhcHRpb25Db250cm9sKTtcbmRlZmluZSgndm0tY29udHJvbCcsIFZtQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLWljb24nLCBWbUljb24pO1xuZGVmaW5lKCd2bS10b29sdGlwJywgVm1Ub29sdGlwKTtcbmRlZmluZSgndm0tY2FwdGlvbnMnLCBWbUNhcHRpb25zKTtcbmRlZmluZSgndm0tY2xpY2stdG8tcGxheScsIFZtQ2xpY2tUb1BsYXkpO1xuZGVmaW5lKCd2bS1jb250cm9sLWdyb3VwJywgVm1Db250cm9sR3JvdXApO1xuZGVmaW5lKCd2bS1jb250cm9sLXNwYWNlcicsIFZtQ29udHJvbFNwYWNlcik7XG5kZWZpbmUoJ3ZtLWNvbnRyb2xzJywgVm1Db250cm9scyk7XG5kZWZpbmUoJ3ZtLWN1cnJlbnQtdGltZScsIFZtQ3VycmVudFRpbWUpO1xuZGVmaW5lKCd2bS10aW1lJywgVm1UaW1lKTtcbmRlZmluZSgndm0tZGJsLWNsaWNrLWZ1bGxzY3JlZW4nLCBWbURibENsaWNrRnVsbHNjcmVlbik7XG5kZWZpbmUoJ3ZtLWRlZmF1bHQtY29udHJvbHMnLCBWbURlZmF1bHRDb250cm9scyk7XG5kZWZpbmUoJ3ZtLWVuZC10aW1lJywgVm1FbmRUaW1lKTtcbmRlZmluZSgndm0tZnVsbHNjcmVlbi1jb250cm9sJywgVm1GdWxsc2NyZWVuQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLWxpdmUtaW5kaWNhdG9yJywgVm1MaXZlSW5kaWNhdG9yKTtcbmRlZmluZSgndm0tbXV0ZS1jb250cm9sJywgVm1NdXRlQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLXBpcC1jb250cm9sJywgVm1QaXBDb250cm9sKTtcbmRlZmluZSgndm0tcGxheWJhY2stY29udHJvbCcsIFZtUGxheWJhY2tDb250cm9sKTtcbmRlZmluZSgndm0tc2NyaW0nLCBWbVNjcmltKTtcbmRlZmluZSgndm0tc2NydWJiZXItY29udHJvbCcsIFZtU2NydWJiZXJDb250cm9sKTtcbmRlZmluZSgndm0tc2xpZGVyJywgVm1TbGlkZXIpO1xuZGVmaW5lKCd2bS1zZXR0aW5ncy1jb250cm9sJywgVm1TZXR0aW5nc0NvbnRyb2wpO1xuZGVmaW5lKCd2bS10aW1lLXByb2dyZXNzJywgVm1UaW1lUHJvZ3Jlc3MpO1xuZGVmaW5lKCd2bS12b2x1bWUtY29udHJvbCcsIFZtVm9sdW1lQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLWRlZmF1bHQtc2V0dGluZ3MnLCBWbURlZmF1bHRTZXR0aW5ncyk7XG5kZWZpbmUoJ3ZtLW1lbnUnLCBWbU1lbnUpO1xuZGVmaW5lKCd2bS1tZW51LWl0ZW0nLCBWbU1lbnVJdGVtKTtcbmRlZmluZSgndm0tbWVudS1yYWRpbycsIFZtTWVudVJhZGlvKTtcbmRlZmluZSgndm0tbWVudS1yYWRpby1ncm91cCcsIFZtTWVudVJhZGlvR3JvdXApO1xuZGVmaW5lKCd2bS1zZXR0aW5ncycsIFZtU2V0dGluZ3MpO1xuZGVmaW5lKCd2bS1zdWJtZW51JywgVm1TdWJtZW51KTtcbmRlZmluZSgndm0tbG9hZGluZy1zY3JlZW4nLCBWbUxvYWRpbmdTY3JlZW4pO1xuZGVmaW5lKCd2bS1wb3N0ZXInLCBWbVBvc3Rlcik7XG5kZWZpbmUoJ3ZtLXNwaW5uZXInLCBWbVNwaW5uZXIpO1xuZGVmaW5lKCd2bS11aScsIFZtVWkpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1kZWZhdWx0LXVpJywgbmV3IFNldChbJ25vQ2xpY2tUb1BsYXknLCAnbm9EYmxDbGlja0Z1bGxzY3JlZW4nLCAnbm9DYXB0aW9ucycsICdub1Bvc3RlcicsICdub1NwaW5uZXInLCAnbm9Db250cm9scycsICdub1NldHRpbmdzJywgJ25vTG9hZGluZ1NjcmVlbiddKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/DefaultUi.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Embed.jsx":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Embed.jsx ***!
  \****************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-embed', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmEmbed);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-embed', new Set(['embedSrc', 'mediaTitle', 'params', 'origin', 'preconnections', 'decoder'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0VtYmVkLmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDSjtBQUNMO0FBQ2hDLDRDQUFNLGFBQWEsK0NBQU87QUFDMUI7QUFDQSwrREFBZSxxREFBZSxrR0FBa0csRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpbWUrcmVhY3RANS40LjFfQHZpbWUrY29yZUA1LjQuMV9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9FbWJlZC5qc3g/NmZmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1FbWJlZCB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tZW1iZWQnLCBWbUVtYmVkKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tZW1iZWQnLCBuZXcgU2V0KFsnZW1iZWRTcmMnLCAnbWVkaWFUaXRsZScsICdwYXJhbXMnLCAnb3JpZ2luJywgJ3ByZWNvbm5lY3Rpb25zJywgJ2RlY29kZXInXSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Embed.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/EndTime.jsx":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/EndTime.jsx ***!
  \******************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-end-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmEndTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTime);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-end-time', new Set(['duration', 'i18n', 'alwaysShowHours'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0VuZFRpbWUuanN4IiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNNO0FBQ2Y7QUFDaEMsNENBQU0sZ0JBQWdCLGlEQUFTO0FBQy9CLDRDQUFNLFlBQVksOENBQU07QUFDeEI7QUFDQSwrREFBZSxxREFBZSxpRUFBaUUsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpbWUrcmVhY3RANS40LjFfQHZpbWUrY29yZUA1LjQuMV9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9FbmRUaW1lLmpzeD9kOTkyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbUVuZFRpbWUsIFZtVGltZSB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tZW5kLXRpbWUnLCBWbUVuZFRpbWUpO1xuZGVmaW5lKCd2bS10aW1lJywgVm1UaW1lKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tZW5kLXRpbWUnLCBuZXcgU2V0KFsnZHVyYXRpb24nLCAnaTE4bicsICdhbHdheXNTaG93SG91cnMnXSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/EndTime.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/File.jsx":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/File.jsx ***!
  \***************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-file', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmFile);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-file', new Set(['willAttach', 'crossOrigin', 'preload', 'poster', 'mediaTitle', 'controlsList', 'autoPiP', 'disablePiP', 'disableRemotePlayback', 'viewType', 'playbackRates', 'language', 'autoplay', 'controls', 'logger', 'loop', 'muted', 'playsinline', 'noConnect', 'paused', 'currentTime', 'volume', 'playbackReady', 'playbackStarted', 'currentTextTrack', 'hasCustomTextManager', 'isTextTrackVisible', 'shouldRenderNativeTextTracks'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0ZpbGUuanN4IiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNMO0FBQ0o7QUFDaEMsNENBQU0sWUFBWSw4Q0FBTTtBQUN4QjtBQUNBLCtEQUFlLHFEQUFlLHliQUF5YixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0ZpbGUuanN4PzI0Y2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtRmlsZSB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tZmlsZScsIFZtRmlsZSk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLWZpbGUnLCBuZXcgU2V0KFsnd2lsbEF0dGFjaCcsICdjcm9zc09yaWdpbicsICdwcmVsb2FkJywgJ3Bvc3RlcicsICdtZWRpYVRpdGxlJywgJ2NvbnRyb2xzTGlzdCcsICdhdXRvUGlQJywgJ2Rpc2FibGVQaVAnLCAnZGlzYWJsZVJlbW90ZVBsYXliYWNrJywgJ3ZpZXdUeXBlJywgJ3BsYXliYWNrUmF0ZXMnLCAnbGFuZ3VhZ2UnLCAnYXV0b3BsYXknLCAnY29udHJvbHMnLCAnbG9nZ2VyJywgJ2xvb3AnLCAnbXV0ZWQnLCAncGxheXNpbmxpbmUnLCAnbm9Db25uZWN0JywgJ3BhdXNlZCcsICdjdXJyZW50VGltZScsICd2b2x1bWUnLCAncGxheWJhY2tSZWFkeScsICdwbGF5YmFja1N0YXJ0ZWQnLCAnY3VycmVudFRleHRUcmFjaycsICdoYXNDdXN0b21UZXh0TWFuYWdlcicsICdpc1RleHRUcmFja1Zpc2libGUnLCAnc2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrcyddKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/File.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/FullscreenControl.jsx":
/*!****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/FullscreenControl.jsx ***!
  \****************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-fullscreen-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmFullscreenControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-fullscreen-control', new Set(['enterIcon', 'exitIcon', 'icons', 'tooltipPosition', 'tooltipDirection', 'hideTooltip', 'keys', 'isFullscreenActive', 'i18n', 'playbackReady'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0Z1bGxzY3JlZW5Db250cm9sLmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDc0M7QUFDL0M7QUFDaEMsNENBQU0sMEJBQTBCLDJEQUFtQjtBQUNuRCw0Q0FBTSxlQUFlLGlEQUFTO0FBQzlCLDRDQUFNLFlBQVksOENBQU07QUFDeEIsNENBQU0sZUFBZSxpREFBUztBQUM5QjtBQUNBLCtEQUFlLHFEQUFlLG1MQUFtTCxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0Z1bGxzY3JlZW5Db250cm9sLmpzeD8wY2UzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbUZ1bGxzY3JlZW5Db250cm9sLCBWbUNvbnRyb2wsIFZtSWNvbiwgVm1Ub29sdGlwIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1mdWxsc2NyZWVuLWNvbnRyb2wnLCBWbUZ1bGxzY3JlZW5Db250cm9sKTtcbmRlZmluZSgndm0tY29udHJvbCcsIFZtQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLWljb24nLCBWbUljb24pO1xuZGVmaW5lKCd2bS10b29sdGlwJywgVm1Ub29sdGlwKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tZnVsbHNjcmVlbi1jb250cm9sJywgbmV3IFNldChbJ2VudGVySWNvbicsICdleGl0SWNvbicsICdpY29ucycsICd0b29sdGlwUG9zaXRpb24nLCAndG9vbHRpcERpcmVjdGlvbicsICdoaWRlVG9vbHRpcCcsICdrZXlzJywgJ2lzRnVsbHNjcmVlbkFjdGl2ZScsICdpMThuJywgJ3BsYXliYWNrUmVhZHknXSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/FullscreenControl.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Hls.jsx":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Hls.jsx ***!
  \**************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-hls', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmHls);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-file', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmFile);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-video', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmVideo);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-hls', new Set(['version', 'libSrc', 'config', 'crossOrigin', 'preload', 'poster', 'controlsList', 'autoPiP', 'disablePiP', 'disableRemotePlayback', 'playbackReady', 'mediaTitle'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0hscy5qc3giLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ1c7QUFDcEI7QUFDaEMsNENBQU0sV0FBVyw2Q0FBSztBQUN0Qiw0Q0FBTSxZQUFZLDhDQUFNO0FBQ3hCLDRDQUFNLGFBQWEsK0NBQU87QUFDMUI7QUFDQSwrREFBZSxxREFBZSx5TEFBeUwsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpbWUrcmVhY3RANS40LjFfQHZpbWUrY29yZUA1LjQuMV9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9IbHMuanN4P2IyMWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtSGxzLCBWbUZpbGUsIFZtVmlkZW8gfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLWhscycsIFZtSGxzKTtcbmRlZmluZSgndm0tZmlsZScsIFZtRmlsZSk7XG5kZWZpbmUoJ3ZtLXZpZGVvJywgVm1WaWRlbyk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLWhscycsIG5ldyBTZXQoWyd2ZXJzaW9uJywgJ2xpYlNyYycsICdjb25maWcnLCAnY3Jvc3NPcmlnaW4nLCAncHJlbG9hZCcsICdwb3N0ZXInLCAnY29udHJvbHNMaXN0JywgJ2F1dG9QaVAnLCAnZGlzYWJsZVBpUCcsICdkaXNhYmxlUmVtb3RlUGxheWJhY2snLCAncGxheWJhY2tSZWFkeScsICdtZWRpYVRpdGxlJ10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Hls.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Icon.jsx":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Icon.jsx ***!
  \***************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-icon', new Set(['name', 'src', 'label', 'library', 'icons'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0ljb24uanN4IiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNMO0FBQ0o7QUFDaEMsNENBQU0sWUFBWSw4Q0FBTTtBQUN4QjtBQUNBLCtEQUFlLHFEQUFlLGtFQUFrRSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0ljb24uanN4Pzk4ZmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtSWNvbiB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0taWNvbicsIFZtSWNvbik7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLWljb24nLCBuZXcgU2V0KFsnbmFtZScsICdzcmMnLCAnbGFiZWwnLCAnbGlicmFyeScsICdpY29ucyddKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Icon.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/IconLibrary.jsx":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/IconLibrary.jsx ***!
  \**********************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon-library', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIconLibrary);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-icon-library', new Set(['name', 'resolver', 'icons'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0ljb25MaWJyYXJ5LmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDRTtBQUNYO0FBQ2hDLDRDQUFNLG9CQUFvQixxREFBYTtBQUN2QztBQUNBLCtEQUFlLHFEQUFlLDJEQUEyRCxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0ljb25MaWJyYXJ5LmpzeD9jNmE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbUljb25MaWJyYXJ5IH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1pY29uLWxpYnJhcnknLCBWbUljb25MaWJyYXJ5KTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0taWNvbi1saWJyYXJ5JywgbmV3IFNldChbJ25hbWUnLCAncmVzb2x2ZXInLCAnaWNvbnMnXSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/IconLibrary.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/LiveIndicator.jsx":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/LiveIndicator.jsx ***!
  \************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-live-indicator', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmLiveIndicator);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-live-indicator', new Set(['isLive', 'i18n'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0xpdmVJbmRpY2F0b3IuanN4IiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNJO0FBQ2I7QUFDaEMsNENBQU0sc0JBQXNCLHVEQUFlO0FBQzNDO0FBQ0EsK0RBQWUscURBQWUsa0RBQWtELEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aW1lK3JlYWN0QDUuNC4xX0B2aW1lK2NvcmVANS40LjFfcmVhY3QtZG9tQDE4LjIuMF9yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvTGl2ZUluZGljYXRvci5qc3g/ZWQ1MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1MaXZlSW5kaWNhdG9yIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1saXZlLWluZGljYXRvcicsIFZtTGl2ZUluZGljYXRvcik7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLWxpdmUtaW5kaWNhdG9yJywgbmV3IFNldChbJ2lzTGl2ZScsICdpMThuJ10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/LiveIndicator.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/LoadingScreen.jsx":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/LoadingScreen.jsx ***!
  \************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-loading-screen', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmLoadingScreen);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-loading-screen', new Set(['playbackReady', 'hideDots'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0xvYWRpbmdTY3JlZW4uanN4IiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNJO0FBQ2I7QUFDaEMsNENBQU0sc0JBQXNCLHVEQUFlO0FBQzNDO0FBQ0EsK0RBQWUscURBQWUsNkRBQTZELEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aW1lK3JlYWN0QDUuNC4xX0B2aW1lK2NvcmVANS40LjFfcmVhY3QtZG9tQDE4LjIuMF9yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvTG9hZGluZ1NjcmVlbi5qc3g/NDU1YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1Mb2FkaW5nU2NyZWVuIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1sb2FkaW5nLXNjcmVlbicsIFZtTG9hZGluZ1NjcmVlbik7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLWxvYWRpbmctc2NyZWVuJywgbmV3IFNldChbJ3BsYXliYWNrUmVhZHknLCAnaGlkZURvdHMnXSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/LoadingScreen.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Menu.jsx":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Menu.jsx ***!
  \***************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenu);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-menu', new Set(['active', 'identifier', 'controller', 'slideInDirection'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL01lbnUuanN4IiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNMO0FBQ0o7QUFDaEMsNENBQU0sWUFBWSw4Q0FBTTtBQUN4QjtBQUNBLCtEQUFlLHFEQUFlLGdGQUFnRixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL01lbnUuanN4PzMzODYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtTWVudSB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tbWVudScsIFZtTWVudSk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLW1lbnUnLCBuZXcgU2V0KFsnYWN0aXZlJywgJ2lkZW50aWZpZXInLCAnY29udHJvbGxlcicsICdzbGlkZUluRGlyZWN0aW9uJ10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Menu.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/MenuItem.jsx":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/MenuItem.jsx ***!
  \*******************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-item', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuItem);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-menu-item', new Set(['identifier', 'hidden', 'label', 'menu', 'expanded', 'checked', 'hint', 'badge', 'checkIcon', 'icons', 'isTouch'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL01lbnVJdGVtLmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDTztBQUNoQjtBQUNoQyw0Q0FBTSxpQkFBaUIsa0RBQVU7QUFDakMsNENBQU0sWUFBWSw4Q0FBTTtBQUN4QjtBQUNBLCtEQUFlLHFEQUFlLDZJQUE2SSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL01lbnVJdGVtLmpzeD8zODY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbU1lbnVJdGVtLCBWbUljb24gfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLW1lbnUtaXRlbScsIFZtTWVudUl0ZW0pO1xuZGVmaW5lKCd2bS1pY29uJywgVm1JY29uKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tbWVudS1pdGVtJywgbmV3IFNldChbJ2lkZW50aWZpZXInLCAnaGlkZGVuJywgJ2xhYmVsJywgJ21lbnUnLCAnZXhwYW5kZWQnLCAnY2hlY2tlZCcsICdoaW50JywgJ2JhZGdlJywgJ2NoZWNrSWNvbicsICdpY29ucycsICdpc1RvdWNoJ10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/MenuItem.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/MenuRadio.jsx":
/*!********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/MenuRadio.jsx ***!
  \********************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-radio', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuRadio);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-item', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuItem);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-menu-radio', new Set(['label', 'value', 'checked', 'badge', 'checkIcon', 'icons'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL01lbnVSYWRpby5qc3giLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ29CO0FBQzdCO0FBQ2hDLDRDQUFNLGtCQUFrQixtREFBVztBQUNuQyw0Q0FBTSxZQUFZLDhDQUFNO0FBQ3hCLDRDQUFNLGlCQUFpQixrREFBVTtBQUNqQztBQUNBLCtEQUFlLHFEQUFlLHdGQUF3RixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL01lbnVSYWRpby5qc3g/ZGE2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1NZW51UmFkaW8sIFZtSWNvbiwgVm1NZW51SXRlbSB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tbWVudS1yYWRpbycsIFZtTWVudVJhZGlvKTtcbmRlZmluZSgndm0taWNvbicsIFZtSWNvbik7XG5kZWZpbmUoJ3ZtLW1lbnUtaXRlbScsIFZtTWVudUl0ZW0pO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1tZW51LXJhZGlvJywgbmV3IFNldChbJ2xhYmVsJywgJ3ZhbHVlJywgJ2NoZWNrZWQnLCAnYmFkZ2UnLCAnY2hlY2tJY29uJywgJ2ljb25zJ10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/MenuRadio.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/MenuRadioGroup.jsx":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/MenuRadioGroup.jsx ***!
  \*************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-radio-group', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuRadioGroup);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-menu-radio-group', new Set(['value'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL01lbnVSYWRpb0dyb3VwLmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDSztBQUNkO0FBQ2hDLDRDQUFNLHdCQUF3Qix3REFBZ0I7QUFDOUM7QUFDQSwrREFBZSxxREFBZSwyQ0FBMkMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpbWUrcmVhY3RANS40LjFfQHZpbWUrY29yZUA1LjQuMV9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9NZW51UmFkaW9Hcm91cC5qc3g/NDc0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1NZW51UmFkaW9Hcm91cCB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tbWVudS1yYWRpby1ncm91cCcsIFZtTWVudVJhZGlvR3JvdXApO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1tZW51LXJhZGlvLWdyb3VwJywgbmV3IFNldChbJ3ZhbHVlJ10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/MenuRadioGroup.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/MuteControl.jsx":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/MuteControl.jsx ***!
  \**********************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-mute-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMuteControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-mute-control', new Set(['lowVolumeIcon', 'highVolumeIcon', 'mutedIcon', 'icons', 'tooltipPosition', 'tooltipDirection', 'hideTooltip', 'keys', 'volume', 'muted', 'i18n'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL011dGVDb250cm9sLmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDZ0M7QUFDekM7QUFDaEMsNENBQU0sb0JBQW9CLHFEQUFhO0FBQ3ZDLDRDQUFNLGVBQWUsaURBQVM7QUFDOUIsNENBQU0sWUFBWSw4Q0FBTTtBQUN4Qiw0Q0FBTSxlQUFlLGlEQUFTO0FBQzlCO0FBQ0EsK0RBQWUscURBQWUsZ0xBQWdMLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aW1lK3JlYWN0QDUuNC4xX0B2aW1lK2NvcmVANS40LjFfcmVhY3QtZG9tQDE4LjIuMF9yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvTXV0ZUNvbnRyb2wuanN4PzJjMzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtTXV0ZUNvbnRyb2wsIFZtQ29udHJvbCwgVm1JY29uLCBWbVRvb2x0aXAgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLW11dGUtY29udHJvbCcsIFZtTXV0ZUNvbnRyb2wpO1xuZGVmaW5lKCd2bS1jb250cm9sJywgVm1Db250cm9sKTtcbmRlZmluZSgndm0taWNvbicsIFZtSWNvbik7XG5kZWZpbmUoJ3ZtLXRvb2x0aXAnLCBWbVRvb2x0aXApO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1tdXRlLWNvbnRyb2wnLCBuZXcgU2V0KFsnbG93Vm9sdW1lSWNvbicsICdoaWdoVm9sdW1lSWNvbicsICdtdXRlZEljb24nLCAnaWNvbnMnLCAndG9vbHRpcFBvc2l0aW9uJywgJ3Rvb2x0aXBEaXJlY3Rpb24nLCAnaGlkZVRvb2x0aXAnLCAna2V5cycsICd2b2x1bWUnLCAnbXV0ZWQnLCAnaTE4biddKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/MuteControl.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/PipControl.jsx":
/*!*********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/PipControl.jsx ***!
  \*********************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-pip-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPipControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-pip-control', new Set(['enterIcon', 'exitIcon', 'icons', 'tooltipPosition', 'tooltipDirection', 'hideTooltip', 'keys', 'isPiPActive', 'i18n', 'playbackReady'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1BpcENvbnRyb2wuanN4IiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUMrQjtBQUN4QztBQUNoQyw0Q0FBTSxtQkFBbUIsb0RBQVk7QUFDckMsNENBQU0sZUFBZSxpREFBUztBQUM5Qiw0Q0FBTSxZQUFZLDhDQUFNO0FBQ3hCLDRDQUFNLGVBQWUsaURBQVM7QUFDOUI7QUFDQSwrREFBZSxxREFBZSxxS0FBcUssRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpbWUrcmVhY3RANS40LjFfQHZpbWUrY29yZUA1LjQuMV9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9QaXBDb250cm9sLmpzeD9lY2ZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbVBpcENvbnRyb2wsIFZtQ29udHJvbCwgVm1JY29uLCBWbVRvb2x0aXAgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLXBpcC1jb250cm9sJywgVm1QaXBDb250cm9sKTtcbmRlZmluZSgndm0tY29udHJvbCcsIFZtQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLWljb24nLCBWbUljb24pO1xuZGVmaW5lKCd2bS10b29sdGlwJywgVm1Ub29sdGlwKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tcGlwLWNvbnRyb2wnLCBuZXcgU2V0KFsnZW50ZXJJY29uJywgJ2V4aXRJY29uJywgJ2ljb25zJywgJ3Rvb2x0aXBQb3NpdGlvbicsICd0b29sdGlwRGlyZWN0aW9uJywgJ2hpZGVUb29sdGlwJywgJ2tleXMnLCAnaXNQaVBBY3RpdmUnLCAnaTE4bicsICdwbGF5YmFja1JlYWR5J10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/PipControl.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/PlaybackControl.jsx":
/*!**************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/PlaybackControl.jsx ***!
  \**************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-playback-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPlaybackControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-playback-control', new Set(['playIcon', 'pauseIcon', 'icons', 'tooltipPosition', 'tooltipDirection', 'hideTooltip', 'keys', 'paused', 'i18n'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1BsYXliYWNrQ29udHJvbC5qc3giLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ29DO0FBQzdDO0FBQ2hDLDRDQUFNLHdCQUF3Qix5REFBaUI7QUFDL0MsNENBQU0sZUFBZSxpREFBUztBQUM5Qiw0Q0FBTSxZQUFZLDhDQUFNO0FBQ3hCLDRDQUFNLGVBQWUsaURBQVM7QUFDOUI7QUFDQSwrREFBZSxxREFBZSxvSkFBb0osRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpbWUrcmVhY3RANS40LjFfQHZpbWUrY29yZUA1LjQuMV9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9QbGF5YmFja0NvbnRyb2wuanN4PzY2ZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtUGxheWJhY2tDb250cm9sLCBWbUNvbnRyb2wsIFZtSWNvbiwgVm1Ub29sdGlwIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1wbGF5YmFjay1jb250cm9sJywgVm1QbGF5YmFja0NvbnRyb2wpO1xuZGVmaW5lKCd2bS1jb250cm9sJywgVm1Db250cm9sKTtcbmRlZmluZSgndm0taWNvbicsIFZtSWNvbik7XG5kZWZpbmUoJ3ZtLXRvb2x0aXAnLCBWbVRvb2x0aXApO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1wbGF5YmFjay1jb250cm9sJywgbmV3IFNldChbJ3BsYXlJY29uJywgJ3BhdXNlSWNvbicsICdpY29ucycsICd0b29sdGlwUG9zaXRpb24nLCAndG9vbHRpcERpcmVjdGlvbicsICdoaWRlVG9vbHRpcCcsICdrZXlzJywgJ3BhdXNlZCcsICdpMThuJ10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/PlaybackControl.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Player.jsx":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Player.jsx ***!
  \*****************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-player', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPlayer);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-player', new Set(['logger', 'theme', 'icons', 'paused', 'playing', 'duration', 'mediaTitle', 'currentProvider', 'currentSrc', 'currentPoster', 'currentTime', 'autoplay', 'ready', 'playbackReady', 'loop', 'muted', 'buffered', 'playbackRate', 'playbackRates', 'playbackQuality', 'playbackQualities', 'seeking', 'debug', 'playbackStarted', 'playbackEnded', 'buffering', 'controls', 'isControlsActive', 'isSettingsActive', 'volume', 'isFullscreenActive', 'aspectRatio', 'viewType', 'isAudioView', 'isVideoView', 'mediaType', 'isAudio', 'isVideo', 'isLive', 'isMobile', 'isTouch', 'isPiPActive', 'textTracks', 'currentTextTrack', 'isTextTrackVisible', 'shouldRenderNativeTextTracks', 'audioTracks', 'currentAudioTrack', 'autopause', 'playsinline', 'language', 'translations', 'languages', 'i18n'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1BsYXllci5qc3giLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ0g7QUFDTjtBQUNoQyw0Q0FBTSxjQUFjLGdEQUFRO0FBQzVCO0FBQ0EsK0RBQWUscURBQWUsOHhCQUE4eEIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpbWUrcmVhY3RANS40LjFfQHZpbWUrY29yZUA1LjQuMV9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9QbGF5ZXIuanN4P2UyOWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtUGxheWVyIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1wbGF5ZXInLCBWbVBsYXllcik7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLXBsYXllcicsIG5ldyBTZXQoWydsb2dnZXInLCAndGhlbWUnLCAnaWNvbnMnLCAncGF1c2VkJywgJ3BsYXlpbmcnLCAnZHVyYXRpb24nLCAnbWVkaWFUaXRsZScsICdjdXJyZW50UHJvdmlkZXInLCAnY3VycmVudFNyYycsICdjdXJyZW50UG9zdGVyJywgJ2N1cnJlbnRUaW1lJywgJ2F1dG9wbGF5JywgJ3JlYWR5JywgJ3BsYXliYWNrUmVhZHknLCAnbG9vcCcsICdtdXRlZCcsICdidWZmZXJlZCcsICdwbGF5YmFja1JhdGUnLCAncGxheWJhY2tSYXRlcycsICdwbGF5YmFja1F1YWxpdHknLCAncGxheWJhY2tRdWFsaXRpZXMnLCAnc2Vla2luZycsICdkZWJ1ZycsICdwbGF5YmFja1N0YXJ0ZWQnLCAncGxheWJhY2tFbmRlZCcsICdidWZmZXJpbmcnLCAnY29udHJvbHMnLCAnaXNDb250cm9sc0FjdGl2ZScsICdpc1NldHRpbmdzQWN0aXZlJywgJ3ZvbHVtZScsICdpc0Z1bGxzY3JlZW5BY3RpdmUnLCAnYXNwZWN0UmF0aW8nLCAndmlld1R5cGUnLCAnaXNBdWRpb1ZpZXcnLCAnaXNWaWRlb1ZpZXcnLCAnbWVkaWFUeXBlJywgJ2lzQXVkaW8nLCAnaXNWaWRlbycsICdpc0xpdmUnLCAnaXNNb2JpbGUnLCAnaXNUb3VjaCcsICdpc1BpUEFjdGl2ZScsICd0ZXh0VHJhY2tzJywgJ2N1cnJlbnRUZXh0VHJhY2snLCAnaXNUZXh0VHJhY2tWaXNpYmxlJywgJ3Nob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MnLCAnYXVkaW9UcmFja3MnLCAnY3VycmVudEF1ZGlvVHJhY2snLCAnYXV0b3BhdXNlJywgJ3BsYXlzaW5saW5lJywgJ2xhbmd1YWdlJywgJ3RyYW5zbGF0aW9ucycsICdsYW5ndWFnZXMnLCAnaTE4biddKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Player.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Poster.jsx":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Poster.jsx ***!
  \*****************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-poster', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPoster);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-poster', new Set(['fit', 'isVideoView', 'currentPoster', 'mediaTitle', 'playbackStarted', 'currentTime'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1Bvc3Rlci5qc3giLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ0g7QUFDTjtBQUNoQyw0Q0FBTSxjQUFjLGdEQUFRO0FBQzVCO0FBQ0EsK0RBQWUscURBQWUsK0dBQStHLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aW1lK3JlYWN0QDUuNC4xX0B2aW1lK2NvcmVANS40LjFfcmVhY3QtZG9tQDE4LjIuMF9yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvUG9zdGVyLmpzeD8wOTc0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbVBvc3RlciB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tcG9zdGVyJywgVm1Qb3N0ZXIpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1wb3N0ZXInLCBuZXcgU2V0KFsnZml0JywgJ2lzVmlkZW9WaWV3JywgJ2N1cnJlbnRQb3N0ZXInLCAnbWVkaWFUaXRsZScsICdwbGF5YmFja1N0YXJ0ZWQnLCAnY3VycmVudFRpbWUnXSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Poster.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Scrim.jsx":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Scrim.jsx ***!
  \****************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-scrim', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmScrim);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-scrim', new Set(['gradient', 'isVideoView', 'isControlsActive'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1NjcmltLmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDSjtBQUNMO0FBQ2hDLDRDQUFNLGFBQWEsK0NBQU87QUFDMUI7QUFDQSwrREFBZSxxREFBZSxzRUFBc0UsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpbWUrcmVhY3RANS40LjFfQHZpbWUrY29yZUA1LjQuMV9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9TY3JpbS5qc3g/OTczOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1TY3JpbSB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tc2NyaW0nLCBWbVNjcmltKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tc2NyaW0nLCBuZXcgU2V0KFsnZ3JhZGllbnQnLCAnaXNWaWRlb1ZpZXcnLCAnaXNDb250cm9sc0FjdGl2ZSddKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Scrim.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/ScrubberControl.jsx":
/*!**************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/ScrubberControl.jsx ***!
  \**************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-scrubber-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmScrubberControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-slider', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSlider);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-scrubber-control', new Set(['alwaysShowHours', 'hideTooltip', 'currentTime', 'duration', 'noKeyboard', 'buffering', 'buffered', 'i18n'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1NjcnViYmVyQ29udHJvbC5qc3giLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQzJCO0FBQ3BDO0FBQ2hDLDRDQUFNLHdCQUF3Qix5REFBaUI7QUFDL0MsNENBQU0sY0FBYyxnREFBUTtBQUM1Qiw0Q0FBTSxlQUFlLGlEQUFTO0FBQzlCO0FBQ0EsK0RBQWUscURBQWUsOElBQThJLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aW1lK3JlYWN0QDUuNC4xX0B2aW1lK2NvcmVANS40LjFfcmVhY3QtZG9tQDE4LjIuMF9yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvU2NydWJiZXJDb250cm9sLmpzeD80YTk4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbVNjcnViYmVyQ29udHJvbCwgVm1TbGlkZXIsIFZtVG9vbHRpcCB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tc2NydWJiZXItY29udHJvbCcsIFZtU2NydWJiZXJDb250cm9sKTtcbmRlZmluZSgndm0tc2xpZGVyJywgVm1TbGlkZXIpO1xuZGVmaW5lKCd2bS10b29sdGlwJywgVm1Ub29sdGlwKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tc2NydWJiZXItY29udHJvbCcsIG5ldyBTZXQoWydhbHdheXNTaG93SG91cnMnLCAnaGlkZVRvb2x0aXAnLCAnY3VycmVudFRpbWUnLCAnZHVyYXRpb24nLCAnbm9LZXlib2FyZCcsICdidWZmZXJpbmcnLCAnYnVmZmVyZWQnLCAnaTE4biddKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/ScrubberControl.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Settings.jsx":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Settings.jsx ***!
  \*******************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-settings', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSettings);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenu);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-settings', new Set(['pin', 'active', 'isMobile', 'isAudioView'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1NldHRpbmdzLmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDTztBQUNoQjtBQUNoQyw0Q0FBTSxnQkFBZ0Isa0RBQVU7QUFDaEMsNENBQU0sWUFBWSw4Q0FBTTtBQUN4QjtBQUNBLCtEQUFlLHFEQUFlLHNFQUFzRSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1NldHRpbmdzLmpzeD8yODBhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbVNldHRpbmdzLCBWbU1lbnUgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLXNldHRpbmdzJywgVm1TZXR0aW5ncyk7XG5kZWZpbmUoJ3ZtLW1lbnUnLCBWbU1lbnUpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1zZXR0aW5ncycsIG5ldyBTZXQoWydwaW4nLCAnYWN0aXZlJywgJ2lzTW9iaWxlJywgJ2lzQXVkaW9WaWV3J10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Settings.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/SettingsControl.jsx":
/*!**************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/SettingsControl.jsx ***!
  \**************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-settings-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSettingsControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-settings-control', new Set(['icon', 'icons', 'tooltipPosition', 'tooltipDirection', 'menu', 'expanded', 'i18n', 'hideTooltip'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1NldHRpbmdzQ29udHJvbC5qc3giLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ29DO0FBQzdDO0FBQ2hDLDRDQUFNLHdCQUF3Qix5REFBaUI7QUFDL0MsNENBQU0sZUFBZSxpREFBUztBQUM5Qiw0Q0FBTSxZQUFZLDhDQUFNO0FBQ3hCLDRDQUFNLGVBQWUsaURBQVM7QUFDOUI7QUFDQSwrREFBZSxxREFBZSxxSUFBcUksRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpbWUrcmVhY3RANS40LjFfQHZpbWUrY29yZUA1LjQuMV9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9TZXR0aW5nc0NvbnRyb2wuanN4P2IyZGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtU2V0dGluZ3NDb250cm9sLCBWbUNvbnRyb2wsIFZtSWNvbiwgVm1Ub29sdGlwIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1zZXR0aW5ncy1jb250cm9sJywgVm1TZXR0aW5nc0NvbnRyb2wpO1xuZGVmaW5lKCd2bS1jb250cm9sJywgVm1Db250cm9sKTtcbmRlZmluZSgndm0taWNvbicsIFZtSWNvbik7XG5kZWZpbmUoJ3ZtLXRvb2x0aXAnLCBWbVRvb2x0aXApO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1zZXR0aW5ncy1jb250cm9sJywgbmV3IFNldChbJ2ljb24nLCAnaWNvbnMnLCAndG9vbHRpcFBvc2l0aW9uJywgJ3Rvb2x0aXBEaXJlY3Rpb24nLCAnbWVudScsICdleHBhbmRlZCcsICdpMThuJywgJ2hpZGVUb29sdGlwJ10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/SettingsControl.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Skeleton.jsx":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Skeleton.jsx ***!
  \*******************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-skeleton', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSkeleton);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-skeleton', new Set(['effect', 'ready'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1NrZWxldG9uLmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDRDtBQUNSO0FBQ2hDLDRDQUFNLGdCQUFnQixrREFBVTtBQUNoQztBQUNBLCtEQUFlLHFEQUFlLDZDQUE2QyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1NrZWxldG9uLmpzeD9hMzRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbVNrZWxldG9uIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1za2VsZXRvbicsIFZtU2tlbGV0b24pO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1za2VsZXRvbicsIG5ldyBTZXQoWydlZmZlY3QnLCAncmVhZHknXSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Skeleton.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Slider.jsx":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Slider.jsx ***!
  \*****************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-slider', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSlider);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-slider', new Set(['step', 'min', 'max', 'value', 'valueText', 'label'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1NsaWRlci5qc3giLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ0g7QUFDTjtBQUNoQyw0Q0FBTSxjQUFjLGdEQUFRO0FBQzVCO0FBQ0EsK0RBQWUscURBQWUsNkVBQTZFLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2aW1lK3JlYWN0QDUuNC4xX0B2aW1lK2NvcmVANS40LjFfcmVhY3QtZG9tQDE4LjIuMF9yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvU2xpZGVyLmpzeD9jYzJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbVNsaWRlciB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tc2xpZGVyJywgVm1TbGlkZXIpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1zbGlkZXInLCBuZXcgU2V0KFsnc3RlcCcsICdtaW4nLCAnbWF4JywgJ3ZhbHVlJywgJ3ZhbHVlVGV4dCcsICdsYWJlbCddKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Slider.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Spinner.jsx":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Spinner.jsx ***!
  \******************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-spinner', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSpinner);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-spinner', new Set(['isVideoView', 'currentProvider', 'showWhenMediaLoading', 'playbackReady', 'buffering'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1NwaW5uZXIuanN4IiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNGO0FBQ1A7QUFDaEMsNENBQU0sZUFBZSxpREFBUztBQUM5QjtBQUNBLCtEQUFlLHFEQUFlLGlIQUFpSCxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1NwaW5uZXIuanN4P2ZjNmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtU3Bpbm5lciB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tc3Bpbm5lcicsIFZtU3Bpbm5lcik7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLXNwaW5uZXInLCBuZXcgU2V0KFsnaXNWaWRlb1ZpZXcnLCAnY3VycmVudFByb3ZpZGVyJywgJ3Nob3dXaGVuTWVkaWFMb2FkaW5nJywgJ3BsYXliYWNrUmVhZHknLCAnYnVmZmVyaW5nJ10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Spinner.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Submenu.jsx":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Submenu.jsx ***!
  \******************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-submenu', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSubmenu);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenu);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-item', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuItem);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-submenu', new Set(['label', 'hint', 'slideInDirection', 'active'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1N1Ym1lbnUuanN4IiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUMwQjtBQUNuQztBQUNoQyw0Q0FBTSxlQUFlLGlEQUFTO0FBQzlCLDRDQUFNLFlBQVksOENBQU07QUFDeEIsNENBQU0sWUFBWSw4Q0FBTTtBQUN4Qiw0Q0FBTSxpQkFBaUIsa0RBQVU7QUFDakM7QUFDQSwrREFBZSxxREFBZSx3RUFBd0UsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpbWUrcmVhY3RANS40LjFfQHZpbWUrY29yZUA1LjQuMV9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9TdWJtZW51LmpzeD8zOTliIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbVN1Ym1lbnUsIFZtSWNvbiwgVm1NZW51LCBWbU1lbnVJdGVtIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1zdWJtZW51JywgVm1TdWJtZW51KTtcbmRlZmluZSgndm0taWNvbicsIFZtSWNvbik7XG5kZWZpbmUoJ3ZtLW1lbnUnLCBWbU1lbnUpO1xuZGVmaW5lKCd2bS1tZW51LWl0ZW0nLCBWbU1lbnVJdGVtKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tc3VibWVudScsIG5ldyBTZXQoWydsYWJlbCcsICdoaW50JywgJ3NsaWRlSW5EaXJlY3Rpb24nLCAnYWN0aXZlJ10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Submenu.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Time.jsx":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Time.jsx ***!
  \***************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTime);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-time', new Set(['label', 'seconds', 'alwaysShowHours'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1RpbWUuanN4IiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNMO0FBQ0o7QUFDaEMsNENBQU0sWUFBWSw4Q0FBTTtBQUN4QjtBQUNBLCtEQUFlLHFEQUFlLDZEQUE2RCxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1RpbWUuanN4P2RmZTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtVGltZSB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tdGltZScsIFZtVGltZSk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLXRpbWUnLCBuZXcgU2V0KFsnbGFiZWwnLCAnc2Vjb25kcycsICdhbHdheXNTaG93SG91cnMnXSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Time.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/TimeProgress.jsx":
/*!***********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/TimeProgress.jsx ***!
  \***********************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time-progress', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTimeProgress);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-current-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCurrentTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-end-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmEndTime);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-time-progress', new Set(['separator', 'alwaysShowHours'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1RpbWVQcm9ncmVzcy5qc3giLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ3FDO0FBQzlDO0FBQ2hDLDRDQUFNLHFCQUFxQixzREFBYztBQUN6Qyw0Q0FBTSxvQkFBb0IscURBQWE7QUFDdkMsNENBQU0sWUFBWSw4Q0FBTTtBQUN4Qiw0Q0FBTSxnQkFBZ0IsaURBQVM7QUFDL0I7QUFDQSwrREFBZSxxREFBZSwrREFBK0QsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpbWUrcmVhY3RANS40LjFfQHZpbWUrY29yZUA1LjQuMV9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9UaW1lUHJvZ3Jlc3MuanN4PzIwNTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtVGltZVByb2dyZXNzLCBWbUN1cnJlbnRUaW1lLCBWbVRpbWUsIFZtRW5kVGltZSB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tdGltZS1wcm9ncmVzcycsIFZtVGltZVByb2dyZXNzKTtcbmRlZmluZSgndm0tY3VycmVudC10aW1lJywgVm1DdXJyZW50VGltZSk7XG5kZWZpbmUoJ3ZtLXRpbWUnLCBWbVRpbWUpO1xuZGVmaW5lKCd2bS1lbmQtdGltZScsIFZtRW5kVGltZSk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLXRpbWUtcHJvZ3Jlc3MnLCBuZXcgU2V0KFsnc2VwYXJhdG9yJywgJ2Fsd2F5c1Nob3dIb3VycyddKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/TimeProgress.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Tooltip.jsx":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Tooltip.jsx ***!
  \******************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-tooltip', new Set(['hidden', 'active', 'position', 'direction', 'isTouch', 'isMobile'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1Rvb2x0aXAuanN4IiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNGO0FBQ1A7QUFDaEMsNENBQU0sZUFBZSxpREFBUztBQUM5QjtBQUNBLCtEQUFlLHFEQUFlLDZGQUE2RixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1Rvb2x0aXAuanN4P2Y1MWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtVG9vbHRpcCB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tdG9vbHRpcCcsIFZtVG9vbHRpcCk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLXRvb2x0aXAnLCBuZXcgU2V0KFsnaGlkZGVuJywgJ2FjdGl2ZScsICdwb3NpdGlvbicsICdkaXJlY3Rpb24nLCAnaXNUb3VjaCcsICdpc01vYmlsZSddKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Tooltip.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Ui.jsx":
/*!*************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Ui.jsx ***!
  \*************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-ui', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmUi);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-ui', new Set(['isVideoView', 'playsinline', 'isFullscreenActive'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1VpLmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDUDtBQUNGO0FBQ2hDLDRDQUFNLFVBQVUsNENBQUk7QUFDcEI7QUFDQSwrREFBZSxxREFBZSx3RUFBd0UsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpbWUrcmVhY3RANS40LjFfQHZpbWUrY29yZUA1LjQuMV9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9VaS5qc3g/YTg1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1VaSB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tdWknLCBWbVVpKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tdWknLCBuZXcgU2V0KFsnaXNWaWRlb1ZpZXcnLCAncGxheXNpbmxpbmUnLCAnaXNGdWxsc2NyZWVuQWN0aXZlJ10pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Ui.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Video.jsx":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Video.jsx ***!
  \****************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-video', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmVideo);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-file', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmFile);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-video', new Set(['willAttach', 'hasCustomTextManager', 'crossOrigin', 'preload', 'poster', 'controlsList', 'autoPiP', 'disablePiP', 'disableRemotePlayback', 'mediaTitle'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1ZpZGVvLmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDSTtBQUNiO0FBQ2hDLDRDQUFNLGFBQWEsK0NBQU87QUFDMUIsNENBQU0sWUFBWSw4Q0FBTTtBQUN4QjtBQUNBLCtEQUFlLHFEQUFlLGlMQUFpTCxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1ZpZGVvLmpzeD9kNGMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbVZpZGVvLCBWbUZpbGUgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLXZpZGVvJywgVm1WaWRlbyk7XG5kZWZpbmUoJ3ZtLWZpbGUnLCBWbUZpbGUpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS12aWRlbycsIG5ldyBTZXQoWyd3aWxsQXR0YWNoJywgJ2hhc0N1c3RvbVRleHRNYW5hZ2VyJywgJ2Nyb3NzT3JpZ2luJywgJ3ByZWxvYWQnLCAncG9zdGVyJywgJ2NvbnRyb2xzTGlzdCcsICdhdXRvUGlQJywgJ2Rpc2FibGVQaVAnLCAnZGlzYWJsZVJlbW90ZVBsYXliYWNrJywgJ21lZGlhVGl0bGUnXSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Video.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Vimeo.jsx":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Vimeo.jsx ***!
  \****************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-vimeo', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmVimeo);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-embed', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmEmbed);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-vimeo', new Set(['videoId', 'byline', 'color', 'portrait', 'noAutoAspectRatio', 'poster', 'cookies', 'language', 'aspectRatio', 'autoplay', 'controls', 'logger', 'loop', 'muted', 'playsinline'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1ZpbWVvLmpzeCIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDSztBQUNkO0FBQ2hDLDRDQUFNLGFBQWEsK0NBQU87QUFDMUIsNENBQU0sYUFBYSwrQ0FBTztBQUMxQjtBQUNBLCtEQUFlLHFEQUFlLHdNQUF3TSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1ZpbWVvLmpzeD9lMDJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbVZpbWVvLCBWbUVtYmVkIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS12aW1lbycsIFZtVmltZW8pO1xuZGVmaW5lKCd2bS1lbWJlZCcsIFZtRW1iZWQpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS12aW1lbycsIG5ldyBTZXQoWyd2aWRlb0lkJywgJ2J5bGluZScsICdjb2xvcicsICdwb3J0cmFpdCcsICdub0F1dG9Bc3BlY3RSYXRpbycsICdwb3N0ZXInLCAnY29va2llcycsICdsYW5ndWFnZScsICdhc3BlY3RSYXRpbycsICdhdXRvcGxheScsICdjb250cm9scycsICdsb2dnZXInLCAnbG9vcCcsICdtdXRlZCcsICdwbGF5c2lubGluZSddKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Vimeo.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/VolumeControl.jsx":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/VolumeControl.jsx ***!
  \************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-volume-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmVolumeControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-mute-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMuteControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-slider', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSlider);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-volume-control', new Set(['lowVolumeIcon', 'highVolumeIcon', 'mutedIcon', 'icons', 'tooltipPosition', 'tooltipDirection', 'hideTooltip', 'muteKeys', 'noKeyboard', 'muted', 'volume', 'isMobile', 'i18n'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1ZvbHVtZUNvbnRyb2wuanN4IiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUMyRDtBQUNwRTtBQUNoQyw0Q0FBTSxzQkFBc0IsdURBQWU7QUFDM0MsNENBQU0sZUFBZSxpREFBUztBQUM5Qiw0Q0FBTSxZQUFZLDhDQUFNO0FBQ3hCLDRDQUFNLG9CQUFvQixxREFBYTtBQUN2Qyw0Q0FBTSxlQUFlLGlEQUFTO0FBQzlCLDRDQUFNLGNBQWMsZ0RBQVE7QUFDNUI7QUFDQSwrREFBZSxxREFBZSxnTkFBZ04sRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpbWUrcmVhY3RANS40LjFfQHZpbWUrY29yZUA1LjQuMV9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9Wb2x1bWVDb250cm9sLmpzeD9iOGQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbVZvbHVtZUNvbnRyb2wsIFZtQ29udHJvbCwgVm1JY29uLCBWbU11dGVDb250cm9sLCBWbVRvb2x0aXAsIFZtU2xpZGVyIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS12b2x1bWUtY29udHJvbCcsIFZtVm9sdW1lQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLWNvbnRyb2wnLCBWbUNvbnRyb2wpO1xuZGVmaW5lKCd2bS1pY29uJywgVm1JY29uKTtcbmRlZmluZSgndm0tbXV0ZS1jb250cm9sJywgVm1NdXRlQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLXRvb2x0aXAnLCBWbVRvb2x0aXApO1xuZGVmaW5lKCd2bS1zbGlkZXInLCBWbVNsaWRlcik7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLXZvbHVtZS1jb250cm9sJywgbmV3IFNldChbJ2xvd1ZvbHVtZUljb24nLCAnaGlnaFZvbHVtZUljb24nLCAnbXV0ZWRJY29uJywgJ2ljb25zJywgJ3Rvb2x0aXBQb3NpdGlvbicsICd0b29sdGlwRGlyZWN0aW9uJywgJ2hpZGVUb29sdGlwJywgJ211dGVLZXlzJywgJ25vS2V5Ym9hcmQnLCAnbXV0ZWQnLCAndm9sdW1lJywgJ2lzTW9iaWxlJywgJ2kxOG4nXSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/VolumeControl.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Youtube.jsx":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Youtube.jsx ***!
  \******************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-youtube', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmYoutube);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-embed', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmEmbed);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-youtube', new Set(['cookies', 'videoId', 'showFullscreenControl', 'poster', 'language', 'autoplay', 'controls', 'logger', 'loop', 'muted', 'playsinline'])));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1lvdXR1YmUuanN4IiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNPO0FBQ2hCO0FBQ2hDLDRDQUFNLGVBQWUsaURBQVM7QUFDOUIsNENBQU0sYUFBYSwrQ0FBTztBQUMxQjtBQUNBLCtEQUFlLHFEQUFlLGdLQUFnSyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1lvdXR1YmUuanN4PzI5NDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtWW91dHViZSwgVm1FbWJlZCB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0teW91dHViZScsIFZtWW91dHViZSk7XG5kZWZpbmUoJ3ZtLWVtYmVkJywgVm1FbWJlZCk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLXlvdXR1YmUnLCBuZXcgU2V0KFsnY29va2llcycsICd2aWRlb0lkJywgJ3Nob3dGdWxsc2NyZWVuQ29udHJvbCcsICdwb3N0ZXInLCAnbGFuZ3VhZ2UnLCAnYXV0b3BsYXknLCAnY29udHJvbHMnLCAnbG9nZ2VyJywgJ2xvb3AnLCAnbXV0ZWQnLCAncGxheXNpbmxpbmUnXSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Youtube.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/index.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/index.js ***!
  \***************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Audio: function() { return /* binding */ Audio; },\n/* harmony export */   CaptionControl: function() { return /* binding */ CaptionControl; },\n/* harmony export */   Captions: function() { return /* binding */ Captions; },\n/* harmony export */   ClickToPlay: function() { return /* binding */ ClickToPlay; },\n/* harmony export */   Control: function() { return /* binding */ Control; },\n/* harmony export */   ControlGroup: function() { return /* binding */ ControlGroup; },\n/* harmony export */   ControlSpacer: function() { return /* binding */ ControlSpacer; },\n/* harmony export */   Controls: function() { return /* binding */ Controls; },\n/* harmony export */   CurrentTime: function() { return /* binding */ CurrentTime; },\n/* harmony export */   Dailymotion: function() { return /* binding */ Dailymotion; },\n/* harmony export */   Dash: function() { return /* binding */ Dash; },\n/* harmony export */   DblClickFullscreen: function() { return /* binding */ DblClickFullscreen; },\n/* harmony export */   DefaultControls: function() { return /* binding */ DefaultControls; },\n/* harmony export */   DefaultSettings: function() { return /* binding */ DefaultSettings; },\n/* harmony export */   DefaultUi: function() { return /* binding */ DefaultUi; },\n/* harmony export */   Embed: function() { return /* binding */ Embed; },\n/* harmony export */   EndTime: function() { return /* binding */ EndTime; },\n/* harmony export */   File: function() { return /* binding */ File; },\n/* harmony export */   FullscreenControl: function() { return /* binding */ FullscreenControl; },\n/* harmony export */   Hls: function() { return /* binding */ Hls; },\n/* harmony export */   Icon: function() { return /* binding */ Icon; },\n/* harmony export */   IconLibrary: function() { return /* binding */ IconLibrary; },\n/* harmony export */   LiveIndicator: function() { return /* binding */ LiveIndicator; },\n/* harmony export */   LoadingScreen: function() { return /* binding */ LoadingScreen; },\n/* harmony export */   Menu: function() { return /* binding */ Menu; },\n/* harmony export */   MenuItem: function() { return /* binding */ MenuItem; },\n/* harmony export */   MenuRadio: function() { return /* binding */ MenuRadio; },\n/* harmony export */   MenuRadioGroup: function() { return /* binding */ MenuRadioGroup; },\n/* harmony export */   MuteControl: function() { return /* binding */ MuteControl; },\n/* harmony export */   PipControl: function() { return /* binding */ PipControl; },\n/* harmony export */   PlaybackControl: function() { return /* binding */ PlaybackControl; },\n/* harmony export */   Player: function() { return /* binding */ Player; },\n/* harmony export */   Poster: function() { return /* binding */ Poster; },\n/* harmony export */   Scrim: function() { return /* binding */ Scrim; },\n/* harmony export */   ScrubberControl: function() { return /* binding */ ScrubberControl; },\n/* harmony export */   Settings: function() { return /* binding */ Settings; },\n/* harmony export */   SettingsControl: function() { return /* binding */ SettingsControl; },\n/* harmony export */   Skeleton: function() { return /* binding */ Skeleton; },\n/* harmony export */   Slider: function() { return /* binding */ Slider; },\n/* harmony export */   Spinner: function() { return /* binding */ Spinner; },\n/* harmony export */   Submenu: function() { return /* binding */ Submenu; },\n/* harmony export */   Time: function() { return /* binding */ Time; },\n/* harmony export */   TimeProgress: function() { return /* binding */ TimeProgress; },\n/* harmony export */   Tooltip: function() { return /* binding */ Tooltip; },\n/* harmony export */   Ui: function() { return /* binding */ Ui; },\n/* harmony export */   Video: function() { return /* binding */ Video; },\n/* harmony export */   Vimeo: function() { return /* binding */ Vimeo; },\n/* harmony export */   VolumeControl: function() { return /* binding */ VolumeControl; },\n/* harmony export */   Youtube: function() { return /* binding */ Youtube; }\n/* harmony export */ });\n/* harmony import */ var _Audio__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Audio */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Audio.jsx\");\n/* harmony import */ var _CaptionControl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CaptionControl */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/CaptionControl.jsx\");\n/* harmony import */ var _Captions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Captions */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Captions.jsx\");\n/* harmony import */ var _ClickToPlay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ClickToPlay */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/ClickToPlay.jsx\");\n/* harmony import */ var _Control__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Control */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Control.jsx\");\n/* harmony import */ var _ControlGroup__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ControlGroup */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/ControlGroup.jsx\");\n/* harmony import */ var _ControlSpacer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ControlSpacer */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/ControlSpacer.jsx\");\n/* harmony import */ var _Controls__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Controls */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Controls.jsx\");\n/* harmony import */ var _CurrentTime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./CurrentTime */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/CurrentTime.jsx\");\n/* harmony import */ var _Dailymotion__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Dailymotion */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Dailymotion.jsx\");\n/* harmony import */ var _Dash__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Dash */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Dash.jsx\");\n/* harmony import */ var _DblClickFullscreen__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./DblClickFullscreen */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/DblClickFullscreen.jsx\");\n/* harmony import */ var _DefaultControls__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./DefaultControls */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/DefaultControls.jsx\");\n/* harmony import */ var _DefaultSettings__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./DefaultSettings */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/DefaultSettings.jsx\");\n/* harmony import */ var _DefaultUi__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./DefaultUi */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/DefaultUi.jsx\");\n/* harmony import */ var _Embed__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Embed */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Embed.jsx\");\n/* harmony import */ var _EndTime__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./EndTime */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/EndTime.jsx\");\n/* harmony import */ var _File__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./File */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/File.jsx\");\n/* harmony import */ var _FullscreenControl__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./FullscreenControl */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/FullscreenControl.jsx\");\n/* harmony import */ var _Hls__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./Hls */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Hls.jsx\");\n/* harmony import */ var _Icon__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Icon */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Icon.jsx\");\n/* harmony import */ var _IconLibrary__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./IconLibrary */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/IconLibrary.jsx\");\n/* harmony import */ var _LiveIndicator__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./LiveIndicator */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/LiveIndicator.jsx\");\n/* harmony import */ var _LoadingScreen__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./LoadingScreen */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/LoadingScreen.jsx\");\n/* harmony import */ var _Menu__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./Menu */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Menu.jsx\");\n/* harmony import */ var _MenuItem__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./MenuItem */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/MenuItem.jsx\");\n/* harmony import */ var _MenuRadio__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./MenuRadio */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/MenuRadio.jsx\");\n/* harmony import */ var _MenuRadioGroup__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./MenuRadioGroup */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/MenuRadioGroup.jsx\");\n/* harmony import */ var _MuteControl__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./MuteControl */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/MuteControl.jsx\");\n/* harmony import */ var _PipControl__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./PipControl */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/PipControl.jsx\");\n/* harmony import */ var _PlaybackControl__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./PlaybackControl */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/PlaybackControl.jsx\");\n/* harmony import */ var _Player__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./Player */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Player.jsx\");\n/* harmony import */ var _Poster__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./Poster */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Poster.jsx\");\n/* harmony import */ var _Scrim__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./Scrim */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Scrim.jsx\");\n/* harmony import */ var _ScrubberControl__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./ScrubberControl */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/ScrubberControl.jsx\");\n/* harmony import */ var _Settings__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./Settings */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Settings.jsx\");\n/* harmony import */ var _SettingsControl__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./SettingsControl */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/SettingsControl.jsx\");\n/* harmony import */ var _Skeleton__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./Skeleton */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Skeleton.jsx\");\n/* harmony import */ var _Slider__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./Slider */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Slider.jsx\");\n/* harmony import */ var _Spinner__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./Spinner */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Spinner.jsx\");\n/* harmony import */ var _Submenu__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./Submenu */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Submenu.jsx\");\n/* harmony import */ var _Time__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./Time */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Time.jsx\");\n/* harmony import */ var _TimeProgress__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./TimeProgress */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/TimeProgress.jsx\");\n/* harmony import */ var _Tooltip__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./Tooltip */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Tooltip.jsx\");\n/* harmony import */ var _Ui__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./Ui */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Ui.jsx\");\n/* harmony import */ var _Video__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./Video */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Video.jsx\");\n/* harmony import */ var _Vimeo__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./Vimeo */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Vimeo.jsx\");\n/* harmony import */ var _VolumeControl__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./VolumeControl */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/VolumeControl.jsx\");\n/* harmony import */ var _Youtube__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./Youtube */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/Youtube.jsx\");\n/* eslint-disable */\n/* tslint:disable */\n// @ts-nocheck\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Audio = /*#__PURE__*/ _Audio__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\nconst CaptionControl = /*#__PURE__*/ _CaptionControl__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\nconst Captions = /*#__PURE__*/ _Captions__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\nconst ClickToPlay = /*#__PURE__*/ _ClickToPlay__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\nconst Control = /*#__PURE__*/ _Control__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\nconst ControlGroup = /*#__PURE__*/ _ControlGroup__WEBPACK_IMPORTED_MODULE_5__[\"default\"];\nconst ControlSpacer = /*#__PURE__*/ _ControlSpacer__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\nconst Controls = /*#__PURE__*/ _Controls__WEBPACK_IMPORTED_MODULE_7__[\"default\"];\nconst CurrentTime = /*#__PURE__*/ _CurrentTime__WEBPACK_IMPORTED_MODULE_8__[\"default\"];\nconst Dailymotion = /*#__PURE__*/ _Dailymotion__WEBPACK_IMPORTED_MODULE_9__[\"default\"];\nconst Dash = /*#__PURE__*/ _Dash__WEBPACK_IMPORTED_MODULE_10__[\"default\"];\nconst DblClickFullscreen = /*#__PURE__*/ _DblClickFullscreen__WEBPACK_IMPORTED_MODULE_11__[\"default\"];\nconst DefaultControls = /*#__PURE__*/ _DefaultControls__WEBPACK_IMPORTED_MODULE_12__[\"default\"];\nconst DefaultSettings = /*#__PURE__*/ _DefaultSettings__WEBPACK_IMPORTED_MODULE_13__[\"default\"];\nconst DefaultUi = /*#__PURE__*/ _DefaultUi__WEBPACK_IMPORTED_MODULE_14__[\"default\"];\nconst Embed = /*#__PURE__*/ _Embed__WEBPACK_IMPORTED_MODULE_15__[\"default\"];\nconst EndTime = /*#__PURE__*/ _EndTime__WEBPACK_IMPORTED_MODULE_16__[\"default\"];\nconst File = /*#__PURE__*/ _File__WEBPACK_IMPORTED_MODULE_17__[\"default\"];\nconst FullscreenControl = /*#__PURE__*/ _FullscreenControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"];\nconst Hls = /*#__PURE__*/ _Hls__WEBPACK_IMPORTED_MODULE_19__[\"default\"];\nconst Icon = /*#__PURE__*/ _Icon__WEBPACK_IMPORTED_MODULE_20__[\"default\"];\nconst IconLibrary = /*#__PURE__*/ _IconLibrary__WEBPACK_IMPORTED_MODULE_21__[\"default\"];\nconst LiveIndicator = /*#__PURE__*/ _LiveIndicator__WEBPACK_IMPORTED_MODULE_22__[\"default\"];\nconst LoadingScreen = /*#__PURE__*/ _LoadingScreen__WEBPACK_IMPORTED_MODULE_23__[\"default\"];\nconst Menu = /*#__PURE__*/ _Menu__WEBPACK_IMPORTED_MODULE_24__[\"default\"];\nconst MenuItem = /*#__PURE__*/ _MenuItem__WEBPACK_IMPORTED_MODULE_25__[\"default\"];\nconst MenuRadio = /*#__PURE__*/ _MenuRadio__WEBPACK_IMPORTED_MODULE_26__[\"default\"];\nconst MenuRadioGroup = /*#__PURE__*/ _MenuRadioGroup__WEBPACK_IMPORTED_MODULE_27__[\"default\"];\nconst MuteControl = /*#__PURE__*/ _MuteControl__WEBPACK_IMPORTED_MODULE_28__[\"default\"];\nconst PipControl = /*#__PURE__*/ _PipControl__WEBPACK_IMPORTED_MODULE_29__[\"default\"];\nconst PlaybackControl = /*#__PURE__*/ _PlaybackControl__WEBPACK_IMPORTED_MODULE_30__[\"default\"];\nconst Player = /*#__PURE__*/ _Player__WEBPACK_IMPORTED_MODULE_31__[\"default\"];\nconst Poster = /*#__PURE__*/ _Poster__WEBPACK_IMPORTED_MODULE_32__[\"default\"];\nconst Scrim = /*#__PURE__*/ _Scrim__WEBPACK_IMPORTED_MODULE_33__[\"default\"];\nconst ScrubberControl = /*#__PURE__*/ _ScrubberControl__WEBPACK_IMPORTED_MODULE_34__[\"default\"];\nconst Settings = /*#__PURE__*/ _Settings__WEBPACK_IMPORTED_MODULE_35__[\"default\"];\nconst SettingsControl = /*#__PURE__*/ _SettingsControl__WEBPACK_IMPORTED_MODULE_36__[\"default\"];\nconst Skeleton = /*#__PURE__*/ _Skeleton__WEBPACK_IMPORTED_MODULE_37__[\"default\"];\nconst Slider = /*#__PURE__*/ _Slider__WEBPACK_IMPORTED_MODULE_38__[\"default\"];\nconst Spinner = /*#__PURE__*/ _Spinner__WEBPACK_IMPORTED_MODULE_39__[\"default\"];\nconst Submenu = /*#__PURE__*/ _Submenu__WEBPACK_IMPORTED_MODULE_40__[\"default\"];\nconst Time = /*#__PURE__*/ _Time__WEBPACK_IMPORTED_MODULE_41__[\"default\"];\nconst TimeProgress = /*#__PURE__*/ _TimeProgress__WEBPACK_IMPORTED_MODULE_42__[\"default\"];\nconst Tooltip = /*#__PURE__*/ _Tooltip__WEBPACK_IMPORTED_MODULE_43__[\"default\"];\nconst Ui = /*#__PURE__*/ _Ui__WEBPACK_IMPORTED_MODULE_44__[\"default\"];\nconst Video = /*#__PURE__*/ _Video__WEBPACK_IMPORTED_MODULE_45__[\"default\"];\nconst Vimeo = /*#__PURE__*/ _Vimeo__WEBPACK_IMPORTED_MODULE_46__[\"default\"];\nconst VolumeControl = /*#__PURE__*/ _VolumeControl__WEBPACK_IMPORTED_MODULE_47__[\"default\"];\nconst Youtube = /*#__PURE__*/ _Youtube__WEBPACK_IMPORTED_MODULE_48__[\"default\"];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ2lDO0FBQ2tCO0FBQ1o7QUFDTTtBQUNSO0FBQ1U7QUFDRTtBQUNWO0FBQ007QUFDQTtBQUNkO0FBQzRCO0FBQ047QUFDQTtBQUNaO0FBQ1I7QUFDSTtBQUNOO0FBQzBCO0FBQzVCO0FBQ0U7QUFDYztBQUNJO0FBQ0E7QUFDbEI7QUFDUTtBQUNFO0FBQ1U7QUFDTjtBQUNGO0FBQ1U7QUFDbEI7QUFDQTtBQUNGO0FBQ29CO0FBQ2Q7QUFDYztBQUNkO0FBQ0o7QUFDRTtBQUNBO0FBQ047QUFDZ0I7QUFDVjtBQUNWO0FBQ007QUFDQTtBQUNnQjtBQUNaO0FBQzlCLDRCQUE0Qiw4Q0FBVTtBQUN0QyxxQ0FBcUMsdURBQW1CO0FBQ3hELCtCQUErQixpREFBYTtBQUM1QyxrQ0FBa0Msb0RBQWdCO0FBQ2xELDhCQUE4QixnREFBWTtBQUMxQyxtQ0FBbUMscURBQWlCO0FBQ3BELG9DQUFvQyxzREFBa0I7QUFDdEQsK0JBQStCLGlEQUFhO0FBQzVDLGtDQUFrQyxvREFBZ0I7QUFDbEQsa0NBQWtDLG9EQUFnQjtBQUNsRCwyQkFBMkIsOENBQVM7QUFDcEMseUNBQXlDLDREQUF1QjtBQUNoRSxzQ0FBc0MseURBQW9CO0FBQzFELHNDQUFzQyx5REFBb0I7QUFDMUQsZ0NBQWdDLG1EQUFjO0FBQzlDLDRCQUE0QiwrQ0FBVTtBQUN0Qyw4QkFBOEIsaURBQVk7QUFDMUMsMkJBQTJCLDhDQUFTO0FBQ3BDLHdDQUF3QywyREFBc0I7QUFDOUQsMEJBQTBCLDZDQUFRO0FBQ2xDLDJCQUEyQiw4Q0FBUztBQUNwQyxrQ0FBa0MscURBQWdCO0FBQ2xELG9DQUFvQyx1REFBa0I7QUFDdEQsb0NBQW9DLHVEQUFrQjtBQUN0RCwyQkFBMkIsOENBQVM7QUFDcEMsK0JBQStCLGtEQUFhO0FBQzVDLGdDQUFnQyxtREFBYztBQUM5QyxxQ0FBcUMsd0RBQW1CO0FBQ3hELGtDQUFrQyxxREFBZ0I7QUFDbEQsaUNBQWlDLG9EQUFlO0FBQ2hELHNDQUFzQyx5REFBb0I7QUFDMUQsNkJBQTZCLGdEQUFXO0FBQ3hDLDZCQUE2QixnREFBVztBQUN4Qyw0QkFBNEIsK0NBQVU7QUFDdEMsc0NBQXNDLHlEQUFvQjtBQUMxRCwrQkFBK0Isa0RBQWE7QUFDNUMsc0NBQXNDLHlEQUFvQjtBQUMxRCwrQkFBK0Isa0RBQWE7QUFDNUMsNkJBQTZCLGdEQUFXO0FBQ3hDLDhCQUE4QixpREFBWTtBQUMxQyw4QkFBOEIsaURBQVk7QUFDMUMsMkJBQTJCLDhDQUFTO0FBQ3BDLG1DQUFtQyxzREFBaUI7QUFDcEQsOEJBQThCLGlEQUFZO0FBQzFDLHlCQUF5Qiw0Q0FBTztBQUNoQyw0QkFBNEIsK0NBQVU7QUFDdEMsNEJBQTRCLCtDQUFVO0FBQ3RDLG9DQUFvQyx1REFBa0I7QUFDdEQsOEJBQThCLGlEQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL2luZGV4LmpzPzY3ZjYiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgKi9cbi8qIHRzbGludDpkaXNhYmxlICovXG4vLyBAdHMtbm9jaGVja1xuaW1wb3J0IEF1ZGlvUHJveHkgZnJvbSAnLi9BdWRpbyc7XG5pbXBvcnQgQ2FwdGlvbkNvbnRyb2xQcm94eSBmcm9tICcuL0NhcHRpb25Db250cm9sJztcbmltcG9ydCBDYXB0aW9uc1Byb3h5IGZyb20gJy4vQ2FwdGlvbnMnO1xuaW1wb3J0IENsaWNrVG9QbGF5UHJveHkgZnJvbSAnLi9DbGlja1RvUGxheSc7XG5pbXBvcnQgQ29udHJvbFByb3h5IGZyb20gJy4vQ29udHJvbCc7XG5pbXBvcnQgQ29udHJvbEdyb3VwUHJveHkgZnJvbSAnLi9Db250cm9sR3JvdXAnO1xuaW1wb3J0IENvbnRyb2xTcGFjZXJQcm94eSBmcm9tICcuL0NvbnRyb2xTcGFjZXInO1xuaW1wb3J0IENvbnRyb2xzUHJveHkgZnJvbSAnLi9Db250cm9scyc7XG5pbXBvcnQgQ3VycmVudFRpbWVQcm94eSBmcm9tICcuL0N1cnJlbnRUaW1lJztcbmltcG9ydCBEYWlseW1vdGlvblByb3h5IGZyb20gJy4vRGFpbHltb3Rpb24nO1xuaW1wb3J0IERhc2hQcm94eSBmcm9tICcuL0Rhc2gnO1xuaW1wb3J0IERibENsaWNrRnVsbHNjcmVlblByb3h5IGZyb20gJy4vRGJsQ2xpY2tGdWxsc2NyZWVuJztcbmltcG9ydCBEZWZhdWx0Q29udHJvbHNQcm94eSBmcm9tICcuL0RlZmF1bHRDb250cm9scyc7XG5pbXBvcnQgRGVmYXVsdFNldHRpbmdzUHJveHkgZnJvbSAnLi9EZWZhdWx0U2V0dGluZ3MnO1xuaW1wb3J0IERlZmF1bHRVaVByb3h5IGZyb20gJy4vRGVmYXVsdFVpJztcbmltcG9ydCBFbWJlZFByb3h5IGZyb20gJy4vRW1iZWQnO1xuaW1wb3J0IEVuZFRpbWVQcm94eSBmcm9tICcuL0VuZFRpbWUnO1xuaW1wb3J0IEZpbGVQcm94eSBmcm9tICcuL0ZpbGUnO1xuaW1wb3J0IEZ1bGxzY3JlZW5Db250cm9sUHJveHkgZnJvbSAnLi9GdWxsc2NyZWVuQ29udHJvbCc7XG5pbXBvcnQgSGxzUHJveHkgZnJvbSAnLi9IbHMnO1xuaW1wb3J0IEljb25Qcm94eSBmcm9tICcuL0ljb24nO1xuaW1wb3J0IEljb25MaWJyYXJ5UHJveHkgZnJvbSAnLi9JY29uTGlicmFyeSc7XG5pbXBvcnQgTGl2ZUluZGljYXRvclByb3h5IGZyb20gJy4vTGl2ZUluZGljYXRvcic7XG5pbXBvcnQgTG9hZGluZ1NjcmVlblByb3h5IGZyb20gJy4vTG9hZGluZ1NjcmVlbic7XG5pbXBvcnQgTWVudVByb3h5IGZyb20gJy4vTWVudSc7XG5pbXBvcnQgTWVudUl0ZW1Qcm94eSBmcm9tICcuL01lbnVJdGVtJztcbmltcG9ydCBNZW51UmFkaW9Qcm94eSBmcm9tICcuL01lbnVSYWRpbyc7XG5pbXBvcnQgTWVudVJhZGlvR3JvdXBQcm94eSBmcm9tICcuL01lbnVSYWRpb0dyb3VwJztcbmltcG9ydCBNdXRlQ29udHJvbFByb3h5IGZyb20gJy4vTXV0ZUNvbnRyb2wnO1xuaW1wb3J0IFBpcENvbnRyb2xQcm94eSBmcm9tICcuL1BpcENvbnRyb2wnO1xuaW1wb3J0IFBsYXliYWNrQ29udHJvbFByb3h5IGZyb20gJy4vUGxheWJhY2tDb250cm9sJztcbmltcG9ydCBQbGF5ZXJQcm94eSBmcm9tICcuL1BsYXllcic7XG5pbXBvcnQgUG9zdGVyUHJveHkgZnJvbSAnLi9Qb3N0ZXInO1xuaW1wb3J0IFNjcmltUHJveHkgZnJvbSAnLi9TY3JpbSc7XG5pbXBvcnQgU2NydWJiZXJDb250cm9sUHJveHkgZnJvbSAnLi9TY3J1YmJlckNvbnRyb2wnO1xuaW1wb3J0IFNldHRpbmdzUHJveHkgZnJvbSAnLi9TZXR0aW5ncyc7XG5pbXBvcnQgU2V0dGluZ3NDb250cm9sUHJveHkgZnJvbSAnLi9TZXR0aW5nc0NvbnRyb2wnO1xuaW1wb3J0IFNrZWxldG9uUHJveHkgZnJvbSAnLi9Ta2VsZXRvbic7XG5pbXBvcnQgU2xpZGVyUHJveHkgZnJvbSAnLi9TbGlkZXInO1xuaW1wb3J0IFNwaW5uZXJQcm94eSBmcm9tICcuL1NwaW5uZXInO1xuaW1wb3J0IFN1Ym1lbnVQcm94eSBmcm9tICcuL1N1Ym1lbnUnO1xuaW1wb3J0IFRpbWVQcm94eSBmcm9tICcuL1RpbWUnO1xuaW1wb3J0IFRpbWVQcm9ncmVzc1Byb3h5IGZyb20gJy4vVGltZVByb2dyZXNzJztcbmltcG9ydCBUb29sdGlwUHJveHkgZnJvbSAnLi9Ub29sdGlwJztcbmltcG9ydCBVaVByb3h5IGZyb20gJy4vVWknO1xuaW1wb3J0IFZpZGVvUHJveHkgZnJvbSAnLi9WaWRlbyc7XG5pbXBvcnQgVmltZW9Qcm94eSBmcm9tICcuL1ZpbWVvJztcbmltcG9ydCBWb2x1bWVDb250cm9sUHJveHkgZnJvbSAnLi9Wb2x1bWVDb250cm9sJztcbmltcG9ydCBZb3V0dWJlUHJveHkgZnJvbSAnLi9Zb3V0dWJlJztcbmV4cG9ydCBjb25zdCBBdWRpbyA9IC8qI19fUFVSRV9fKi8gQXVkaW9Qcm94eTtcbmV4cG9ydCBjb25zdCBDYXB0aW9uQ29udHJvbCA9IC8qI19fUFVSRV9fKi8gQ2FwdGlvbkNvbnRyb2xQcm94eTtcbmV4cG9ydCBjb25zdCBDYXB0aW9ucyA9IC8qI19fUFVSRV9fKi8gQ2FwdGlvbnNQcm94eTtcbmV4cG9ydCBjb25zdCBDbGlja1RvUGxheSA9IC8qI19fUFVSRV9fKi8gQ2xpY2tUb1BsYXlQcm94eTtcbmV4cG9ydCBjb25zdCBDb250cm9sID0gLyojX19QVVJFX18qLyBDb250cm9sUHJveHk7XG5leHBvcnQgY29uc3QgQ29udHJvbEdyb3VwID0gLyojX19QVVJFX18qLyBDb250cm9sR3JvdXBQcm94eTtcbmV4cG9ydCBjb25zdCBDb250cm9sU3BhY2VyID0gLyojX19QVVJFX18qLyBDb250cm9sU3BhY2VyUHJveHk7XG5leHBvcnQgY29uc3QgQ29udHJvbHMgPSAvKiNfX1BVUkVfXyovIENvbnRyb2xzUHJveHk7XG5leHBvcnQgY29uc3QgQ3VycmVudFRpbWUgPSAvKiNfX1BVUkVfXyovIEN1cnJlbnRUaW1lUHJveHk7XG5leHBvcnQgY29uc3QgRGFpbHltb3Rpb24gPSAvKiNfX1BVUkVfXyovIERhaWx5bW90aW9uUHJveHk7XG5leHBvcnQgY29uc3QgRGFzaCA9IC8qI19fUFVSRV9fKi8gRGFzaFByb3h5O1xuZXhwb3J0IGNvbnN0IERibENsaWNrRnVsbHNjcmVlbiA9IC8qI19fUFVSRV9fKi8gRGJsQ2xpY2tGdWxsc2NyZWVuUHJveHk7XG5leHBvcnQgY29uc3QgRGVmYXVsdENvbnRyb2xzID0gLyojX19QVVJFX18qLyBEZWZhdWx0Q29udHJvbHNQcm94eTtcbmV4cG9ydCBjb25zdCBEZWZhdWx0U2V0dGluZ3MgPSAvKiNfX1BVUkVfXyovIERlZmF1bHRTZXR0aW5nc1Byb3h5O1xuZXhwb3J0IGNvbnN0IERlZmF1bHRVaSA9IC8qI19fUFVSRV9fKi8gRGVmYXVsdFVpUHJveHk7XG5leHBvcnQgY29uc3QgRW1iZWQgPSAvKiNfX1BVUkVfXyovIEVtYmVkUHJveHk7XG5leHBvcnQgY29uc3QgRW5kVGltZSA9IC8qI19fUFVSRV9fKi8gRW5kVGltZVByb3h5O1xuZXhwb3J0IGNvbnN0IEZpbGUgPSAvKiNfX1BVUkVfXyovIEZpbGVQcm94eTtcbmV4cG9ydCBjb25zdCBGdWxsc2NyZWVuQ29udHJvbCA9IC8qI19fUFVSRV9fKi8gRnVsbHNjcmVlbkNvbnRyb2xQcm94eTtcbmV4cG9ydCBjb25zdCBIbHMgPSAvKiNfX1BVUkVfXyovIEhsc1Byb3h5O1xuZXhwb3J0IGNvbnN0IEljb24gPSAvKiNfX1BVUkVfXyovIEljb25Qcm94eTtcbmV4cG9ydCBjb25zdCBJY29uTGlicmFyeSA9IC8qI19fUFVSRV9fKi8gSWNvbkxpYnJhcnlQcm94eTtcbmV4cG9ydCBjb25zdCBMaXZlSW5kaWNhdG9yID0gLyojX19QVVJFX18qLyBMaXZlSW5kaWNhdG9yUHJveHk7XG5leHBvcnQgY29uc3QgTG9hZGluZ1NjcmVlbiA9IC8qI19fUFVSRV9fKi8gTG9hZGluZ1NjcmVlblByb3h5O1xuZXhwb3J0IGNvbnN0IE1lbnUgPSAvKiNfX1BVUkVfXyovIE1lbnVQcm94eTtcbmV4cG9ydCBjb25zdCBNZW51SXRlbSA9IC8qI19fUFVSRV9fKi8gTWVudUl0ZW1Qcm94eTtcbmV4cG9ydCBjb25zdCBNZW51UmFkaW8gPSAvKiNfX1BVUkVfXyovIE1lbnVSYWRpb1Byb3h5O1xuZXhwb3J0IGNvbnN0IE1lbnVSYWRpb0dyb3VwID0gLyojX19QVVJFX18qLyBNZW51UmFkaW9Hcm91cFByb3h5O1xuZXhwb3J0IGNvbnN0IE11dGVDb250cm9sID0gLyojX19QVVJFX18qLyBNdXRlQ29udHJvbFByb3h5O1xuZXhwb3J0IGNvbnN0IFBpcENvbnRyb2wgPSAvKiNfX1BVUkVfXyovIFBpcENvbnRyb2xQcm94eTtcbmV4cG9ydCBjb25zdCBQbGF5YmFja0NvbnRyb2wgPSAvKiNfX1BVUkVfXyovIFBsYXliYWNrQ29udHJvbFByb3h5O1xuZXhwb3J0IGNvbnN0IFBsYXllciA9IC8qI19fUFVSRV9fKi8gUGxheWVyUHJveHk7XG5leHBvcnQgY29uc3QgUG9zdGVyID0gLyojX19QVVJFX18qLyBQb3N0ZXJQcm94eTtcbmV4cG9ydCBjb25zdCBTY3JpbSA9IC8qI19fUFVSRV9fKi8gU2NyaW1Qcm94eTtcbmV4cG9ydCBjb25zdCBTY3J1YmJlckNvbnRyb2wgPSAvKiNfX1BVUkVfXyovIFNjcnViYmVyQ29udHJvbFByb3h5O1xuZXhwb3J0IGNvbnN0IFNldHRpbmdzID0gLyojX19QVVJFX18qLyBTZXR0aW5nc1Byb3h5O1xuZXhwb3J0IGNvbnN0IFNldHRpbmdzQ29udHJvbCA9IC8qI19fUFVSRV9fKi8gU2V0dGluZ3NDb250cm9sUHJveHk7XG5leHBvcnQgY29uc3QgU2tlbGV0b24gPSAvKiNfX1BVUkVfXyovIFNrZWxldG9uUHJveHk7XG5leHBvcnQgY29uc3QgU2xpZGVyID0gLyojX19QVVJFX18qLyBTbGlkZXJQcm94eTtcbmV4cG9ydCBjb25zdCBTcGlubmVyID0gLyojX19QVVJFX18qLyBTcGlubmVyUHJveHk7XG5leHBvcnQgY29uc3QgU3VibWVudSA9IC8qI19fUFVSRV9fKi8gU3VibWVudVByb3h5O1xuZXhwb3J0IGNvbnN0IFRpbWUgPSAvKiNfX1BVUkVfXyovIFRpbWVQcm94eTtcbmV4cG9ydCBjb25zdCBUaW1lUHJvZ3Jlc3MgPSAvKiNfX1BVUkVfXyovIFRpbWVQcm9ncmVzc1Byb3h5O1xuZXhwb3J0IGNvbnN0IFRvb2x0aXAgPSAvKiNfX1BVUkVfXyovIFRvb2x0aXBQcm94eTtcbmV4cG9ydCBjb25zdCBVaSA9IC8qI19fUFVSRV9fKi8gVWlQcm94eTtcbmV4cG9ydCBjb25zdCBWaWRlbyA9IC8qI19fUFVSRV9fKi8gVmlkZW9Qcm94eTtcbmV4cG9ydCBjb25zdCBWaW1lbyA9IC8qI19fUFVSRV9fKi8gVmltZW9Qcm94eTtcbmV4cG9ydCBjb25zdCBWb2x1bWVDb250cm9sID0gLyojX19QVVJFX18qLyBWb2x1bWVDb250cm9sUHJveHk7XG5leHBvcnQgY29uc3QgWW91dHViZSA9IC8qI19fUFVSRV9fKi8gWW91dHViZVByb3h5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/hooks.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/hooks.js ***!
  \****************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   usePlayer: function() { return /* binding */ usePlayer; },\n/* harmony export */   usePlayerContext: function() { return /* binding */ usePlayerContext; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nconst noop = () => { };\n/**\n * Returns the closest ancestor player to the given `ref`.\n */\nconst usePlayer = (ref) => {\n    const [player, setPlayer] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {\n        function find() {\n            var _a;\n            return __awaiter(this, void 0, void 0, function* () {\n                setPlayer(ref.current ? (_a = (yield (0,_vime_core__WEBPACK_IMPORTED_MODULE_1__.findPlayer)(ref.current))) !== null && _a !== void 0 ? _a : null : null);\n            });\n        }\n        find();\n    }, [ref.current]);\n    return player;\n};\n/**\n * Binds the given `prop` to the closest ancestor player of the given `ref`. When the property\n * changes on the player, this hook will trigger a re-render with the new value.\n *\n * @param ref The ref to start searching from.\n * @param prop The property to bind to.\n * @param defaultValue The initial value of the property until the the player context is bound.\n */\nconst usePlayerContext = (ref, prop, defaultValue) => {\n    const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultValue);\n    const dispatch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(ref.current === null ? noop : (0,_vime_core__WEBPACK_IMPORTED_MODULE_1__.createDispatcher)(ref.current), [ref.current]);\n    const setter = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    (value) => {\n        dispatch(prop, value);\n    }, [dispatch, prop]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {\n        if (ref.current === null)\n            return undefined;\n        let cleanup;\n        function connect() {\n            return __awaiter(this, void 0, void 0, function* () {\n                cleanup = yield (0,_vime_core__WEBPACK_IMPORTED_MODULE_1__.usePlayerContext)(ref.current, [prop], (_, newValue) => {\n                    setValue(newValue);\n                });\n            });\n        }\n        connect();\n        return () => {\n            cleanup === null || cleanup === void 0 ? void 0 : cleanup();\n        };\n    }, [ref.current, prop]);\n    return [value, setter];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9ob29rcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3Qiw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUMrRDtBQUM0QjtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZ0NBQWdDLCtDQUFRO0FBQ3hDLElBQUksc0RBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0EscURBQXFELHNEQUFVO0FBQy9ELGFBQWE7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCw4QkFBOEIsK0NBQVE7QUFDdEMscUJBQXFCLGtEQUFXLCtCQUErQiw0REFBZ0I7QUFDL0UsbUJBQW1CLGtEQUFXO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLHNEQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsNERBQVU7QUFDMUM7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpbWUrcmVhY3RANS40LjFfQHZpbWUrY29yZUA1LjQuMV9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vaG9va3MuanM/YmQ0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VMYXlvdXRFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlRGlzcGF0Y2hlciwgdXNlUGxheWVyQ29udGV4dCBhcyB1c2VDb250ZXh0LCBmaW5kUGxheWVyLCB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuY29uc3Qgbm9vcCA9ICgpID0+IHsgfTtcbi8qKlxuICogUmV0dXJucyB0aGUgY2xvc2VzdCBhbmNlc3RvciBwbGF5ZXIgdG8gdGhlIGdpdmVuIGByZWZgLlxuICovXG5leHBvcnQgY29uc3QgdXNlUGxheWVyID0gKHJlZikgPT4ge1xuICAgIGNvbnN0IFtwbGF5ZXIsIHNldFBsYXllcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBmdW5jdGlvbiBmaW5kKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBzZXRQbGF5ZXIocmVmLmN1cnJlbnQgPyAoX2EgPSAoeWllbGQgZmluZFBsYXllcihyZWYuY3VycmVudCkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsIDogbnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmaW5kKCk7XG4gICAgfSwgW3JlZi5jdXJyZW50XSk7XG4gICAgcmV0dXJuIHBsYXllcjtcbn07XG4vKipcbiAqIEJpbmRzIHRoZSBnaXZlbiBgcHJvcGAgdG8gdGhlIGNsb3Nlc3QgYW5jZXN0b3IgcGxheWVyIG9mIHRoZSBnaXZlbiBgcmVmYC4gV2hlbiB0aGUgcHJvcGVydHlcbiAqIGNoYW5nZXMgb24gdGhlIHBsYXllciwgdGhpcyBob29rIHdpbGwgdHJpZ2dlciBhIHJlLXJlbmRlciB3aXRoIHRoZSBuZXcgdmFsdWUuXG4gKlxuICogQHBhcmFtIHJlZiBUaGUgcmVmIHRvIHN0YXJ0IHNlYXJjaGluZyBmcm9tLlxuICogQHBhcmFtIHByb3AgVGhlIHByb3BlcnR5IHRvIGJpbmQgdG8uXG4gKiBAcGFyYW0gZGVmYXVsdFZhbHVlIFRoZSBpbml0aWFsIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB1bnRpbCB0aGUgdGhlIHBsYXllciBjb250ZXh0IGlzIGJvdW5kLlxuICovXG5leHBvcnQgY29uc3QgdXNlUGxheWVyQ29udGV4dCA9IChyZWYsIHByb3AsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGUoZGVmYXVsdFZhbHVlKTtcbiAgICBjb25zdCBkaXNwYXRjaCA9IHVzZUNhbGxiYWNrKHJlZi5jdXJyZW50ID09PSBudWxsID8gbm9vcCA6IGNyZWF0ZURpc3BhdGNoZXIocmVmLmN1cnJlbnQpLCBbcmVmLmN1cnJlbnRdKTtcbiAgICBjb25zdCBzZXR0ZXIgPSB1c2VDYWxsYmFjayhcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXNoYWRvd1xuICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICBkaXNwYXRjaChwcm9wLCB2YWx1ZSk7XG4gICAgfSwgW2Rpc3BhdGNoLCBwcm9wXSk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHJlZi5jdXJyZW50ID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGNsZWFudXA7XG4gICAgICAgIGZ1bmN0aW9uIGNvbm5lY3QoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNsZWFudXAgPSB5aWVsZCB1c2VDb250ZXh0KHJlZi5jdXJyZW50LCBbcHJvcF0sIChfLCBuZXdWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZShuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0KCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhbnVwID09PSBudWxsIHx8IGNsZWFudXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNsZWFudXAoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbcmVmLmN1cnJlbnQsIHByb3BdKTtcbiAgICByZXR1cm4gW3ZhbHVlLCBzZXR0ZXJdO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/hooks.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/index.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/index.js ***!
  \****************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Audio: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Audio; },\n/* harmony export */   CaptionControl: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.CaptionControl; },\n/* harmony export */   Captions: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Captions; },\n/* harmony export */   ClickToPlay: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.ClickToPlay; },\n/* harmony export */   Control: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Control; },\n/* harmony export */   ControlGroup: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.ControlGroup; },\n/* harmony export */   ControlSpacer: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.ControlSpacer; },\n/* harmony export */   Controls: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Controls; },\n/* harmony export */   CurrentTime: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.CurrentTime; },\n/* harmony export */   Dailymotion: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Dailymotion; },\n/* harmony export */   Dash: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Dash; },\n/* harmony export */   DblClickFullscreen: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.DblClickFullscreen; },\n/* harmony export */   DefaultControls: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.DefaultControls; },\n/* harmony export */   DefaultSettings: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.DefaultSettings; },\n/* harmony export */   DefaultUi: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.DefaultUi; },\n/* harmony export */   Embed: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Embed; },\n/* harmony export */   EndTime: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.EndTime; },\n/* harmony export */   File: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.File; },\n/* harmony export */   FullscreenControl: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.FullscreenControl; },\n/* harmony export */   Hls: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Hls; },\n/* harmony export */   Icon: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Icon; },\n/* harmony export */   IconLibrary: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.IconLibrary; },\n/* harmony export */   LiveIndicator: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.LiveIndicator; },\n/* harmony export */   LoadingScreen: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.LoadingScreen; },\n/* harmony export */   Menu: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Menu; },\n/* harmony export */   MenuItem: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.MenuItem; },\n/* harmony export */   MenuRadio: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.MenuRadio; },\n/* harmony export */   MenuRadioGroup: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.MenuRadioGroup; },\n/* harmony export */   MuteControl: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.MuteControl; },\n/* harmony export */   PipControl: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.PipControl; },\n/* harmony export */   PlaybackControl: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.PlaybackControl; },\n/* harmony export */   Player: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Player; },\n/* harmony export */   Poster: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Poster; },\n/* harmony export */   Provider: function() { return /* reexport safe */ _vime_core__WEBPACK_IMPORTED_MODULE_0__.Provider; },\n/* harmony export */   Scrim: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Scrim; },\n/* harmony export */   ScrubberControl: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.ScrubberControl; },\n/* harmony export */   Settings: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Settings; },\n/* harmony export */   SettingsControl: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.SettingsControl; },\n/* harmony export */   Skeleton: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Skeleton; },\n/* harmony export */   Slider: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Slider; },\n/* harmony export */   Spinner: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Spinner; },\n/* harmony export */   Submenu: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Submenu; },\n/* harmony export */   Time: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Time; },\n/* harmony export */   TimeProgress: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.TimeProgress; },\n/* harmony export */   Tooltip: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Tooltip; },\n/* harmony export */   Ui: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Ui; },\n/* harmony export */   Video: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Video; },\n/* harmony export */   ViewType: function() { return /* reexport safe */ _vime_core__WEBPACK_IMPORTED_MODULE_0__.ViewType; },\n/* harmony export */   Vimeo: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Vimeo; },\n/* harmony export */   VolumeControl: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.VolumeControl; },\n/* harmony export */   Youtube: function() { return /* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_1__.Youtube; },\n/* harmony export */   usePlayer: function() { return /* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_2__.usePlayer; },\n/* harmony export */   usePlayerContext: function() { return /* reexport safe */ _hooks__WEBPACK_IMPORTED_MODULE_2__.usePlayerContext; },\n/* harmony export */   watchComponentRegistry: function() { return /* reexport safe */ _vime_core__WEBPACK_IMPORTED_MODULE_0__.watchComponentRegistry; }\n/* harmony export */ });\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @vime/core */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/dist/custom-elements/index.js\");\n/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/components/index.js\");\n/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hooks */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/hooks.js\");\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0U7QUFDM0M7QUFDTCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpbWUrcmVhY3RANS40LjFfQHZpbWUrY29yZUA1LjQuMV9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vaW5kZXguanM/OTk2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBWaWV3VHlwZSwgUHJvdmlkZXIsIHdhdGNoQ29tcG9uZW50UmVnaXN0cnkgfSBmcm9tICdAdmltZS9jb3JlJztcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cyc7XG5leHBvcnQgKiBmcm9tICcuL2hvb2tzJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx ***!
  \***************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createComponent: function() { return /* binding */ createComponent; },\n/* harmony export */   define: function() { return /* binding */ define; }\n/* harmony export */ });\n/* harmony import */ var _seznam_compose_react_refs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @seznam/compose-react-refs */ \"(app-pages-browser)/./node_modules/.pnpm/@seznam+compose-react-refs@1.0.6/node_modules/@seznam/compose-react-refs/composeRefs.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/* eslint-disable react/prop-types */\n\n\nconst define = (tagName, clazz) => {\n    const isClient = typeof window !== 'undefined';\n    if (isClient && !customElements.get(tagName))\n        customElements.define(tagName, clazz);\n};\nconst dashToPascalCase = (str) => str\n    .toLowerCase()\n    .split('-')\n    .map(segment => segment.charAt(0).toUpperCase() + segment.slice(1))\n    .join('');\nconst isEvent = (prop) => { var _a; return prop.indexOf('on') === 0 && prop[2] === ((_a = prop[2]) === null || _a === void 0 ? void 0 : _a.toUpperCase()); };\nconst toDomEventName = (prop) => prop.charAt(2).toLowerCase() + prop.substring(3);\nfunction createComponent(tagName, componentProps) {\n    const Component = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((_a, forwardedRef) => {\n        var { children } = _a, props = __rest(_a, [\"children\"]);\n        const [ref, setRef] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n        const setRefCb = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((node) => {\n            setRef(node);\n        }, []);\n        const eventHandlers = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Map());\n        const domProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => Object.keys(props)\n            .filter(prop => !componentProps.has(prop) && !isEvent(prop))\n            .reduce((p, c) => (Object.assign(Object.assign({}, p), { [c]: props[c] })), {}), [props]);\n        const wcProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => Object.keys(props)\n            .filter(prop => componentProps.has(prop) || isEvent(prop))\n            .reduce((p, c) => (Object.assign(Object.assign({}, p), { [c]: props[c] })), {}), [props]);\n        const listen = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((prop, handler) => {\n            var _a;\n            const domEvent = toDomEventName(prop);\n            (_a = eventHandlers.current.get(domEvent)) === null || _a === void 0 ? void 0 : _a();\n            if (!ref || !handler)\n                return;\n            ref.addEventListener(domEvent, handler);\n            eventHandlers.current.set(domEvent, () => {\n                ref.removeEventListener(domEvent, handler);\n            });\n        }, [ref]);\n        const cleanup = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n            eventHandlers.current.forEach(fn => fn());\n            eventHandlers.current.clear();\n        }, []);\n        (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => () => {\n            cleanup();\n        }, []);\n        (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n            if (!ref)\n                return;\n            Object.keys(wcProps).forEach(prop => {\n                if (isEvent(prop)) {\n                    listen(prop, wcProps[prop]);\n                    return;\n                }\n                if (ref[prop] !== wcProps[prop]) {\n                    ref[prop] = wcProps[prop];\n                }\n            });\n        }, [ref, wcProps]);\n        return (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(tagName, Object.assign({ ref: (0,_seznam_compose_react_refs__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(setRefCb, forwardedRef) }, domProps), children);\n    });\n    Component.displayName = dashToPascalCase(tagName);\n    return Component;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStyZWFjdEA1LjQuMV9AdmltZStjb3JlQDUuNC4xX3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9saWIuanN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsY0FBYyxTQUFJLElBQUksU0FBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxjQUFjO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNxRDtBQUNpRDtBQUMvRjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixRQUFRO0FBQ3BDO0FBQ087QUFDUCxzQkFBc0IsaURBQVU7QUFDaEMsY0FBYyxXQUFXO0FBQ3pCLDhCQUE4QiwrQ0FBUTtBQUN0Qyx5QkFBeUIsa0RBQVc7QUFDcEM7QUFDQSxTQUFTO0FBQ1QsOEJBQThCLDZDQUFNO0FBQ3BDLHlCQUF5Qiw4Q0FBTztBQUNoQztBQUNBLDZEQUE2RCxRQUFRLGVBQWUsTUFBTTtBQUMxRix3QkFBd0IsOENBQU87QUFDL0I7QUFDQSw2REFBNkQsUUFBUSxlQUFlLE1BQU07QUFDMUYsdUJBQXVCLGtEQUFXO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULHdCQUF3QixrREFBVztBQUNuQztBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVEsZ0RBQVM7QUFDakI7QUFDQSxTQUFTO0FBQ1QsUUFBUSxnREFBUztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsZUFBZSxvREFBYSwwQkFBMEIsS0FBSyxzRUFBVywwQkFBMEI7QUFDaEcsS0FBSztBQUNMO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vQHZpbWUrcmVhY3RANS40LjFfQHZpbWUrY29yZUA1LjQuMV9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vbGliLmpzeD85NzZiIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3Byb3AtdHlwZXMgKi9cbmltcG9ydCBjb21wb3NlUmVmcyBmcm9tICdAc2V6bmFtL2NvbXBvc2UtcmVhY3QtcmVmcyc7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBmb3J3YXJkUmVmLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlLCB9IGZyb20gJ3JlYWN0JztcbmV4cG9ydCBjb25zdCBkZWZpbmUgPSAodGFnTmFtZSwgY2xhenopID0+IHtcbiAgICBjb25zdCBpc0NsaWVudCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuICAgIGlmIChpc0NsaWVudCAmJiAhY3VzdG9tRWxlbWVudHMuZ2V0KHRhZ05hbWUpKVxuICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhenopO1xufTtcbmNvbnN0IGRhc2hUb1Bhc2NhbENhc2UgPSAoc3RyKSA9PiBzdHJcbiAgICAudG9Mb3dlckNhc2UoKVxuICAgIC5zcGxpdCgnLScpXG4gICAgLm1hcChzZWdtZW50ID0+IHNlZ21lbnQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzZWdtZW50LnNsaWNlKDEpKVxuICAgIC5qb2luKCcnKTtcbmNvbnN0IGlzRXZlbnQgPSAocHJvcCkgPT4geyB2YXIgX2E7IHJldHVybiBwcm9wLmluZGV4T2YoJ29uJykgPT09IDAgJiYgcHJvcFsyXSA9PT0gKChfYSA9IHByb3BbMl0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b1VwcGVyQ2FzZSgpKTsgfTtcbmNvbnN0IHRvRG9tRXZlbnROYW1lID0gKHByb3ApID0+IHByb3AuY2hhckF0KDIpLnRvTG93ZXJDYXNlKCkgKyBwcm9wLnN1YnN0cmluZygzKTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnQodGFnTmFtZSwgY29tcG9uZW50UHJvcHMpIHtcbiAgICBjb25zdCBDb21wb25lbnQgPSBmb3J3YXJkUmVmKChfYSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgICAgIHZhciB7IGNoaWxkcmVuIH0gPSBfYSwgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImNoaWxkcmVuXCJdKTtcbiAgICAgICAgY29uc3QgW3JlZiwgc2V0UmVmXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgICAgICBjb25zdCBzZXRSZWZDYiA9IHVzZUNhbGxiYWNrKChub2RlKSA9PiB7XG4gICAgICAgICAgICBzZXRSZWYobm9kZSk7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgY29uc3QgZXZlbnRIYW5kbGVycyA9IHVzZVJlZihuZXcgTWFwKCkpO1xuICAgICAgICBjb25zdCBkb21Qcm9wcyA9IHVzZU1lbW8oKCkgPT4gT2JqZWN0LmtleXMocHJvcHMpXG4gICAgICAgICAgICAuZmlsdGVyKHByb3AgPT4gIWNvbXBvbmVudFByb3BzLmhhcyhwcm9wKSAmJiAhaXNFdmVudChwcm9wKSlcbiAgICAgICAgICAgIC5yZWR1Y2UoKHAsIGMpID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHApLCB7IFtjXTogcHJvcHNbY10gfSkpLCB7fSksIFtwcm9wc10pO1xuICAgICAgICBjb25zdCB3Y1Byb3BzID0gdXNlTWVtbygoKSA9PiBPYmplY3Qua2V5cyhwcm9wcylcbiAgICAgICAgICAgIC5maWx0ZXIocHJvcCA9PiBjb21wb25lbnRQcm9wcy5oYXMocHJvcCkgfHwgaXNFdmVudChwcm9wKSlcbiAgICAgICAgICAgIC5yZWR1Y2UoKHAsIGMpID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHApLCB7IFtjXTogcHJvcHNbY10gfSkpLCB7fSksIFtwcm9wc10pO1xuICAgICAgICBjb25zdCBsaXN0ZW4gPSB1c2VDYWxsYmFjaygocHJvcCwgaGFuZGxlcikgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgZG9tRXZlbnQgPSB0b0RvbUV2ZW50TmFtZShwcm9wKTtcbiAgICAgICAgICAgIChfYSA9IGV2ZW50SGFuZGxlcnMuY3VycmVudC5nZXQoZG9tRXZlbnQpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EoKTtcbiAgICAgICAgICAgIGlmICghcmVmIHx8ICFoYW5kbGVyKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHJlZi5hZGRFdmVudExpc3RlbmVyKGRvbUV2ZW50LCBoYW5kbGVyKTtcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlcnMuY3VycmVudC5zZXQoZG9tRXZlbnQsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZWYucmVtb3ZlRXZlbnRMaXN0ZW5lcihkb21FdmVudCwgaGFuZGxlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgW3JlZl0pO1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAgICAgZXZlbnRIYW5kbGVycy5jdXJyZW50LmZvckVhY2goZm4gPT4gZm4oKSk7XG4gICAgICAgICAgICBldmVudEhhbmRsZXJzLmN1cnJlbnQuY2xlYXIoKTtcbiAgICAgICAgfSwgW10pO1xuICAgICAgICB1c2VFZmZlY3QoKCkgPT4gKCkgPT4ge1xuICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXJlZilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh3Y1Byb3BzKS5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpc0V2ZW50KHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3Rlbihwcm9wLCB3Y1Byb3BzW3Byb3BdKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVmW3Byb3BdICE9PSB3Y1Byb3BzW3Byb3BdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZltwcm9wXSA9IHdjUHJvcHNbcHJvcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIFtyZWYsIHdjUHJvcHNdKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQodGFnTmFtZSwgT2JqZWN0LmFzc2lnbih7IHJlZjogY29tcG9zZVJlZnMoc2V0UmVmQ2IsIGZvcndhcmRlZFJlZikgfSwgZG9tUHJvcHMpLCBjaGlsZHJlbik7XG4gICAgfSk7XG4gICAgQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gZGFzaFRvUGFzY2FsQ2FzZSh0YWdOYW1lKTtcbiAgICByZXR1cm4gQ29tcG9uZW50O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/lib.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2Fworkspaces%2Fwatch-stuff%2Fapp%2Fcomponents%2FAppPlayer.tsx&modules=%2Fworkspaces%2Fwatch-stuff%2Fnode_modules%2F.pnpm%2F%40vime%2Bcore%405.4.1%2Fnode_modules%2F%40vime%2Fcore%2Fthemes%2Fdefault.css&server=false!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2Fworkspaces%2Fwatch-stuff%2Fapp%2Fcomponents%2FAppPlayer.tsx&modules=%2Fworkspaces%2Fwatch-stuff%2Fnode_modules%2F.pnpm%2F%40vime%2Bcore%405.4.1%2Fnode_modules%2F%40vime%2Fcore%2Fthemes%2Fdefault.css&server=false! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/components/AppPlayer.tsx */ \"(app-pages-browser)/./app/components/AppPlayer.tsx\"));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/themes/default.css */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+core@5.4.1/node_modules/@vime/core/themes/default.css\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE0LjAuNF9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTJGd29ya3NwYWNlcyUyRndhdGNoLXN0dWZmJTJGYXBwJTJGY29tcG9uZW50cyUyRkFwcFBsYXllci50c3gmbW9kdWxlcz0lMkZ3b3Jrc3BhY2VzJTJGd2F0Y2gtc3R1ZmYlMkZub2RlX21vZHVsZXMlMkYucG5wbSUyRiU0MHZpbWUlMkJjb3JlJTQwNS40LjElMkZub2RlX21vZHVsZXMlMkYlNDB2aW1lJTJGY29yZSUyRnRoZW1lcyUyRmRlZmF1bHQuY3NzJnNlcnZlcj1mYWxzZSEiLCJtYXBwaW5ncyI6IkFBQUEsc0xBQXlGO0FBQ3pGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8/N2MzOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi93b3Jrc3BhY2VzL3dhdGNoLXN0dWZmL2FwcC9jb21wb25lbnRzL0FwcFBsYXllci50c3hcIik7XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi93b3Jrc3BhY2VzL3dhdGNoLXN0dWZmL25vZGVfbW9kdWxlcy8ucG5wbS9AdmltZStjb3JlQDUuNC4xL25vZGVfbW9kdWxlcy9AdmltZS9jb3JlL3RoZW1lcy9kZWZhdWx0LmNzc1wiKSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2Fworkspaces%2Fwatch-stuff%2Fapp%2Fcomponents%2FAppPlayer.tsx&modules=%2Fworkspaces%2Fwatch-stuff%2Fnode_modules%2F.pnpm%2F%40vime%2Bcore%405.4.1%2Fnode_modules%2F%40vime%2Fcore%2Fthemes%2Fdefault.css&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/components/AppPlayer.tsx":
/*!**************************************!*\
  !*** ./app/components/AppPlayer.tsx ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppPlayer: function() { return /* binding */ AppPlayer; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _vime_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/react */ \"(app-pages-browser)/./node_modules/.pnpm/@vime+react@5.4.1_@vime+core@5.4.1_react-dom@18.2.0_react@18.2.0/node_modules/@vime/react/dist/esm/index.js\");\n/* __next_internal_client_entry_do_not_use__ AppPlayer auto */ \n\nconst AppPlayer = (param)=>{\n    let { url } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.Player, {\n            controls: true,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.Video, {\n                crossOrigin: \"anonymous\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                    \"data-src\": url\n                }, void 0, false, {\n                    fileName: \"/workspaces/watch-stuff/app/components/AppPlayer.tsx\",\n                    lineNumber: 12,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/workspaces/watch-stuff/app/components/AppPlayer.tsx\",\n                lineNumber: 11,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/workspaces/watch-stuff/app/components/AppPlayer.tsx\",\n            lineNumber: 10,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/workspaces/watch-stuff/app/components/AppPlayer.tsx\",\n        lineNumber: 9,\n        columnNumber: 5\n    }, undefined);\n};\n_c = AppPlayer;\nvar _c;\n$RefreshReg$(_c, \"AppPlayer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jb21wb25lbnRzL0FwcFBsYXllci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUMwQztBQUtuQyxNQUFNRSxZQUFZO1FBQUMsRUFBRUMsR0FBRyxFQUFTO0lBQ3RDLHFCQUNFLDhEQUFDQztrQkFDQyw0RUFBQ0osK0NBQU1BO1lBQUNLLFFBQVE7c0JBQ2QsNEVBQUNKLDhDQUFLQTtnQkFBQ0ssYUFBWTswQkFDakIsNEVBQUNDO29CQUFPQyxZQUFVTDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSzVCLEVBQUU7S0FWV0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwL2NvbXBvbmVudHMvQXBwUGxheWVyLnRzeD9lNjMwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHtQbGF5ZXIsIFZpZGVvfSBmcm9tICdAdmltZS9yZWFjdCc7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHVybDogc3RyaW5nO1xufVxuZXhwb3J0IGNvbnN0IEFwcFBsYXllciA9ICh7IHVybCB9OiBQcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8UGxheWVyIGNvbnRyb2xzPlxuICAgICAgICA8VmlkZW8gY3Jvc3NPcmlnaW49XCJhbm9ueW1vdXNcIj5cbiAgICAgICAgICA8c291cmNlIGRhdGEtc3JjPXt1cmx9IC8+XG4gICAgICAgIDwvVmlkZW8+XG4gICAgICA8L1BsYXllcj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iXSwibmFtZXMiOlsiUGxheWVyIiwiVmlkZW8iLCJBcHBQbGF5ZXIiLCJ1cmwiLCJkaXYiLCJjb250cm9scyIsImNyb3NzT3JpZ2luIiwic291cmNlIiwiZGF0YS1zcmMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/components/AppPlayer.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js ***!
  \*****************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nif (true) {\n  (function() {\n'use strict';\n\nvar React = __webpack_require__(/*! next/dist/compiled/react */ \"(app-pages-browser)/./node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/index.js\");\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar REACT_CACHE_TYPE = Symbol.for('react.cache');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\nvar REACT_CLIENT_REFERENCE$1 = Symbol.for('react.client.reference');\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_CLIENT_REFERENCE$1 || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  {\n    if (typeof type.tag === 'number') {\n      error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n    case REACT_CACHE_TYPE:\n      {\n        return 'Cache';\n      }\n\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n        return getContextName(context) + '.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        var provider = type;\n        return getContextName(provider._context) + '.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n\n    }\n  }\n\n  return null;\n}\n\nvar assign = Object.assign;\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, source, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n/**\n * Leverages native browser/VM stack frames to get proper details (e.g.\n * filename, line + col number) for a single component in a component stack. We\n * do this by:\n *   (1) throwing and catching an error in the function - this will be our\n *       control error.\n *   (2) calling the component which will eventually throw an error that we'll\n *       catch - this will be our sample error.\n *   (3) diffing the control and sample error stacks to find the stack frame\n *       which represents our component.\n */\n\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe[incompatible-type] It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n  /**\n   * Finding a common stack frame between sample and control errors can be\n   * tricky given the different types and levels of stack trace truncation from\n   * different JS VMs. So instead we'll attempt to control what that common\n   * frame should be through this object method:\n   * Having both the sample and control errors be in the function under the\n   * `DescribeNativeComponentFrameRoot` property, + setting the `name` and\n   * `displayName` properties of the function ensures that a stack\n   * frame exists that has the method name `DescribeNativeComponentFrameRoot` in\n   * it for both control and sample stacks.\n   */\n\n\n  var RunInRootFrame = {\n    DetermineComponentFrameRoot: function () {\n      var control;\n\n      try {\n        // This should throw.\n        if (construct) {\n          // Something should be setting the props in the constructor.\n          var Fake = function () {\n            throw Error();\n          }; // $FlowFixMe[prop-missing]\n\n\n          Object.defineProperty(Fake.prototype, 'props', {\n            set: function () {\n              // We use a throwing setter instead of frozen or non-writable props\n              // because that won't throw in a non-strict mode function.\n              throw Error();\n            }\n          });\n\n          if (typeof Reflect === 'object' && Reflect.construct) {\n            // We construct a different control for this case to include any extra\n            // frames added by the construct call.\n            try {\n              Reflect.construct(Fake, []);\n            } catch (x) {\n              control = x;\n            }\n\n            Reflect.construct(fn, [], Fake);\n          } else {\n            try {\n              Fake.call();\n            } catch (x) {\n              control = x;\n            } // $FlowFixMe[prop-missing] found when upgrading Flow\n\n\n            fn.call(Fake.prototype);\n          }\n        } else {\n          try {\n            throw Error();\n          } catch (x) {\n            control = x;\n          } // TODO(luna): This will currently only throw if the function component\n          // tries to access React/ReactDOM/props. We should probably make this throw\n          // in simple components too\n\n\n          var maybePromise = fn(); // If the function component returns a promise, it's likely an async\n          // component, which we don't yet support. Attach a noop catch handler to\n          // silence the error.\n          // TODO: Implement component stacks for async client components?\n\n          if (maybePromise && typeof maybePromise.catch === 'function') {\n            maybePromise.catch(function () {});\n          }\n        }\n      } catch (sample) {\n        // This is inlined manually because closure doesn't do it for us.\n        if (sample && control && typeof sample.stack === 'string') {\n          return [sample.stack, control.stack];\n        }\n      }\n\n      return [null, null];\n    }\n  }; // $FlowFixMe[prop-missing]\n\n  RunInRootFrame.DetermineComponentFrameRoot.displayName = 'DetermineComponentFrameRoot';\n  var namePropDescriptor = Object.getOwnPropertyDescriptor(RunInRootFrame.DetermineComponentFrameRoot, 'name'); // Before ES6, the `name` property was not configurable.\n\n  if (namePropDescriptor && namePropDescriptor.configurable) {\n    // V8 utilizes a function's `name` property when generating a stack trace.\n    Object.defineProperty(RunInRootFrame.DetermineComponentFrameRoot, // Configurable properties can be updated even if its writable descriptor\n    // is set to `false`.\n    // $FlowFixMe[cannot-write]\n    'name', {\n      value: 'DetermineComponentFrameRoot'\n    });\n  }\n\n  try {\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n        sampleStack = _RunInRootFrame$Deter[0],\n        controlStack = _RunInRootFrame$Deter[1];\n\n    if (sampleStack && controlStack) {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sampleStack.split('\\n');\n      var controlLines = controlStack.split('\\n');\n      var s = 0;\n      var c = 0;\n\n      while (s < sampleLines.length && !sampleLines[s].includes('DetermineComponentFrameRoot')) {\n        s++;\n      }\n\n      while (c < controlLines.length && !controlLines[c].includes('DetermineComponentFrameRoot')) {\n        c++;\n      } // We couldn't find our intentionally injected common root frame, attempt\n      // to find another common root frame by search from the bottom of the\n      // control stack...\n\n\n      if (s === sampleLines.length || c === controlLines.length) {\n        s = sampleLines.length - 1;\n        c = controlLines.length - 1;\n\n        while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n          // We expect at least one stack frame to be shared.\n          // Typically this will be the root most one. However, stack frames may be\n          // cut off due to maximum stack limits. In this case, one maybe cut off\n          // earlier than the other. We assume that the sample is longer or the same\n          // and there for cut off earlier. So we should find the root most frame in\n          // the sample somewhere in the control.\n          c--;\n        }\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                if (true) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, source, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\n// $FlowFixMe[method-unbinding]\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar loggedTypeFailures = {};\nvar ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement$1(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame$1.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, element) {\n  {\n    // $FlowFixMe[incompatible-use] This is okay but Flow doesn't know it.\n    var has = Function.call.bind(hasOwnProperty);\n\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            // eslint-disable-next-line react-internal/prod-error-codes\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');\n        } catch (ex) {\n          error$1 = ex;\n        }\n\n        if (error$1 && !(error$1 instanceof Error)) {\n          setCurrentlyValidatingElement$1(element);\n\n          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);\n\n          setCurrentlyValidatingElement$1(null);\n        }\n\n        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error$1.message] = true;\n          setCurrentlyValidatingElement$1(element);\n\n          error('Failed %s type: %s', location, error$1.message);\n\n          setCurrentlyValidatingElement$1(null);\n        }\n      }\n    }\n  }\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n/*\n * The `'' + value` pattern (used in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe[incompatible-return] only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object'; // $FlowFixMe[incompatible-return]\n\n    return type;\n  }\n} // $FlowFixMe[incompatible-return] only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner$1.current && self && ReactCurrentOwner$1.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner$1.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner$1.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingRef = function () {\n      if (!specialPropRefWarningShown) {\n        specialPropRefWarningShown = true;\n\n        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingRef.isReactWarning = true;\n    Object.defineProperty(props, 'ref', {\n      get: warnAboutAccessingRef,\n      configurable: true\n    });\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nfunction ReactElement(type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // self and source are DEV only properties.\n\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: self\n    }); // Two elements created in two different places should be considered\n    // equal for testing purposes and therefore we hide it from enumeration.\n\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: source\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n}\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV$1(type, config, maybeKey, source, self) {\n  {\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      ref = config.ref;\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    return ReactElement(type, key, ref, self, source, ReactCurrentOwner$1.current, props);\n  }\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\nvar REACT_CLIENT_REFERENCE = Symbol.for('react.client.reference');\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nvar propTypesMisspellWarningShown;\n\n{\n  propTypesMisspellWarningShown = false;\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n\nfunction getSourceInfoErrorAddendum(source) {\n  {\n    if (source !== undefined) {\n      var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n      var lineNumber = source.lineNumber;\n      return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n    }\n\n    return '';\n  }\n}\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\n\n\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement(null);\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object' || !node) {\n      return;\n    }\n\n    if (node.$$typeof === REACT_CLIENT_REFERENCE) ; else if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\n\n\nfunction validatePropTypes(element) {\n  {\n    var type = element.type;\n\n    if (type === null || type === undefined || typeof type === 'string') {\n      return;\n    }\n\n    if (type.$$typeof === REACT_CLIENT_REFERENCE) {\n      return;\n    }\n\n    var propTypes;\n\n    if (typeof type === 'function') {\n      propTypes = type.propTypes;\n    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n    // Inner props are checked in the reconciler.\n    type.$$typeof === REACT_MEMO_TYPE)) {\n      propTypes = type.propTypes;\n    } else {\n      return;\n    }\n\n    if (propTypes) {\n      // Intentionally inside to avoid triggering lazy initializers:\n      var name = getComponentNameFromType(type);\n      checkPropTypes(propTypes, element.props, 'prop', name, element);\n    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:\n\n      var _name = getComponentNameFromType(type);\n\n      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');\n    }\n\n    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n    }\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement(null);\n    }\n  }\n}\n\nvar didWarnAboutKeySpread = {};\nfunction jsxWithValidation(type, props, key, isStaticChildren, source, self) {\n  {\n    var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n    // succeed and there will likely be errors in render.\n\n    if (!validType) {\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var sourceInfo = getSourceInfoErrorAddendum(source);\n\n      if (sourceInfo) {\n        info += sourceInfo;\n      } else {\n        info += getDeclarationErrorAddendum();\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    }\n\n    var element = jsxDEV$1(type, props, key, source, self); // The result can be nullish if a mock or a custom function is used.\n    // TODO: Drop this when these are no longer allowed as the type argument.\n\n    if (element == null) {\n      return element;\n    } // Skip key warning if the type isn't valid since our key validation logic\n    // doesn't expect a non-string/function type and can throw confusing errors.\n    // We don't want exception behavior to differ between dev and prod.\n    // (Rendering will throw with a helpful message and as soon as the type is\n    // fixed, the key warnings will appear.)\n\n\n    if (validType) {\n      var children = props.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    }\n\n    if (hasOwnProperty.call(props, 'key')) {\n      var componentName = getComponentNameFromType(type);\n      var keys = Object.keys(props).filter(function (k) {\n        return k !== 'key';\n      });\n      var beforeExample = keys.length > 0 ? '{key: someKey, ' + keys.join(': ..., ') + ': ...}' : '{key: someKey}';\n\n      if (!didWarnAboutKeySpread[componentName + beforeExample]) {\n        var afterExample = keys.length > 0 ? '{' + keys.join(': ..., ') + ': ...}' : '{}';\n\n        error('A props object containing a \"key\" prop is being spread into JSX:\\n' + '  let props = %s;\\n' + '  <%s {...props} />\\n' + 'React keys must be passed directly to JSX without using spread:\\n' + '  let props = %s;\\n' + '  <%s key={someKey} {...props} />', beforeExample, componentName, afterExample, componentName);\n\n        didWarnAboutKeySpread[componentName + beforeExample] = true;\n      }\n    }\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    } else {\n      validatePropTypes(element);\n    }\n\n    return element;\n  }\n} // These two functions exist to still get child warnings in dev\n\nvar jsxDEV = jsxWithValidation ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsxDEV = jsxDEV;\n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE0LjAuNF9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3JlYWN0L2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLElBQUksSUFBcUM7QUFDekM7QUFDQTs7QUFFQSxZQUFZLG1CQUFPLENBQUMsbUtBQTBCOztBQUU5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUdBQWlHLGVBQWU7QUFDaEg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7O0FBR047QUFDQTtBQUNBLEtBQUssR0FBRzs7QUFFUixrREFBa0Q7QUFDbEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsNEJBQTRCO0FBQzVCO0FBQ0EscUNBQXFDOztBQUVyQyxnQ0FBZ0M7QUFDaEM7QUFDQTs7QUFFQSxnQ0FBZ0M7O0FBRWhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOzs7QUFHRjtBQUNBO0FBQ0Es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VUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxvRUFBb0U7O0FBRXBFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUNBQWlDOztBQUVqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtHQUFrRzs7QUFFbEc7QUFDQTtBQUNBLEVBQUU7OztBQUdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FB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QUFDaEIsY0FBYztBQUNkLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNC4wLjRfcmVhY3QtZG9tQDE4LjIuMF9yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9yZWFjdC9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzP2RjMjQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3QgPSByZXF1aXJlKFwibmV4dC9kaXN0L2NvbXBpbGVkL3JlYWN0XCIpO1xuXG4vLyBBVFRFTlRJT05cbi8vIFdoZW4gYWRkaW5nIG5ldyBzeW1ib2xzIHRvIHRoaXMgZmlsZSxcbi8vIFBsZWFzZSBjb25zaWRlciBhbHNvIGFkZGluZyB0byAncmVhY3QtZGV2dG9vbHMtc2hhcmVkL3NyYy9iYWNrZW5kL1JlYWN0U3ltYm9scydcbi8vIFRoZSBTeW1ib2wgdXNlZCB0byB0YWcgdGhlIFJlYWN0RWxlbWVudC1saWtlIHR5cGVzLlxudmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKTtcbnZhciBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnBvcnRhbCcpO1xudmFyIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5mcmFnbWVudCcpO1xudmFyIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdHJpY3RfbW9kZScpO1xudmFyIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wcm9maWxlcicpO1xudmFyIFJFQUNUX1BST1ZJREVSX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wcm92aWRlcicpO1xudmFyIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbnRleHQnKTtcbnZhciBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2UnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZV9saXN0Jyk7XG52YXIgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcigncmVhY3QubWVtbycpO1xudmFyIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmxhenknKTtcbnZhciBSRUFDVF9PRkZTQ1JFRU5fVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm9mZnNjcmVlbicpO1xudmFyIFJFQUNUX0NBQ0hFX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jYWNoZScpO1xudmFyIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcjtcbnZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJztcbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICBpZiAobWF5YmVJdGVyYWJsZSA9PT0gbnVsbCB8fCB0eXBlb2YgbWF5YmVJdGVyYWJsZSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBtYXliZUl0ZXJhdG9yID0gTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXTtcblxuICBpZiAodHlwZW9mIG1heWJlSXRlcmF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbWF5YmVJdGVyYXRvcjtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG52YXIgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPSBSZWFjdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDtcblxuZnVuY3Rpb24gZXJyb3IoZm9ybWF0KSB7XG4gIHtcbiAgICB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcoJ2Vycm9yJywgZm9ybWF0LCBhcmdzKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJpbnRXYXJuaW5nKGxldmVsLCBmb3JtYXQsIGFyZ3MpIHtcbiAgLy8gV2hlbiBjaGFuZ2luZyB0aGlzIGxvZ2ljLCB5b3UgbWlnaHQgd2FudCB0byBhbHNvXG4gIC8vIHVwZGF0ZSBjb25zb2xlV2l0aFN0YWNrRGV2Lnd3dy5qcyBhcyB3ZWxsLlxuICB7XG4gICAgdmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuICAgIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuXG4gICAgaWYgKHN0YWNrICE9PSAnJykge1xuICAgICAgZm9ybWF0ICs9ICclcyc7XG4gICAgICBhcmdzID0gYXJncy5jb25jYXQoW3N0YWNrXSk7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cblxuXG4gICAgdmFyIGFyZ3NXaXRoRm9ybWF0ID0gYXJncy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBTdHJpbmcoaXRlbSk7XG4gICAgfSk7IC8vIENhcmVmdWw6IFJOIGN1cnJlbnRseSBkZXBlbmRzIG9uIHRoaXMgcHJlZml4XG5cbiAgICBhcmdzV2l0aEZvcm1hdC51bnNoaWZ0KCdXYXJuaW5nOiAnICsgZm9ybWF0KTsgLy8gV2UgaW50ZW50aW9uYWxseSBkb24ndCB1c2Ugc3ByZWFkIChvciAuYXBwbHkpIGRpcmVjdGx5IGJlY2F1c2UgaXRcbiAgICAvLyBicmVha3MgSUU5OiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzEzNjEwXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZ1xuXG4gICAgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZVtsZXZlbF0sIGNvbnNvbGUsIGFyZ3NXaXRoRm9ybWF0KTtcbiAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG52YXIgZW5hYmxlU2NvcGVBUEkgPSBmYWxzZTsgLy8gRXhwZXJpbWVudGFsIENyZWF0ZSBFdmVudCBIYW5kbGUgQVBJLlxudmFyIGVuYWJsZUNhY2hlRWxlbWVudCA9IGZhbHNlO1xudmFyIGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nID0gZmFsc2U7IC8vIE5vIGtub3duIGJ1Z3MsIGJ1dCBuZWVkcyBwZXJmb3JtYW5jZSB0ZXN0aW5nXG5cbnZhciBlbmFibGVMZWdhY3lIaWRkZW4gPSBmYWxzZTsgLy8gRW5hYmxlcyB1bnN0YWJsZV9hdm9pZFRoaXNGYWxsYmFjayBmZWF0dXJlIGluIEZpYmVyXG4vLyBzdHVmZi4gSW50ZW5kZWQgdG8gZW5hYmxlIFJlYWN0IGNvcmUgbWVtYmVycyB0byBtb3JlIGVhc2lseSBkZWJ1ZyBzY2hlZHVsaW5nXG4vLyBpc3N1ZXMgaW4gREVWIGJ1aWxkcy5cblxudmFyIGVuYWJsZURlYnVnVHJhY2luZyA9IGZhbHNlOyAvLyBUcmFjayB3aGljaCBGaWJlcihzKSBzY2hlZHVsZSByZW5kZXIgd29yay5cblxudmFyIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmNsaWVudC5yZWZlcmVuY2UnKTtcbmZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKSB7XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBOb3RlOiB0eXBlb2YgbWlnaHQgYmUgb3RoZXIgdGhhbiAnc3ltYm9sJyBvciAnbnVtYmVyJyAoZS5nLiBpZiBpdCdzIGEgcG9seWZpbGwpLlxuXG5cbiAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRSB8fCBlbmFibGVEZWJ1Z1RyYWNpbmcgIHx8IHR5cGUgPT09IFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgfHwgZW5hYmxlTGVnYWN5SGlkZGVuICB8fCB0eXBlID09PSBSRUFDVF9PRkZTQ1JFRU5fVFlQRSB8fCBlbmFibGVTY29wZUFQSSAgfHwgZW5hYmxlQ2FjaGVFbGVtZW50ICB8fCBlbmFibGVUcmFuc2l0aW9uVHJhY2luZyApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCkge1xuICAgIGlmICh0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1BST1ZJREVSX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHwgLy8gVGhpcyBuZWVkcyB0byBpbmNsdWRlIGFsbCBwb3NzaWJsZSBtb2R1bGUgcmVmZXJlbmNlIG9iamVjdFxuICAgIC8vIHR5cGVzIHN1cHBvcnRlZCBieSBhbnkgRmxpZ2h0IGNvbmZpZ3VyYXRpb24gYW55d2hlcmUgc2luY2VcbiAgICAvLyB3ZSBkb24ndCBrbm93IHdoaWNoIEZsaWdodCBidWlsZCB0aGlzIHdpbGwgZW5kIHVwIGJlaW5nIHVzZWRcbiAgICAvLyB3aXRoLlxuICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMSB8fCB0eXBlLmdldE1vZHVsZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0V3JhcHBlZE5hbWUob3V0ZXJUeXBlLCBpbm5lclR5cGUsIHdyYXBwZXJOYW1lKSB7XG4gIHZhciBkaXNwbGF5TmFtZSA9IG91dGVyVHlwZS5kaXNwbGF5TmFtZTtcblxuICBpZiAoZGlzcGxheU5hbWUpIHtcbiAgICByZXR1cm4gZGlzcGxheU5hbWU7XG4gIH1cblxuICB2YXIgZnVuY3Rpb25OYW1lID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8ICcnO1xuICByZXR1cm4gZnVuY3Rpb25OYW1lICE9PSAnJyA/IHdyYXBwZXJOYW1lICsgXCIoXCIgKyBmdW5jdGlvbk5hbWUgKyBcIilcIiA6IHdyYXBwZXJOYW1lO1xufSAvLyBLZWVwIGluIHN5bmMgd2l0aCByZWFjdC1yZWNvbmNpbGVyL2dldENvbXBvbmVudE5hbWVGcm9tRmliZXJcblxuXG5mdW5jdGlvbiBnZXRDb250ZXh0TmFtZSh0eXBlKSB7XG4gIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8ICdDb250ZXh0Jztcbn0gLy8gTm90ZSB0aGF0IHRoZSByZWNvbmNpbGVyIHBhY2thZ2Ugc2hvdWxkIGdlbmVyYWxseSBwcmVmZXIgdG8gdXNlIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoKSBpbnN0ZWFkLlxuXG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gIGlmICh0eXBlID09IG51bGwpIHtcbiAgICAvLyBIb3N0IHJvb3QsIHRleHQgbm9kZSBvciBqdXN0IGludmFsaWQgdHlwZS5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHtcbiAgICBpZiAodHlwZW9mIHR5cGUudGFnID09PSAnbnVtYmVyJykge1xuICAgICAgZXJyb3IoJ1JlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgb2JqZWN0IGluIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSgpLiAnICsgJ1RoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgIHJldHVybiAnRnJhZ21lbnQnO1xuXG4gICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgIHJldHVybiAnUG9ydGFsJztcblxuICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgIHJldHVybiAnUHJvZmlsZXInO1xuXG4gICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgcmV0dXJuICdTdHJpY3RNb2RlJztcblxuICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgIHJldHVybiAnU3VzcGVuc2UnO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICByZXR1cm4gJ1N1c3BlbnNlTGlzdCc7XG5cbiAgICBjYXNlIFJFQUNUX0NBQ0hFX1RZUEU6XG4gICAgICB7XG4gICAgICAgIHJldHVybiAnQ2FjaGUnO1xuICAgICAgfVxuXG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0eXBlO1xuICAgICAgICByZXR1cm4gZ2V0Q29udGV4dE5hbWUoY29udGV4dCkgKyAnLkNvbnN1bWVyJztcblxuICAgICAgY2FzZSBSRUFDVF9QUk9WSURFUl9UWVBFOlxuICAgICAgICB2YXIgcHJvdmlkZXIgPSB0eXBlO1xuICAgICAgICByZXR1cm4gZ2V0Q29udGV4dE5hbWUocHJvdmlkZXIuX2NvbnRleHQpICsgJy5Qcm92aWRlcic7XG5cbiAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgcmV0dXJuIGdldFdyYXBwZWROYW1lKHR5cGUsIHR5cGUucmVuZGVyLCAnRm9yd2FyZFJlZicpO1xuXG4gICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgdmFyIG91dGVyTmFtZSA9IHR5cGUuZGlzcGxheU5hbWUgfHwgbnVsbDtcblxuICAgICAgICBpZiAob3V0ZXJOYW1lICE9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIG91dGVyTmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCAnTWVtbyc7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGxhenlDb21wb25lbnQgPSB0eXBlO1xuICAgICAgICAgIHZhciBwYXlsb2FkID0gbGF6eUNvbXBvbmVudC5fcGF5bG9hZDtcbiAgICAgICAgICB2YXIgaW5pdCA9IGxhenlDb21wb25lbnQuX2luaXQ7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShpbml0KHBheWxvYWQpKTtcbiAgICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG52YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblxuLy8gSGVscGVycyB0byBwYXRjaCBjb25zb2xlLmxvZ3MgdG8gYXZvaWQgbG9nZ2luZyBkdXJpbmcgc2lkZS1lZmZlY3QgZnJlZVxuLy8gcmVwbGF5aW5nIG9uIHJlbmRlciBmdW5jdGlvbi4gVGhpcyBjdXJyZW50bHkgb25seSBwYXRjaGVzIHRoZSBvYmplY3Rcbi8vIGxhemlseSB3aGljaCB3b24ndCBjb3ZlciBpZiB0aGUgbG9nIGZ1bmN0aW9uIHdhcyBleHRyYWN0ZWQgZWFnZXJseS5cbi8vIFdlIGNvdWxkIGFsc28gZWFnZXJseSBwYXRjaCB0aGUgbWV0aG9kLlxudmFyIGRpc2FibGVkRGVwdGggPSAwO1xudmFyIHByZXZMb2c7XG52YXIgcHJldkluZm87XG52YXIgcHJldldhcm47XG52YXIgcHJldkVycm9yO1xudmFyIHByZXZHcm91cDtcbnZhciBwcmV2R3JvdXBDb2xsYXBzZWQ7XG52YXIgcHJldkdyb3VwRW5kO1xuXG5mdW5jdGlvbiBkaXNhYmxlZExvZygpIHt9XG5cbmRpc2FibGVkTG9nLl9fcmVhY3REaXNhYmxlZExvZyA9IHRydWU7XG5mdW5jdGlvbiBkaXNhYmxlTG9ncygpIHtcbiAge1xuICAgIGlmIChkaXNhYmxlZERlcHRoID09PSAwKSB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmcgKi9cbiAgICAgIHByZXZMb2cgPSBjb25zb2xlLmxvZztcbiAgICAgIHByZXZJbmZvID0gY29uc29sZS5pbmZvO1xuICAgICAgcHJldldhcm4gPSBjb25zb2xlLndhcm47XG4gICAgICBwcmV2RXJyb3IgPSBjb25zb2xlLmVycm9yO1xuICAgICAgcHJldkdyb3VwID0gY29uc29sZS5ncm91cDtcbiAgICAgIHByZXZHcm91cENvbGxhcHNlZCA9IGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQ7XG4gICAgICBwcmV2R3JvdXBFbmQgPSBjb25zb2xlLmdyb3VwRW5kOyAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE5MDk5XG5cbiAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogZGlzYWJsZWRMb2csXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9OyAvLyAkRmxvd0ZpeE1lW2Nhbm5vdC13cml0ZV0gRmxvdyB0aGlua3MgY29uc29sZSBpcyBpbW11dGFibGUuXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgaW5mbzogcHJvcHMsXG4gICAgICAgIGxvZzogcHJvcHMsXG4gICAgICAgIHdhcm46IHByb3BzLFxuICAgICAgICBlcnJvcjogcHJvcHMsXG4gICAgICAgIGdyb3VwOiBwcm9wcyxcbiAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IHByb3BzLFxuICAgICAgICBncm91cEVuZDogcHJvcHNcbiAgICAgIH0pO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmcgKi9cbiAgICB9XG5cbiAgICBkaXNhYmxlZERlcHRoKys7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlZW5hYmxlTG9ncygpIHtcbiAge1xuICAgIGRpc2FibGVkRGVwdGgtLTtcblxuICAgIGlmIChkaXNhYmxlZERlcHRoID09PSAwKSB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmcgKi9cbiAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfTsgLy8gJEZsb3dGaXhNZVtjYW5ub3Qtd3JpdGVdIEZsb3cgdGhpbmtzIGNvbnNvbGUgaXMgaW1tdXRhYmxlLlxuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgIGxvZzogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2TG9nXG4gICAgICAgIH0pLFxuICAgICAgICBpbmZvOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZJbmZvXG4gICAgICAgIH0pLFxuICAgICAgICB3YXJuOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZXYXJuXG4gICAgICAgIH0pLFxuICAgICAgICBlcnJvcjogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2RXJyb3JcbiAgICAgICAgfSksXG4gICAgICAgIGdyb3VwOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZHcm91cFxuICAgICAgICB9KSxcbiAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkdyb3VwQ29sbGFwc2VkXG4gICAgICAgIH0pLFxuICAgICAgICBncm91cEVuZDogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2R3JvdXBFbmRcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmcgKi9cbiAgICB9XG5cbiAgICBpZiAoZGlzYWJsZWREZXB0aCA8IDApIHtcbiAgICAgIGVycm9yKCdkaXNhYmxlZERlcHRoIGZlbGwgYmVsb3cgemVyby4gJyArICdUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIFJlYWN0Q3VycmVudERpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnREaXNwYXRjaGVyO1xudmFyIHByZWZpeDtcbmZ1bmN0aW9uIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKG5hbWUsIHNvdXJjZSwgb3duZXJGbikge1xuICB7XG4gICAgaWYgKHByZWZpeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBFeHRyYWN0IHRoZSBWTSBzcGVjaWZpYyBwcmVmaXggdXNlZCBieSBlYWNoIGxpbmUuXG4gICAgICB0cnkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICBwcmVmaXggPSBtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJztcbiAgICAgIH1cbiAgICB9IC8vIFdlIHVzZSB0aGUgcHJlZml4IHRvIGVuc3VyZSBvdXIgc3RhY2tzIGxpbmUgdXAgd2l0aCBuYXRpdmUgc3RhY2sgZnJhbWVzLlxuXG5cbiAgICByZXR1cm4gJ1xcbicgKyBwcmVmaXggKyBuYW1lO1xuICB9XG59XG52YXIgcmVlbnRyeSA9IGZhbHNlO1xudmFyIGNvbXBvbmVudEZyYW1lQ2FjaGU7XG5cbntcbiAgdmFyIFBvc3NpYmx5V2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nID8gV2Vha01hcCA6IE1hcDtcbiAgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyBQb3NzaWJseVdlYWtNYXAoKTtcbn1cbi8qKlxuICogTGV2ZXJhZ2VzIG5hdGl2ZSBicm93c2VyL1ZNIHN0YWNrIGZyYW1lcyB0byBnZXQgcHJvcGVyIGRldGFpbHMgKGUuZy5cbiAqIGZpbGVuYW1lLCBsaW5lICsgY29sIG51bWJlcikgZm9yIGEgc2luZ2xlIGNvbXBvbmVudCBpbiBhIGNvbXBvbmVudCBzdGFjay4gV2VcbiAqIGRvIHRoaXMgYnk6XG4gKiAgICgxKSB0aHJvd2luZyBhbmQgY2F0Y2hpbmcgYW4gZXJyb3IgaW4gdGhlIGZ1bmN0aW9uIC0gdGhpcyB3aWxsIGJlIG91clxuICogICAgICAgY29udHJvbCBlcnJvci5cbiAqICAgKDIpIGNhbGxpbmcgdGhlIGNvbXBvbmVudCB3aGljaCB3aWxsIGV2ZW50dWFsbHkgdGhyb3cgYW4gZXJyb3IgdGhhdCB3ZSdsbFxuICogICAgICAgY2F0Y2ggLSB0aGlzIHdpbGwgYmUgb3VyIHNhbXBsZSBlcnJvci5cbiAqICAgKDMpIGRpZmZpbmcgdGhlIGNvbnRyb2wgYW5kIHNhbXBsZSBlcnJvciBzdGFja3MgdG8gZmluZCB0aGUgc3RhY2sgZnJhbWVcbiAqICAgICAgIHdoaWNoIHJlcHJlc2VudHMgb3VyIGNvbXBvbmVudC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGNvbnN0cnVjdCkge1xuICAvLyBJZiBzb21ldGhpbmcgYXNrZWQgZm9yIGEgc3RhY2sgaW5zaWRlIGEgZmFrZSByZW5kZXIsIGl0IHNob3VsZCBnZXQgaWdub3JlZC5cbiAgaWYgKCFmbiB8fCByZWVudHJ5KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAge1xuICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcblxuICAgIGlmIChmcmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxuICB9XG5cbiAgcmVlbnRyeSA9IHRydWU7XG4gIHZhciBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIEl0IGRvZXMgYWNjZXB0IHVuZGVmaW5lZC5cblxuICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHVuZGVmaW5lZDtcbiAgdmFyIHByZXZpb3VzRGlzcGF0Y2hlcjtcblxuICB7XG4gICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50OyAvLyBTZXQgdGhlIGRpc3BhdGNoZXIgaW4gREVWIGJlY2F1c2UgdGhpcyBtaWdodCBiZSBjYWxsIGluIHRoZSByZW5kZXIgZnVuY3Rpb25cbiAgICAvLyBmb3Igd2FybmluZ3MuXG5cbiAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLmN1cnJlbnQgPSBudWxsO1xuICAgIGRpc2FibGVMb2dzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmRpbmcgYSBjb21tb24gc3RhY2sgZnJhbWUgYmV0d2VlbiBzYW1wbGUgYW5kIGNvbnRyb2wgZXJyb3JzIGNhbiBiZVxuICAgKiB0cmlja3kgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcyBhbmQgbGV2ZWxzIG9mIHN0YWNrIHRyYWNlIHRydW5jYXRpb24gZnJvbVxuICAgKiBkaWZmZXJlbnQgSlMgVk1zLiBTbyBpbnN0ZWFkIHdlJ2xsIGF0dGVtcHQgdG8gY29udHJvbCB3aGF0IHRoYXQgY29tbW9uXG4gICAqIGZyYW1lIHNob3VsZCBiZSB0aHJvdWdoIHRoaXMgb2JqZWN0IG1ldGhvZDpcbiAgICogSGF2aW5nIGJvdGggdGhlIHNhbXBsZSBhbmQgY29udHJvbCBlcnJvcnMgYmUgaW4gdGhlIGZ1bmN0aW9uIHVuZGVyIHRoZVxuICAgKiBgRGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZVJvb3RgIHByb3BlcnR5LCArIHNldHRpbmcgdGhlIGBuYW1lYCBhbmRcbiAgICogYGRpc3BsYXlOYW1lYCBwcm9wZXJ0aWVzIG9mIHRoZSBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgYSBzdGFja1xuICAgKiBmcmFtZSBleGlzdHMgdGhhdCBoYXMgdGhlIG1ldGhvZCBuYW1lIGBEZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lUm9vdGAgaW5cbiAgICogaXQgZm9yIGJvdGggY29udHJvbCBhbmQgc2FtcGxlIHN0YWNrcy5cbiAgICovXG5cblxuICB2YXIgUnVuSW5Sb290RnJhbWUgPSB7XG4gICAgRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29udHJvbDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgdGhyb3cuXG4gICAgICAgIGlmIChjb25zdHJ1Y3QpIHtcbiAgICAgICAgICAvLyBTb21ldGhpbmcgc2hvdWxkIGJlIHNldHRpbmcgdGhlIHByb3BzIGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICB2YXIgRmFrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfTsgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG5cblxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGYWtlLnByb3RvdHlwZSwgJ3Byb3BzJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIC8vIFdlIHVzZSBhIHRocm93aW5nIHNldHRlciBpbnN0ZWFkIG9mIGZyb3plbiBvciBub24td3JpdGFibGUgcHJvcHNcbiAgICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGF0IHdvbid0IHRocm93IGluIGEgbm9uLXN0cmljdCBtb2RlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAgICAgLy8gV2UgY29uc3RydWN0IGEgZGlmZmVyZW50IGNvbnRyb2wgZm9yIHRoaXMgY2FzZSB0byBpbmNsdWRlIGFueSBleHRyYVxuICAgICAgICAgICAgLy8gZnJhbWVzIGFkZGVkIGJ5IHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KEZha2UsIFtdKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGZuLCBbXSwgRmFrZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIEZha2UuY2FsbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgICBjb250cm9sID0geDtcbiAgICAgICAgICAgIH0gLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIGZvdW5kIHdoZW4gdXBncmFkaW5nIEZsb3dcblxuXG4gICAgICAgICAgICBmbi5jYWxsKEZha2UucHJvdG90eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgICAgfSAvLyBUT0RPKGx1bmEpOiBUaGlzIHdpbGwgY3VycmVudGx5IG9ubHkgdGhyb3cgaWYgdGhlIGZ1bmN0aW9uIGNvbXBvbmVudFxuICAgICAgICAgIC8vIHRyaWVzIHRvIGFjY2VzcyBSZWFjdC9SZWFjdERPTS9wcm9wcy4gV2Ugc2hvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyB0aHJvd1xuICAgICAgICAgIC8vIGluIHNpbXBsZSBjb21wb25lbnRzIHRvb1xuXG5cbiAgICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gZm4oKTsgLy8gSWYgdGhlIGZ1bmN0aW9uIGNvbXBvbmVudCByZXR1cm5zIGEgcHJvbWlzZSwgaXQncyBsaWtlbHkgYW4gYXN5bmNcbiAgICAgICAgICAvLyBjb21wb25lbnQsIHdoaWNoIHdlIGRvbid0IHlldCBzdXBwb3J0LiBBdHRhY2ggYSBub29wIGNhdGNoIGhhbmRsZXIgdG9cbiAgICAgICAgICAvLyBzaWxlbmNlIHRoZSBlcnJvci5cbiAgICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgY29tcG9uZW50IHN0YWNrcyBmb3IgYXN5bmMgY2xpZW50IGNvbXBvbmVudHM/XG5cbiAgICAgICAgICBpZiAobWF5YmVQcm9taXNlICYmIHR5cGVvZiBtYXliZVByb21pc2UuY2F0Y2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChzYW1wbGUpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBpbmxpbmVkIG1hbnVhbGx5IGJlY2F1c2UgY2xvc3VyZSBkb2Vzbid0IGRvIGl0IGZvciB1cy5cbiAgICAgICAgaWYgKHNhbXBsZSAmJiBjb250cm9sICYmIHR5cGVvZiBzYW1wbGUuc3RhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIFtzYW1wbGUuc3RhY2ssIGNvbnRyb2wuc3RhY2tdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgfVxuICB9OyAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cblxuICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QuZGlzcGxheU5hbWUgPSAnRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290JztcbiAgdmFyIG5hbWVQcm9wRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LCAnbmFtZScpOyAvLyBCZWZvcmUgRVM2LCB0aGUgYG5hbWVgIHByb3BlcnR5IHdhcyBub3QgY29uZmlndXJhYmxlLlxuXG4gIGlmIChuYW1lUHJvcERlc2NyaXB0b3IgJiYgbmFtZVByb3BEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xuICAgIC8vIFY4IHV0aWxpemVzIGEgZnVuY3Rpb24ncyBgbmFtZWAgcHJvcGVydHkgd2hlbiBnZW5lcmF0aW5nIGEgc3RhY2sgdHJhY2UuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCwgLy8gQ29uZmlndXJhYmxlIHByb3BlcnRpZXMgY2FuIGJlIHVwZGF0ZWQgZXZlbiBpZiBpdHMgd3JpdGFibGUgZGVzY3JpcHRvclxuICAgIC8vIGlzIHNldCB0byBgZmFsc2VgLlxuICAgIC8vICRGbG93Rml4TWVbY2Fubm90LXdyaXRlXVxuICAgICduYW1lJywge1xuICAgICAgdmFsdWU6ICdEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QnXG4gICAgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIHZhciBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QoKSxcbiAgICAgICAgc2FtcGxlU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMF0sXG4gICAgICAgIGNvbnRyb2xTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclsxXTtcblxuICAgIGlmIChzYW1wbGVTdGFjayAmJiBjb250cm9sU3RhY2spIHtcbiAgICAgIC8vIFRoaXMgZXh0cmFjdHMgdGhlIGZpcnN0IGZyYW1lIGZyb20gdGhlIHNhbXBsZSB0aGF0IGlzbid0IGFsc28gaW4gdGhlIGNvbnRyb2wuXG4gICAgICAvLyBTa2lwcGluZyBvbmUgZnJhbWUgdGhhdCB3ZSBhc3N1bWUgaXMgdGhlIGZyYW1lIHRoYXQgY2FsbHMgdGhlIHR3by5cbiAgICAgIHZhciBzYW1wbGVMaW5lcyA9IHNhbXBsZVN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgIHZhciBjb250cm9sTGluZXMgPSBjb250cm9sU3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgdmFyIHMgPSAwO1xuICAgICAgdmFyIGMgPSAwO1xuXG4gICAgICB3aGlsZSAocyA8IHNhbXBsZUxpbmVzLmxlbmd0aCAmJiAhc2FtcGxlTGluZXNbc10uaW5jbHVkZXMoJ0RldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCcpKSB7XG4gICAgICAgIHMrKztcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKGMgPCBjb250cm9sTGluZXMubGVuZ3RoICYmICFjb250cm9sTGluZXNbY10uaW5jbHVkZXMoJ0RldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCcpKSB7XG4gICAgICAgIGMrKztcbiAgICAgIH0gLy8gV2UgY291bGRuJ3QgZmluZCBvdXIgaW50ZW50aW9uYWxseSBpbmplY3RlZCBjb21tb24gcm9vdCBmcmFtZSwgYXR0ZW1wdFxuICAgICAgLy8gdG8gZmluZCBhbm90aGVyIGNvbW1vbiByb290IGZyYW1lIGJ5IHNlYXJjaCBmcm9tIHRoZSBib3R0b20gb2YgdGhlXG4gICAgICAvLyBjb250cm9sIHN0YWNrLi4uXG5cblxuICAgICAgaWYgKHMgPT09IHNhbXBsZUxpbmVzLmxlbmd0aCB8fCBjID09PSBjb250cm9sTGluZXMubGVuZ3RoKSB7XG4gICAgICAgIHMgPSBzYW1wbGVMaW5lcy5sZW5ndGggLSAxO1xuICAgICAgICBjID0gY29udHJvbExpbmVzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgd2hpbGUgKHMgPj0gMSAmJiBjID49IDAgJiYgc2FtcGxlTGluZXNbc10gIT09IGNvbnRyb2xMaW5lc1tjXSkge1xuICAgICAgICAgIC8vIFdlIGV4cGVjdCBhdCBsZWFzdCBvbmUgc3RhY2sgZnJhbWUgdG8gYmUgc2hhcmVkLlxuICAgICAgICAgIC8vIFR5cGljYWxseSB0aGlzIHdpbGwgYmUgdGhlIHJvb3QgbW9zdCBvbmUuIEhvd2V2ZXIsIHN0YWNrIGZyYW1lcyBtYXkgYmVcbiAgICAgICAgICAvLyBjdXQgb2ZmIGR1ZSB0byBtYXhpbXVtIHN0YWNrIGxpbWl0cy4gSW4gdGhpcyBjYXNlLCBvbmUgbWF5YmUgY3V0IG9mZlxuICAgICAgICAgIC8vIGVhcmxpZXIgdGhhbiB0aGUgb3RoZXIuIFdlIGFzc3VtZSB0aGF0IHRoZSBzYW1wbGUgaXMgbG9uZ2VyIG9yIHRoZSBzYW1lXG4gICAgICAgICAgLy8gYW5kIHRoZXJlIGZvciBjdXQgb2ZmIGVhcmxpZXIuIFNvIHdlIHNob3VsZCBmaW5kIHRoZSByb290IG1vc3QgZnJhbWUgaW5cbiAgICAgICAgICAvLyB0aGUgc2FtcGxlIHNvbWV3aGVyZSBpbiB0aGUgY29udHJvbC5cbiAgICAgICAgICBjLS07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICg7IHMgPj0gMSAmJiBjID49IDA7IHMtLSwgYy0tKSB7XG4gICAgICAgIC8vIE5leHQgd2UgZmluZCB0aGUgZmlyc3Qgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgd2hpY2ggc2hvdWxkIGJlIHRoZVxuICAgICAgICAvLyBmcmFtZSB0aGF0IGNhbGxlZCBvdXIgc2FtcGxlIGZ1bmN0aW9uIGFuZCB0aGUgY29udHJvbC5cbiAgICAgICAgaWYgKHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAvLyBJbiBWOCwgdGhlIGZpcnN0IGxpbmUgaXMgZGVzY3JpYmluZyB0aGUgbWVzc2FnZSBidXQgb3RoZXIgVk1zIGRvbid0LlxuICAgICAgICAgIC8vIElmIHdlJ3JlIGFib3V0IHRvIHJldHVybiB0aGUgZmlyc3QgbGluZSwgYW5kIHRoZSBjb250cm9sIGlzIGFsc28gb24gdGhlIHNhbWVcbiAgICAgICAgICAvLyBsaW5lLCB0aGF0J3MgYSBwcmV0dHkgZ29vZCBpbmRpY2F0b3IgdGhhdCBvdXIgc2FtcGxlIHRocmV3IGF0IHNhbWUgbGluZSBhc1xuICAgICAgICAgIC8vIHRoZSBjb250cm9sLiBJLmUuIGJlZm9yZSB3ZSBlbnRlcmVkIHRoZSBzYW1wbGUgZnJhbWUuIFNvIHdlIGlnbm9yZSB0aGlzIHJlc3VsdC5cbiAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgeW91IHBhc3NlZCBhIGNsYXNzIHRvIGZ1bmN0aW9uIGNvbXBvbmVudCwgb3Igbm9uLWZ1bmN0aW9uLlxuICAgICAgICAgIGlmIChzICE9PSAxIHx8IGMgIT09IDEpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgcy0tO1xuICAgICAgICAgICAgICBjLS07IC8vIFdlIG1heSBzdGlsbCBoYXZlIHNpbWlsYXIgaW50ZXJtZWRpYXRlIGZyYW1lcyBmcm9tIHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgICAgLy8gVGhlIG5leHQgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgc2hvdWxkIGJlIG91ciBtYXRjaCB0aG91Z2guXG5cbiAgICAgICAgICAgICAgaWYgKGMgPCAwIHx8IHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAgICAgICAvLyBWOCBhZGRzIGEgXCJuZXdcIiBwcmVmaXggZm9yIG5hdGl2ZSBjbGFzc2VzLiBMZXQncyByZW1vdmUgaXQgdG8gbWFrZSBpdCBwcmV0dGllci5cbiAgICAgICAgICAgICAgICB2YXIgX2ZyYW1lID0gJ1xcbicgKyBzYW1wbGVMaW5lc1tzXS5yZXBsYWNlKCcgYXQgbmV3ICcsICcgYXQgJyk7IC8vIElmIG91ciBjb21wb25lbnQgZnJhbWUgaXMgbGFiZWxlZCBcIjxhbm9ueW1vdXM+XCJcbiAgICAgICAgICAgICAgICAvLyBidXQgd2UgaGF2ZSBhIHVzZXItcHJvdmlkZWQgXCJkaXNwbGF5TmFtZVwiXG4gICAgICAgICAgICAgICAgLy8gc3BsaWNlIGl0IGluIHRvIG1ha2UgdGhlIHN0YWNrIG1vcmUgcmVhZGFibGUuXG5cblxuICAgICAgICAgICAgICAgIGlmIChmbi5kaXNwbGF5TmFtZSAmJiBfZnJhbWUuaW5jbHVkZXMoJzxhbm9ueW1vdXM+JykpIHtcbiAgICAgICAgICAgICAgICAgIF9mcmFtZSA9IF9mcmFtZS5yZXBsYWNlKCc8YW5vbnltb3VzPicsIGZuLmRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgX2ZyYW1lKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIFJldHVybiB0aGUgbGluZSB3ZSBmb3VuZC5cblxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9mcmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAocyA+PSAxICYmIGMgPj0gMCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgcmVlbnRyeSA9IGZhbHNlO1xuXG4gICAge1xuICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50ID0gcHJldmlvdXNEaXNwYXRjaGVyO1xuICAgICAgcmVlbmFibGVMb2dzKCk7XG4gICAgfVxuXG4gICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlO1xuICB9IC8vIEZhbGxiYWNrIHRvIGp1c3QgdXNpbmcgdGhlIG5hbWUgaWYgd2UgY291bGRuJ3QgbWFrZSBpdCB0aHJvdy5cblxuXG4gIHZhciBuYW1lID0gZm4gPyBmbi5kaXNwbGF5TmFtZSB8fCBmbi5uYW1lIDogJyc7XG4gIHZhciBzeW50aGV0aWNGcmFtZSA9IG5hbWUgPyBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lKSA6ICcnO1xuXG4gIHtcbiAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgc3ludGhldGljRnJhbWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzeW50aGV0aWNGcmFtZTtcbn1cbmZ1bmN0aW9uIGRlc2NyaWJlRnVuY3Rpb25Db21wb25lbnRGcmFtZShmbiwgc291cmNlLCBvd25lckZuKSB7XG4gIHtcbiAgICByZXR1cm4gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShmbiwgZmFsc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNob3VsZENvbnN0cnVjdChDb21wb25lbnQpIHtcbiAgdmFyIHByb3RvdHlwZSA9IENvbXBvbmVudC5wcm90b3R5cGU7XG4gIHJldHVybiAhIShwcm90b3R5cGUgJiYgcHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpO1xufVxuXG5mdW5jdGlvbiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZSwgc291cmNlLCBvd25lckZuKSB7XG5cbiAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHtcbiAgICAgIHJldHVybiBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKHR5cGUsIHNob3VsZENvbnN0cnVjdCh0eXBlKSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZSh0eXBlKTtcbiAgfVxuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZSgnU3VzcGVuc2UnKTtcblxuICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKCdTdXNwZW5zZUxpc3QnKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICBzd2l0Y2ggKHR5cGUuJCR0eXBlb2YpIHtcbiAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgcmV0dXJuIGRlc2NyaWJlRnVuY3Rpb25Db21wb25lbnRGcmFtZSh0eXBlLnJlbmRlcik7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAvLyBNZW1vIG1heSBjb250YWluIGFueSBjb21wb25lbnQgdHlwZSBzbyB3ZSByZWN1cnNpdmVseSByZXNvbHZlIGl0LlxuICAgICAgICByZXR1cm4gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUudHlwZSwgc291cmNlLCBvd25lckZuKTtcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBMYXp5IG1heSBjb250YWluIGFueSBjb21wb25lbnQgdHlwZSBzbyB3ZSByZWN1cnNpdmVseSByZXNvbHZlIGl0LlxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihpbml0KHBheWxvYWQpLCBzb3VyY2UsIG93bmVyRm4pO1xuICAgICAgICAgIH0gY2F0Y2ggKHgpIHt9XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gJyc7XG59XG5cbi8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcbnZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lJDEgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuXG5mdW5jdGlvbiBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCQxKGVsZW1lbnQpIHtcbiAge1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICB2YXIgb3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICAgIHZhciBzdGFjayA9IGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihlbGVtZW50LnR5cGUsIGVsZW1lbnQuX3NvdXJjZSwgb3duZXIgPyBvd25lci50eXBlIDogbnVsbCk7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lJDEuc2V0RXh0cmFTdGFja0ZyYW1lKHN0YWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSQxLnNldEV4dHJhU3RhY2tGcmFtZShudWxsKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tQcm9wVHlwZXModHlwZVNwZWNzLCB2YWx1ZXMsIGxvY2F0aW9uLCBjb21wb25lbnROYW1lLCBlbGVtZW50KSB7XG4gIHtcbiAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS11c2VdIFRoaXMgaXMgb2theSBidXQgRmxvdyBkb2Vzbid0IGtub3cgaXQuXG4gICAgdmFyIGhhcyA9IEZ1bmN0aW9uLmNhbGwuYmluZChoYXNPd25Qcm9wZXJ0eSk7XG5cbiAgICBmb3IgKHZhciB0eXBlU3BlY05hbWUgaW4gdHlwZVNwZWNzKSB7XG4gICAgICBpZiAoaGFzKHR5cGVTcGVjcywgdHlwZVNwZWNOYW1lKSkge1xuICAgICAgICB2YXIgZXJyb3IkMSA9IHZvaWQgMDsgLy8gUHJvcCB0eXBlIHZhbGlkYXRpb24gbWF5IHRocm93LiBJbiBjYXNlIHRoZXkgZG8sIHdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gZmFpbCB0aGUgcmVuZGVyIHBoYXNlIHdoZXJlIGl0IGRpZG4ndCBmYWlsIGJlZm9yZS4gU28gd2UgbG9nIGl0LlxuICAgICAgICAvLyBBZnRlciB0aGVzZSBoYXZlIGJlZW4gY2xlYW5lZCB1cCwgd2UnbGwgbGV0IHRoZW0gdGhyb3cuXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgYW4gaW52YXJpYW50IHRoYXQgZ2V0cyBjYXVnaHQuIEl0J3MgdGhlIHNhbWVcbiAgICAgICAgICAvLyBiZWhhdmlvciBhcyB3aXRob3V0IHRoaXMgc3RhdGVtZW50IGV4Y2VwdCB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UuXG4gICAgICAgICAgaWYgKHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL3Byb2QtZXJyb3ItY29kZXNcbiAgICAgICAgICAgIHZhciBlcnIgPSBFcnJvcigoY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnKSArICc6ICcgKyBsb2NhdGlvbiArICcgdHlwZSBgJyArIHR5cGVTcGVjTmFtZSArICdgIGlzIGludmFsaWQ7ICcgKyAnaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYCcgKyB0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gKyAnYC4nICsgJ1RoaXMgb2Z0ZW4gaGFwcGVucyBiZWNhdXNlIG9mIHR5cG9zIHN1Y2ggYXMgYFByb3BUeXBlcy5mdW5jdGlvbmAgaW5zdGVhZCBvZiBgUHJvcFR5cGVzLmZ1bmNgLicpO1xuICAgICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZXJyb3IkMSA9IHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKHZhbHVlcywgdHlwZVNwZWNOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgbnVsbCwgJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJyk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgZXJyb3IkMSA9IGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVycm9yJDEgJiYgIShlcnJvciQxIGluc3RhbmNlb2YgRXJyb3IpKSB7XG4gICAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShlbGVtZW50KTtcblxuICAgICAgICAgIGVycm9yKCclczogdHlwZSBzcGVjaWZpY2F0aW9uIG9mICVzJyArICcgYCVzYCBpcyBpbnZhbGlkOyB0aGUgdHlwZSBjaGVja2VyICcgKyAnZnVuY3Rpb24gbXVzdCByZXR1cm4gYG51bGxgIG9yIGFuIGBFcnJvcmAgYnV0IHJldHVybmVkIGEgJXMuICcgKyAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArICdjcmVhdG9yIChhcnJheU9mLCBpbnN0YW5jZU9mLCBvYmplY3RPZiwgb25lT2YsIG9uZU9mVHlwZSwgYW5kICcgKyAnc2hhcGUgYWxsIHJlcXVpcmUgYW4gYXJndW1lbnQpLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgbG9jYXRpb24sIHR5cGVTcGVjTmFtZSwgdHlwZW9mIGVycm9yJDEpO1xuXG4gICAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnJvciQxIGluc3RhbmNlb2YgRXJyb3IgJiYgIShlcnJvciQxLm1lc3NhZ2UgaW4gbG9nZ2VkVHlwZUZhaWx1cmVzKSkge1xuICAgICAgICAgIC8vIE9ubHkgbW9uaXRvciB0aGlzIGZhaWx1cmUgb25jZSBiZWNhdXNlIHRoZXJlIHRlbmRzIHRvIGJlIGEgbG90IG9mIHRoZVxuICAgICAgICAgIC8vIHNhbWUgZXJyb3IuXG4gICAgICAgICAgbG9nZ2VkVHlwZUZhaWx1cmVzW2Vycm9yJDEubWVzc2FnZV0gPSB0cnVlO1xuICAgICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEoZWxlbWVudCk7XG5cbiAgICAgICAgICBlcnJvcignRmFpbGVkICVzIHR5cGU6ICVzJywgbG9jYXRpb24sIGVycm9yJDEubWVzc2FnZSk7XG5cbiAgICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCQxKG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbnZhciBpc0FycmF5SW1wbCA9IEFycmF5LmlzQXJyYXk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZWRlY2xhcmVcblxuZnVuY3Rpb24gaXNBcnJheShhKSB7XG4gIHJldHVybiBpc0FycmF5SW1wbChhKTtcbn1cblxuLypcbiAqIFRoZSBgJycgKyB2YWx1ZWAgcGF0dGVybiAodXNlZCBpbiBwZXJmLXNlbnNpdGl2ZSBjb2RlKSB0aHJvd3MgZm9yIFN5bWJvbFxuICogYW5kIFRlbXBvcmFsLiogdHlwZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8yMjA2NC5cbiAqXG4gKiBUaGUgZnVuY3Rpb25zIGluIHRoaXMgbW9kdWxlIHdpbGwgdGhyb3cgYW4gZWFzaWVyLXRvLXVuZGVyc3RhbmQsXG4gKiBlYXNpZXItdG8tZGVidWcgZXhjZXB0aW9uIHdpdGggYSBjbGVhciBlcnJvcnMgbWVzc2FnZSBtZXNzYWdlIGV4cGxhaW5pbmcgdGhlXG4gKiBwcm9ibGVtLiAoSW5zdGVhZCBvZiBhIGNvbmZ1c2luZyBleGNlcHRpb24gdGhyb3duIGluc2lkZSB0aGUgaW1wbGVtZW50YXRpb25cbiAqIG9mIHRoZSBgdmFsdWVgIG9iamVjdCkuXG4gKi9cbi8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXJldHVybl0gb25seSBjYWxsZWQgaW4gREVWLCBzbyB2b2lkIHJldHVybiBpcyBub3QgcG9zc2libGUuXG5mdW5jdGlvbiB0eXBlTmFtZSh2YWx1ZSkge1xuICB7XG4gICAgLy8gdG9TdHJpbmdUYWcgaXMgbmVlZGVkIGZvciBuYW1lc3BhY2VkIHR5cGVzIGxpa2UgVGVtcG9yYWwuSW5zdGFudFxuICAgIHZhciBoYXNUb1N0cmluZ1RhZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLnRvU3RyaW5nVGFnO1xuICAgIHZhciB0eXBlID0gaGFzVG9TdHJpbmdUYWcgJiYgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSB8fCB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdPYmplY3QnOyAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dXG5cbiAgICByZXR1cm4gdHlwZTtcbiAgfVxufSAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dIG9ubHkgY2FsbGVkIGluIERFViwgc28gdm9pZCByZXR1cm4gaXMgbm90IHBvc3NpYmxlLlxuXG5cbmZ1bmN0aW9uIHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSB7XG4gIHtcbiAgICB0cnkge1xuICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIC8vIElmIHlvdSBlbmRlZCB1cCBoZXJlIGJ5IGZvbGxvd2luZyBhbiBleGNlcHRpb24gY2FsbCBzdGFjaywgaGVyZSdzIHdoYXQnc1xuICAvLyBoYXBwZW5lZDogeW91IHN1cHBsaWVkIGFuIG9iamVjdCBvciBzeW1ib2wgdmFsdWUgdG8gUmVhY3QgKGFzIGEgcHJvcCwga2V5LFxuICAvLyBET00gYXR0cmlidXRlLCBDU1MgcHJvcGVydHksIHN0cmluZyByZWYsIGV0Yy4pIGFuZCB3aGVuIFJlYWN0IHRyaWVkIHRvXG4gIC8vIGNvZXJjZSBpdCB0byBhIHN0cmluZyB1c2luZyBgJycgKyB2YWx1ZWAsIGFuIGV4Y2VwdGlvbiB3YXMgdGhyb3duLlxuICAvL1xuICAvLyBUaGUgbW9zdCBjb21tb24gdHlwZXMgdGhhdCB3aWxsIGNhdXNlIHRoaXMgZXhjZXB0aW9uIGFyZSBgU3ltYm9sYCBpbnN0YW5jZXNcbiAgLy8gYW5kIFRlbXBvcmFsIG9iamVjdHMgbGlrZSBgVGVtcG9yYWwuSW5zdGFudGAuIEJ1dCBhbnkgb2JqZWN0IHRoYXQgaGFzIGFcbiAgLy8gYHZhbHVlT2ZgIG9yIGBbU3ltYm9sLnRvUHJpbWl0aXZlXWAgbWV0aG9kIHRoYXQgdGhyb3dzIHdpbGwgYWxzbyBjYXVzZSB0aGlzXG4gIC8vIGV4Y2VwdGlvbi4gKExpYnJhcnkgYXV0aG9ycyBkbyB0aGlzIHRvIHByZXZlbnQgdXNlcnMgZnJvbSB1c2luZyBidWlsdC1pblxuICAvLyBudW1lcmljIG9wZXJhdG9ycyBsaWtlIGArYCBvciBjb21wYXJpc29uIG9wZXJhdG9ycyBsaWtlIGA+PWAgYmVjYXVzZSBjdXN0b21cbiAgLy8gbWV0aG9kcyBhcmUgbmVlZGVkIHRvIHBlcmZvcm0gYWNjdXJhdGUgYXJpdGhtZXRpYyBvciBjb21wYXJpc29uLilcbiAgLy9cbiAgLy8gVG8gZml4IHRoZSBwcm9ibGVtLCBjb2VyY2UgdGhpcyBvYmplY3Qgb3Igc3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nIGJlZm9yZVxuICAvLyBwYXNzaW5nIGl0IHRvIFJlYWN0LiBUaGUgbW9zdCByZWxpYWJsZSB3YXkgaXMgdXN1YWxseSBgU3RyaW5nKHZhbHVlKWAuXG4gIC8vXG4gIC8vIFRvIGZpbmQgd2hpY2ggdmFsdWUgaXMgdGhyb3dpbmcsIGNoZWNrIHRoZSBicm93c2VyIG9yIGRlYnVnZ2VyIGNvbnNvbGUuXG4gIC8vIEJlZm9yZSB0aGlzIGV4Y2VwdGlvbiB3YXMgdGhyb3duLCB0aGVyZSBzaG91bGQgYmUgYGNvbnNvbGUuZXJyb3JgIG91dHB1dFxuICAvLyB0aGF0IHNob3dzIHRoZSB0eXBlIChTeW1ib2wsIFRlbXBvcmFsLlBsYWluRGF0ZSwgZXRjLikgdGhhdCBjYXVzZWQgdGhlXG4gIC8vIHByb2JsZW0gYW5kIGhvdyB0aGF0IHR5cGUgd2FzIHVzZWQ6IGtleSwgYXRycmlidXRlLCBpbnB1dCB2YWx1ZSBwcm9wLCBldGMuXG4gIC8vIEluIG1vc3QgY2FzZXMsIHRoaXMgY29uc29sZSBvdXRwdXQgYWxzbyBzaG93cyB0aGUgY29tcG9uZW50IGFuZCBpdHNcbiAgLy8gYW5jZXN0b3IgY29tcG9uZW50cyB3aGVyZSB0aGUgZXhjZXB0aW9uIGhhcHBlbmVkLlxuICAvL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cbiAgcmV0dXJuICcnICsgdmFsdWU7XG59XG5mdW5jdGlvbiBjaGVja0tleVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIHtcbiAgICBpZiAod2lsbENvZXJjaW9uVGhyb3codmFsdWUpKSB7XG4gICAgICBlcnJvcignVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLicgKyAnIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLicsIHR5cGVOYW1lKHZhbHVlKSk7XG5cbiAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpOyAvLyB0aHJvdyAodG8gaGVscCBjYWxsZXJzIGZpbmQgdHJvdWJsZXNob290aW5nIGNvbW1lbnRzKVxuICAgIH1cbiAgfVxufVxuXG52YXIgUmVhY3RDdXJyZW50T3duZXIkMSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0Q3VycmVudE93bmVyO1xudmFyIFJFU0VSVkVEX1BST1BTID0ge1xuICBrZXk6IHRydWUsXG4gIHJlZjogdHJ1ZSxcbiAgX19zZWxmOiB0cnVlLFxuICBfX3NvdXJjZTogdHJ1ZVxufTtcbnZhciBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bjtcbnZhciBzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93bjtcbnZhciBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzO1xuXG57XG4gIGRpZFdhcm5BYm91dFN0cmluZ1JlZnMgPSB7fTtcbn1cblxuZnVuY3Rpb24gaGFzVmFsaWRSZWYoY29uZmlnKSB7XG4gIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsICdyZWYnKSkge1xuICAgICAgdmFyIGdldHRlciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCAncmVmJykuZ2V0O1xuXG4gICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbmZpZy5yZWYgIT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gaGFzVmFsaWRLZXkoY29uZmlnKSB7XG4gIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsICdrZXknKSkge1xuICAgICAgdmFyIGdldHRlciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCAna2V5JykuZ2V0O1xuXG4gICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbmZpZy5rZXkgIT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gd2FybklmU3RyaW5nUmVmQ2Fubm90QmVBdXRvQ29udmVydGVkKGNvbmZpZywgc2VsZikge1xuICB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcucmVmID09PSAnc3RyaW5nJyAmJiBSZWFjdEN1cnJlbnRPd25lciQxLmN1cnJlbnQgJiYgc2VsZiAmJiBSZWFjdEN1cnJlbnRPd25lciQxLmN1cnJlbnQuc3RhdGVOb2RlICE9PSBzZWxmKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lciQxLmN1cnJlbnQudHlwZSk7XG5cbiAgICAgIGlmICghZGlkV2FybkFib3V0U3RyaW5nUmVmc1tjb21wb25lbnROYW1lXSkge1xuICAgICAgICBlcnJvcignQ29tcG9uZW50IFwiJXNcIiBjb250YWlucyB0aGUgc3RyaW5nIHJlZiBcIiVzXCIuICcgKyAnU3VwcG9ydCBmb3Igc3RyaW5nIHJlZnMgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHJlbGVhc2UuICcgKyAnVGhpcyBjYXNlIGNhbm5vdCBiZSBhdXRvbWF0aWNhbGx5IGNvbnZlcnRlZCB0byBhbiBhcnJvdyBmdW5jdGlvbi4gJyArICdXZSBhc2sgeW91IHRvIG1hbnVhbGx5IGZpeCB0aGlzIGNhc2UgYnkgdXNpbmcgdXNlUmVmKCkgb3IgY3JlYXRlUmVmKCkgaW5zdGVhZC4gJyArICdMZWFybiBtb3JlIGFib3V0IHVzaW5nIHJlZnMgc2FmZWx5IGhlcmU6ICcgKyAnaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3N0cmljdC1tb2RlLXN0cmluZy1yZWYnLCBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIkMS5jdXJyZW50LnR5cGUpLCBjb25maWcucmVmKTtcblxuICAgICAgICBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bikge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9IHRydWU7XG5cbiAgICAgICAgZXJyb3IoJyVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2tleScsIHtcbiAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nS2V5LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lUmVmUHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nUmVmID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93bikge1xuICAgICAgICBzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93biA9IHRydWU7XG5cbiAgICAgICAgZXJyb3IoJyVzOiBgcmVmYCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ3JlZicsIHtcbiAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nUmVmLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbn1cbi8qKlxuICogRmFjdG9yeSBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IFJlYWN0IGVsZW1lbnQuIFRoaXMgbm8gbG9uZ2VyIGFkaGVyZXMgdG9cbiAqIHRoZSBjbGFzcyBwYXR0ZXJuLCBzbyBkbyBub3QgdXNlIG5ldyB0byBjYWxsIGl0LiBBbHNvLCBpbnN0YW5jZW9mIGNoZWNrXG4gKiB3aWxsIG5vdCB3b3JrLiBJbnN0ZWFkIHRlc3QgJCR0eXBlb2YgZmllbGQgYWdhaW5zdCBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgdG8gY2hlY2tcbiAqIGlmIHNvbWV0aGluZyBpcyBhIFJlYWN0IEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0geyp9IHByb3BzXG4gKiBAcGFyYW0geyp9IGtleVxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZWZcbiAqIEBwYXJhbSB7Kn0gb3duZXJcbiAqIEBwYXJhbSB7Kn0gc2VsZiBBICp0ZW1wb3JhcnkqIGhlbHBlciB0byBkZXRlY3QgcGxhY2VzIHdoZXJlIGB0aGlzYCBpc1xuICogZGlmZmVyZW50IGZyb20gdGhlIGBvd25lcmAgd2hlbiBSZWFjdC5jcmVhdGVFbGVtZW50IGlzIGNhbGxlZCwgc28gdGhhdCB3ZVxuICogY2FuIHdhcm4uIFdlIHdhbnQgdG8gZ2V0IHJpZCBvZiBvd25lciBhbmQgcmVwbGFjZSBzdHJpbmcgYHJlZmBzIHdpdGggYXJyb3dcbiAqIGZ1bmN0aW9ucywgYW5kIGFzIGxvbmcgYXMgYHRoaXNgIGFuZCBvd25lciBhcmUgdGhlIHNhbWUsIHRoZXJlIHdpbGwgYmUgbm9cbiAqIGNoYW5nZSBpbiBiZWhhdmlvci5cbiAqIEBwYXJhbSB7Kn0gc291cmNlIEFuIGFubm90YXRpb24gb2JqZWN0IChhZGRlZCBieSBhIHRyYW5zcGlsZXIgb3Igb3RoZXJ3aXNlKVxuICogaW5kaWNhdGluZyBmaWxlbmFtZSwgbGluZSBudW1iZXIsIGFuZC9vciBvdGhlciBpbmZvcm1hdGlvbi5cbiAqIEBpbnRlcm5hbFxuICovXG5cblxuZnVuY3Rpb24gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcykge1xuICB2YXIgZWxlbWVudCA9IHtcbiAgICAvLyBUaGlzIHRhZyBhbGxvd3MgdXMgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyBhcyBhIFJlYWN0IEVsZW1lbnRcbiAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgIC8vIEJ1aWx0LWluIHByb3BlcnRpZXMgdGhhdCBiZWxvbmcgb24gdGhlIGVsZW1lbnRcbiAgICB0eXBlOiB0eXBlLFxuICAgIGtleToga2V5LFxuICAgIHJlZjogcmVmLFxuICAgIHByb3BzOiBwcm9wcyxcbiAgICAvLyBSZWNvcmQgdGhlIGNvbXBvbmVudCByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgdGhpcyBlbGVtZW50LlxuICAgIF9vd25lcjogb3duZXJcbiAgfTtcblxuICB7XG4gICAgLy8gVGhlIHZhbGlkYXRpb24gZmxhZyBpcyBjdXJyZW50bHkgbXV0YXRpdmUuIFdlIHB1dCBpdCBvblxuICAgIC8vIGFuIGV4dGVybmFsIGJhY2tpbmcgc3RvcmUgc28gdGhhdCB3ZSBjYW4gZnJlZXplIHRoZSB3aG9sZSBvYmplY3QuXG4gICAgLy8gVGhpcyBjYW4gYmUgcmVwbGFjZWQgd2l0aCBhIFdlYWtNYXAgb25jZSB0aGV5IGFyZSBpbXBsZW1lbnRlZCBpblxuICAgIC8vIGNvbW1vbmx5IHVzZWQgZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzLlxuICAgIGVsZW1lbnQuX3N0b3JlID0ge307IC8vIFRvIG1ha2UgY29tcGFyaW5nIFJlYWN0RWxlbWVudHMgZWFzaWVyIGZvciB0ZXN0aW5nIHB1cnBvc2VzLCB3ZSBtYWtlXG4gICAgLy8gdGhlIHZhbGlkYXRpb24gZmxhZyBub24tZW51bWVyYWJsZSAod2hlcmUgcG9zc2libGUsIHdoaWNoIHNob3VsZFxuICAgIC8vIGluY2x1ZGUgZXZlcnkgZW52aXJvbm1lbnQgd2UgcnVuIHRlc3RzIGluKSwgc28gdGhlIHRlc3QgZnJhbWV3b3JrXG4gICAgLy8gaWdub3JlcyBpdC5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50Ll9zdG9yZSwgJ3ZhbGlkYXRlZCcsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGZhbHNlXG4gICAgfSk7IC8vIHNlbGYgYW5kIHNvdXJjZSBhcmUgREVWIG9ubHkgcHJvcGVydGllcy5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NlbGYnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZTogc2VsZlxuICAgIH0pOyAvLyBUd28gZWxlbWVudHMgY3JlYXRlZCBpbiB0d28gZGlmZmVyZW50IHBsYWNlcyBzaG91bGQgYmUgY29uc2lkZXJlZFxuICAgIC8vIGVxdWFsIGZvciB0ZXN0aW5nIHB1cnBvc2VzIGFuZCB0aGVyZWZvcmUgd2UgaGlkZSBpdCBmcm9tIGVudW1lcmF0aW9uLlxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdfc291cmNlJywge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgdmFsdWU6IHNvdXJjZVxuICAgIH0pO1xuXG4gICAgaWYgKE9iamVjdC5mcmVlemUpIHtcbiAgICAgIE9iamVjdC5mcmVlemUoZWxlbWVudC5wcm9wcyk7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxuLyoqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZmNzL3B1bGwvMTA3XG4gKiBAcGFyYW0geyp9IHR5cGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICovXG5cbmZ1bmN0aW9uIGpzeERFViQxKHR5cGUsIGNvbmZpZywgbWF5YmVLZXksIHNvdXJjZSwgc2VsZikge1xuICB7XG4gICAgdmFyIHByb3BOYW1lOyAvLyBSZXNlcnZlZCBuYW1lcyBhcmUgZXh0cmFjdGVkXG5cbiAgICB2YXIgcHJvcHMgPSB7fTtcbiAgICB2YXIga2V5ID0gbnVsbDtcbiAgICB2YXIgcmVmID0gbnVsbDsgLy8gQ3VycmVudGx5LCBrZXkgY2FuIGJlIHNwcmVhZCBpbiBhcyBhIHByb3AuIFRoaXMgY2F1c2VzIGEgcG90ZW50aWFsXG4gICAgLy8gaXNzdWUgaWYga2V5IGlzIGFsc28gZXhwbGljaXRseSBkZWNsYXJlZCAoaWUuIDxkaXYgey4uLnByb3BzfSBrZXk9XCJIaVwiIC8+XG4gICAgLy8gb3IgPGRpdiBrZXk9XCJIaVwiIHsuLi5wcm9wc30gLz4gKS4gV2Ugd2FudCB0byBkZXByZWNhdGUga2V5IHNwcmVhZCxcbiAgICAvLyBidXQgYXMgYW4gaW50ZXJtZWRpYXJ5IHN0ZXAsIHdlIHdpbGwgdXNlIGpzeERFViBmb3IgZXZlcnl0aGluZyBleGNlcHRcbiAgICAvLyA8ZGl2IHsuLi5wcm9wc30ga2V5PVwiSGlcIiAvPiwgYmVjYXVzZSB3ZSBhcmVuJ3QgY3VycmVudGx5IGFibGUgdG8gdGVsbCBpZlxuICAgIC8vIGtleSBpcyBleHBsaWNpdGx5IGRlY2xhcmVkIHRvIGJlIHVuZGVmaW5lZCBvciBub3QuXG5cbiAgICBpZiAobWF5YmVLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAge1xuICAgICAgICBjaGVja0tleVN0cmluZ0NvZXJjaW9uKG1heWJlS2V5KTtcbiAgICAgIH1cblxuICAgICAga2V5ID0gJycgKyBtYXliZUtleTtcbiAgICB9XG5cbiAgICBpZiAoaGFzVmFsaWRLZXkoY29uZmlnKSkge1xuICAgICAge1xuICAgICAgICBjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNvbmZpZy5rZXkpO1xuICAgICAgfVxuXG4gICAgICBrZXkgPSAnJyArIGNvbmZpZy5rZXk7XG4gICAgfVxuXG4gICAgaWYgKGhhc1ZhbGlkUmVmKGNvbmZpZykpIHtcbiAgICAgIHJlZiA9IGNvbmZpZy5yZWY7XG4gICAgICB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKTtcbiAgICB9IC8vIFJlbWFpbmluZyBwcm9wZXJ0aWVzIGFyZSBhZGRlZCB0byBhIG5ldyBwcm9wcyBvYmplY3RcblxuXG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmICFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9IC8vIFJlc29sdmUgZGVmYXVsdCBwcm9wc1xuXG5cbiAgICBpZiAodHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcykge1xuICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuXG4gICAgICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGtleSB8fCByZWYpIHtcbiAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgJ1Vua25vd24nIDogdHlwZTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0RWxlbWVudCh0eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBSZWFjdEN1cnJlbnRPd25lciQxLmN1cnJlbnQsIHByb3BzKTtcbiAgfVxufVxuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcbnZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcbnZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFID0gU3ltYm9sLmZvcigncmVhY3QuY2xpZW50LnJlZmVyZW5jZScpO1xuXG5mdW5jdGlvbiBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KSB7XG4gIHtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgICB2YXIgc3RhY2sgPSBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYoZWxlbWVudC50eXBlLCBlbGVtZW50Ll9zb3VyY2UsIG93bmVyID8gb3duZXIudHlwZSA6IG51bGwpO1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5zZXRFeHRyYVN0YWNrRnJhbWUoc3RhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLnNldEV4dHJhU3RhY2tGcmFtZShudWxsKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duO1xuXG57XG4gIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duID0gZmFsc2U7XG59XG4vKipcbiAqIFZlcmlmaWVzIHRoZSBvYmplY3QgaXMgYSBSZWFjdEVsZW1lbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2lzdmFsaWRlbGVtZW50XG4gKiBAcGFyYW0gez9vYmplY3R9IG9iamVjdFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqZWN0YCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIEBmaW5hbFxuICovXG5cblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsICYmIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpIHtcbiAge1xuICAgIGlmIChSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50KSB7XG4gICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnR5cGUpO1xuXG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICByZXR1cm4gJ1xcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgbmFtZSArICdgLic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtKHNvdXJjZSkge1xuICB7XG4gICAgaWYgKHNvdXJjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgZmlsZU5hbWUgPSBzb3VyY2UuZmlsZU5hbWUucmVwbGFjZSgvXi4qW1xcXFxcXC9dLywgJycpO1xuICAgICAgdmFyIGxpbmVOdW1iZXIgPSBzb3VyY2UubGluZU51bWJlcjtcbiAgICAgIHJldHVybiAnXFxuXFxuQ2hlY2sgeW91ciBjb2RlIGF0ICcgKyBmaWxlTmFtZSArICc6JyArIGxpbmVOdW1iZXIgKyAnLic7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG59XG4vKipcbiAqIFdhcm4gaWYgdGhlcmUncyBubyBrZXkgZXhwbGljaXRseSBzZXQgb24gZHluYW1pYyBhcnJheXMgb2YgY2hpbGRyZW4gb3JcbiAqIG9iamVjdCBrZXlzIGFyZSBub3QgdmFsaWQuIFRoaXMgYWxsb3dzIHVzIHRvIGtlZXAgdHJhY2sgb2YgY2hpbGRyZW4gYmV0d2VlblxuICogdXBkYXRlcy5cbiAqL1xuXG5cbnZhciBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB7fTtcblxuZnVuY3Rpb24gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICB2YXIgaW5mbyA9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuXG4gICAgaWYgKCFpbmZvKSB7XG4gICAgICB2YXIgcGFyZW50TmFtZSA9IHR5cGVvZiBwYXJlbnRUeXBlID09PSAnc3RyaW5nJyA/IHBhcmVudFR5cGUgOiBwYXJlbnRUeXBlLmRpc3BsYXlOYW1lIHx8IHBhcmVudFR5cGUubmFtZTtcblxuICAgICAgaWYgKHBhcmVudE5hbWUpIHtcbiAgICAgICAgaW5mbyA9IFwiXFxuXFxuQ2hlY2sgdGhlIHRvcC1sZXZlbCByZW5kZXIgY2FsbCB1c2luZyA8XCIgKyBwYXJlbnROYW1lICsgXCI+LlwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpbmZvO1xuICB9XG59XG4vKipcbiAqIFdhcm4gaWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGFuIGV4cGxpY2l0IGtleSBhc3NpZ25lZCB0byBpdC5cbiAqIFRoaXMgZWxlbWVudCBpcyBpbiBhbiBhcnJheS4gVGhlIGFycmF5IGNvdWxkIGdyb3cgYW5kIHNocmluayBvciBiZVxuICogcmVvcmRlcmVkLiBBbGwgY2hpbGRyZW4gdGhhdCBoYXZlbid0IGFscmVhZHkgYmVlbiB2YWxpZGF0ZWQgYXJlIHJlcXVpcmVkIHRvXG4gKiBoYXZlIGEgXCJrZXlcIiBwcm9wZXJ0eSBhc3NpZ25lZCB0byBpdC4gRXJyb3Igc3RhdHVzZXMgYXJlIGNhY2hlZCBzbyBhIHdhcm5pbmdcbiAqIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0aGF0IHJlcXVpcmVzIGEga2V5LlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIGVsZW1lbnQncyBwYXJlbnQncyB0eXBlLlxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVFeHBsaWNpdEtleShlbGVtZW50LCBwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICBpZiAoIWVsZW1lbnQuX3N0b3JlIHx8IGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCB8fCBlbGVtZW50LmtleSAhPSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkID0gdHJ1ZTtcbiAgICB2YXIgY3VycmVudENvbXBvbmVudEVycm9ySW5mbyA9IGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSk7XG5cbiAgICBpZiAob3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dID0gdHJ1ZTsgLy8gVXN1YWxseSB0aGUgY3VycmVudCBvd25lciBpcyB0aGUgb2ZmZW5kZXIsIGJ1dCBpZiBpdCBhY2NlcHRzIGNoaWxkcmVuIGFzIGFcbiAgICAvLyBwcm9wZXJ0eSwgaXQgbWF5IGJlIHRoZSBjcmVhdG9yIG9mIHRoZSBjaGlsZCB0aGF0J3MgcmVzcG9uc2libGUgZm9yXG4gICAgLy8gYXNzaWduaW5nIGl0IGEga2V5LlxuXG4gICAgdmFyIGNoaWxkT3duZXIgPSAnJztcblxuICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQuX293bmVyICYmIGVsZW1lbnQuX293bmVyICE9PSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50KSB7XG4gICAgICAvLyBHaXZlIHRoZSBjb21wb25lbnQgdGhhdCBvcmlnaW5hbGx5IGNyZWF0ZWQgdGhpcyBjaGlsZC5cbiAgICAgIGNoaWxkT3duZXIgPSBcIiBJdCB3YXMgcGFzc2VkIGEgY2hpbGQgZnJvbSBcIiArIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShlbGVtZW50Ll9vd25lci50eXBlKSArIFwiLlwiO1xuICAgIH1cblxuICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgZXJyb3IoJ0VhY2ggY2hpbGQgaW4gYSBsaXN0IHNob3VsZCBoYXZlIGEgdW5pcXVlIFwia2V5XCIgcHJvcC4nICsgJyVzJXMgU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvbGluay93YXJuaW5nLWtleXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uJywgY3VycmVudENvbXBvbmVudEVycm9ySW5mbywgY2hpbGRPd25lcik7XG5cbiAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChudWxsKTtcbiAgfVxufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBldmVyeSBlbGVtZW50IGVpdGhlciBpcyBwYXNzZWQgaW4gYSBzdGF0aWMgbG9jYXRpb24sIGluIGFuXG4gKiBhcnJheSB3aXRoIGFuIGV4cGxpY2l0IGtleXMgcHJvcGVydHkgZGVmaW5lZCwgb3IgaW4gYW4gb2JqZWN0IGxpdGVyYWxcbiAqIHdpdGggdmFsaWQga2V5IHByb3BlcnR5LlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdE5vZGV9IG5vZGUgU3RhdGljYWxseSBwYXNzZWQgY2hpbGQgb2YgYW55IHR5cGUuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgbm9kZSdzIHBhcmVudCdzIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIG5vZGUgIT09ICdvYmplY3QnIHx8ICFub2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG5vZGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UpIDsgZWxzZSBpZiAoaXNBcnJheShub2RlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG5cbiAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoY2hpbGQsIHBhcmVudFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgICAgLy8gVGhpcyBlbGVtZW50IHdhcyBwYXNzZWQgaW4gYSB2YWxpZCBsb2NhdGlvbi5cbiAgICAgIGlmIChub2RlLl9zdG9yZSkge1xuICAgICAgICBub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBFbnRyeSBpdGVyYXRvcnMgdXNlZCB0byBwcm92aWRlIGltcGxpY2l0IGtleXMsXG4gICAgICAgIC8vIGJ1dCBub3cgd2UgcHJpbnQgYSBzZXBhcmF0ZSB3YXJuaW5nIGZvciB0aGVtIGxhdGVyLlxuICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gbm9kZS5lbnRyaWVzKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuXG4gICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIEdpdmVuIGFuIGVsZW1lbnQsIHZhbGlkYXRlIHRoYXQgaXRzIHByb3BzIGZvbGxvdyB0aGUgcHJvcFR5cGVzIGRlZmluaXRpb24sXG4gKiBwcm92aWRlZCBieSB0aGUgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZWxlbWVudFxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCkge1xuICB7XG4gICAgdmFyIHR5cGUgPSBlbGVtZW50LnR5cGU7XG5cbiAgICBpZiAodHlwZSA9PT0gbnVsbCB8fCB0eXBlID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcHJvcFR5cGVzO1xuXG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcm9wVHlwZXMgPSB0eXBlLnByb3BUeXBlcztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSB8fCAvLyBOb3RlOiBNZW1vIG9ubHkgY2hlY2tzIG91dGVyIHByb3BzIGhlcmUuXG4gICAgLy8gSW5uZXIgcHJvcHMgYXJlIGNoZWNrZWQgaW4gdGhlIHJlY29uY2lsZXIuXG4gICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFKSkge1xuICAgICAgcHJvcFR5cGVzID0gdHlwZS5wcm9wVHlwZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJvcFR5cGVzKSB7XG4gICAgICAvLyBJbnRlbnRpb25hbGx5IGluc2lkZSB0byBhdm9pZCB0cmlnZ2VyaW5nIGxhenkgaW5pdGlhbGl6ZXJzOlxuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICBjaGVja1Byb3BUeXBlcyhwcm9wVHlwZXMsIGVsZW1lbnQucHJvcHMsICdwcm9wJywgbmFtZSwgZWxlbWVudCk7XG4gICAgfSBlbHNlIGlmICh0eXBlLlByb3BUeXBlcyAhPT0gdW5kZWZpbmVkICYmICFwcm9wVHlwZXNNaXNzcGVsbFdhcm5pbmdTaG93bikge1xuICAgICAgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24gPSB0cnVlOyAvLyBJbnRlbnRpb25hbGx5IGluc2lkZSB0byBhdm9pZCB0cmlnZ2VyaW5nIGxhenkgaW5pdGlhbGl6ZXJzOlxuXG4gICAgICB2YXIgX25hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG5cbiAgICAgIGVycm9yKCdDb21wb25lbnQgJXMgZGVjbGFyZWQgYFByb3BUeXBlc2AgaW5zdGVhZCBvZiBgcHJvcFR5cGVzYC4gRGlkIHlvdSBtaXNzcGVsbCB0aGUgcHJvcGVydHkgYXNzaWdubWVudD8nLCBfbmFtZSB8fCAnVW5rbm93bicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdHlwZS5nZXREZWZhdWx0UHJvcHMgPT09ICdmdW5jdGlvbicgJiYgIXR5cGUuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkKSB7XG4gICAgICBlcnJvcignZ2V0RGVmYXVsdFByb3BzIGlzIG9ubHkgdXNlZCBvbiBjbGFzc2ljIFJlYWN0LmNyZWF0ZUNsYXNzICcgKyAnZGVmaW5pdGlvbnMuIFVzZSBhIHN0YXRpYyBwcm9wZXJ0eSBuYW1lZCBgZGVmYXVsdFByb3BzYCBpbnN0ZWFkLicpO1xuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBHaXZlbiBhIGZyYWdtZW50LCB2YWxpZGF0ZSB0aGF0IGl0IGNhbiBvbmx5IGJlIHByb3ZpZGVkIHdpdGggZnJhZ21lbnQgcHJvcHNcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBmcmFnbWVudFxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVGcmFnbWVudFByb3BzKGZyYWdtZW50KSB7XG4gIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGZyYWdtZW50LnByb3BzKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICAgIGlmIChrZXkgIT09ICdjaGlsZHJlbicgJiYga2V5ICE9PSAna2V5Jykge1xuICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChmcmFnbWVudCk7XG5cbiAgICAgICAgZXJyb3IoJ0ludmFsaWQgcHJvcCBgJXNgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuICcgKyAnUmVhY3QuRnJhZ21lbnQgY2FuIG9ubHkgaGF2ZSBga2V5YCBhbmQgYGNoaWxkcmVuYCBwcm9wcy4nLCBrZXkpO1xuXG4gICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KG51bGwpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZnJhZ21lbnQucmVmICE9PSBudWxsKSB7XG4gICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChmcmFnbWVudCk7XG5cbiAgICAgIGVycm9yKCdJbnZhbGlkIGF0dHJpYnV0ZSBgcmVmYCBzdXBwbGllZCB0byBgUmVhY3QuRnJhZ21lbnRgLicpO1xuXG4gICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChudWxsKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIGRpZFdhcm5BYm91dEtleVNwcmVhZCA9IHt9O1xuZnVuY3Rpb24ganN4V2l0aFZhbGlkYXRpb24odHlwZSwgcHJvcHMsIGtleSwgaXNTdGF0aWNDaGlsZHJlbiwgc291cmNlLCBzZWxmKSB7XG4gIHtcbiAgICB2YXIgdmFsaWRUeXBlID0gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpOyAvLyBXZSB3YXJuIGluIHRoaXMgY2FzZSBidXQgZG9uJ3QgdGhyb3cuIFdlIGV4cGVjdCB0aGUgZWxlbWVudCBjcmVhdGlvbiB0b1xuICAgIC8vIHN1Y2NlZWQgYW5kIHRoZXJlIHdpbGwgbGlrZWx5IGJlIGVycm9ycyBpbiByZW5kZXIuXG5cbiAgICBpZiAoIXZhbGlkVHlwZSkge1xuICAgICAgdmFyIGluZm8gPSAnJztcblxuICAgICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiBPYmplY3Qua2V5cyh0eXBlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW5mbyArPSAnIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlICcgKyBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNvdXJjZUluZm8gPSBnZXRTb3VyY2VJbmZvRXJyb3JBZGRlbmR1bShzb3VyY2UpO1xuXG4gICAgICBpZiAoc291cmNlSW5mbykge1xuICAgICAgICBpbmZvICs9IHNvdXJjZUluZm87XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmZvICs9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdHlwZVN0cmluZztcblxuICAgICAgaWYgKHR5cGUgPT09IG51bGwpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9ICdudWxsJztcbiAgICAgIH0gZWxzZSBpZiAoaXNBcnJheSh0eXBlKSkge1xuICAgICAgICB0eXBlU3RyaW5nID0gJ2FycmF5JztcbiAgICAgIH0gZWxzZSBpZiAodHlwZSAhPT0gdW5kZWZpbmVkICYmIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRSkge1xuICAgICAgICB0eXBlU3RyaW5nID0gXCI8XCIgKyAoZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgJ1Vua25vd24nKSArIFwiIC8+XCI7XG4gICAgICAgIGluZm8gPSAnIERpZCB5b3UgYWNjaWRlbnRhbGx5IGV4cG9ydCBhIEpTWCBsaXRlcmFsIGluc3RlYWQgb2YgYSBjb21wb25lbnQ/JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHR5cGVTdHJpbmcgPSB0eXBlb2YgdHlwZTtcbiAgICAgIH1cblxuICAgICAgZXJyb3IoJ1JlYWN0LmpzeDogdHlwZSBpcyBpbnZhbGlkIC0tIGV4cGVjdGVkIGEgc3RyaW5nIChmb3IgJyArICdidWlsdC1pbiBjb21wb25lbnRzKSBvciBhIGNsYXNzL2Z1bmN0aW9uIChmb3IgY29tcG9zaXRlICcgKyAnY29tcG9uZW50cykgYnV0IGdvdDogJXMuJXMnLCB0eXBlU3RyaW5nLCBpbmZvKTtcbiAgICB9XG5cbiAgICB2YXIgZWxlbWVudCA9IGpzeERFViQxKHR5cGUsIHByb3BzLCBrZXksIHNvdXJjZSwgc2VsZik7IC8vIFRoZSByZXN1bHQgY2FuIGJlIG51bGxpc2ggaWYgYSBtb2NrIG9yIGEgY3VzdG9tIGZ1bmN0aW9uIGlzIHVzZWQuXG4gICAgLy8gVE9ETzogRHJvcCB0aGlzIHdoZW4gdGhlc2UgYXJlIG5vIGxvbmdlciBhbGxvd2VkIGFzIHRoZSB0eXBlIGFyZ3VtZW50LlxuXG4gICAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfSAvLyBTa2lwIGtleSB3YXJuaW5nIGlmIHRoZSB0eXBlIGlzbid0IHZhbGlkIHNpbmNlIG91ciBrZXkgdmFsaWRhdGlvbiBsb2dpY1xuICAgIC8vIGRvZXNuJ3QgZXhwZWN0IGEgbm9uLXN0cmluZy9mdW5jdGlvbiB0eXBlIGFuZCBjYW4gdGhyb3cgY29uZnVzaW5nIGVycm9ycy5cbiAgICAvLyBXZSBkb24ndCB3YW50IGV4Y2VwdGlvbiBiZWhhdmlvciB0byBkaWZmZXIgYmV0d2VlbiBkZXYgYW5kIHByb2QuXG4gICAgLy8gKFJlbmRlcmluZyB3aWxsIHRocm93IHdpdGggYSBoZWxwZnVsIG1lc3NhZ2UgYW5kIGFzIHNvb24gYXMgdGhlIHR5cGUgaXNcbiAgICAvLyBmaXhlZCwgdGhlIGtleSB3YXJuaW5ncyB3aWxsIGFwcGVhci4pXG5cblxuICAgIGlmICh2YWxpZFR5cGUpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuXG4gICAgICBpZiAoY2hpbGRyZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoaXNTdGF0aWNDaGlsZHJlbikge1xuICAgICAgICAgIGlmIChpc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbltpXSwgdHlwZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICAgICAgICAgIE9iamVjdC5mcmVlemUoY2hpbGRyZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnJvcignUmVhY3QuanN4OiBTdGF0aWMgY2hpbGRyZW4gc2hvdWxkIGFsd2F5cyBiZSBhbiBhcnJheS4gJyArICdZb3UgYXJlIGxpa2VseSBleHBsaWNpdGx5IGNhbGxpbmcgUmVhY3QuanN4cyBvciBSZWFjdC5qc3hERVYuICcgKyAnVXNlIHRoZSBCYWJlbCB0cmFuc2Zvcm0gaW5zdGVhZC4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW4sIHR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocHJvcHMsICdrZXknKSkge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKS5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgcmV0dXJuIGsgIT09ICdrZXknO1xuICAgICAgfSk7XG4gICAgICB2YXIgYmVmb3JlRXhhbXBsZSA9IGtleXMubGVuZ3RoID4gMCA/ICd7a2V5OiBzb21lS2V5LCAnICsga2V5cy5qb2luKCc6IC4uLiwgJykgKyAnOiAuLi59JyA6ICd7a2V5OiBzb21lS2V5fSc7XG5cbiAgICAgIGlmICghZGlkV2FybkFib3V0S2V5U3ByZWFkW2NvbXBvbmVudE5hbWUgKyBiZWZvcmVFeGFtcGxlXSkge1xuICAgICAgICB2YXIgYWZ0ZXJFeGFtcGxlID0ga2V5cy5sZW5ndGggPiAwID8gJ3snICsga2V5cy5qb2luKCc6IC4uLiwgJykgKyAnOiAuLi59JyA6ICd7fSc7XG5cbiAgICAgICAgZXJyb3IoJ0EgcHJvcHMgb2JqZWN0IGNvbnRhaW5pbmcgYSBcImtleVwiIHByb3AgaXMgYmVpbmcgc3ByZWFkIGludG8gSlNYOlxcbicgKyAnICBsZXQgcHJvcHMgPSAlcztcXG4nICsgJyAgPCVzIHsuLi5wcm9wc30gLz5cXG4nICsgJ1JlYWN0IGtleXMgbXVzdCBiZSBwYXNzZWQgZGlyZWN0bHkgdG8gSlNYIHdpdGhvdXQgdXNpbmcgc3ByZWFkOlxcbicgKyAnICBsZXQgcHJvcHMgPSAlcztcXG4nICsgJyAgPCVzIGtleT17c29tZUtleX0gey4uLnByb3BzfSAvPicsIGJlZm9yZUV4YW1wbGUsIGNvbXBvbmVudE5hbWUsIGFmdGVyRXhhbXBsZSwgY29tcG9uZW50TmFtZSk7XG5cbiAgICAgICAgZGlkV2FybkFib3V0S2V5U3ByZWFkW2NvbXBvbmVudE5hbWUgKyBiZWZvcmVFeGFtcGxlXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cbn0gLy8gVGhlc2UgdHdvIGZ1bmN0aW9ucyBleGlzdCB0byBzdGlsbCBnZXQgY2hpbGQgd2FybmluZ3MgaW4gZGV2XG5cbnZhciBqc3hERVYgPSBqc3hXaXRoVmFsaWRhdGlvbiA7XG5cbmV4cG9ydHMuRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xuZXhwb3J0cy5qc3hERVYgPSBqc3hERVY7XG4gIH0pKCk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js ***!
  \*******************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"(app-pages-browser)/./node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE0LjAuNF9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3JlYWN0L2pzeC1kZXYtcnVudGltZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixJQUFJLEtBQXFDLEVBQUUsRUFFMUMsQ0FBQztBQUNGLEVBQUUsMlBBQXNFO0FBQ3hFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE0LjAuNF9yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3JlYWN0L2pzeC1kZXYtcnVudGltZS5qcz9jODM1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/next@14.0.4_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@stencil+core@2.5.2/node_modules/@stencil/core/internal/app-data/index.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@stencil+core@2.5.2/node_modules/@stencil/core/internal/app-data/index.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BUILD: function() { return /* binding */ BUILD; },\n/* harmony export */   Env: function() { return /* binding */ Env; },\n/* harmony export */   NAMESPACE: function() { return /* binding */ NAMESPACE; }\n/* harmony export */ });\nconst BUILD = {\n    allRenderFn: false,\n    cmpDidLoad: true,\n    cmpDidUnload: false,\n    cmpDidUpdate: true,\n    cmpDidRender: true,\n    cmpWillLoad: true,\n    cmpWillUpdate: true,\n    cmpWillRender: true,\n    connectedCallback: true,\n    disconnectedCallback: true,\n    element: true,\n    event: true,\n    hasRenderFn: true,\n    lifecycle: true,\n    hostListener: true,\n    hostListenerTargetWindow: true,\n    hostListenerTargetDocument: true,\n    hostListenerTargetBody: true,\n    hostListenerTargetParent: false,\n    hostListenerTarget: true,\n    member: true,\n    method: true,\n    mode: true,\n    observeAttribute: true,\n    prop: true,\n    propMutable: true,\n    reflect: true,\n    scoped: true,\n    shadowDom: true,\n    slot: true,\n    cssAnnotations: true,\n    state: true,\n    style: true,\n    svg: true,\n    updatable: true,\n    vdomAttribute: true,\n    vdomXlink: true,\n    vdomClass: true,\n    vdomFunctional: true,\n    vdomKey: true,\n    vdomListener: true,\n    vdomRef: true,\n    vdomPropOrAttr: true,\n    vdomRender: true,\n    vdomStyle: true,\n    vdomText: true,\n    watchCallback: true,\n    taskQueue: true,\n    hotModuleReplacement: false,\n    isDebug: false,\n    isDev: false,\n    isTesting: false,\n    hydrateServerSide: false,\n    hydrateClientSide: false,\n    lifecycleDOMEvents: false,\n    lazyLoad: false,\n    profile: false,\n    slotRelocation: true,\n    appendChildSlotFix: false,\n    cloneNodeFix: false,\n    hydratedAttribute: false,\n    hydratedClass: true,\n    safari10: false,\n    scriptDataOpts: false,\n    shadowDomShim: false,\n    slotChildNodesFix: false,\n    propBoolean: true,\n    propNumber: true,\n    propString: true,\n    cssVarShim: false,\n    constructableCSS: true,\n    cmpShouldUpdate: true,\n    devTools: false,\n    dynamicImportShim: false,\n    shadowDelegatesFocus: true,\n    initializeNextTick: false,\n    asyncLoading: false,\n    asyncQueue: false,\n    transformTagName: false,\n    attachStyles: true,\n};\nconst Env = {};\nconst NAMESPACE = /* default */ 'app';\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9Ac3RlbmNpbCtjb3JlQDIuNS4yL25vZGVfbW9kdWxlcy9Ac3RlbmNpbC9jb3JlL2ludGVybmFsL2FwcC1kYXRhL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzdGVuY2lsK2NvcmVAMi41LjIvbm9kZV9tb2R1bGVzL0BzdGVuY2lsL2NvcmUvaW50ZXJuYWwvYXBwLWRhdGEvaW5kZXguanM/MTQ1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBCVUlMRCA9IHtcbiAgICBhbGxSZW5kZXJGbjogZmFsc2UsXG4gICAgY21wRGlkTG9hZDogdHJ1ZSxcbiAgICBjbXBEaWRVbmxvYWQ6IGZhbHNlLFxuICAgIGNtcERpZFVwZGF0ZTogdHJ1ZSxcbiAgICBjbXBEaWRSZW5kZXI6IHRydWUsXG4gICAgY21wV2lsbExvYWQ6IHRydWUsXG4gICAgY21wV2lsbFVwZGF0ZTogdHJ1ZSxcbiAgICBjbXBXaWxsUmVuZGVyOiB0cnVlLFxuICAgIGNvbm5lY3RlZENhbGxiYWNrOiB0cnVlLFxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrOiB0cnVlLFxuICAgIGVsZW1lbnQ6IHRydWUsXG4gICAgZXZlbnQ6IHRydWUsXG4gICAgaGFzUmVuZGVyRm46IHRydWUsXG4gICAgbGlmZWN5Y2xlOiB0cnVlLFxuICAgIGhvc3RMaXN0ZW5lcjogdHJ1ZSxcbiAgICBob3N0TGlzdGVuZXJUYXJnZXRXaW5kb3c6IHRydWUsXG4gICAgaG9zdExpc3RlbmVyVGFyZ2V0RG9jdW1lbnQ6IHRydWUsXG4gICAgaG9zdExpc3RlbmVyVGFyZ2V0Qm9keTogdHJ1ZSxcbiAgICBob3N0TGlzdGVuZXJUYXJnZXRQYXJlbnQ6IGZhbHNlLFxuICAgIGhvc3RMaXN0ZW5lclRhcmdldDogdHJ1ZSxcbiAgICBtZW1iZXI6IHRydWUsXG4gICAgbWV0aG9kOiB0cnVlLFxuICAgIG1vZGU6IHRydWUsXG4gICAgb2JzZXJ2ZUF0dHJpYnV0ZTogdHJ1ZSxcbiAgICBwcm9wOiB0cnVlLFxuICAgIHByb3BNdXRhYmxlOiB0cnVlLFxuICAgIHJlZmxlY3Q6IHRydWUsXG4gICAgc2NvcGVkOiB0cnVlLFxuICAgIHNoYWRvd0RvbTogdHJ1ZSxcbiAgICBzbG90OiB0cnVlLFxuICAgIGNzc0Fubm90YXRpb25zOiB0cnVlLFxuICAgIHN0YXRlOiB0cnVlLFxuICAgIHN0eWxlOiB0cnVlLFxuICAgIHN2ZzogdHJ1ZSxcbiAgICB1cGRhdGFibGU6IHRydWUsXG4gICAgdmRvbUF0dHJpYnV0ZTogdHJ1ZSxcbiAgICB2ZG9tWGxpbms6IHRydWUsXG4gICAgdmRvbUNsYXNzOiB0cnVlLFxuICAgIHZkb21GdW5jdGlvbmFsOiB0cnVlLFxuICAgIHZkb21LZXk6IHRydWUsXG4gICAgdmRvbUxpc3RlbmVyOiB0cnVlLFxuICAgIHZkb21SZWY6IHRydWUsXG4gICAgdmRvbVByb3BPckF0dHI6IHRydWUsXG4gICAgdmRvbVJlbmRlcjogdHJ1ZSxcbiAgICB2ZG9tU3R5bGU6IHRydWUsXG4gICAgdmRvbVRleHQ6IHRydWUsXG4gICAgd2F0Y2hDYWxsYmFjazogdHJ1ZSxcbiAgICB0YXNrUXVldWU6IHRydWUsXG4gICAgaG90TW9kdWxlUmVwbGFjZW1lbnQ6IGZhbHNlLFxuICAgIGlzRGVidWc6IGZhbHNlLFxuICAgIGlzRGV2OiBmYWxzZSxcbiAgICBpc1Rlc3Rpbmc6IGZhbHNlLFxuICAgIGh5ZHJhdGVTZXJ2ZXJTaWRlOiBmYWxzZSxcbiAgICBoeWRyYXRlQ2xpZW50U2lkZTogZmFsc2UsXG4gICAgbGlmZWN5Y2xlRE9NRXZlbnRzOiBmYWxzZSxcbiAgICBsYXp5TG9hZDogZmFsc2UsXG4gICAgcHJvZmlsZTogZmFsc2UsXG4gICAgc2xvdFJlbG9jYXRpb246IHRydWUsXG4gICAgYXBwZW5kQ2hpbGRTbG90Rml4OiBmYWxzZSxcbiAgICBjbG9uZU5vZGVGaXg6IGZhbHNlLFxuICAgIGh5ZHJhdGVkQXR0cmlidXRlOiBmYWxzZSxcbiAgICBoeWRyYXRlZENsYXNzOiB0cnVlLFxuICAgIHNhZmFyaTEwOiBmYWxzZSxcbiAgICBzY3JpcHREYXRhT3B0czogZmFsc2UsXG4gICAgc2hhZG93RG9tU2hpbTogZmFsc2UsXG4gICAgc2xvdENoaWxkTm9kZXNGaXg6IGZhbHNlLFxuICAgIHByb3BCb29sZWFuOiB0cnVlLFxuICAgIHByb3BOdW1iZXI6IHRydWUsXG4gICAgcHJvcFN0cmluZzogdHJ1ZSxcbiAgICBjc3NWYXJTaGltOiBmYWxzZSxcbiAgICBjb25zdHJ1Y3RhYmxlQ1NTOiB0cnVlLFxuICAgIGNtcFNob3VsZFVwZGF0ZTogdHJ1ZSxcbiAgICBkZXZUb29sczogZmFsc2UsXG4gICAgZHluYW1pY0ltcG9ydFNoaW06IGZhbHNlLFxuICAgIHNoYWRvd0RlbGVnYXRlc0ZvY3VzOiB0cnVlLFxuICAgIGluaXRpYWxpemVOZXh0VGljazogZmFsc2UsXG4gICAgYXN5bmNMb2FkaW5nOiBmYWxzZSxcbiAgICBhc3luY1F1ZXVlOiBmYWxzZSxcbiAgICB0cmFuc2Zvcm1UYWdOYW1lOiBmYWxzZSxcbiAgICBhdHRhY2hTdHlsZXM6IHRydWUsXG59O1xuY29uc3QgRW52ID0ge307XG5jb25zdCBOQU1FU1BBQ0UgPSAvKiBkZWZhdWx0ICovICdhcHAnO1xuXG5leHBvcnQgeyBCVUlMRCwgRW52LCBOQU1FU1BBQ0UgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@stencil+core@2.5.2/node_modules/@stencil/core/internal/app-data/index.js\n"));

/***/ })

});